(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6879,4718,4924,6808],{24558:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/replEnvironmentDesktop",function(){return t(78386)}])},98967:function(e,n,t){"use strict";var r=t(14251),i=t(52875),o=t(9941),a=t(35944),l=t(60357),s=t.n(l),c=t(67294),u=t(19526),d=t(16918),p=t(59641),f=t(7889),h=t(89735),m=t(6625);n.Z=function(e){var n=e.title,t=void 0===n?"Sign up":n,l=e.description,v=void 0===l?"Code, create, and learn together on Replit":l,g=e.onSuccess,b=void 0===g?function(){}:g,y=e.onFailure,Z=void 0===y?function(){}:y,x=e.onAnonSuccess,w=void 0===x?function(){}:x,k=e.showLoginFirst,C=void 0!==k&&k,S=e.isTeacher,R=void 0!==S&&S,T=e.toggleTeacher,I=void 0===T?function(){}:T,P=e.allowAnon,E=void 0!==P&&P,G=e.showForm,D=void 0===G||G,U=e.showSuccess,B=void 0!==U&&U,M=e.source,L=(0,o.Z)(c.useState(C),2),_=L[0],j=L[1],X=(0,m.Z)();return(0,a.BX)("div",{"data-cy":"auth-modal",className:"jsx-17a5f6998e0a3cdd auth-modal",children:[(0,a.BX)(u.gC,{align:"center",spacing:2,children:[(0,a.tZ)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal-title",children:t}),(0,a.tZ)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal-description",children:v}),(0,a.tZ)(f.Z,{path:"/public/animations/success.json",css:[p.l0.position.absolute,p.l0.left(0),p.l0.top(0),p.l0.right(0)],show:B})," ",D?(0,a.tZ)(d.Z,{onChangeAuth:function(){X.current&&j(!_)},isTeacher:R,isLogin:_,onSubmit:function(e){if("error"in e)Z(e);else if("user"in e&&e.user){_&&!e.social||e.social&&!e.newUser||(0,h.j)(e.user.id.toString()),b((0,i.Z)((0,r.Z)({},e),{isLogin:_}))}},toggleTeacher:I,source:M}):null,E?(0,a.tZ)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal-anon",children:(0,a.tZ)("a",{onClick:w,role:"button",tabIndex:0,onKeyDown:w,className:"jsx-17a5f6998e0a3cdd",children:"continue as Anonymous"})}):null]}),(0,a.tZ)(s(),{id:"17a5f6998e0a3cdd",children:".auth-modal.jsx-17a5f6998e0a3cdd{max-width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:var(--space-32)var(--space-16)}.title-container.jsx-17a5f6998e0a3cdd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:var(--space-16)}.auth-modal-title.jsx-17a5f6998e0a3cdd{text-align:center;color:var(--foreground-default);font-size:var(--font-size-header-big);font-weight:var(--font-weight-medium)}.auth-modal-description.jsx-17a5f6998e0a3cdd{text-align:center;color:var(--foreground-dimmer);font-size:var(--font-size-subhead-default)}.auth-modal-anon.jsx-17a5f6998e0a3cdd{margin-top:14px;font-size:14px}.auth-modal-anon.jsx-17a5f6998e0a3cdd a.jsx-17a5f6998e0a3cdd{color:var(--accent-primary-default);text-decoration:none;cursor:pointer}"})]})}},57731:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(35944),i=t(60357),o=t.n(i),a=(t(67294),t(94184)),l=t.n(a),s=t(62913);function c(e){var n=e.className,t=e.src,i=e.alt,a=e.size,c=e.title;return(0,r.BX)("div",{className:o().dynamic([["381115a7727c7cb3",[a,a]]])+" "+(l()("avatar",n)||""),children:[(0,r.tZ)(s.Z,{title:c,width:a,height:a,objectFit:"cover",layout:"responsive",alt:i,src:t}),(0,r.tZ)(o(),{id:"381115a7727c7cb3",dynamic:[a,a],children:"div.__jsx-style-dynamic-selector{-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;overflow:hidden;width:".concat(a,"px;height:").concat(a,"px}")})]})}},7243:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(35944),i=(t(67294),t(69346)),o=t(81255);function a(e){var n=e.gap,t=e.inset,a=e.children,l=e.className;return(0,r.tZ)(i.G,{className:l,css:[{overflowX:"auto",overflowY:"hidden","::-webkit-scrollbar":[o.l0.display.none]}],children:(0,r.tZ)(i.G,{css:[o.l0.px(t),o.l0.rowWithGap(n),{width:"fit-content"}],children:a})})}},42699:function(e,n,t){"use strict";t.d(n,{l:function(){return o},x:function(){return i}});var r=t(60977),i=function(e){(0,r.j)(r.U3.COURSE_ACTION,e)},o=function(e){(0,r.j)(r.U3.LESSON_ACTION,e)}},21767:function(e,n,t){"use strict";t.d(n,{Y:function(){return o}});var r=t(32692);function i(){var e=(0,r.Z)(["\n  fragment ReplLinkRepl on Repl {\n    id\n    url\n    nextPagePathname\n  }\n"]);return i=function(){return e},e}var o=(0,t(31230).Ps)(i())},35923:function(e,n,t){"use strict";t.d(n,{V:function(){return m},Q:function(){return x}});var r=t(48732),i=t(14251),o=t(53144),a=t(75815),l=.5*(Math.sqrt(3)-1),s=(3-Math.sqrt(3))/6,c=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),u=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random;(0,a.Z)(this,e);var t="function"===typeof n?n:p(n);this.p=d(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}return e.prototype.noise2D=function(e,n){var t,r,i=this.permMod12,o=this.perm,a=0,u=0,d=0,p=(e+n)*l,f=Math.floor(e+p),h=Math.floor(n+p),m=(f+h)*s,v=e-(f-m),g=n-(h-m);v>g?(t=1,r=0):(t=0,r=1);var b=v-t+s,y=g-r+s,Z=v-1+2*s,x=g-1+2*s,w=255&f,k=255&h,C=.5-v*v-g*g;if(C>=0){var S=3*i[w+o[k]];a=(C*=C)*C*(c[S]*v+c[S+1]*g)}var R=.5-b*b-y*y;if(R>=0){var T=3*i[w+t+o[k+r]];u=(R*=R)*R*(c[T]*b+c[T+1]*y)}var I=.5-Z*Z-x*x;if(I>=0){var P=3*i[w+1+o[k+1]];d=(I*=I)*I*(c[P]*Z+c[P+1]*x)}return 70*(a+u+d)},e}();function d(e){for(var n=new Uint8Array(256),t=0;t<256;t++)n[t]=t;for(var r=0;r<255;r++){var i=r+~~(e()*(256-r)),o=n[r];n[r]=n[i],n[i]=o}return n}function p(e){var n=0,t=0,r=0,i=1,o=function(){var e=4022871197;return function(n){n=n.toString();for(var t=0;t<n.length;t++){var r=.02519603282416938*(e+=n.charCodeAt(t));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();return n=o(" "),t=o(" "),r=o(" "),(n-=o(e))<0&&(n+=1),(t-=o(e))<0&&(t+=1),(r-=o(e))<0&&(r+=1),function(){var e=2091639*n+2.3283064365386963e-10*i;return n=t,t=r,r=e-(i=0|e)}}var f=new u;var h=t(25108);function m(e){var n=!1,t=0,r=0,i=null,o=function(l){if(n){var s=l-t;r+=s,t=l,i=window.requestAnimationFrame(o),e({elapsedTime:r,deltaTime:s,stop:a})}},a=function(){n&&(n=!1,i&&window.cancelAnimationFrame(i))};return{start:function(){n||(r=0,t=performance.now(),n=!0,i=window.requestAnimationFrame(o))},stop:a}}var v=function(){return(0,o.hd)(600,1200)},g=function(){return(0,o.hd)(1,3)},b=function(){return{width:(0,o.hd)(5,20),height:(0,o.hd)(5,20)}},y=function(){return(0,o.vF)()};function Z(e){return Array.isArray(e)?(0,o.DQ)(e):(0,r.Z)(e,Function)?e():e}function x(){var e=!1,n=null,t=null,r=[],a=null,l={},s=function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=function(){var e=i.value;if(l[e])return"continue";var n=new Image;n.src=e,n.onerror=function(){h.error('Failed to load particle image "'.concat(e,'"'))},l[e]=n},a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)o()}catch(s){t=!0,r=s}finally{try{n||null==a.return||a.return()}finally{if(t)throw r}}};return{getIsInstalled:function(){return e},addParticles:function(e){for(var n=e.x,t=e.y,c=e.numParticles,u=void 0===c?150:c,d=e.spread,p=void 0===d?60:d,f=e.heading,h=void 0===f?90:f,m=e.airDrag,x=void 0===m?.9:m,w=e.color,k=void 0===w?y:w,C=e.gravity,S=void 0===C?800:C,R=e.velocity,T=void 0===R?v:R,I=e.size,P=void 0===I?b:I,E=e.lifetime,G=void 0===E?g:E,D=e.flip,U=void 0===D||D,B=e.image,M=void 0===B?void 0:B,L=Z(p),_=Z(h),j=(0,o.Id)(L),X=(0,o.Id)(-_),N=Z(u),z=0;z<N;z++){var A=X+(0,o.hd)(-j/2,j/2),O=Z(T),F=Z(P),W=F.width,H=F.height,q=Z(G),V=Z(k),Y=Z(x),K=Z(n),$=Z(t),Q=Z(M);"string"===typeof Q&&(l[Q]||s([Q]),Q=l[Q]),r.push((0,i.Z)({seed:(0,o.hd)(0,1e5),x:K,y:$,gravity:S,airDrag:Y,scaleX:1,scaleY:1,rotation:(0,o.hd)(0,(0,o.Id)(360)),velocityX:Math.cos(A)*O,velocityY:Math.sin(A)*O,angularVelocity:(0,o.hd)((0,o.Id)(-400),(0,o.Id)(400)),color:V,alpha:1,width:W,height:H,flip:U,lifetime:q,lifetimeRemaining:q},Q?{image:Q,type:"image"}:{type:(0,o.DQ)(["rectangle","ellipse"])}))}null===a||void 0===a||a.start()},clearParticles:function(){r=[]},uninstall:function(){var r;e&&(n&&(null===(r=document.body)||void 0===r?void 0:r.contains(n))&&document.body.removeChild(n),a&&a.stop(),n=null,t=null,e=!1,l={})},install:function(){e||(n=function(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex="999999",e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight,e.id="replit-particles-simulation",e.setAttribute("role","image"),e.ariaHidden="true",e}(),(t=n.getContext("2d"))&&(document.body.appendChild(n),a=m((function(e){var i=e.deltaTime,a=e.stop;if(n&&t){var l=t,s=window.scrollX,c=window.scrollY;n.width!==document.documentElement.clientWidth&&(n.width=document.documentElement.clientWidth),n.height!==document.documentElement.clientHeight&&(n.height=document.documentElement.clientHeight),t.clearRect(0,0,n.width,n.height),r.map((function(e){return function(e){var n=e.particle,t=e.deltaTime;n.velocityY+=n.gravity*t/1e3,n.x+=n.velocityX*t/1e3,n.y+=n.velocityY*t/1e3,n.rotation+=n.angularVelocity*t/1e3,n.velocityX*=n.airDrag,n.velocityY*=n.airDrag,n.flip&&(n.scaleY=2*(0,o.WE)(n.lifetimeRemaining,.5));var r=(0,o.NC)(n.velocityX,n.velocityY),i=(0,o.$G)(n.velocityX,n.velocityY),a=r+.05*f.noise2D(n.seed,n.lifetimeRemaining);n.velocityX=Math.cos(a)*i,n.velocityY=Math.sin(a)*i,n.lifetimeRemaining-=t/1e3,n.lifetimeRemaining<=0?n.alpha=0:n.alpha=1-(n.lifetime-n.lifetimeRemaining)/n.lifetime}({particle:e,deltaTime:i})})),r.map((function(e){return function(e){var n=e.particle,t=e.ctx,r=e.scrollX,i=e.scrollY,o=n.width*n.scaleX,a=n.height*n.scaleY,l=n.x-r,s=n.y-i;t.save(),t.translate(l,s),t.rotate(n.rotation),t.globalAlpha=n.alpha,"image"===n.type?t.drawImage(n.image,-o/2,-a/2,o,a):"rectangle"===n.type?(t.fillStyle=n.color,t.fillRect(-o/2,-a/2,o,a)):"ellipse"===n.type&&(t.fillStyle=n.color,t.beginPath(),t.ellipse(0,0,o/2,a/2,0,0,2*Math.PI),t.fill()),t.restore()}({particle:e,ctx:l,scrollX:s,scrollY:c})})),0===(r=r.filter((function(e){return e.lifetimeRemaining>0}))).length&&a()}})),e=!0))},preloadImages:s,unloadImages:function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value;delete l[a]}}catch(s){t=!0,r=s}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}}}}},46808:function(e,n,t){"use strict";t.d(n,{$:function(){return h},s:function(){return r}});var r,i=t(14251),o=t(44747),a=t(9941),l=t(67294),s=t(53144),c=t(35923),u=t(7182),d=t(42895),p=(0,c.Q)(),f=(0,u.cn)(p);function h(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preloadImages,n=(0,a.Z)((0,u.KO)(f),1),t=n[0],r=(0,d.T)();l.useEffect((function(){return t.install(),function(){t.uninstall()}}),[t]),l.useEffect((function(){e&&t.preloadImages(e)}),[t,e]);var c=function(e){r||t.addParticles(e)},p=function(e){var n=e.element,t=(0,o.Z)(e,["element"]);if(!r){var a=(0,s.tj)(n),l=a.x,u=a.y;c((0,i.Z)({x:l,y:u},t))}},h=function(e){r||t.addParticles((0,i.Z)({numParticles:125,spread:360,velocity:function(){return(0,s.hd)(400,900)},size:function(){return{width:(0,s.hd)(5,15),height:(0,s.hd)(5,25)}}},e))},m=function(e){var n=e.element,t=(0,o.Z)(e,["element"]);if(!r){var a=(0,s.tj)(n),l=a.x,c=a.y;h((0,i.Z)({x:l,y:c},t))}},v=function(e){var n=e.direction,a=(0,o.Z)(e,["direction"]);r||t.addParticles((0,i.Z)({heading:n},a))},g=function(e){var n=e.element,a=e.direction,l=(0,o.Z)(e,["element","direction"]);if(!r){var c=(0,s.tj)(n),u=c.x,d=c.y;t.addParticles((0,i.Z)({x:u,y:d,numParticles:100,velocity:function(){return(0,s.hd)(400,1500)},spread:60,size:function(){return{width:(0,s.hd)(5,15),height:(0,s.hd)(5,25)}},heading:a},l))}};return{fireBurst:c,fireBurstFrom:p,fireCircularBurst:h,fireCircularBurstFrom:m,fireDirectionalBurst:v,fireDirectionalBurstFrom:g}}!function(e){e[e.East=0]="East",e[e.NorthEast=45]="NorthEast",e[e.North=90]="North",e[e.NorthWest=135]="NorthWest",e[e.West=180]="West",e[e.SouthWest=225]="SouthWest",e[e.South=270]="South"}(r||(r={}))},53144:function(e,n,t){"use strict";t.d(n,{$G:function(){return p},DQ:function(){return l},Id:function(){return u},NC:function(){return d},WE:function(){return h},hd:function(){return s},tj:function(){return o},vF:function(){return c}});var r=t(6611),i=t.n(r);function o(e){var n=function(e){var n=e.getBoundingClientRect();return{x:n.left+n.width/2,y:n.top+n.height/2}}(e);return{x:n.x+window.scrollX,y:n.y+window.scrollY}}function a(e,n){return i()(e,n,!1)}function l(e){return e[a(0,e.length-1)]}function s(e,n){return i()(e,n,!0)}function c(){return"hsl(".concat(a(0,360),", 100%, 70%)")}function u(e){return e*Math.PI/180}function d(e,n){return Math.atan2(n,e)}function p(e,n){return Math.sqrt(Math.pow(e,2)+Math.pow(n,2))}function f(e,n){return(e%n+n)%n}function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n-Math.abs(f(e,2*n)-n)}},54854:function(e,n,t){"use strict";function r(e,n){if(!e)return null;var t=e[n];return t?Array.isArray(t)?null:t:null}t.d(n,{Z:function(){return r}})},47024:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var r=t(14251),i=t(52875),o=t(44747),a=t(9941),l=t(35944),s=t(67294),c=t(32692),u=t(31230),d=t(50319);function p(){var e=(0,c.Z)(["\n  mutation SetFollowing($input: setFollowingInput!) {\n    setFollowing(input: $input) {\n      ... on FollowResult {\n        targetUser {\n          id\n          isFollowedByCurrentUser\n          followerCount\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return p=function(){return e},e}var f={},h=(0,u.Ps)(p());var m=t(93058),v=t(88075),g=t(92002),b=t(59641),y=t(98967),Z=t(60977),x=function(e){var n=e.user,t=e.subtle,c=e.targetName,u=(0,o.Z)(e,["user","subtle","targetName"]),p=t?void 0:"primary",x=(0,a.Z)(s.useState(!1),2),w=x[0],k=x[1],C=n.isFollowedByCurrentUser,S=(0,m.Z)().showError,R=(0,a.Z)(function(e){var n=(0,r.Z)({},f,e);return d.D(h,n)}({onCompleted:function(e){var n,t,r;"NotFoundError"===(null===(n=e.setFollowing)||void 0===n?void 0:n.__typename)&&S(e.setFollowing.message),"UserError"===(null===(t=e.setFollowing)||void 0===t?void 0:t.__typename)&&S(e.setFollowing.message),"UnauthorizedError"===(null===(r=e.setFollowing)||void 0===r?void 0:r.__typename)&&k(!0)}}),2),T=R[0],I=R[1].loading,P=C?"Following":"Follow";return null!=c&&(P="".concat(P," ").concat(c)),(0,l.BX)(l.HY,{children:[(0,l.tZ)(b.zx,(0,i.Z)((0,r.Z)({type:"button"},u),{colorway:C?void 0:p,text:P,iconLeft:C?(0,l.tZ)(v.Z,{}):(0,l.tZ)(g.Z,{}),onClick:function(e){e.stopPropagation(),T({variables:{input:{targetUserId:n.id,shouldFollow:!C}}}),C||(0,Z.j)(Z.U3.USER_FOLLOWED)},disabled:I,dataCy:"follow-button"})),(0,l.tZ)(b.u_,{onRequestClose:function(){return k(!1)},isOpen:w,children:(0,l.tZ)(y.Z,{onSuccess:function(){(0,Z.j)(Z.U3.SIGNUP_FROM_FOLLOW_BUTTON_SUCCESSFUL)},onFailure:function(e){var n=e.error;S(n)},title:"Sign up to follow your favorite Replers.",description:"You\u2019ll then be able to follow "+n.username})})]})}},42613:function(e,n,t){"use strict";t.d(n,{c2:function(){return p},o8:function(){return u}});var r=t(14251),i=t(32692),o=t(31230),a=t(37887);function l(){var e=(0,i.Z)(['\n  fragment ReplEnvironmentDesktopCurrentUserLayoutFlags on CurrentUser {\n    id\n    flagDraftFiles: gate(feature: "flag-ws-draft-files")\n    flagGhostrunner: gate(feature: "flag-ghostrunner")\n  }\n']);return l=function(){return e},e}function s(){var e=(0,i.Z)(["\n  query ReplEnvironmentDesktopLayoutFlags {\n    currentUser {\n      id\n      ...ReplEnvironmentDesktopCurrentUserLayoutFlags\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var c={},u=(0,o.Ps)(l()),d=(0,o.Ps)(s(),u);function p(e){var n=(0,r.Z)({},c,e);return a.a(d,n)}},69220:function(e,n,t){"use strict";t.d(n,{U:function(){return v},o:function(){return g}});var r=t(32692),i=t(31230),o=t(9523),a=t(42613),l=t(65711),s=t(6695);function c(){var e=(0,r.Z)(["\n  fragment ReplEnvironmentHeaderLeftCurrentUser on CurrentUser {\n    id\n    isFirewallMode\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,r.Z)(["\n  fragment ReplEnvironmentHeaderLeftRepl on Repl {\n    id\n    isAlwaysOn\n    slug\n    url\n    ...WorkspaceHeaderReplMetadataRepl\n  }\n  ","\n"]);return u=function(){return e},e}var d=(0,i.Ps)(c()),p=(0,i.Ps)(u(),s.s),f=t(7591);function h(){var e=(0,r.Z)(['\n  fragment ReplEnvironmentDesktopCurrentUser on CurrentUser {\n    id\n    image\n    isFirewallMode\n    isAdmin: hasRole(role: ADMIN)\n    ...CrosisContextCurrentUser\n    ...ReplEnvironmentDesktopCurrentUserLayoutFlags\n    editorPreferences {\n      ...CurrentUserPreferences\n    }\n    ...ReplEnvironmentHeaderLeftCurrentUser\n    ...ReplEnvironmentTourCurrentUser\n    canMigrateRepls: gate(feature: "migrate2nix-killswitch")\n  }\n  ',"\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}function m(){var e=(0,r.Z)(["\n  fragment ReplEnvironmentDesktopRepl on Repl {\n    id\n    title\n    layoutState\n    description\n    multiplayers {\n      id\n    }\n    currentUserPermissions {\n      containerWrite\n    }\n    origin {\n      id\n    }\n    language\n    config {\n      isVnc\n      isServer\n    }\n    lesson {\n      id\n    }\n    ...CrosisContextRepl\n    ...ReplEnvironmentHeaderLeftRepl\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}var v=(0,i.Ps)(h(),o.D,a.o8,l.wO,d,f.f),g=(0,i.Ps)(m(),o.C,p)},31499:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(67294),i=t(11163),o=t(23384);function a(e,n){var t=(0,i.useRouter)(),a=(0,o.D)({controlName:"migrate2nix-enabled"}),l="Repl"===(null===e||void 0===e?void 0:e.__typename)?e.language:null,s=(0,o.D)({controlName:"migrate-".concat(l,"-to-nix"),default:!1});(0,r.useEffect)((function(){if(a&&s&&"Repl"===(null===e||void 0===e?void 0:e.__typename)&&"nix"!==e.language&&"html"!==e.language&&"/migrateReplToNix"!==t.pathname&&!t.query.skipMigration&&!t.query.migrateNonNix){var n=[window.location.origin,window.location.pathname,"?migrateNonNix=1",window.location.hash].join("");window.location.replace(n)}}),[e,t,s,a]),(0,r.useEffect)((function(){if("SubscriptionExpiredError"===(null===e||void 0===e?void 0:e.__typename)){var r=e.replId,i=e.isOwner,o=n.split("/")[1].slice(1);t.replace({pathname:"/expiredPrivateRepl",query:{isOwner:i,ownerUsername:o,replId:r}},t.asPath)}}),[e,t,n])}},7591:function(e,n,t){"use strict";t.d(n,{f:function(){return l},z:function(){return s}});var r=t(32692),i=t(31230);function o(){var e=(0,r.Z)(['\n  fragment ReplEnvironmentTourCurrentUser on CurrentUser {\n    id\n    hasSeenOldWorkspaceTour: tourSeen(name: "workspace-desktop-tour")\n  }\n']);return o=function(){return e},e}function a(){var e=(0,r.Z)(["\n  fragment ReplEnvironmentTourRepl on Repl {\n    id\n    lesson {\n      id\n    }\n  }\n"]);return a=function(){return e},e}var l=(0,i.Ps)(o()),s=(0,i.Ps)(a())},5804:function(e,n,t){"use strict";t.d(n,{JL:function(){return w},L8:function(){return b},M6:function(){return g},QH:function(){return y},nr:function(){return v}});var r=t(67573),i=t(14251),o=t(69779),a=t(35944),l=t(67294),s=t(69346),c=t(81255),u=t(1144),d=t(46197),p=t(44365),f=t(72917),h=t(7243),m=t(68480);function v(e,n){var t,r=(null===(t=n.tags)||void 0===t?void 0:t.length)?n.tags.join(","):null;return{href:{pathname:"/postsFeed",query:{boardSlug:r,q:e}},as:{pathname:r?"/community/".concat(r):"/community/all",query:{q:e}}}}function g(e,n){return n?{href:{pathname:"/postsFeed",query:{boardSlug:e,order:n.order}},as:{pathname:"/community/".concat(e),query:(0,i.Z)({},n.order!==p.eR?{order:n.order.toLowerCase()}:{})}}:{href:{pathname:"/postsFeed",query:{boardSlug:e}},as:"/community/".concat(e)}}function b(e){return g("all",e)}function y(e,n){var t=n.tags?n.tags.join(","):"all";return{href:{pathname:"/postsFeed",query:{boardSlug:t,order:(0,p.Zb)(e)}},as:{pathname:"/community/".concat(t),query:(0,i.Z)({},e!==p.eR?{order:(0,p.Zb)(e)}:{})}}}var Z=s.K.div,x=m.Mz+32;function w(e){var n,t,i=e.tagGroups,p=e.params,v=(0,o.Z)(i.official).concat((0,o.Z)(i.community)).map((function(e){var n,t=Boolean(null===(n=p.tags)||void 0===n?void 0:n.includes(e.id)),r=t?b(p):g(e.id,p);return(0,a.tZ)(f.t,{tag:e,link:r,isActive:t},e.id)})),y=(0,l.useState)(!1),w=y[0],k=y[1],C=(0,l.useRef)(null);return(0,l.useEffect)((function(){if(C.current){var e=new window.IntersectionObserver((function(e){e.forEach((function(e){window.scrollY<e.boundingClientRect.top-x?k(!1):k(!e.isIntersecting)}))}),{root:null,rootMargin:"".concat(-x,"px 0px 0px 0px"),threshold:1}),n=C.current;return e.observe(n),function(){e.unobserve(n),e.disconnect()}}}),[]),(0,a.BX)(s.G,{children:[(0,a.tZ)(Z,{ref:C}),(0,a.BX)(s.G,{css:[c.l0.colWithGap(16),w&&(0,r.Z)({},d.A.desktop,[c.l0.position.fixed,c.l0.overflowY("auto"),c.l0.height("calc(100vh - ".concat(m.Mz,"px)")),c.l0.py(32),{top:m.Mz}])],children:[(0,a.tZ)(u.x,{color:"dimmer",children:"TOP TAGS"}),(0,a.BX)(s.G,{children:[(0,a.tZ)(h.Z,{gap:8,inset:16,css:[(n={},(0,r.Z)(n,d.A.desktop,[c.l0.display.none]),(0,r.Z)(n,"marginLeft","calc(-1 * ".concat(c.TV.space16,")")),(0,r.Z)(n,"marginRight","calc(-1 * ".concat(c.TV.space16,")")),n)],children:v}),(0,a.tZ)(s.G,{css:(t={},(0,r.Z)(t,d.A.mobile,[c.l0.display.none]),(0,r.Z)(t,d.A.desktop,[c.l0.colWithGap(32)]),t),children:(0,a.tZ)(s.G,{css:[c.l0.colWithGap(8),c.l0.align.start],children:v})})]})]})]})}},4924:function(e,n,t){"use strict";t.d(n,{Vs:function(){return Z},ZP:function(){return w},p0:function(){return x}});var r=t(14251),i=t(52875),o=t(35944),a=(t(67294),t(41664)),l=t.n(a),s=t(70917),c=t(59641),u=t(53427),d=t(69928),p=t(5804),f=t(72917),h=t(88046),m=t(82447),v=t(45273),g=t(94718),b=c.KD.a,y=(0,s.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function Z(e){var n=e.tags,t=e.maxVisible,r=void 0===t?3:t,i=e.onTagClick,a=n.slice(0,r),l=n.length-a.length;return(0,o.BX)(c.G7,{css:[c.l0.rowWithGap(4),c.l0.align.center],children:[a.map((function(e){return(0,o.tZ)(f.t,{small:!0,tag:e,link:(0,p.M6)(e.id),onClick:i},e.id)})),l>0?(0,o.BX)(c.xv,{variant:"small",color:"dimmest",children:["+",l]}):null]})}function x(e){var n=e.repl,t=e.showOwner,a=e.maxVisibleTags,s=e.onReplClick,p=e.onUserClick,f=e.onTagClick,x=n.owner;return(0,o.BX)(c.G7,{css:[c.l0.colWithGap(16)],children:[(0,o.BX)(c.G7,{css:[c.l0.rowWithGap(8),c.l0.align.start,c.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(u.ZP,{size:84,iconUrl:n.iconUrl,alt:n.title}),(0,o.BX)(c.G7,{css:[c.l0.flex.growAndShrink(1),c.l0.colWithGap(4)],children:[(0,o.tZ)(l(),(0,i.Z)((0,r.Z)({passHref:!0},(0,h.j3)(n)),{children:(0,o.tZ)(b,{css:[{color:"inherit"},y],onClick:s,children:(0,o.tZ)(c.xv,{variant:"subheadBig",children:n.title})})})),t&&x?(0,o.tZ)(c.G7,{css:[{maxWidth:"fit-content",zIndex:1}],children:(0,o.tZ)(g.Z,{username:x.username,children:(0,o.tZ)(m.ZP,{user:x,children:(0,o.BX)(b,{css:[{color:"inherit"},c.l0.rowWithGap(4),c.l0.align.center,c.l0.pr(16)],onClick:p,children:[(0,o.tZ)(v.q,{src:x.image,username:x.username,size:16,layout:"intrinsic"}),(0,o.tZ)(c.xv,{children:x.username})]})})})}):null,n.description?(0,o.tZ)(c.xv,{color:"dimmer",maxLines:2,css:[c.l0.maxWidth(450)],children:n.description}):null]})]}),(0,o.BX)(c.G7,{css:[c.l0.rowWithGap(8),c.l0.justify.spaceBetween,c.l0.flex.wrap],children:[(0,o.tZ)(d.Z,{css:[c.l0.pb(2)],repl:n}),a?(0,o.tZ)(c.G7,{css:[c.l0.position.relative,c.l0.pt(2),{zIndex:1}],children:(0,o.tZ)(Z,{tags:n.tags,maxVisible:a,onTagClick:f})}):null]})]})}function w(e){var n=e.repl,t=e.showOwner,r=e.maxVisibleTags,i=e.onReplClick,a=e.onUserClick,l=e.onTagClick,s=e.dataCy;return(0,o.tZ)(c.Tg,{css:[c.l0.borderRadius(8),c.l0.p(8),c.l0.position.relative,c.gU.filledAndOutlined,{border:"1px solid "+c.TV.outlineDimmest}],dataCy:s,children:(0,o.tZ)(x,{repl:n,showOwner:t,maxVisibleTags:r,onReplClick:i,onUserClick:a,onTagClick:l})})}},69928:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(35944),i=(t(67294),t(69346)),o=t(81255),a=t(12530),l=t(51995),s=t(75026),c=t(27843),u=t(34847);function d(e){var n=e.repl;return(0,r.BX)(i.G,{css:[o.l0.rowWithGap(16),o.l0.align.center],children:[(0,r.tZ)(a.Z,{small:!0,count:n.runCount,tooltip:(0,u.Z)("runs",n.runCount),children:(0,r.tZ)(l.Z,{})}),(0,r.tZ)(a.Z,{small:!0,count:n.commentCount,tooltip:(0,u.Z)("comment",n.commentCount),children:(0,r.tZ)(s.Z,{})}),(0,r.tZ)(a.Z,{small:!0,count:n.likeCount,tooltip:(0,u.Z)("like",n.likeCount),children:(0,r.tZ)(c.Z,{})})]})}},72917:function(e,n,t){"use strict";t.d(n,{g:function(){return w},t:function(){return Z}});var r=t(14251),i=t(52875),o=t(35944),a=(t(67294),t(70917)),l=t(41664),s=t.n(l),c=t(69346),u=t(93160),d=t(81255),p=t(1144),f=t(44044),h=t(67629),m=t(16857),v=(0,a.iv)({border:"1px solid "+d.TV.accentPrimaryDefault,backgroundColor:"transparent"}),g=function(e){var n=e.isActive,t=e.small;return(0,a.iv)([d.l0.p(t?4:8),d.l0.align.center,d.l0.rowWithGap(4),d.l0.fontSize(12),n?v:f.gU.outlined,d.l0.borderRadius(16),{color:"inherit","&:active":v}])};function b(e){var n=e.tag,t=e.isActive,r=e.isRemovable,i=e.small,a=i?"small":"text";return(0,o.tZ)(u.T,{elevated:t,css:[d.l0.borderRadius(16)],children:(0,o.BX)(u.T,{elevated:t,css:[g({isActive:t,small:i})],children:[(0,o.BX)(c.G,{css:[d.l0.flex.row,d.l0.align.center,d.l0.flex.shrink(1)],children:[(0,o.tZ)(p.x,{variant:a,color:"dimmest",children:"#"}),(0,o.tZ)(p.x,{color:"dimmer",variant:a,css:[d.l0.flex.shrink(1)],children:n.id})]}),n.isOfficial&&!i?(0,o.tZ)(m.Z,{}):null,r?(0,o.tZ)(h.Z,{size:i?12:16}):null]})})}var y=c.K.a;function Z(e){var n=e.tag,t=e.link,a=e.isActive,l=e.small,c=e.onClick;return(0,o.tZ)(s(),(0,i.Z)((0,r.Z)({},t),{passHref:!0,css:[d.l0.flex.shrink(1),{backgroundColor:"red"}],children:(0,o.tZ)(y,{css:[{color:"inherit"},d.l0.flex.shrink(1)],onClick:c,children:(0,o.tZ)(b,{tag:n,isActive:a,small:l,isRemovable:a})})}))}var x=c.K.button;function w(e){var n=e.tag,t=e.onClick,r=e.isActive,i=e.small;return(0,o.tZ)(x,{css:[d.l0.reset.button],onClick:t,children:(0,o.tZ)(b,{tag:n,isActive:r,small:i,isRemovable:!0})})}},46197:function(e,n,t){"use strict";t.d(n,{A:function(){return i}});var r=t(57263),i={mobile:"@media (max-width: ".concat(r.j.tabletMin,"px)"),desktop:"@media (min-width: ".concat(r.j.tabletMin+1,"px)")}},44365:function(e,n,t){"use strict";t.d(n,{Qf:function(){return s},Zb:function(){return l},eR:function(){return o}});var r=t(54969),i=t(54854),o=r.vX.Hot,a={hot:r.vX.Hot,new:r.vX.New,top:r.vX.Top,votes:r.vX.Top};function l(e){return e.toLowerCase()}function s(e){var n=(0,i.Z)(e,"after")||void 0,t=(0,i.Z)(e,"q")||void 0,r=(0,i.Z)(e,"boardSlug")||void 0,s=r&&"all"!==r?r.split(","):void 0,c=(0,i.Z)(e,"order")||l(o),u=a[c]||o,d=(0,i.Z)(e,"count"),p=d?parseInt(d,10):void 0;return void 0!==p&&Number.isNaN(p)&&(p=void 0),{tags:s,order:u,count:p,searchQuery:t,after:n}}},12530:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(35944),i=t(67294),o=t(1144),a=t(81255),l=t(69346),s=t(81456);function c(e){var n=e.count,t=e.children,c=e.tooltip,u=e.small,d=(0,s.d)(n);return(0,r.BX)(l.G,{"aria-label":c,"data-microtip-position":"left",role:"tooltip",css:[a.l0.rowWithGap(4),a.l0.align.center,a.l0.color.foregroundDimmer,{userSelect:"none",lineHeight:1}],children:[i.cloneElement(t,{size:u?12:void 0}),(0,r.tZ)(o.x,{variant:u?"small":void 0,color:"dimmer",children:d})]})}},19923:function(e,n,t){"use strict";t.d(n,{Gp:function(){return D},Oh:function(){return $},V3:function(){return X},Xl:function(){return z},Yd:function(){return O},_b:function(){return Y},gX:function(){return ne},h2:function(){return _},on:function(){return B},q7:function(){return J},vs:function(){return E},w9:function(){return W},zp:function(){return q}});var r=t(14251),i=t(32692),o=t(31230),a=t(7900),l=t(37887),s=t(50319);function c(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplateModelSolution on ReplTemplateModelSolution {\n    id\n    visibleAfterSubmitting\n    visibleAfterPassingTests\n    visibleAfterDueDate\n    repl {\n      id\n      url\n      nextPagePathname\n    }\n    canStudentFork\n    studentFork {\n      id\n      url\n      nextPagePathname\n    }\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplate on ReplTemplate {\n    id\n    isPublished\n    isGroupProject\n    allowSelfGrouping\n    imageUrl\n    url\n    dueDate\n    modelSolution {\n      id\n      ...TeamProfileReplTemplateModelSolution\n    }\n    userSubmissionGroup {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  fragment TeamProfileRepl on Repl {\n    id\n    title\n    description\n    slug\n    timeCreated\n    url\n    pinnedToProfile\n    nextPagePathname\n    templateInfo {\n      label\n      iconUrl\n    }\n    template {\n      id\n      ...TeamProfileReplTemplate\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamProfileStack on Stack {\n    id\n    title\n    repls {\n      id\n      ...TeamProfileRepl\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamEduProfile on Team {\n    id\n    username\n    displayName\n    isAdmin\n    archived\n    needsMigrationToStacks\n    defaultTemplateStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n      capabilities {\n        isExpired: isExpiring(daysFromNow: 0)\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamProProfile on Team {\n    id\n    username\n    displayName\n    isMember\n    isAdmin\n    archived\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function m(){var e=(0,i.Z)(["\n  fragment TeamProfileAllStacks on Team {\n    id\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment TeamCreateReplSubmissionOutput on CreateReplSubmissionOutput {\n    ... on Repl {\n      id\n      nextPagePathname\n      url\n      template {\n        id\n        ...TeamProfileReplTemplate\n      }\n    }\n    ... on UserError {\n      message\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function g(){var e=(0,i.Z)(["\n  query TeamProProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamProProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function b(){var e=(0,i.Z)(["\n  query TeamEduProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function y(){var e=(0,i.Z)(["\n  mutation TeamProProfilePinRepl($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return y=function(){return e},e}function Z(){var e=(0,i.Z)(["\n  mutation TeamProProfileUnpinRepl($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return Z=function(){return e},e}function x(){var e=(0,i.Z)(["\n  mutation TeamProfileArrangeStackItem($input: ArrangeStackItemInput!) {\n    arrangeStackItem(input: $input) {\n      ... on Team {\n        id\n        ...TeamProfileAllStacks\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function w(){var e=(0,i.Z)(["\n  mutation TeamProfileUpdateReplTemplate($input: UpdateReplTemplateInput!) {\n    updateReplTemplate(input: $input) {\n      ... on ReplTemplate {\n        id\n        repl {\n          id\n          ...TeamProfileRepl\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function k(){var e=(0,i.Z)(["\n  mutation TeamProfileMigrateTeamToStacks($teamId: Int!) {\n    migrateTeamToStacks(teamId: $teamId) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function C(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolution(\n    $input: CreateReplTemplateModelSolutionInput!\n  ) {\n    createReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return C=function(){return e},e}function S(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolutionFork(\n    $input: CreateReplTemplateModelSolutionForkInput!\n  ) {\n    createReplTemplateModelSolutionFork(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function R(){var e=(0,i.Z)(["\n  mutation TeamCreateReplSubmission($templateId: Int!) {\n    createReplSubmission(templateId: $templateId) {\n      ...TeamCreateReplSubmissionOutput\n    }\n  }\n  ","\n"]);return R=function(){return e},e}var T={},I=(0,o.Ps)(c()),P=(0,o.Ps)(u(),I,a.Pc),E=(0,o.Ps)(d(),P),G=(0,o.Ps)(p(),E),D=(0,o.Ps)(f(),G),U=(0,o.Ps)(h(),G),B=(0,o.Ps)(m(),G),M=(0,o.Ps)(v(),P),L=(0,o.Ps)(g(),U);function _(e){var n=(0,r.Z)({},T,e);return l.a(L,n)}var j=(0,o.Ps)(b(),D);function X(e){var n=(0,r.Z)({},T,e);return l.a(j,n)}var N=(0,o.Ps)(y());function z(e){var n=(0,r.Z)({},T,e);return s.D(N,n)}var A=(0,o.Ps)(Z());function O(e){var n=(0,r.Z)({},T,e);return s.D(A,n)}var F=(0,o.Ps)(x(),B);function W(e){var n=(0,r.Z)({},T,e);return s.D(F,n)}var H=(0,o.Ps)(w(),E);function q(e){var n=(0,r.Z)({},T,e);return s.D(H,n)}var V=(0,o.Ps)(k(),D);function Y(e){var n=(0,r.Z)({},T,e);return s.D(V,n)}var K=(0,o.Ps)(C(),E);function $(e){var n=(0,r.Z)({},T,e);return s.D(K,n)}var Q=(0,o.Ps)(S(),E);function J(e){var n=(0,r.Z)({},T,e);return s.D(Q,n)}var ee=(0,o.Ps)(R(),M);function ne(e){var n=(0,r.Z)({},T,e);return s.D(ee,n)}},29243:function(e,n,t){"use strict";t.d(n,{VK:function(){return f},dx:function(){return d}});var r=t(14251),i=t(32692),o=t(31230),a=t(20147),l=t(37887);function s(){var e=(0,i.Z)(["\n  fragment UserCardUser on User {\n    id\n    fullName\n    username\n    url\n    bio\n    image\n    isModerator: hasRole(role: MODERATOR)\n    isAdmin: hasRole(role: ADMIN)\n    followerCount\n    followCount\n    isFollowedByCurrentUser\n    isFollowingCurrentUser\n    socials {\n      id\n      url\n      type\n    }\n    roles(only: [MODERATOR, PATRON, PYTHONISTA, REPLIT_REP]) {\n      id\n      name\n      key\n      tagline\n    }\n    ...UserLabelUser\n  }\n  ","\n"]);return s=function(){return e},e}function c(){var e=(0,i.Z)(["\n  query UserCard($username: String!) {\n    currentUser {\n      id\n    }\n    userByUsername(username: $username) {\n      id\n      ...UserCardUser\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var u={},d=(0,o.Ps)(s(),a.w),p=(0,o.Ps)(c(),d);function f(e){var n=(0,r.Z)({},u,e);return l.a(p,n)}},94718:function(e,n,t){"use strict";t.d(n,{Z:function(){return E}});var r=t(14251),i=t(52875),o=t(35944),a=t(67294),l=t(44778),s=t(70804),c=t(69346),u=t(59641),d=t(54969),p=t(29243),f=t(57731),h=t(77365),m=t(41664),v=t.n(m),g=t(82447),b=t(34901),y=t(47024),Z=t(85565),x=t(30880),w=t(57981),k=t(93373),C=t(53924),S=t(33319),R=t(34847),T=t(94673),I=c.K.span;function P(e){var n,t=e.user,a=e.isCurrentUser,s=void 0!==a&&a;return(0,o.tZ)(c.G,{css:[u.l0.colWithGap(16)],children:(0,o.BX)(c.G,{css:[u.l0.colWithGap(8)],children:[(0,o.BX)(c.G,{css:[u.l0.rowWithGap(12)],children:[(0,o.tZ)(v(),{href:"/@"+t.username,target:"_blank",rel:"noreferrer",children:(0,o.tZ)("a",{children:(0,o.tZ)(f.Z,{size:48,src:t.image,alt:t.username,css:[{border:"solid 1px ".concat(u.TV.backgroundHighest),backgroundColor:u.TV.backgroundDefault}]})})}),(0,o.BX)(c.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(4)],children:[(0,o.BX)(c.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(v(),(0,i.Z)((0,r.Z)({passHref:!0},(0,g.Ru)(t)),{children:(0,o.tZ)(c.G,{tag:"a",css:[u.l0.flex.growAndShrink(1)],children:(0,o.tZ)(u.xv,{css:[{color:u.TV.foregroundDefault,fontWeight:400}],variant:"subheadBig",children:t.fullName||t.username})})})),t.isFollowingCurrentUser?(0,o.tZ)(u.DR,{css:[u.l0.minWidth("fit-content")],text:"Follows you"}):null]}),(0,o.tZ)(c.G,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:(0,o.tZ)(v(),{href:"/@"+t.username,target:"_blank",rel:"noreferrer",children:(0,o.tZ)("a",{children:(0,o.BX)(u.xv,{color:"dimmest",css:[{fontWeight:300}],children:["@",t.username]})})})})]})]}),(0,o.BX)(c.G,{css:[u.l0.rowWithGap(16),u.l0.align.center],children:[s?null:(0,o.tZ)(y.Z,{user:t,subtle:!0,stretch:!0,small:!0}),(null===t||void 0===t||null===(n=t.socials)||void 0===n?void 0:n.length)&&!s?t.socials.slice(0,3).map((function(e){return"twitter"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(Z.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"facebook"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(x.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"linkedin"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(w.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"github"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(k.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"youtube"===e.type?(0,o.tZ)("a",{target:"_blank",rel:"noreferrer",children:(0,o.tZ)(C.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"website"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(S.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):void 0})):null]}),(0,o.BX)(c.G,{css:[u.l0.rowWithGap(8),u.l0.flex.growAndShrink(1)],children:[(0,o.BX)(u.xv,{variant:"small",color:"dimmer",children:[(0,o.tZ)("span",{css:{color:u.TV.foregroundDefault,fontWeight:u.TV.fontWeightMedium},children:t.followerCount})," ",(0,R.Z)("follower",t.followerCount)]}),(0,o.BX)(u.xv,{variant:"small",color:"dimmer",children:[(0,o.tZ)("span",{css:{color:u.TV.foregroundDefault,fontWeight:u.TV.fontWeightMedium},children:t.followCount})," ","following"]})]}),t.bio?(0,o.tZ)(u.xv,{css:{overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"},multiline:!0,children:(0,o.tZ)(l.ZP,{properties:{target:"_blank"},children:t.bio})}):null,(0,o.BX)(c.G,{css:[u.l0.flex.row,u.l0.flex.wrap,{display:"inline-flex",gap:"8px"}],children:[(0,o.tZ)(T.Z,{username:t.username}),t.isAdmin?(0,o.tZ)(b._.Admin,{}):null,t.roles.map((function(e){if(e.key===d.SM.Moderator&&t.isAdmin)return null;var n=e.tagline||void 0,r=u.TV.foregroundDefault,i=(0,o.tZ)(b._.Default,{name:e.name,tagline:n},e.id);return e.key===d.SM.Moderator?i=(0,o.tZ)(b._.Moderator,{},e.id):e.key===d.SM.ReplitRep?i=(0,o.tZ)(b._.ReplitRep,{},e.id):e.key===d.SM.Patron?i=(0,o.tZ)(b._.Patron,{},e.id):e.key===d.SM.Pythonista&&(i=(0,o.tZ)(b._.Pythonista,{},e.id)),(0,o.tZ)("div",{children:(0,o.tZ)(c.G,{css:[{color:r,fontSize:u.TV.fontSizeSmall}],children:i})},e.id)}))]})]})})}function E(e){var n,t=e.username,r=e.children,i=e.inline,l=e.onUserClick,d=(0,a.useState)(!1),f=d[0],m=d[1],v=(0,a.useState)(!1),g=v[0],b=v[1],y=(0,a.useRef)(!1);(0,a.useEffect)((function(){f&&(y.current=!0);var e=setTimeout((function(){b(f)}),200);return function(){clearTimeout(e)}}),[f]);var Z=(0,p.VK)({variables:{username:t},skip:!1===y.current}),x=Z.data,w=Z.loading,k=null===x||void 0===x?void 0:x.userByUsername,C=(null===x||void 0===x||null===(n=x.currentUser)||void 0===n?void 0:n.id)===(null===k||void 0===k?void 0:k.id);return(0,o.BX)(s.Z,{disableFocusLock:!0,isOpen:g,onClickOutside:function(){return b(!1)},maxWidth:300,growToMaxWidth:!0,css:[{padding:16,background:u.TV.backgroundHigher,border:"solid 1px "+u.TV.backgroundHighest}],children:[i?(0,o.tZ)("span",{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:r}):(0,o.tZ)(I,{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:r}),(0,o.BX)(I,{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:[!w&&(k?(0,o.tZ)(P,{user:k,onUserClick:l,isCurrentUser:C}):(0,o.tZ)(u.xv,{color:"dimmer",children:"User doesn\u2019t exist"})),w?(0,o.tZ)(c.G,{css:[u.l0.center,u.l0.width("100%"),u.l0.height("100%")],children:(0,o.tZ)(h.Z,{})}):null]})]})}},20147:function(e,n,t){"use strict";t.d(n,{w:function(){return s}});var r=t(32692),i=t(31230),o=t(16092);function a(){var e=(0,r.Z)(["\n  fragment UserLabelUser on User {\n    id\n    username\n    ...UserLinkUser\n  }\n  ","\n"]);return a=function(){return e},e}function l(){var e=(0,r.Z)(["\n  fragment UserLabelWithImageUser on User {\n    id\n    image\n    ...UserLabelUser\n  }\n  ","\n"]);return l=function(){return e},e}var s=(0,i.Ps)(a(),o._);l()},16092:function(e,n,t){"use strict";t.d(n,{P:function(){return s},_:function(){return l}});var r=t(32692),i=t(31230);function o(){var e=(0,r.Z)(["\n  fragment UserLinkUser on User {\n    id\n    url\n    username\n  }\n"]);return o=function(){return e},e}function a(){var e=(0,r.Z)(["\n  fragment UserLinkCurrentUser on CurrentUser {\n    id\n    url\n    username\n  }\n"]);return a=function(){return e},e}var l=(0,i.Ps)(o()),s=(0,i.Ps)(a())},94673:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(35944),i=t(23384),o=t(87045),a=t(14251),l=t(32692),s=t(31230),c=t(37887);function u(){var e=(0,l.Z)(["\n  query PlanBadge($username: String!) {\n    userByUsername(username: $username) {\n      id\n      userSubscriptionType\n    }\n  }\n"]);return u=function(){return e},e}var d={},p=(0,s.Ps)(u());function f(e){var n,t=e.username,l=(0,i.D)({controlName:"flag-orlando-honeymoon"}),s=function(e){var n=(0,a.Z)({},d,e);return c.a(p,n)}({variables:{username:t}}),u=s.data;if(s.loading)return null;var f=null===u||void 0===u||null===(n=u.userByUsername)||void 0===n?void 0:n.userSubscriptionType;return l&&"HACKER_PRO"===f?(0,r.tZ)(o.ZP,{name:"hacker_pro",userRole:"hacker_pro"}):"HACKER"===f?(0,r.tZ)(o.ZP,{name:"hacker",userRole:"hacker"}):null}},26082:function(e,n,t){"use strict";var r=t(28860),i=t.n(r);n.Z=i()((function(){return Promise.all([t.e(8966),t.e(5499),t.e(5117),t.e(7068)]).then(t.bind(t,87068)).then((function(e){return e.EditReplTemplate}))}),{loadableGenerated:{webpack:function(){return[87068]}}})},78386:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Hh}});var r=t(34727),i=t(70655),o=t(35944),a=t(70917),l=t(92098),s=t(21096),c=t(70338),u=t(59641),d=t(36126),p=t(67294);function f(e){var n=e.src,t=e.autoPlay,r=void 0===t||t,i=e.loop,a=void 0===i||i,l=e.width,s=void 0===l?280:l;return(0,o.tZ)(u.G7,{css:[u.l0.p(4),u.l0.borderRadius(8),u.l0.width(s),u.l0.backgroundColor.backgroundRoot,{border:"solid 1px ".concat(u.TV.outlineDimmest)}],children:(0,o.tZ)("video",{style:{width:"100%"},css:u.l0.borderRadius(8),src:n,autoPlay:r,loop:a,playsInline:!0,muted:!0})})}var h=function(e){return"/public/videos/workspace-onboarding/".concat(e,".mp4")},m={id:"workspace-desktop-new-user-tour",steps:[{id:d.y.Welcome,isModal:!0,title:"Welcome to the Workspace",content:function(){return(0,o.tZ)(u.G7,{css:[u.l0.maxWidth(400)],children:(0,o.BX)(u.xv,{multiline:!0,children:["The Workspace is where you create projects on Replit. These are called"," ",(0,o.tZ)("strong",{children:"Repls."}),(0,o.tZ)("br",{}),"Let's explore around!"]})})}},{id:d.y.Editor,title:"Code Editor",content:function(){return(0,o.BX)(u.G7,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:[(0,o.tZ)(f,{src:h("editor"),autoPlay:!0,loop:!0}),(0,o.tZ)(u.G7,{css:[u.l0.colWithGap(8),u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(u.xv,{multiline:!0,children:"This is where you write code. The editor helps you by giving you suggestions and coloring your code."})})]})}},{id:d.y.Examples,title:"Examples",content:"Click on one of these examples to insert into your editor",autoSkipIfNoTarget:!0},{id:d.y.Run,title:"Run Button",content:function(){return(0,o.BX)(u.G7,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:[(0,o.tZ)(f,{src:h("run-button"),autoPlay:!0,loop:!0}),(0,o.tZ)(u.G7,{css:[u.l0.colWithGap(8),u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(u.xv,{multiline:!0,children:"Tap the Run button to \u201crun\u201d your code and see its output."})})]})}},{id:d.y.Output,title:"Output",content:function(){return(0,o.BX)(u.G7,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:[(0,o.tZ)(f,{src:h("output"),autoPlay:!0,loop:!0}),(0,o.tZ)(u.G7,{css:[u.l0.colWithGap(8),u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(u.xv,{multiline:!0,children:"This is where your run output appears. This can be text, websites, games, and more depending on the template you\u2019re using."})})]})}},{id:d.y.Sidepane,title:"Sidebar",content:function(){return(0,o.BX)(u.G7,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:[(0,o.tZ)(f,{src:h("sidebar"),autoPlay:!0,loop:!0}),(0,o.BX)(u.G7,{css:[u.l0.colWithGap(8),u.l0.width("100%"),u.l0.p(8)],children:[(0,o.BX)(u.xv,{multiline:!0,children:[(0,o.tZ)("strong",{children:"Files"})," is where all of your Repl\u2019s code is."]}),(0,o.BX)(u.xv,{multiline:!0,children:[(0,o.tZ)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,o.tZ)(u.xv,{multiline:!0,children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]})}},{id:d.y.Share,title:"Invite & Collaborate",content:function(){return(0,o.BX)(u.G7,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:[(0,o.tZ)(f,{src:h("invite-multiplayer"),autoPlay:!0,loop:!0}),(0,o.tZ)(u.G7,{css:[u.l0.colWithGap(8),u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(u.xv,{multiline:!0,children:"Invite others to your Repl to collaborate and work together at the same time."})})]})}}]},v={id:"workspace-desktop-sidebar-tour",steps:[{id:d.y.SidebarAnnouncement,title:"The New Workspace",isModal:!0,content:function(){return(0,o.tZ)(u.G7,{css:[u.l0.maxWidth(400)],children:(0,o.tZ)(u.G7,{css:[u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(u.xv,{multiline:!0,children:"If you\u2019re seeing this, that means you get to test the new Workspace redesign. It has a few key differences we want to show you!"})})})}},{id:d.y.Sidepane,title:"Sidebar",content:function(){return(0,o.BX)(u.G7,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:[(0,o.tZ)(f,{src:(e="sidebar","/public/videos/workspace-onboarding/".concat(e,".mp4")),autoPlay:!0,loop:!0}),(0,o.BX)(u.G7,{css:[u.l0.colWithGap(8),u.l0.width("100%"),u.l0.p(8)],children:[(0,o.BX)(u.xv,{multiline:!0,children:[(0,o.tZ)("strong",{children:"Files"})," is where all of your Repl\u2019s code is."]}),(0,o.BX)(u.xv,{multiline:!0,children:[(0,o.tZ)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,o.tZ)(u.xv,{multiline:!0,children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]});var e}},{id:d.y.SidebarButton,title:"Sidebar Button",content:function(){return(0,o.tZ)(u.G7,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:(0,o.tZ)(u.G7,{css:[u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(u.xv,{multiline:!0,children:"Tapping on this quickly opens and closes the entire sidebar."})})})}},{id:d.y.GlobalNavButton,title:"Navigation Menu",content:function(){return(0,o.tZ)(u.G7,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:(0,o.tZ)(u.G7,{css:[u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(u.xv,{multiline:!0,children:"Tapping on this lets you navigate to other pages on Replit."})})})}},{id:d.y.NotificationsButton,title:"Notifications",content:function(){return(0,o.tZ)(u.G7,{children:(0,o.tZ)(u.G7,{css:[u.l0.width("100%"),u.l0.py(8)],children:(0,o.BX)(u.xv,{multiline:!0,children:["You can access all notifications from this menu."," "]})})})}},{id:d.y.AvatarButton,title:"Profile Menu",content:function(){return(0,o.tZ)(u.G7,{children:(0,o.tZ)(u.G7,{css:[u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(u.xv,{multiline:!0,children:"You can access your profile and account settings from this menu."})})})}},{id:d.y.Feedback,title:"That's all!",isModal:!0,content:function(){return(0,o.tZ)(u.G7,{css:[u.l0.maxWidth(400)],children:(0,o.tZ)(u.G7,{css:[u.l0.width("100%"),u.l0.py(8)],children:(0,o.BX)(u.xv,{multiline:!0,children:["This is the start of many more future updates to the Workspace to help increase the flexibility of Replit.",(0,o.tZ)("br",{}),(0,o.tZ)("br",{}),"If you'd like to leave some feedback, you can"," ",(0,o.tZ)("a",{href:"https://replit.com/@tyler/The-New-Workspace?v=1",target:"_blank",children:(0,o.tZ)("strong",{children:"leave a comment on this Repl"})}),". Happy coding!"]})})})}}]};var g=t(95901),b=t(60977);function y(e){var n=e.children,t=e.tour,r=function(e){var n;i&&t&&"function"===typeof(null===(n=window.analytics)||void 0===n?void 0:n.user)&&(0,b.yV)({id:window.analytics.user().id(),workspaceTourId:t.id,workspaceTourStatus:e===t.steps[t.steps.length-1].id?"completed":e.toLowerCase()})};if(!t)return(0,o.tZ)(o.HY,{children:n});var i="workspace-desktop-tour"===t.id||"workspace-desktop-new-user-tour"===t.id;return(0,o.tZ)(g.r,{tour:t,onStep:r,onDone:r,children:n})}var Z=t(31499),x=t(9941),w=t(11163),k=t(23384),C=t(68480),S=t(16965),R=t(20431);function T(){var e=(0,R.X)(),n=(0,S.Z)(e),t=(0,p.useState)(!e),r=t[0],i=t[1],o=Boolean(e&&e.isLoading);return(0,p.useEffect)((function(){if(!o){var e=n.current;e&&i(Boolean(null===e||void 0===e?void 0:e.isDone))}}),[o]),r}var I=t(55226),P=t(88710),E=t(60523),G=t(2858),D=t(27178),U=t(35621),B=t(21131),M=t(76521),L=t(10129),_=t(16491);function j(e){var n=(0,p.useState)((function(){return(0,_.N2)({commands:e.commands})}))[0];return(0,o.tZ)(_.Ge.Provider,{value:n,children:e.children})}function X(){var e=(0,_.XU)();return(0,p.useEffect)((function(){var n=function(n){var t=(0,_.wK)({cmdOrCtrlKey:(0,L.jh)(n),altKey:n.altKey,shiftKey:n.shiftKey,key:n.key.toLowerCase()}),r=e.globalShortcuts,i=e.scopedShortcuts.get(t);if(i){var o=i.run,a=i.bubble;if(n.preventDefault(),o(),!a)return}var l=r.get(t);l&&(n.defaultPrevented||n.preventDefault(),l.run())};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}),[e]),null}var N=t(69779),z=t(53676),A=t(99408),O=t(7182),F=t(93910),W=t(14994),H=t(39715),q=t(91550),V=t(72654),Y=t(63309),K=t(26174),$=t(57353),Q=t(18374),J=t(31838),ee=t(18172),ne=t(84942),te=t(688),re=t(60295),ie=t(38722);var oe=t(37806),ae=t(33328),le=t(16153),se=(0,O.cn)(null,(function(e,n,t){var r,i=e(Y.g4);"tile"===e((0,K.z)(t)).type?n(ae.iH,(0,ee.ZP)(i,(function(e){try{!function(e,n){var t=(0,te.Rh)(e,n.paneId);if(!t)return!1;var r=t.paneGroupPath;t.paneGroup.activeIndex=t.index;var i=r.map((function(e,n){return r.slice(0,n+1)})),o=!0,a=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value,d=(0,te.KC)(e,u);if(!d)throw new Error("Expected node");if("floatingPaneGroup"===d.type)throw new Error("Expected tiled pane");if(1!==u.length){var p=u[u.length-1];if("number"!==typeof p)throw new Error("Expected number");var f=(0,te.KC)(e,(0,ie.I)(u));if("split"!==(null===f||void 0===f?void 0:f.type))throw new Error("Expected split");var h=f.stacked?n.minPercentVertical:n.minPercentHorizontal;if(!(d.percent>=h)){var m=p===f.children.length-1,v=m?(0,N.Z)(u.slice(0,-1)).concat([p-1]):u,g=m?f.children[p-1].percent-h:h;(0,re.Z)(e,{leftPath:v,percent:g})}}}}catch(b){a=!0,l=b}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}}(e,{paneId:t,minPercentHorizontal:30,minPercentVertical:20})}catch(r){throw n(oe.j6,{error:r,origin:"Layout: focusPaneAtom/revealTiledPane"}),r}}))):n(ae.iH,(0,ee.ZP)(i,(function(e){try{!function(e,n){var t=(0,te.Rh)(e,n.paneId);if(!t)return!1;var r=t.paneGroup;if("floatingPaneGroup"!==r.type)throw new Error("Expected floatingPaneGroup");r.activeIndex=t.index,r.rect.width=Math.max(r.rect.width,n.minWidth),r.rect.height=Math.max(r.rect.height,n.minHeight)}(e,{paneId:t,minWidth:200,minHeight:140})}catch(r){throw n(oe.j6,{error:r,origin:"Layout: focusPaneAtom/revealFloatingPane"}),r}}))),n(ne.W1,t);var o=null===(r=e(le.Sk)[t])||void 0===r?void 0:r.focus;o&&setTimeout(o)}));function ce(){return(0,O.b9)(se)}var ue=t(80420),de=t(87653),pe=function(e,n,t){return{match:t||H.pl,data:{type:"openPane",pane:e,label:n.getTitle(e),icon:n.Icon({pane:e})}}};function fe(){var e=(0,D.Se)();return(0,B.Z)((function(){return(0,O.cn)((function(n){var t=n(Y.S6).map((function(e){return n(e.data).data.path})),r=n(Y.EP).filter((function(e){return!t.includes(e)}));return{data:{type:"context",label:"Recent",icon:(0,o.tZ)(W.Z,{})},commands:function(){return r.map((function(n){var t=(0,D.Dp)({path:n});return pe({type:t,data:{path:n}},e,(0,ue.z)({defaultScore:10,path:n}))}))}}}))}),[e])}function he(){var e=(0,D.Se)(),n=(0,J.B)();return(0,B.Z)((function(){return(0,O.cn)((function(t){var r=t(K.Eh).filter((function(e){return!e.isHidden})).map((function(e){return t(e.data).type})),i=[],o=!0,a=!1,l=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;(0,D.b)(u.type)&&r.includes(u.type)||i.push(pe(u,e))}}catch(d){a=!0,l=d}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}return i}))}),[n,e])}var me={type:"group",key:"root",description:"Search for tools and files"};function ve(e){var n=e.currentPaneId,t=e.openFile,r=(0,A.Z)(),i=r.fs,a=r.container,l=he(),s=function(e){var n=e.currentPaneId,t=(0,D.Se)(),r=ce();return(0,B.Z)((function(){return(0,O.cn)((function(e){var i=e(K.Eh),a=n?i.filter((function(e){return e.paneId!==n})).map((function(n){return[n.paneId,e(n.data)]})):i.map((function(n){return[n.paneId,e(n.data)]}));return a.length?[{data:{type:"context",label:"Switch to tab",icon:(0,o.tZ)(Q.Z,{})},commands:function(){return a.map((function(e){var n=(0,x.Z)(e,2),i=n[0],o=n[1];return{match:(0,D.Ur)(o)&&o.data.path?(0,ue.z)({path:o.data.path}):H.pl,data:{key:i,type:"action",label:t.getTitle(o),icon:t.Icon({pane:o}),run:function(){return r(i)}}}}))}}]:[]}))}),[t,n,r])}({currentPaneId:n}),c=fe(),u=(0,Y.AA)(),d=(0,$.T)(),p=(0,B.Z)((function(){return(0,O.cn)((function(e){var n=e(l),r=e(s),p=e(c),f={data:{type:"context",label:"Search",icon:(0,o.tZ)(de.Z,{}),key:"searchGroup"},commands:function(){return[(0,q.i)({openFile:t,fs:i,shouldHideFile:d,getRecentFiles:u}),(0,V.F)({container:a,singleLineMatch:!0})]}},h={data:{type:"context",label:"Tools",icon:(0,o.tZ)(Q.Z,{})},commands:function(){return(0,N.Z)(n)}};return{data:me,commands:function(){return[p].concat((0,N.Z)(r),[f,h])}}}))}),[a,i,u,l,s,d,c,t]);return(0,O.Dv)(p)}var ge=(0,O.cn)(!1);var be=(0,O.cn)(null,(function(e,n,t){if(e(ge))return n(Ze,null),void n(ge,!1);t&&n(Ze,t),n(ge,!0)}));function ye(){return(0,O.b9)(be)}var Ze=(0,O.cn)(null),xe=(0,O.cn)([]);function we(){return(0,O.b9)(xe)}function ke(){var e=function(){var e=he();return(0,B.Z)((function(){return(0,O.cn)((function(n){var t=n(xe),r=n(e),i={data:{type:"context",label:"Tools",icon:(0,o.tZ)(Q.Z,{})},commands:function(){return r}};return{data:F.$,commands:function(){return(0,N.Z)(t).concat([i])}}}))}),[e])}(),n=(0,B.Z)((function(){return(0,O.cn)((function(n){var t=n(e),r=n(Ze);return r?[t,r]:t}))}),[e]);return(0,O.Dv)(n)}var Ce=t(58967),Se=t(77365),Re=t(88961),Te=t(63377),Ie=t(23367);function Pe(e,n){if("object"!==typeof n)return null;var t="string"===typeof n.action?n.action:null;if(!t)return null;if("layout"===e){if("split"===t){var r="string"===typeof n.pane?{type:n.pane}:{type:"commands",data:{autoFocus:!1}};return{action:n.action,placement:n.placement,pane:r}}if("reset"===t)return{action:"resetLayout"}}if("file"===e){var i="string"===typeof n.path?n.path:null;return i&&("openOrCreate"===n.action||"delete"===n.action)?{action:n.action,path:i}:null}if("tabs"===e){if("close"===t&&"string"===typeof n.type)return{action:"closeTab",type:n.type};if("open"===t)return{action:"openTab",pane:"string"===typeof n.type?{type:n.type}:{type:"commands",data:{autoFocus:!1}}}}return"codegen"===e&&"generate"===t&&"string"===typeof n.prompt?{action:"generate",prompt:n.prompt}:null}var Ee=t(71171),Ge=t.n(Ee),De=t(71177),Ue=t(73321),Be=t(85124),Me=t(12322),Le=t(88474),_e=t(51894),je=t(81516),Xe=t(57418),Ne=t(94227),ze=t(78120);function Ae(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,r.Z)((function(e){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:if(!je.l)throw new Error("Expected apolloClient");return[4,je.l.query({query:_e.R1,variables:{input:e}})];case 1:if("GenerateCodeResult"!==(n=t.sent().data).generateCode.__typename)throw new Error(n.generateCode.__typename);return[2,n.generateCode.code]}}))}))).apply(this,arguments)}var Fe=(0,O.cn)(null,(function(e,n){n(ae.iH,{tiling:null,floating:[]})})),We=((0,O.cn)(null,(function(e,n){var t=Ge()(),r=e(Y.g4);n(ae.iH,(0,ee.ZP)(r,(function(e){(0,De.m)(e,{id:Ge()(),relativeTo:["tiling"],placement:"replace",panes:[t]})})))})),(0,O.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,o,a,l,s,c,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:switch(r=t.action,o=t.fs,r.action){case"openOrCreate":return[3,1];case"delete":return[3,7];case"split":return[3,9];case"openTab":return[3,10];case"closeTab":return[3,11];case"resetLayout":return[3,12];case"clearLayout":return[3,13];case"generate":return[3,14]}return[3,17];case 1:return[4,o.stat(r.path)];case 2:return i.sent().exists?[3,6]:[4,o.writeFile(r.path,"")];case 3:return i.sent(),[4,o.flush()];case 4:return i.sent(),[4,o.persist({skipDebounce:!0})];case 5:i.sent(),i.label=6;case 6:return n(Ne.U,{path:r.path}),[3,17];case 7:return[4,o.deleteFile(r.path)];case 8:return i.sent(),[3,17];case 9:return a=e(ne.J1),n(Ue.g2,{panes:[r.pane],placement:r.placement,makeActive:!1,relativeTo:a||["tiling"]}),[3,17];case 10:return n(Le.Q0,{pane:r.pane}),[3,17];case 11:return"*"===r.type?n(Fe,{}):n(Be.AW,r.type),[3,17];case 12:return n(Me.B,{}),[3,17];case 13:return n(Fe,{}),[3,17];case 14:return(l=e(Y.QP))||(s=e(K.Eh).find((function(n){return"codeEditor"===e(n.data).type})))&&"codeEditor"===(c=e(s.data)).type&&(l=c.data.path),l?[4,Ae({language:(0,Xe.Sf)(l),replId:t.replId,prompt:r.prompt})]:[2];case 15:return u=i.sent(),[4,new Promise((function(e,n){if(l)var t=o.watchTextFile(l,{onError:function(t){n(t),e()},onReady:function(n){var r=n.writeChange,i=n.initialContent;r(ze.as.of({from:i.length,insert:u},i.length)),t(),e()}});else n(new Error("Expected path"))}))];case 16:return i.sent(),[3,17];case 17:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}())),He=(0,O.cn)(!1);var qe=(0,O.cn)(!1);var Ve="https://llmide.amasad.repl.co";function Ye(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch(Ve+"/"+encodeURIComponent(e),{mode:"cors"})];case 1:return[4,n.sent().json()];case 2:return[2,{json:n.sent(),error:null}];case 3:return[2,{json:null,error:n.sent()}];case 4:return[2]}}))}))).apply(this,arguments)}function $e(e){var n=e.isOpen,t=e.onDone,o=(0,A.Z)().fs,a=(0,S.Z)(t),l=(0,Ie.Q)("flagGhostrunner"),s=(0,Te.Z)(),c=(0,B.Z)((function(){return(0,O.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,l,c,u,d,p,f,h,m;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e(Ie.H).flagGhostrunner?(n(He,!0),[4,Ye(t)]):[2];case 1:if((r=i.sent()).error)return n(He,!1),n(qe,!0),[2];if(l=function(e){if("object"!==typeof e)return{error:"not an object",actions:null};var n=e&&"result"in e?e.result:null;if(!Array.isArray(n))return{error:"no commands",actions:null};var t=[],r=!0,i=!1,o=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;if("object"===typeof s){var c=!0,u=!1,d=void 0;try{for(var p,f=Object.entries(s)[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=(0,x.Z)(p.value,2),v=Pe(h[0],h[1]);v&&t.push(v)}}catch(m){u=!0,d=m}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}}}}catch(m){i=!0,o=m}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return 0===t.length?{error:"no commands",actions:null}:{error:null,actions:t}}(r.json),!l.actions)return n(He,!1),n(qe,!0),[2];c=!0,u=!1,d=void 0,i.label=2;case 2:i.trys.push([2,7,8,9]),p=l.actions[Symbol.iterator](),i.label=3;case 3:return(c=(f=p.next()).done)?[3,6]:(h=f.value,[4,n(We,{fs:o,action:h,replId:s})]);case 4:i.sent(),i.label=5;case 5:return c=!0,[3,3];case 6:return[3,9];case 7:return m=i.sent(),u=!0,d=m,[3,9];case 8:try{c||null==p.return||p.return()}finally{if(u)throw d}return[7];case 9:return n(He,!1),a.current(),[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}())}),[a,o,s]),u=(0,O.b9)(c);return(0,p.useEffect)((function(){if(l&&n&&window.webkitSpeechRecognition){var e=new window.webkitSpeechRecognition;e.onresult=function(e){var n=e.results[0][0].transcript;u(n)},e.start()}}),[u,l,n]),u}function Qe(){var e=(0,O.Dv)(He);return(0,O.Dv)(qe)?(0,o.tZ)(Je,{}):e?(0,o.tZ)(u.Tg,{elevated:!0,css:[u.l0.coverContainer,u.l0.borderRadius(8),u.l0.center],children:(0,o.tZ)(Se.Z,{})}):null}function Je(){var e=(0,O.b9)(qe);return(0,p.useEffect)((function(){var n=setTimeout((function(){e(!1)}),600);return function(){clearTimeout(n)}}),[e]),(0,o.tZ)(u.Tg,{elevated:!0,css:[u.l0.coverContainer,u.l0.borderRadius(8),u.l0.center],children:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(Re.Z,{color:u.TV.accentNegativeDefault}),(0,o.tZ)(u.xv,{children:"Something went wrong, try again"})]})})}var en={id:"toggleGlobalCommandBarCommand",name:"Toggle Commandbar",description:"Opens or closes the command bar",shortcut:F.q};function nn(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0}).enabled,t=we();(0,p.useEffect)((function(){if(n)return t((function(n){return(0,N.Z)(n).concat([e])})),function(){t((function(n){return n.filter((function(n){return n!==e}))}))}}),[t,e,n])}function tn(){var e=(0,O.Dv)(ge),n=ye(),t=ke(),r=(0,A.Z)().session,i=(0,Ce.Z)("commandBar").trackTimeToLoadFileStart,a=(0,Le.TO)();(0,p.useEffect)((function(){return r.onCommandBarToggled((function(t){t!==e&&n()}))}),[r,n,e]),(0,p.useEffect)((function(){r.setIsCommandBarOpen(e)}),[r,e]);var l=$e({onDone:n,isOpen:e});return(0,o.BX)(u.u_,{hideCloseButton:!0,isOpen:e,onRequestClose:n,noPadding:!0,children:[(0,o.tZ)(u.Tg,{elevated:!0,css:[u.l0.maxHeight("70vh"),u.l0.borderRadius(8)],children:(0,o.tZ)(z.X,{keyboardShortcut:F.q,onSubmit:l,onSelect:function(e){if("openFile"===e.data.type){var t=e.data.deeplink;i(t.path),r.openFile(t.path),r.updateDeeplink(t)}"openPane"===e.data.type&&a({pane:e.data.pane}),"action"===e.data.type&&e.data.run(),n()},command:t})}),(0,o.tZ)(Qe,{})]})}var rn=(0,p.memo)(tn),on=t(77269),an=40,ln=(0,O.cn)({}),sn=(0,O.cn)(null,(function(e,n,t){n(ln,(function(e){return(0,ee.ZP)(e,(function(e){e[t.id]=t.preferredHeight}))}))}));function cn(){return(0,O.b9)(sn)}var un=(0,O.cn)([]),dn=(0,O.cn)(0),pn=(0,O.cn)(null,(function(e,n,t){var r=t.height,i=t.sections,o=r-i.length*an;n(dn,r),n(un,i.map((function(e){var n=e.id,t=e.percent;return{id:n,height:0===t?0:o*(t/100)}})))}));function fn(e){return(0,O.Dv)(function(e){return(0,B.Z)((function(){return(0,O.cn)((function(n){var t;return an+((null===(t=n(un).find((function(n){return n.id===e})))||void 0===t?void 0:t.height)||0)}))}),[e])}(e))}var hn=(0,O.cn)((function(e){return e(un).map((function(e){return e.id}))}));var mn=(0,O.cn)(null,(function(e,n,t){n(dn,t),n(un,(function(e){return(0,ee.ZP)(e,(function(e){var n=e.reduce((function(e,n){return e+n.height}),0),r=t-e.length*an,i=e.filter((function(e){return e.height>0})),o=(r-n)/i.length,a=!0,l=!1,s=void 0;try{for(var c,u=i[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;d.height=Math.max(0,d.height+o)}}catch(p){l=!0,s=p}finally{try{a||null==u.return||u.return()}finally{if(l)throw s}}}))}))}));var vn=t(33101);function gn(){var e=(0,A.Z)(),n=e.session,t=e.presence;return p.useCallback((function(e){var r=e.username,i=e.id,o=t.getFollowedUser();if((null===o||void 0===o?void 0:o.username)!==r){t.followUser(r);var a=t.getActiveFileForUser(i),l=n.getActiveFile();a&&a!==l&&n.openFile(a)}else t.unfollowUser()}),[n,t])}var bn=t(58502),yn=t(95596),Zn=t(14251),xn=t(32692),wn=t(31230),kn=t(73359);function Cn(){var e=(0,xn.Z)(["\n  query WorkspaceHeaderUsersOnline($ids: [Int!]!) {\n    currentUser {\n      id\n    }\n    usersByIds(ids: $ids) {\n      id\n      username\n      image\n    }\n  }\n"]);return Cn=function(){return e},e}var Sn={},Rn=(0,wn.Ps)(Cn());var Tn=t(57731),In=t(22093);function Pn(){var e=(0,A.Z)().presence,n=gn(),t=(0,bn.Z)({presence:e}),a=(0,x.Z)(function(e){var n=(0,Zn.Z)({},Sn,e);return kn.t(Rn,n)}(),1)[0];return(0,B.Z)((function(){return{data:{type:"context",label:"Multiplayers",icon:(0,o.tZ)(yn.Z,{})},commands:(0,r.Z)((function(){var e,r,l,s,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t.length?[4,a({variables:{ids:t.map((function(e){return e.id})).slice(0,In.I)}})]:[2,[]];case 1:return(e=i.sent().data)?(r=t.reduce((function(e,n){return e[n.id]=n.color,e}),{}),l=e.currentUser,s=e.usersByIds.filter((function(e){return e.id!==(null===l||void 0===l?void 0:l.id)})),c=s.map((function(e){return{match:H.pl,data:{type:"action",label:e.username,icon:(0,o.tZ)(u.G7,{style:{border:"2px solid",borderColor:r[e.id],borderRadius:"50%"},children:(0,o.tZ)(Tn.Z,{size:16,src:e.image,alt:e.username})}),run:function(){return n({username:e.username,id:e.id})}}}})),t.length>In.I&&c.push({match:H.pl,data:{type:"action",label:"+".concat(t.length-In.I," more"),icon:(0,o.tZ)(yn.Z,{}),run:function(){}}}),[2,c]):[2,[]]}}))}))}}),[t,n,a])}var En={type:"context",icon:(0,o.tZ)(de.Z,{}),label:"",description:"Search"};var Gn=(0,a.iv)([u.l0.top(0),u.l0.left(0),u.l0.width("100%"),u.l0.zIndex(3),{"& > div:first-of-type > div:first-of-type":[u.l0.pl(0),u.l0.pr(0),u.l0.pt(0)]},{'& [role="listbox"]':[u.l0.pl(8),u.l0.position.absolute,u.l0.top(40),u.l0.height("calc(100% - ".concat(40,"px)")),u.l0.left(0),u.l0.width("100%"),u.l0.zIndex(3),u.l0.backgroundColor.backgroundRoot]},{'& [role="option"] > div':[u.l0.borderRadius(8)]}]);function Dn(){var e=function(){var e=(0,A.Z)().fs,n=(0,Y.AA)(),t=(0,$.T)(),r=(0,Ne.C)(),i=fe(),a=he(),l=Pn(),s=(0,B.Z)((function(){return(0,O.cn)((function(s){var c=s(i),u=s(a),d={data:{type:"context",label:"Tools",icon:(0,o.tZ)(Q.Z,{})},commands:function(){return u}},p=(0,q.i)({openFile:r,fs:e,shouldHideFile:t,getRecentFiles:n,lazyLoad:!0});return p.match=void 0,{data:En,commands:function(){return[c,p,d,l]}}}))}),[e,a,i,t,r,n,l]);return(0,O.Dv)(s)}(),n=(0,Ne.C)(),t=(0,Le.TO)();return(0,o.tZ)(u.G7,{css:Gn,children:(0,o.tZ)(z.X,{onSelect:function(e){if("openFile"!==e.data.type)if("openPane"!==e.data.type)"action"!==e.data.type||e.data.run();else{var r=e.data.pane;t({pane:r})}else{var i=e.data.deeplink.path;n({path:i})}},command:e,openOnInput:!0})})}var Un,Bn=t(96189),Mn=t(47979),Ln=t(1855);!function(e){e.Files="files",e.Dock="dock",e.Kaboom="kaboom",e.Extensions="extensions",e.Resources="resources"}(Un||(Un={}));var _n=t(8941),jn=t(81815),Xn=t(31600),Nn=t(53201),zn=t(50467),An=t(62259),On=t(90525),Fn=t(60482),Wn=(0,O.cn)(null,(function(e,n,t){var r=e(K.CK),i=t.pageX,o=t.pageY,a=t.over,l=e((0,K.z)(a)),s={x:i-r.x,y:o-r.y},c=(0,An.QN)(s,e(l.rectAtom)),u=c.rect,d=c.placement,p=e(K.M0);"above"!==d&&"below"!==d?(n(Fn.c,!0),n(On.m,{type:"dropPreview",rect:{x:u.x,y:u.y-p,width:u.width,height:u.height+p}})):n(On.m,{type:"dropPreview",rect:{x:u.x,y:u.y-p+("below"===d?p/2:0),width:u.width,height:u.height+p/2}})})),Hn=(0,O.cn)(null,(function(e,n,t){var r=e(K.CK),i=t.pageX,o=t.pageY,a=t.over,l=e((0,K.z)(a)),s={x:i-r.x,y:o-r.y},c=(0,An.QN)(s,e(l.rectAtom)).placement;n(On.m,null),n(Fn.c,!1);var u=e(Y.g4);if("newPaneGroup"!==t.type){var d=a;if(d===t.paneId){var p=(0,te.Rh)(u,t.paneId);if(!p){var f=new Error("Expected pane");throw n(oe.j6,{error:f,tags:{layoutstate:!0},origin:"Layout: state/paneDragAndDrop/expectedPane"}),f}if(p.floating)throw new Error("Expected paneGroup");var h=p.paneGroup.panes.find((function(e){return e!==t.paneId}));if(!h)return;d=h}var m=(0,ee.ZP)(u,(function(e){try{(0,zn.i)(e,t.paneId),(0,De.m)(e,{id:Ge()(),panes:[t.paneId],relativeTo:d,placement:c})}catch(f){throw n(oe.j6,{error:f,tags:{layoutstate:!0},origin:"Layout: state/paneDragAndDrop/updatedLayout"}),f}}));n(ae.iH,m)}else n(Ue.g2,{panes:t.panes,placement:c,makeActive:!0,relativeTo:l.paneId})}));var qn=(0,O.cn)(null,(function(e,n){n(Fn.c,!1)}));function Vn(){return(0,O.b9)(qn)}var Yn=t(6307),Kn=t(12824),$n=t(94058),Qn=t(51911),Jn=t(59163),et=t(50009),nt=t(16495);var tt={root:u.l0.px(4),rowWrap:(0,a.iv)([u.l0.borderRadius(8)]),row:(0,a.iv)([u.gU.nofill,u.l0.rowWithGap(8),u.l0.p(4),u.l0.minHeight(32),u.l0.align.center,{transition:"initial"}]),icon:(0,a.iv)([u.l0.position.relative,{"& > svg":u.l0.color.foregroundDimmer}]),textWrap:[u.l0.colWithGap(2),u.l0.flex.growAndShrink(1)],heading:[u.l0.flex.growAndShrink(1),{opacity:.5}],text:[u.l0.flex.growAndShrink(1)]};function rt(e){var n=e.title,t=e.icon,r=e.active,i=e.highlightRanges,a=e.heading,l=e.dragRef;return(0,o.tZ)(u.G7,{css:tt.root,children:(0,o.tZ)(u.Tg,{elevated:r,css:tt.rowWrap,children:(0,o.BX)(u.Tg,{innerRef:l,css:tt.row,children:[(0,o.tZ)(u.G7,{css:tt.icon,children:t}),(0,o.BX)(u.G7,{css:tt.textWrap,children:[a?(0,o.tZ)(u.xv,{variant:"small",color:"dimmest",css:tt.heading,children:a}):null,(0,o.tZ)(u.xv,{css:tt.text,color:(null===i||void 0===i?void 0:i.length)?"dimmest":"default",children:(null===i||void 0===i?void 0:i.length)?(0,o.tZ)(et.xK,{style:{color:u.TV.foregroundDimmest},matchStyle:{fontWeight:u.TV.fontWeightBold,color:u.TV.foregroundDefault},source:n,matches:i.map((function(e){return{column:e.from,length:e.to-e.from}}))}):n})]})]})})})}var it=t(12215),ot=t(37497),at=t(76216),lt=function(e){var n=e.toolsGridItemRef,t=e.useTourResult,r=e.innerRef,i=e.shouldHideToolTip,a=T(),l=(0,at.Z)(),s=(0,k.D)({controlName:"flag-neon-databases"}),c=(0,k.D)({controlName:"flag-neon-databases-tour"}),d=t.shouldDisplay,f=t.register,h=t.dismiss,m=!i&&"nix"===l&&s&&c&&a&&n&&d;return(0,p.useEffect)((function(){s&&c&&a&&f()}),[s,c,a,f]),m?(0,o.tZ)(ot.k,{placement:"right",targetElement:n.current,activeStep:{id:"PostgresDatabasesTour",title:"New: PostgreSQL Database",content:function(){return(0,o.tZ)(u.xv,{multiline:!0,children:"PostgreSQL Databases let you store, read and write persistent data quickly. Great for storing user or application data that changes over time."})}},currentStepIndex:0,done:h,goto:function(){},totalSteps:1,disableAnimation:!0,innerRef:r}):null},st=(0,p.createContext)({toolTourMap:{}}),ct=function(e){var n=e.panes,t=e.children,r=e.isCollapsed,i=(0,it.Z)("workspace","workspace-tools-databases-postgres-tour"),a=(0,p.useRef)(null),l=(0,p.useRef)(null),s=n.length,c=(0,p.useState)(!1),u=c[0],d=c[1];return(0,p.useLayoutEffect)((function(){var e;d(r),null===(e=l.current)||void 0===e||e.updateTooltip()}),[s,r]),(0,o.BX)(st.Provider,{value:{toolTourMap:{neon:{buttonRef:a,dismissTour:i.dismiss}}},children:[(0,o.tZ)(lt,{toolsGridItemRef:a,useTourResult:i,innerRef:l,shouldHideToolTip:u}),t]})},ut=t(83952),dt=t(3309),pt={38:20},ft={root:(0,a.iv)([u.gU.filled,u.l0.position.relative,u.l0.center,u.l0.borderRadius(8),{"& > svg":u.l0.color.foregroundDimmer}]),hovered:(0,a.iv)({backgroundColor:u.vb.interactiveBackgroundActive,"& > svg":u.l0.color.foregroundDefault}),active:(0,a.iv)([u.gU.filled[":not([disabled])"][":active"],{"& > svg":u.l0.color.foregroundDimmer}]),focused:(0,a.iv)([{boxShadow:"0 0 0 2px "+u.TV.accentPrimaryDefault,outline:"2px solid transparent",outlineOffset:"4px"}])};function ht(e){var n=e.indicator,t=e.hovered,r=e.active,i=e.children,a=e.className,l=e.size,s=void 0===l?38:l;return(0,o.BX)(u.G7,{className:a,css:[ft.root,t&&ft.hovered,r&&ft.active],style:{width:s,height:s},children:[(0,p.cloneElement)(i,{size:pt[s]}),n?(0,o.tZ)(dt.B,{small:!0}):null]})}var mt={root:(0,a.iv)([u.l0.viewStyle,u.l0.reset.button,u.l0.colWithGap(4),u.l0.cursor.pointer,u.l0.center,u.l0.pt(2),u.l0.pt(4),{"&:hover .text":[u.l0.color.foregroundDefault]},{"&:hover .icon":[ft.hovered]},{"&:active .icon":[ft.active]},{"&:focus-visible .icon":[ft.focused]}]),hovered:(0,a.iv)([u.l0.color.foregroundDefault]),text:[u.l0.flex.growAndShrink(1),{fontSize:10}]};function vt(e){var n=e.pane,t=e.onClick,r=e.dragRef,i=e.buttonRef,a=e.hovered,l=e.onKeyDown,s=e.tabIndex,c=(0,D.Se)(),u=c.Icon({pane:n,size:20}),d=c.getTitle(n),f=(0,Qn.b)({paneType:n.type}),h=function(e){return(0,p.useContext)(st).toolTourMap[e.type]}(n),m=(0,ut.lq)(null===h||void 0===h?void 0:h.buttonRef,i,r),v=(0,p.useCallback)((function(e){t(e),null===h||void 0===h||h.dismissTour()}),[t,h]);return(0,o.BX)("button",{css:[mt.root,a&&mt.hovered],onClick:v,ref:m,onKeyDown:l,tabIndex:s,children:[(0,o.tZ)(ht,{className:"icon",hovered:a,indicator:f,children:u}),(0,o.tZ)(bt,{className:"text",hovered:a,children:d})]})}var gt={root:(0,a.iv)([u.l0.flex.growAndShrink(1),{fontSize:10,textAlign:"center"}])};function bt(e){var n=e.children,t=e.hovered,r=e.className;return(0,o.tZ)(u.xv,{className:r,css:gt.root,color:t?"default":"dimmest",children:n})}var yt={root:(0,a.iv)([u.l0.position.absolute]),icon:(0,a.iv)([u.l0.shadow(2)]),textContainer:(0,a.iv)([u.l0.position.absolute,u.l0.left("50%"),u.l0.bottom("0"),u.l0.width("200%"),u.l0.center,{transform:"translate(-50%, calc(100% + ".concat(4,"px))")}])};function Zt(e){var n=e.pane,t=e.x,r=e.y,i=(0,D.Se)(),a=i.Icon({pane:n,size:20}),l=i.getTitle(n),s=(0,Qn.b)({paneType:n.type});return(0,o.BX)(u.G7,{css:yt.root,style:{transform:"translate(".concat(t,"px, ").concat(r,"px)")},children:[(0,o.tZ)(ht,{css:yt.icon,active:!0,indicator:s,children:a}),(0,o.tZ)(u.G7,{css:yt.textContainer,children:(0,o.tZ)(bt,{hovered:!0,children:l})})]})}var xt={root:(0,a.iv)([u.l0.position.absolute,u.l0.shadow(2),u.l0.borderRadius(8),u.l0.minWidth(100)])};function wt(e){var n=e.pane,t=e.x,r=e.y,i=(0,D.Se)(),a=i.Icon({pane:n,size:20}),l=i.getTitle(n);return(0,o.tZ)(u.G7,{css:xt.root,style:{transform:"translate(".concat(t,"px, ").concat(r,"px)")},children:(0,o.tZ)(rt,{active:!0,icon:a,title:l})})}function kt(){var e=(0,$n.u)();if(!e.display)return null;var n=e.item,t=e.monitor.getSourceClientOffset();return t?n.grid?(0,o.BX)(o.HY,{children:[(0,o.tZ)(Yn.a,{cursor:"grabbing"}),(0,o.tZ)(Zt,{pane:n.pane,x:t.x,y:t.y})]}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(Yn.a,{cursor:"grabbing"}),(0,o.tZ)(wt,{pane:n.pane,x:t.x,y:t.y})]}):null}var Ct=(0,a.iv)({position:"fixed",pointerEvents:"none",zIndex:Jn.MI.filetreeDragLayer,left:0,top:0,width:"100%",height:"100%"});function St(){var e=(0,Kn.f)((function(e){return{item:e.getItem(),itemType:e.getItemType(),isDragging:e.isDragging()}})),n=e.isDragging,t=e.itemType===Xn.z.NewPane;return n&&t?(0,o.tZ)("div",{css:Ct,children:(0,o.tZ)(kt,{})}):null}var Rt=t(64487);function Tt(e){var n=e.sections,t=e.id,r=n.findIndex((function(e){return e.id===t}));if(-1===r)throw new Error("");var i=n[r],o=i.height;i.height=0;var a=n.slice(r),l=n.slice(0,r).reverse(),s=!0,c=!1,u=void 0;try{for(var d,p=(0,N.Z)(a).concat((0,N.Z)(l))[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var f=d.value;if(0!==f.height)return void(f.height+=o)}}catch(h){c=!0,u=h}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}}var It=(0,O.cn)(null,(function(e,n,t){var r=e(un),i=e(ln)[t],o=r.find((function(e){return e.id===t}));if(!o)throw new Error("");0===o.height?n(un,(0,ee.ZP)(r,(function(n){!function(e){var n=e.sections,t=e.preferredHeight,r=e.id,i=n.findIndex((function(e){return e.id===r}));if(-1===i)throw new Error("Expected sectionIndex");var o=n.reduce((function(n,t){return n+(t.height+e.headerHeight)}),0),a=e.totalHeight-o,l=n[i];if(a>0)l.height=a;else{var s=n.slice(i+1).find((function(e){return e.height>0}))||n.slice(0,i).reverse().find((function(e){return e.height>0}));if(s){if(void 0!==t&&t<s.height)return l.height=t,void(s.height-=t);l.height=s.height,s.height=0}}}({sections:n,id:t,totalHeight:e(dn),headerHeight:an,preferredHeight:i})}))):(n(sn,{id:o.id,preferredHeight:o.height}),n(un,(0,ee.ZP)(r,(function(e){return Tt({sections:e,id:t})}))))}));function Pt(){return(0,O.b9)(It)}function Et(e){var n=(0,B.Z)((function(){return(0,O.cn)((function(n){var t;return 0===(null===(t=n(un).find((function(n){return n.id===e})))||void 0===t?void 0:t.height)}))}),[e]);return(0,O.Dv)(n)}var Gt=t(15682);function Dt(e){var n=e.pane,t=(0,Le.TO)(),r=Vn(),i=(0,x.Z)((0,Nn.c)({type:Xn.z.NewPane,item:function(){return{type:Xn.z.NewPane,pane:n,grid:!0}},end:function(){r()}}),3),a=i[1],l=i[2],s=p.useRef(null),c=(0,x.Z)((0,Gt.XZ)(s,!1),4),u=c[0],d=c[1],f=c[2],h=c[3];return(0,Gt.Ym)(d,s),function(e){(0,p.useEffect)((function(){e((0,nt.r)(),{captureDraggingState:!0})}),[e])}(l),(0,o.tZ)(vt,{pane:n,dragRef:a,buttonRef:s,tabIndex:u,onKeyDown:f,onClick:function(){h(),t({pane:n}),function(e){var n={action:"opened"};switch(Rt.n_({category:"dock",message:"Opened ".concat(e)}),e){case"git":return(0,b.j)(b.U3.VERSION_CONTROL_FEATURE_USED,n);case"envEditor":return(0,b.j)(b.U3.ENV_EDITOR_USED,n);case"database":return(0,b.j)(b.U3.DATABASE_USED,{action:"opened",type:"ReplitKV",provider:"replit"});case"neon":return(0,b.j)(b.U3.DATABASE_USED,{action:"opened",type:"PostgreSQL",provider:"neon"});case"replAuth":return(0,b.j)(b.U3.AUTH_SIDEBAR_USED,n);case"packager":return(0,b.j)(b.U3.PACKAGE_MANAGER_USED,n);case"unitTests":return(0,b.j)(b.U3.REPL_UNIT_TEST_USED,n);case"debugger":return(0,b.j)(b.U3.DEBUGGER_USED,n);case"extensionStore":(0,b.j)(b.U3.EXTENSION_STORE_VIEWED,{source:"tools-sidebar"})}}(n.type)}})}var Ut=(0,a.iv)([u.l0.pl(8),{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fill, minmax(".concat(60,"px, 1fr))"),gridAutoFlow:"dense"}]);function Bt(){var e=Et(Un.Dock),n=(0,J.B)(),t=n.length,r=cn();return(0,p.useEffect)((function(){var e=Math.min(300,40*t);r({id:Un.Dock,preferredHeight:e})}),[t,r]),(0,o.tZ)(ct,{panes:n,isCollapsed:e,children:(0,o.BX)(o.HY,{children:[(0,o.tZ)(St,{}),(0,o.tZ)(u.G7,{role:"toolbar",css:Ut,"aria-label":"Dock","aria-orientation":"horizontal",children:(0,o.tZ)(Gt.uP,{options:{direction:"horizontal",loopAround:!0},children:n.map((function(e){return(0,o.tZ)(Dt,{pane:e},e.type)}))})})]})})}var Mt=(0,O.cn)(null),Lt=(0,O.cn)(null,(function(e,n,t){var r=e(un);if("start"!==t.type){var i=e(Mt);if(!i)throw new Error("");if("update"!==t.type)n(un,(0,ee.ZP)(r,(function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value;a.height>=32||Tt({sections:e,id:a.id})}}catch(l){t=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}}))),n(Mt,null);else{var o=e(dn);n(un,(0,ee.ZP)(i.sectionStart,(function(e){var n=i.heightStart+t.delta;!function(e){var n=e.sections,t=e.id,r=e.totalHeight-n.reduce((function(n,t){return n+(t.height+e.headerHeight)}),0),i=n.findIndex((function(e){return e.id===t}));if(-1===i)throw new Error("Expected sectionIndex");var o=r+n.slice(i).reduce((function(e,n){return e+n.height}),0),a=n[i],l=e.height>a.height,s=Math.min(o,e.height),c=Math.abs(a.height-s);if(l){a.height=Math.max(0,s);var u=!0,d=!1,p=void 0;try{for(var f,h=n.slice(i+1)[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value;if(0!==m.height){if(!(m.height<c)){m.height-=c;break}c-=m.height,m.height=0}}}catch(S){d=!0,p=S}finally{try{u||null==h.return||h.return()}finally{if(d)throw p}}}else{var v=n[i+1];if(e.height>=0)return a.height=e.height,void(v&&(v.height+=c));var g=a.height;a.height=0;var b=-1*e.height,y=!0,Z=!1,x=void 0;try{for(var w,k=n.slice(0,i).reverse()[Symbol.iterator]();!(y=(w=k.next()).done);y=!0){var C=w.value;if(C.height>b){g+=b,C.height-=b;break}g+=C.height,b-=C.height,C.height=0}}catch(S){Z=!0,x=S}finally{try{y||null==k.return||k.return()}finally{if(Z)throw x}}v&&(v.height+=g)}}({headerHeight:an,totalHeight:o,sections:e,id:i.id,height:n})})))}}else{var a=r.find((function(e){return e.id===t.id}));if(!a)throw new Error("");n(Mt,{id:t.id,heightStart:a.height,sectionStart:r})}}));function _t(e){var n=e.id,t=(0,B.Z)((function(){return(0,O.cn)((function(e){var t;return(null===(t=e(Mt))||void 0===t?void 0:t.id)===n}))}),[n]);return(0,O.Dv)(t)}var jt=(0,O.cn)((function(e){return e(Y._E)&&!e(Mt)}));var Xt=t(93096),Nt=t.n(Xt);function zt(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=e.pageX,i=e.pageY,o={x:r,y:i},a={x:0,y:0};n.start&&n.start({mouse:o,shiftKey:e.shiftKey});var l=Nt()((function(e){var t={x:e.pageX,y:e.pageY};a={x:t.x-o.x,y:t.y-o.y},n.move({delta:a,shiftKey:e.shiftKey,mouse:t})}),t),s=function(){l.cancel(),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",s),document.removeEventListener("touchcancel",s),n.end&&n.end({delta:a,shiftKey:e.shiftKey})};document.addEventListener("pointermove",l),document.addEventListener("pointerup",s),document.addEventListener("touchcancel",s)}var At=t(72466),Ot=t(86851),Ft=t(9252),Wt=t(59369),Ht=t(38935),qt=t(25741),Vt=t(42231),Yt=t(9211),Kt=t(89224),$t=t(69453),Qt=t(94135),Jt=(0,p.createContext)(null);function er(){var e=(0,p.useContext)(Jt);if(!e)throw new Error("Expected ref");return e}var nr=t(53426),tr=t(92732),rr=t(19526),ir=t(32892),or=t(34856),ar=t(62913),lr=t(77848),sr=t(10982),cr=t(43546),ur=(0,a.iv)([[u.l0.width("100%"),u.l0.p(4),u.l0.pl(8),u.l0.borderRadius(8),u.l0.cursor.pointer,u.gU.listItem]]),dr=(0,a.iv)([u.l0.position.relative,u.l0.width(16),u.l0.height(16)]);function pr(){var e=(0,lr.Mu)(),n=e.length,t=(0,Te.Z)(),r=cn(),i=(0,lr.LM)(),a=(0,lr.EO)(),l=(0,lr.td)(),s=Pt(),c=Et(Un.Extensions);(0,p.useEffect)((function(){var e=Math.min(300,40*n);r({id:Un.Extensions,preferredHeight:e})}),[n,r]);var d,f=p.useRef(c);return f.current=c,(0,p.useEffect)((function(){0!==n&&f.current&&s(Un.Extensions)}),[n,s]),(0,o.BX)(o.HY,{children:[(0,o.tZ)(St,{}),(0,o.tZ)(rr.gC,{css:[u.l0.p(4)],spacing:"half",children:e.map((function(e){var n,r;return(0,o.BX)(rr.Ug,{css:ur,onClick:function(){var n,t;l({extensionId:e.extensionId,installationId:e.installationId,url:e.baseUrl,name:null!==(t=null===(n=e.manifest)||void 0===n?void 0:n.name)&&void 0!==t?t:"(unnamed extension)"})},spacing:1,align:"center",wrap:"nowrap",children:[(null===(n=e.manifest)||void 0===n?void 0:n.icon)?(0,o.tZ)(u.G7,{css:dr,children:(0,o.tZ)(ar.Z,{src:(0,cr.Vh)(e.baseUrl,e.manifest.icon),width:16,height:16,alt:"Icon for extension: ".concat(e.manifest.name)})}):(0,o.tZ)(ir.Z,{}),(0,o.tZ)(u.xv,{css:[u.l0.flex.growAndShrink(1)],children:null!==(d=null===(r=e.manifest)||void 0===r?void 0:r.name)&&void 0!==d?d:"(unnamed extension)"}),e.error?(0,o.tZ)(or.Z,{status:or.O.FAILED,content:e.error.friendlyMessage,display:"tooltip"}):null,(0,o.tZ)("div",{onClick:function(e){return e.stopPropagation()},children:(0,o.tZ)(Wt.Z,{items:[{label:"Reload",icon:(0,o.tZ)(sr.RefreshCw,{}),key:"reload"},{label:"Uninstall",icon:(0,o.tZ)(sr.Trash,{}),isDestructive:!0,key:"uninstall"}],label:"Extension Actions",onItemClick:function(n){e.installationId&&("reload"!==n.key?"uninstall"!==n.key||i({installationId:e.installationId,replId:t}):a(e.installationId))}})})]},e.extensionId)}))})]})}var fr=(0,O.cn)(null,(function(e,n,t){var r=e(Y.S6).find((function(n){return t===(0,D.DQ)(e(n.data))}));r&&n(ne.Bt,r.paneId)}));var hr=t(95716),mr=t(20897),vr=t(81700),gr=t.n(vr),br={root:(0,a.iv)([u.l0.rowWithGap(4),u.l0.pr(2)])};function yr(){var e,n,t=(0,Te.Z)(),r=(0,A.Z)().session,i=er(),a=(0,p.useRef)(null),l=(0,p.useRef)(null),s=(0,qt.Z)(),c=(0,Ue.BN)(),d=(0,Vt.Z)(),f=(0,Qt.z)(),h=Un.Files,m=Et(h),v=Pt(),g=(0,p.useCallback)((function(){m&&v(h)}),[h,m,v]),b=[{label:Ht.st.UploadFile.text,for:null===(e=a.current)||void 0===e?void 0:e.id,run:function(){a.current&&(0,$t.Z)({replId:t,action:"uploaded",fileType:Kt.Tv.File})}}];d&&b.push({label:Ht.st.UploadFolder.text,for:null===(n=l.current)||void 0===n?void 0:n.id,run:function(){l.current&&(0,$t.Z)({replId:t,action:"uploaded",fileType:Kt.Tv.Directory})}});return b.push({label:Ht.st.OpenPane.text,run:function(){c({pane:{type:"commands",data:{autoFocus:!0}},edge:"left"})}},{label:Ht.st.DownloadZip.text,run:f},{label:s?Ht.st.HideHiddenFiles.text:Ht.st.ShowHiddenFiles.text,run:function(){r.setAreHiddenFilesVisible(!s)}}),(0,o.BX)(u.G7,{children:[(0,o.tZ)(Yt.Q,{fileUploadInputRef:a,dirUploadInputRef:l,uploadFiles:function(e){var n;return null===(n=i.current)||void 0===n?void 0:n.uploadFiles(e)}}),(0,o.BX)(u.G7,{css:br.root,children:[(0,o.tZ)(u.hU,{"data-cy":"filetree-add-file",alt:"New file",tooltipPlacement:"top",onClick:function(){var e;g(),null===(e=i.current)||void 0===e||e.addFileType(Kt.Tv.File)},children:(0,o.tZ)(Ot.Z,{})}),(0,o.tZ)(u.hU,{alt:"New folder",tooltipPlacement:"top",onClick:function(){var e;g(),null===(e=i.current)||void 0===e||e.addFileType(Kt.Tv.Directory)},children:(0,o.tZ)(Ft.Z,{})}),(0,o.tZ)(Wt.Z,{resetOnSelect:!0,label:"File Actions",items:b,onItemClick:function(e){e.run()}})]})]})}function Zr(){var e=(0,Le.TO)();return(0,o.tZ)(u.G7,{children:(0,o.BX)(u.G7,{css:br.root,children:[(0,o.tZ)(u.hU,{alt:"Extension Store",tooltipPlacement:"top",onClick:function(){(0,b.j)(hr.U3.EXTENSION_STORE_VIEWED,{source:"extensions-sidebar"}),e({pane:{type:"extensionStore",data:{page:"store"}}})},children:(0,o.tZ)(sr.Puzzle,{})}),(0,o.tZ)(u.hU,{alt:"Extension Settings",tooltipPlacement:"top",onClick:function(){(0,b.j)(hr.U3.EXTENSION_STORE_VIEWED,{source:"extensions-sidebar-manage"}),e({pane:{type:"extensionStore",data:{page:"manage"}}})},children:(0,o.tZ)(sr.Settings,{})})]})})}function xr(){var e=er(),n=(0,O.b9)(fr),t=Vn(),r=(0,nr.p)({onFileDoubleClick:n,onFileDragEnd:t}),i=(0,mr.c_)(),a=p.useMemo((function(){return i.map((function(e){return{paneType:"extension",supports:function(n){return gr()(e.glob).test(n)},extensionFileHandler:e}}))}),[i]);return(0,o.tZ)(u.G7,{"data-cy":"sidebar-filetree-section",css:[u.l0.position.absolute,u.l0.width("100%"),u.l0.height("100%")],children:(0,o.tZ)(jn.Z,{ref:e,filetreeApi:r,fileOpeners:a,showHeader:!1,showResources:!1})})}function wr(){var e=cn(),n=(0,Bn.Z)((function(n){n.height&&e({id:Un.Resources,preferredHeight:n.height})}));return(0,o.tZ)(u.G7,{innerRef:n,children:(0,o.tZ)(tr.Kq,{})})}function kr(){var e=(0,Ne.C)();return(0,o.tZ)(At.Z,{onFileOpen:function(n){return e({path:n})}})}function Cr(e){return e.collapsed?(0,o.tZ)(tr.lR,{}):(0,o.tZ)(u.G7,{children:"Repl Resources"})}var Sr={kaboom:{title:"Kaboom",content:(0,o.tZ)(kr,{})},files:{title:"Files",controls:(0,o.tZ)(yr,{}),content:(0,o.tZ)(xr,{})},dock:{title:"Tools",content:(0,o.tZ)(Bt,{})},extensions:{title:"Extensions",content:(0,o.tZ)(pr,{}),controls:(0,o.tZ)(Zr,{})},resources:{title:(0,o.tZ)(Cr,{collapsed:!0}),content:(0,o.tZ)(wr,{})}},Rr={root:(0,a.iv)([u.l0.rowWithGap(4),u.l0.align.center,u.l0.height(an)]),header:(0,a.iv)([u.l0.reset.button,u.l0.focusRing,u.l0.borderRadius(4),u.l0.ml(8),u.l0.flex.growAndShrink(1),u.l0.rowWithGap(4),u.l0.align.center,u.l0.cursor.pointer]),title:(0,a.iv)([u.l0.fontWeight.medium]),border:(0,a.iv)([u.l0.position.absolute,u.l0.top(0),u.l0.right(0),u.l0.width("calc(100% - ".concat(u.TV.space8,")")),{pointerEvents:"none",borderTop:"1px solid",borderColor:u.TV.outlineDimmest}]),content:(0,a.iv)([u.l0.flex.growAndShrink(1),u.l0.overflowY("auto")])},Tr=(0,p.memo)((function(e){var n=Et(e.id),t=Pt(),r=Sr[e.id],i=r.title,a=r.controls;return(0,o.BX)(u.G7,{css:Rr.root,children:[(0,o.BX)(u.G7,{id:"sidebar-section-header-".concat(e.id),tag:"button",onClick:function(){return t(e.id)},css:Rr.header,"aria-expanded":!n,"aria-controls":"sidebar-section-content-".concat(e.id),children:[(0,o.tZ)(_n.Z,{rotate:n?0:90}),"string"===typeof i?(0,o.tZ)(u.xv,{css:Rr.title,children:i}):p.cloneElement(i,{collapsed:n})]}),a||null]})})),Ir=(0,p.memo)((function(e){var n=Sr[e.id].content,t=Et(e.id);return(0,o.tZ)(u.G7,{id:"sidebar-section-content-".concat(e.id),inert:t?"true":void 0,css:[Rr.content,"files"===e.id?u.l0.position.relative:{}],children:(0,o.tZ)(u.G7,{css:u.l0.pb(8),children:n})})})),Pr={root:(0,a.iv)([u.l0.position.relative,u.l0.height(0),u.l0.width("100%"),{zIndex:1,"&:hover > div":{transform:"scaleY(2)"},cursor:"ns-resize"}]),hoverArea:(0,a.iv)([u.l0.position.relative,u.l0.height(8),u.l0.top(-4)])},Er=(0,p.memo)((function(e){var n=(0,O.b9)(Lt),t=_t({id:e.id});return(0,o.tZ)(u.G7,{css:Pr.root,onPointerDown:function(t){zt(t,{start:function(){n({type:"start",id:e.id})},move:function(e){var t=e.delta;n({type:"update",delta:t.y})},end:function(e){var t=e.delta;n({type:"end",delta:t.y})}})},children:(0,o.tZ)(u.G7,{style:t?{transform:"scaleY(100)"}:void 0,css:Pr.hoverArea})})}));function Gr(e){var n=fn(e.id),t=(0,O.Dv)(jt),r=_t({id:e.id});return(0,o.BX)(u.G7,{style:{zIndex:r?2:void 0,height:n,position:"relative",transition:t?"height 120ms ease-out":void 0},children:[e.border?(0,o.tZ)(u.G7,{css:Rr.border}):null,(0,o.tZ)(Tr,{id:e.id}),(0,o.tZ)(Ir,{id:e.id}),e.resizable?(0,o.tZ)(Er,{id:e.id}):null]})}var Dr=t(61745);function Ur(){return(0,k.D)({controlName:"flag-extensions",default:!1,type:"boolean"})}var Br={container:(0,a.iv)([u.l0.position.absolute,u.l0.top(0),u.l0.left(0),u.l0.width("100%"),u.l0.height("100%"),u.l0.minWidth(on.ih)]),header:(0,a.iv)([u.l0.pl(8),{zIndex:3}]),content:(0,a.iv)([u.l0.flex.growAndShrink(1)]),footer:(0,a.iv)([u.l0.pl(8),u.l0.pt(4),u.l0.colWithGap(8),{zIndex:2}]),help:(0,a.iv)([u.l0.pb(8),u.l0.flex.growAndShrink(1),u.l0.justify.center])};function Mr(){return(0,o.BX)(u.G7,{css:Br.footer,children:[(0,o.tZ)(Dr.M,{}),(0,o.tZ)(u.G7,{css:Br.help,children:(0,o.tZ)(vn.Z,{big:!0})})]})}function Lr(){var e=(0,O.b9)(pn),n=(0,O.b9)(mn),t=(0,Mn.oj)(),r=Ur(),i=(0,p.useRef)(null);(0,p.useEffect)((function(){if(i.current){var n=i.current.getBoundingClientRect().height;e(t?{height:n,sections:[{id:Un.Files,percent:0}].concat((0,N.Z)(r?[{id:Un.Kaboom,percent:60},{id:Un.Dock,percent:40},{id:Un.Extensions,percent:0}]:[{id:Un.Kaboom,percent:60},{id:Un.Dock,percent:40}]),[{id:Un.Resources,percent:0}])}:r?{height:n,sections:[{id:Un.Files,percent:60},{id:Un.Dock,percent:40},{id:Un.Extensions,percent:0},{id:Un.Resources,percent:0}]}:{height:n,sections:[{id:Un.Files,percent:60},{id:Un.Dock,percent:40},{id:Un.Resources,percent:0}]})}}),[e,t,r]);var o=(0,Bn.Z)((function(e){e&&n(e.height)}),{wait:100,type:"debounce"});return(0,Ln.l)(o,i)}var _r=(0,p.memo)((function(){var e=(0,O.Dv)(hn),n=Lr(),t=(0,p.useRef)(null),r=e[e.length-1];return(0,o.tZ)(Jt.Provider,{value:t,children:(0,o.BX)(u.G7,{css:Br.container,children:[(0,o.tZ)(u.G7,{css:Br.header,children:(0,o.tZ)(Dn,{})}),(0,o.tZ)(u.G7,{css:Br.content,innerRef:n,children:e.map((function(e,n){return(0,o.tZ)(Gr,{id:e,resizable:e!==r,border:0!==n},e)}))}),(0,o.tZ)(Mr,{})]})})})),jr=t(34385),Xr=t(2520),Nr=t(67573);function zr(e){var n=e.layout,t=e.splitPath,r=e.tilingOptions,i=function(e,n){var t=n.splitPath,r=(0,te.KC)(e,t);if(!r||"split"!==r.type)throw new Error("Expected split node");for(var i=100,o=(0,ie.I)(t);o.length;){var a=(0,te.KC)(e,o);if(!a)break;o=(0,ie.I)(o),"split"===a.type&&a.stacked===r.stacked&&(i*=a.percent/100)}return i}(n,{splitPath:t}),o=(0,te.KC)(n,t);if("split"!==(null===o||void 0===o?void 0:o.type))throw new Error("Expected split node");var a=r.size,l=r.gap,s=r.headerHeight,c=r.inset,u=void 0===c?{top:0,bottom:0,left:0,right:0}:c,d=o.children.length,p=o.stacked?l*(d-1)+s*d:l*(d-1);return i/100*((o.stacked?a.height-(u.top+u.bottom):a.width-(u.left+u.right))-p)}var Ar=(0,O.cn)(null),Or=(0,O.cn)(null,(function(e,n,t){if("end"!==t.type)if("update"!==t.type){var r=e(Y.g4),i=t.stacked?window.innerHeight:window.innerWidth,o=(0,te.KC)(r,t.leftPath);if(!o||!(0,ie.r)(o)){var a=new Error("Expected left node");throw n(oe.j6,{error:a,tags:{layoutstate:!0},origin:"Layout: state/resizeTiling"}),a}var l=(0,ie.I)(t.leftPath),s=o.percent,c=ae.pc/i*100,u=null;try{u=zr({splitPath:l,layout:r,tilingOptions:e(ae.Hs)})}catch(x){throw n(oe.j6,{error:x,tags:{layoutstate:!0},origin:"Layout: state/resizeTiling"}),x}if(null===u)throw new Error("Expected resizeDistance");n(Ar,{stacked:t.stacked,leftPath:t.leftPath,startPercent:s,resizeDistance:u,snapPercent:c,initialLayout:r})}else{var d=e(Ar);if(!d){var p=new Error("Expected tilingResize");throw n(oe.j6,{error:p,tags:{layoutstate:!0},origin:"Layout: state/resizeTiling"}),p}var f=d.stacked,h=d.leftPath,m=d.startPercent,v=d.resizeDistance,g=d.initialLayout,b=d.snapPercent,y=m+(f?t.moveDelta.y:t.moveDelta.x)/v*100,Z=(0,ee.ZP)(g,(function(e){(0,re.Z)(e,{leftPath:h,percent:y,snapPercent:b})}));n(ae.iH,Z)}else n(Ar,null)}));var Fr=t(89412);var Wr=t(81255),Hr=t(69346);var qr=t(48505),Vr=t(56124),Yr=t(48869),Kr=t(42895);function $r(e,n,t){var r=!!/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)?32:0;if(t){var i=2/3,o=Math.max(e.width,r*i),a=Math.max(e.height,r*i),l="left"===t?1:-1,s=n?0:l*(o-e.width)/2,c=n?l*(a-e.height)/2:0;return{width:n?e.width:o,height:n?a:e.height,x:n?e.x:e.x-(o-e.width)/2+s,y:n?e.y-(a-e.height)/2+c:e.y}}var u=Math.max(e.width,r),d=Math.max(e.height,r);return{width:n?e.width:u,height:n?d:e.height,x:n?e.x:e.x-(u-e.width)/2,y:n?e.y-(d-e.height)/2:e.y}}var Qr,Jr="--grip-color",ei="var(".concat(Jr,")"),ni=(0,a.iv)((Qr={},(0,Nr.Z)(Qr,Jr,Wr.TV.outlineDimmest),(0,Nr.Z)(Qr,":active, :hover",(0,Nr.Z)({},Jr,Wr.TV.foregroundDefault)),Qr)),ti=(0,a.iv)([Wr.l0.position.absolute,Wr.l0.center,{minWidth:8,minHeight:8},ni]),ri=(0,a.iv)({":hover":{transform:"scaleX(4)"}}),ii=(0,a.iv)({":hover":{transform:"scaleY(4)"}}),oi=(0,a.iv)([Wr.l0.height("200vh"),Wr.l0.width("200vw"),{transform:"translate(-50%, -50%)"}]),ai=(0,a.iv)([{backgroundColor:ei,transition:"background-color"},Wr.l0.borderRadius(4)]),li=(0,a.iv)([ai,{transitionDuration:"140ms"}]);function si(e){var n=e.snapped,t=e.stacked;return"left"===n?t?(0,o.tZ)(Yr.Z,{color:ei}):(0,o.tZ)(_n.Z,{color:ei}):t?(0,o.tZ)(Vr.Z,{color:ei}):(0,o.tZ)(qr.Z,{color:ei})}var ci=function(e){var n,t,r;return n=100/e*1,t=.08,r=.12,Math.min(Math.max(n,t),r)},ui=function(e){return{default:(0,a.iv)([Wr.l0.height("horizontal"===e?2:24),Wr.l0.width("horizontal"===e?24:2),ai]),active:(0,a.iv)([Wr.l0.height("horizontal"===e?1:"calc(100%)"),Wr.l0.width("horizontal"===e?"calc(100%)":1),Wr.l0.backgroundColor.accentPrimaryDefault]),collapsedIndicator:(0,a.iv)(["horizontal"===e?[Wr.l0.width(24),Wr.l0.align.center]:[Wr.l0.height(24),Wr.l0.justify.center,Wr.l0.mt(8)]]),shared:(0,a.iv)([Wr.l0.borderRadius(4),{transitionProperty:"width, height, background-color",transitionTimingFunction:"ease-out"}])}},di=ui("horizontal"),pi=ui("vertical");function fi(e){var n=e.rect,t=e.onPointerDown,r=e.onDoubleClick,i=e.stacked,a=e.snapped,l=e.zIndexHovered,s=e.zIndex,c=e.isActive,u=$r(n,i,a),d=(0,Kr.T)(),p=(i?n.width:n.height)<24,f=i?di:pi,h=i?"row-resize":"col-resize";return(0,o.BX)(o.HY,{children:[(0,o.BX)(Hr.G,{onPointerDown:t,onDoubleClick:r,onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},style:{width:u.width,height:u.height,transform:"translate(".concat(u.x,"px, ").concat(u.y,"px)"),visibility:p?"hidden":void 0,cursor:h},css:[ti,{zIndex:s},!c&&{":hover":{zIndex:l}}],children:[(0,o.tZ)(Hr.G,{css:[Wr.l0.coverContainer,!c&&(i?ii:ri),c&&oi]}),a?(0,o.tZ)(Hr.G,{className:"collapsedIndicator",css:f.collapsedIndicator,children:(0,o.tZ)(si,{snapped:a,stacked:i})}):(0,o.tZ)(Hr.G,{className:"grip-line",style:{transitionDuration:d?"0s":"".concat(ci(i?n.width:n.height),"s")},css:[li,c?f.active:f.default,f.shared]})]}),c?(0,o.tZ)(Yn.a,{cursor:h}):null]})}function hi(e){var n=e.handleId,t=(0,K.ZZ)(n),r=(0,O.b9)(Or),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(0,p.useRef)(e),t=(0,Fr.eY)(),r=(0,Y.Xi)();return(0,p.useCallback)((function(i){i.snapped?t({leftPath:i.leftPath,percent:n.current}):Promise.resolve(r()).then((function(r){var o=(0,te.KC)(r,i.leftPath);if(!o||!(0,ie.r)(o))throw new Error("Expected split or paneGroup");n.current=o.percent,t({leftPath:i.leftPath,percent:e})}))}),[e,t,r])}(),a=(0,Jn.bJ)(),l=function(e){var n=e.handleId,t=(0,B.Z)((function(){return(0,O.cn)((function(e){var t=e(Ar);return!!t&&n===(0,An.xH)({leftPath:t.leftPath})}))}),[n]);return(0,O.Dv)(t)}({handleId:n}),s=p.useRef(null);return(0,o.tZ)(fi,{isActive:l,zIndex:l?a.active:a.normal,zIndexHovered:a.hovered,snapped:t.snapped,rect:t.rect,stacked:t.stacked,onDoubleClick:function(){i(t)},onPointerDown:function(e){zt(e,{start:function(){s.current=document.activeElement,r({type:"start",leftPath:t.leftPath,stacked:t.stacked})},move:function(e){var n=e.delta;r({type:"update",moveDelta:n})},end:function(){var e,n;r({type:"end"}),null===(e=s.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e)}})}})}var mi=(0,p.memo)(hi),vi=t(82937),gi=u.KD.div,bi=(0,a.iv)([u.l0.position.absolute,u.l0.center,ni,{cursor:"ew-resize",":hover":{zIndex:Jn.MI.gutterHovered}}]),yi={default:(0,a.iv)([u.l0.height(24),u.l0.width(2),ai]),active:(0,a.iv)([u.l0.height("100%"),u.l0.width(1),u.l0.backgroundColor.accentPrimaryDefault]),shared:(0,a.iv)([u.l0.borderRadius(4),{transitionProperty:"width, height, background-color",transitionTimingFunction:"ease-out"}])},Zi=(0,a.iv)([u.l0.coverContainer,{":hover":{transform:"scaleX(4)"}}]),xi=(0,a.iv)([u.l0.position.absolute,u.l0.height("200vh"),u.l0.width("200vw"),{pointerEvents:"none"}]);function wi(){var e=(0,vi.og)(),n=(0,vi.TN)(),t=(0,vi.EU)(),r=(0,Jn.bJ)(),i=(0,Kr.T)();return(0,o.BX)(o.HY,{children:[(0,o.BX)(gi,{css:[bi,{zIndex:t?r.active:r.normal}],style:{width:e.width,height:e.height,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")},onPointerDown:function(e){zt(e,{start:function(){n.start()},move:function(e){var t=e.delta;n.update({deltaX:t.x})},end:function(){n.end()}})},children:[(0,o.tZ)(u.G7,{className:"grip-line",style:{transitionDuration:i?"0s":"".concat(ci(e.height),"s")},css:[t?yi.active:yi.default,yi.shared]}),(0,o.tZ)(u.G7,{css:t?xi:Zi})]}),t?(0,o.tZ)(Yn.a,{cursor:"ew-resize"}):null]})}var ki=t(21864),Ci={id:"sidebar.toggle",name:"Toggle sidebar",description:"Opens or closes the sidebar"},Si=(0,a.iv)([u.l0.height("100%"),u.l0.position.absolute,u.l0.top(0),u.l0.left(0),u.l0.flex.row,u.l0.flex.growAndShrink(1),u.l0.overflow("auto")]);function Ri(){var e=(0,ki.Iv)();(0,_.Il)((function(){return[Ci.id,function(){return e()}]}),[e]);var n=(0,on.Or)(),t=0===n,r=(0,jr.Z)(d.y.Sidepane),i=(0,Xr.Z)().isTutorial?null:r;return(0,o.BX)(o.HY,{children:[(0,o.tZ)(u.G7,{css:Si,style:{width:n,visibility:t?"hidden":void 0},innerRef:i,children:(0,o.tZ)(_r,{})}),(0,o.tZ)(wi,{})]})}var Ti=(0,p.memo)(Ri),Ii=[Ci,en];function Pi(e){return(0,o.BX)(j,{commands:Ii,children:[e.children,(0,o.tZ)(X,{})]})}function Ei(e){var n=e.children,t=p.useRef({fileMap:new Map});return(0,o.tZ)(E.Z.Provider,{value:t,children:n})}function Gi(e){var n=e.ui,t=e.services,r=e.replId,i=e.replLanguage,a=e.replSlug,l=e.children,s=(0,B.Z)((function(){return{id:r,language:i,slug:a}}),[r,i,a]);return(0,o.tZ)(Pi,{children:(0,o.tZ)(D.kz,{value:n,children:(0,o.tZ)(Ei,{children:(0,o.tZ)(G.Z.Provider,{value:t,children:(0,o.tZ)(U.Z.Provider,{value:s,children:(0,o.tZ)(M.Wv,{children:l})})})})})})}var Di=t(54969),Ui=t(37887);function Bi(){var e=(0,xn.Z)(["\n  fragment ReplEnvironmentAvatarMenuCurrentUser on CurrentUser {\n    id\n    url\n    username\n    image\n  }\n"]);return Bi=function(){return e},e}function Mi(){var e=(0,xn.Z)(["\n  query ReplEnvironmentAvatarMenu {\n    currentUser {\n      id\n      ...ReplEnvironmentAvatarMenuCurrentUser\n    }\n  }\n  ","\n"]);return Mi=function(){return e},e}var Li={},_i=(0,wn.Ps)(Bi()),ji=(0,wn.Ps)(Mi(),_i);var Xi=t(50319);function Ni(){var e=(0,xn.Z)(["\n  fragment MarkLessonCompleteLesson on UserCourseLesson {\n    id\n    lessonSlug\n    timeCompleted\n    course {\n      id\n      courseSlug\n    }\n  }\n"]);return Ni=function(){return e},e}function zi(){var e=(0,xn.Z)(["\n  mutation MarkLessonAsComplete($input: CompleteUserCourseLessonInput!) {\n    completeUserCourseLesson(input: $input) {\n      ... on UpdatedUserCourseLesson {\n        __typename\n        userCourseLesson {\n          id\n          timeCompleted\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return zi=function(){return e},e}var Ai={},Oi=(0,wn.Ps)(Ni()),Fi=(0,wn.Ps)(zi());var Wi=t(11936),Hi=t(28985);function qi(){var e=(0,xn.Z)(["\n  fragment ReplEnvironmentHeaderReleaseRepl on Repl {\n    id\n    isAlwaysOn\n    slug\n    url\n    currentUserPermissions {\n      publish\n    }\n    publishedAs\n    isPrivate\n    hostingDeployment {\n      ... on HostingDeployment {\n        currentBuild {\n          ...CurrentBuild2\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n    ...PublishReleaseFormRepl\n  }\n  ","\n  ","\n"]);return qi=function(){return e},e}var Vi=(0,wn.Ps)(qi(),Wi.MX,Hi.wd),Yi=t(6695),Ki=t(69220);function $i(){var e=(0,xn.Z)(["\n  fragment ReplEnvironmentHeaderCurrentUser on CurrentUser {\n    id\n    isSubscribed\n    isFirewallMode\n    isExplorer: hasRole(role: EXPLORER)\n    ...ReplEnvironmentAvatarMenuCurrentUser\n  }\n  ","\n"]);return $i=function(){return e},e}function Qi(){var e=(0,xn.Z)(["\n  fragment ReplEnvironmentHeaderRepl on Repl {\n    id\n    slug\n    url\n    isAlwaysOn\n    isOwner\n    isPrivate\n    workspaceCta\n    rootOriginReplUrl\n    lang {\n      id\n      engine\n    }\n    origin {\n      id\n    }\n    currentUserPermissions {\n      editMultiplayers\n      inviteGuests\n      containerWrite\n    }\n    owner {\n      ... on Team {\n        id\n        capabilities {\n          isEducationPlan\n        }\n      }\n      ... on User {\n        id\n      }\n    }\n    template {\n      id\n      isGroupProject\n    }\n    lesson {\n      id\n      ...MarkLessonCompleteLesson\n    }\n    multiplayers {\n      id\n    }\n    ...ReplEnvironmentHeaderReleaseRepl\n  }\n  ","\n  ","\n"]);return Qi=function(){return e},e}function Ji(){var e=(0,xn.Z)(["\n  fragment ReplEnvironmentHeaderPropsRepl on Repl {\n    ...ReplEnvironmentDesktopRepl\n  }\n  ","\n"]);return Ji=function(){return e},e}function eo(){var e=(0,xn.Z)(["\n  fragment ReplEnvironmentHeaderPropsCurrentUser on CurrentUser {\n    ...ReplEnvironmentDesktopCurrentUser\n  }\n  ","\n"]);return eo=function(){return e},e}function no(){var e=(0,xn.Z)(["\n  query ReplEnvironmentHeader($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        ...ReplEnvironmentHeaderRepl\n        ...WorkspaceHeaderReplMetadataRepl\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironmentHeaderCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return no=function(){return e},e}var to={},ro=(0,wn.Ps)($i(),_i),io=(0,wn.Ps)(Qi(),Oi,Vi),oo=(Ji(),Ki.o,eo(),Ki.U,(0,wn.Ps)(no(),io,Yi.s,ro));var ao=t(26473),lo=t(83475),so=t(60357),co=t.n(so),uo=t(57263),po=t(52875),fo=t(66060);function ho(e){var n=e.user,t=e.onClick;return(0,o.tZ)(fo.u,{placement:"bottom",tooltip:"Observe ".concat(n.username),children:function(e,r){return(0,o.tZ)(Hr.G,(0,po.Z)((0,Zn.Z)({},e),{innerRef:r,onClick:t,children:(0,o.tZ)(u.qE,{size:24,src:n.image||null,username:n.username,ringColor:n.color,css:[Wr.l0.cursor.pointer,{transition:"all 0.2s ease","&:hover":{filter:"brightness(95%)",boxShadow:Wr.TV.shadow1}}]})}))}})}var mo=t(94184),vo=t.n(mo);function go(){var e=(0,xn.Z)(["\n  fragment UserListModalUser on User {\n    id\n    username\n    image\n  }\n"]);return go=function(){return e},e}function bo(){var e=(0,xn.Z)(["\n  fragment UserListModalReplPermission on ReplPermission {\n    id\n    type\n    user {\n      id\n      ...UserListModalUser\n    }\n  }\n  ","\n"]);return bo=function(){return e},e}function yo(){var e=(0,xn.Z)(["\n  query UserListModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        user {\n          id\n          ...UserListModalUser\n        }\n        permissions {\n          id\n          ...UserListModalReplPermission\n        }\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n    currentUser {\n      id\n    }\n  }\n  ","\n  ","\n"]);return yo=function(){return e},e}var Zo={},xo=(0,wn.Ps)(go()),wo=(0,wn.Ps)(bo(),xo),ko=(0,wn.Ps)(yo(),xo,wo);var Co=t(34140);function So(e){var n=e.hideModal,t=e.isOpen,r=(0,Te.Z)(),i=(0,A.Z)().presence,a=(0,bn.Z)({presence:i});return(0,o.tZ)(u.u_,{isOpen:t,onRequestClose:n,children:(0,o.tZ)(To,{replId:r,activeUsers:a,hideModal:n})})}function Ro(e,n){return n.some((function(n){return n.id===e}))}function To(e){var n=e.replId,t=e.activeUsers,r=e.hideModal,i=function(e){var n=(0,Zn.Z)({},Zo,e);return Ui.a(ko,n)}({variables:{replId:n}}),a=i.data,l=i.loading,s=i.error;if(l)return(0,o.tZ)(u.G7,{css:[u.l0.flex.row,u.l0.justify.center,u.l0.p(32)],children:(0,o.tZ)(Se.Z,{})});if(s)return(0,o.tZ)("div",{children:s.message});if("Repl"===(null===a||void 0===a?void 0:a.repl.__typename)){var c=a.repl,d=a.currentUser,p=c.user,f=p&&t.find((function(e){return e.username===p.username})),h=c.permissions.filter((function(e){var n=e.user;return n&&Ro(n.id,t)})),m=c.permissions.filter((function(e){var n=e.user;return n&&!Ro(n.id,t)}));return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.h4,{level:1,variant:"headerDefault",children:"Multiplayers"}),(0,o.tZ)(u.xv,{multiline:!0,children:"Users can interact with this Repl in real time."}),(0,o.tZ)(u.G7,{css:[u.l0.maxHeight(330),{overflowY:"auto"}],children:(0,o.BX)(u.G7,{children:[p?(0,o.tZ)(Po,(0,po.Z)((0,Zn.Z)({},p),{isOnline:Boolean(f),color:f?f.color:"transparent",isOwner:!0,hideModal:r,canClickAvatar:Boolean(f)&&p.id!==(null===d||void 0===d?void 0:d.id),type:Di.aQ.Rw})):null,h.map((function(e){var n=e.type,i=e.user;if(!i)throw new Error("Expected user");var a=t.find((function(e){return e.username===i.username}));if(!a)throw new Error("Expected user online");var l=i.id!==(null===d||void 0===d?void 0:d.id);return(0,o.tZ)(Po,(0,po.Z)((0,Zn.Z)({type:n},i),{isOnline:!0,canClickAvatar:l,color:a.color,hideModal:r,isOwner:!1}),"chat-user-list-".concat(i.username))})),m.map((function(e){var n=e.type,t=e.user;if(!t)throw new Error("Expected user");return(0,o.tZ)(Po,(0,po.Z)((0,Zn.Z)({type:n},t),{canClickAvatar:!1,isOnline:!1,color:"transparent",hideModal:r,isOwner:!1}),"chat-user-list-".concat(t.username))}))]})})]})}return"ReplRedirect"===(null===a||void 0===a?void 0:a.repl.__typename)?(0,o.BX)("div",{children:["This Repl has moved to"," ",(0,o.tZ)("a",{href:a.repl.replUrl,children:a.repl.replUrl})]}):"SubscriptionExpiredError"===(null===a||void 0===a?void 0:a.repl.__typename)?(0,o.BX)("div",{children:["Your subscription has expired.",(0,o.tZ)("a",{href:"/pricing",children:"Upgrade here"})]}):null}var Io={r:"read only",rw:"can edit"};function Po(e){var n=e.type,t=e.id,r=e.username,i=e.image,a=e.isOnline,l=e.isOwner,s=e.color,c=e.hideModal,u=e.canClickAvatar,d=gn(),p=function(){u&&(d({username:r,id:t}),c())};return(0,o.BX)("div",{className:co().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]])+" "+(vo()("user-list-item-wrapper",{online:a})||""),children:[(0,o.BX)("div",{role:"button",onClick:p,onKeyDown:p,tabIndex:0,className:co().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]])+" image",children:[(0,o.tZ)("img",{src:i,alt:"",className:co().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]])+" "+((a?"":"offline")||"")}),(0,o.BX)(Co.T,{children:["Observe ",r]})]}),(0,o.BX)("div",{className:co().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]])+" info",children:[(0,o.BX)("div",{className:co().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]]),children:[(0,o.BX)("a",{href:"/@".concat(r),target:"_blank",className:co().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]]),children:["@",r]}),!a&&" (offline)"]}),(0,o.tZ)("div",{className:co().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]]),children:l?"owner":Io[n]})]}),(0,o.tZ)(co(),{id:"8abf4fce485dcead",dynamic:[u?"pointer":"auto",s],children:".user-list-item-wrapper.__jsx-style-dynamic-selector{padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-ordinal-group:2;-webkit-order:1;-moz-box-ordinal-group:2;-ms-flex-order:1;order:1}.image.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;cursor:".concat(u?"pointer":"auto","}img.__jsx-style-dynamic-selector{width:40px;height:40px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;border:3px solid ").concat(s,";background:white;-o-object-fit:cover;object-fit:cover}.info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:var(--space-8)}img.offline.__jsx-style-dynamic-selector{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.user-list-item-wrapper.online.__jsx-style-dynamic-selector{-webkit-box-ordinal-group:1;-webkit-order:0;-moz-box-ordinal-group:1;-ms-flex-order:0;order:0}")})]})}var Eo=t(14314);function Go(e){var n=(0,x.Z)(p.useState(!1),2),t=n[0],r=n[1],i=(0,Eo.aG)(),a=i.length-2;return 0===i.length?null:(0,o.tZ)(u.G7,{css:[u.l0.flex.row,u.l0.align.center],children:(0,o.BX)(u.G7,{tag:"ul",className:"multiplayer-users-container",css:[u.l0.pr(8),u.l0.rowWithGap(4),u.l0.align.center],"aria-live":"polite","aria-relevant":"additions removals","aria-label":"online users",children:[a>0?(0,o.tZ)("li",{className:co().dynamic([["4498c6c3d18d139f",[uo.j.mobileMax+100]]]),children:(0,o.tZ)(u.Tg,{background:"root",children:(0,o.tZ)(u.zx,{onClick:function(){return r(!0)},text:"+ ".concat(a),css:[u.l0.borderRadius(0)]})})}):null,i.slice(0,2).map((function(n){return(0,o.tZ)("li",{className:co().dynamic([["4498c6c3d18d139f",[uo.j.mobileMax+100]]]),children:(0,o.tZ)(ho,{user:n,onClick:function(){return e.onAvatarClick(n)}})},n.id)})),(0,o.tZ)(So,{isOpen:t,hideModal:function(){return r(!1)}}),(0,o.tZ)(co(),{id:"4498c6c3d18d139f",dynamic:[uo.j.mobileMax+100],children:".multiplayer-users-container.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector{list-style-type:none}@media only screen and (max-width:".concat(uo.j.mobileMax+100,"px){.multiplayer-users-container.__jsx-style-dynamic-selector{display:none}}")})]})})}var Do=t(34193),Uo=t(8121),Bo=t(62881),Mo=t(18757),Lo=t(64184),_o=t(82893),jo=t(28898),Xo=t(93058),No=t(67629),zo=t(92002),Ao=t(30019),Oo=t(44781),Fo=t(27206),Wo=t(3218),Ho=t(69049),qo=t(6951);function Vo(e){var n=e.value,t=e.onButtonPress,r=e.statusText,i=void 0===r?"":r,a=e.image,l=e.filterValue,s=e.type,c=e.Icon;return(0,o.BX)("div",{className:"jsx-a16e88ad40d0e05c "+(vo()("multiplayer-item",{"is-editable":!!t})||""),children:[(0,o.BX)(rr.Ug,{align:"center",spacing:1,children:[(0,o.tZ)(jo.Z,{size:"s",url:null!==a&&void 0!==a?a:""}),(0,o.tZ)("div",{className:"jsx-a16e88ad40d0e05c label",children:l?(0,o.tZ)(et.gr,{source:n,match:l}):"".concat(n," ").concat(i)}),!!t&&(0,o.tZ)(qo.Z,{className:"remove-button",border:!1,filled:!1,"aria-label":"Remove ".concat(s||"email invite"),role:"tooltip","data-microtip-position":"left",onClick:t,children:c?(0,o.tZ)(c,{size:12,className:"jsx-a16e88ad40d0e05c"}):null})]}),(0,o.tZ)(co(),{id:"a16e88ad40d0e05c",children:".multiplayer-item.jsx-a16e88ad40d0e05c{padding:var(--space-4)var(--space-16)}.multiplayer-item.is-editable.jsx-a16e88ad40d0e05c{padding-right:var(--space-8)}.multiplayer-item.is-editable.jsx-a16e88ad40d0e05c:hover{background-color:var(--background-root)}.label.jsx-a16e88ad40d0e05c{margin-right:auto}"})]})}var Yo=t(4158);function Ko(e){var n=e.email,t=e.onInvite,r=e.onCancel;return(0,o.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa root",children:[(0,o.tZ)(Ao.Z,{level:3,align:"center",children:"Are you sure?"}),(0,o.BX)(Oo.Z,{align:"center",children:[(0,o.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa message",children:"Adding an external user as a guest to this repl will give the user read and write access. Please confirm the below email address before inviting the user as a guest."}),(0,o.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa email",children:n})]}),(0,o.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa controls",children:[(0,o.tZ)(qo.Z,{onClick:r,children:"Cancel"}),(0,o.tZ)(qo.Z,{filled:!0,color:"primary",onClick:t,children:"Invite"})]}),(0,o.tZ)(co(),{id:"1a6ae4ac10e8f1fa",children:".root.jsx-1a6ae4ac10e8f1fa{color:var(--foreground-default);padding:var(--space-24);display:grid;grid-gap:var(--space-24)}.controls.jsx-1a6ae4ac10e8f1fa{display:grid;grid-gap:var(--space-8);grid-auto-flow:column}.message.jsx-1a6ae4ac10e8f1fa{padding-bottom:var(--space-16)}"})]})}var $o=t(75474),Qo=t(34847);function Jo(e){var n,t,r=e.replId,i=(0,Uo.JT)({variables:{replId:r}}),a=i.data,l=i.loading,s=(null===a||void 0===a||null===(n=a.currentUser)||void 0===n?void 0:n.id)||null,c=(0,Xo.Z)(),u=c.showConfirm,d=c.showError,f=(0,x.Z)(p.useState(""),2),h=f[0],m=f[1],v=(0,x.Z)((0,Uo.fS)({onError:function(e){return d(e.message)},onCompleted:function(e){var n=e.addMultiplayerUser.user;(0,b.j)(b.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"username"});var t=n?"@".concat(n.username):"Member";u("".concat(t," added"))}}),2),g=v[0],y=v[1],Z=(0,x.Z)((0,Uo.HM)({onError:function(e){return d(e.message)},onCompleted:function(e){var n=e.removeMultiplayerUser.user,t=n?"@".concat(n.username):"Member";u("".concat(t," removed"))}}),2),w=Z[0],k=Z[1],C="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?a.repl:null,S=(0,x.Z)((0,Bo.Sv)({onError:function(e){d(e.message)},update:function(e,n){var t,i=null===(t=n.data)||void 0===t?void 0:t.createMultiplayerInvite2;if(i)if("UserError"!==i.__typename){if("MultiplayerInvite"===i.__typename){var o=i.email;return(0,b.j)(b.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"email"}),void u("Invited ".concat(o," via email"))}if("ReplPermission"===i.__typename){e.modify({id:e.identify({__typename:"Repl",id:r}),fields:{permissions:function(n){var t=e.writeFragment({data:i,fragment:Bo.L1});return(0,N.Z)(n).concat([t])}}});var a=i.user;(0,b.j)(b.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"email"});var l=a?"@".concat(a.username):"Member";u("".concat(l," added"))}}else d(i.message)}}),2),R=S[0],T=S[1],I=(0,x.Z)((0,Bo.Ej)({onError:function(e){return d(e.message)},onCompleted:function(e){if("UserError"!==e.deleteMultiplayerInvite.__typename){if("MultiplayerInvite"===e.deleteMultiplayerInvite.__typename){var n=e.deleteMultiplayerInvite.email;u("Invite for ".concat(n," deleted"))}}else d(e.deleteMultiplayerInvite.message)}}),2),P=I[0],E=I[1];if(C&&!C.owner)throw new Error("Cannot manage members on anon repls");if((null===C||void 0===C?void 0:C.owner)&&"Team"!==(null===C||void 0===C?void 0:C.owner.__typename))throw new Error("Expect repl owned by a team");var G,D,U,B="Team"===(null===C||void 0===C||null===(t=C.owner)||void 0===t?void 0:t.__typename)?C.owner:null,M=null!==(G=null===C||void 0===C?void 0:C.permissions.reduce((function(e,n){return n.user?(0,N.Z)(e).concat([n.user.username]):e}),[]))&&void 0!==G?G:[],L=null===C||void 0===C?void 0:C.permissions.reduce((function(e,n){if(!n.user)return e;var t=n.user;return!h||Wo.Z.filter(h,[t.username]).length>0?((null===B||void 0===B?void 0:B.members.some((function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.id)===t.id})))||e.users.push(t),e):e}),{users:[]}),_=null===C||void 0===C?void 0:C.multiplayerInvites.filter((function(e){return!h||Wo.Z.filter(h,[e.email]).length>0})),j=null===B||void 0===B?void 0:B.members.reduce((function(e,n){if(!n.user)return e;var t=n.user;if(!(!h||Wo.Z.filter(h,[t.username]).length>0))return e;var r=n.permissions&&n.permissions!==Di.SV.Member,i=null===C||void 0===C?void 0:C.permissions.find((function(e){var n;return e.user&&(null===(n=e.user)||void 0===n?void 0:n.id)===t.id}));return r?e.teamAdmins.push(t):(null===i||void 0===i?void 0:i.type)?e.withPermission.push(t):e.withoutPermission.push(t),e}),{teamAdmins:[],withPermission:[],withoutPermission:[]}),X=null===j||void 0===j?void 0:j.teamAdmins.some((function(e){return e.id===s})),z=(null!==(D=null===L||void 0===L?void 0:L.users.length)&&void 0!==D?D:0)+(null!==(U=null===_||void 0===_?void 0:_.length)&&void 0!==U?U:0),A=null===C||void 0===C?void 0:C.currentUserPermissions.editMultiplayers,O=null===C||void 0===C?void 0:C.currentUserPermissions.inviteGuests,F=Boolean(j&&!j.teamAdmins.length&&!j.withPermission.length&&(!(null===L||void 0===L?void 0:L.users.length)&&!(null===_||void 0===_?void 0:_.length)&&O||!O&&!j.withoutPermission.length)),W=(0,x.Z)(p.useState(null),2),H=W[0],q=W[1];return(0,o.BX)("div",{className:co().dynamic([["dc131772cdbb2add",[uo.j.mobileMax]]])+" root",children:[(0,o.BX)(rr.gC,{spacing:2,align:"stretch",children:[(0,o.BX)(rr.Ug,{children:[(0,o.BX)(Ao.Z,{level:5,foreground:l?3:1,children:[A?"Add or remove members from this repl":null,l?"Loading...":null]}),A&&O&&!l?(0,o.tZ)("div",{"aria-label":" Add team members or invite external guests via email or username","data-microtip-position":"bottom","data-microtip-size":"medium",role:"tooltip",className:co().dynamic([["dc131772cdbb2add",[uo.j.mobileMax]]])+" information-icon-container",children:(0,o.tZ)(Yo.Z,{})}):null]}),O?(0,o.tZ)(Ho.Z,{existingUsernames:M,onSubmit:function(e){!!e.match(/.+@.+/)&&!T.loading?q(e):y.loading||g({variables:{username:e,replId:r,type:"rw"}}),m("")},placeholder:A?"Search for users or invite guests":"Filter users",isDisabled:l,onChange:function(e){return m(e)}}):(0,o.tZ)(Fo.ZP,{disabled:l,value:h,onChange:function(e){return m(e.currentTarget.value)},placeholder:A?"Filter team members to add or remove":"Filter team members"}),(0,o.tZ)(Do.Z,{isOpen:!!H,onRequestClose:function(){return q(null)},children:H?(0,o.tZ)(Ko,{email:H,onInvite:function(){R({variables:{email:H,replId:r,type:"rw"}}),q(null)},onCancel:function(){return q(null)}}):null}),(0,o.BX)("div",{className:co().dynamic([["dc131772cdbb2add",[uo.j.mobileMax]]])+" "+(vo()("multiplayers-list",{"is-empty":F})||""),children:[(null===j||void 0===j?void 0:j.withPermission.length)?(0,o.tZ)("div",{className:co().dynamic([["dc131772cdbb2add",[uo.j.mobileMax]]])+" list-heading",children:(0,o.BX)(rr.Ug,{align:"center",spacing:1,children:[(0,o.tZ)(Mo.Z,{size:12}),(0,o.BX)(Oo.Z,{foreground:2,size:"small",children:[null===j||void 0===j?void 0:j.withPermission.length," member",1===(null===j||void 0===j?void 0:j.withPermission.length)?"":"s"," with access"]})]})}):null,null===j||void 0===j?void 0:j.withPermission.map((function(e){return(0,o.tZ)(Vo,{value:e.username,image:e.image,statusText:"(can edit)",type:"member",onButtonPress:X?function(){k.loading||w({variables:{replId:r,username:e.username}})}:void 0,Icon:No.Z},e.id)})),!!z&&(0,o.tZ)("div",{className:co().dynamic([["dc131772cdbb2add",[uo.j.mobileMax]]])+" list-heading",children:(0,o.BX)(rr.Ug,{align:"center",spacing:1,children:[(0,o.tZ)(Mo.Z,{size:12}),(0,o.BX)(Oo.Z,{foreground:2,size:"small",children:[(0,Qo.Z)("guest",z,!0),"with access"]})]})}),null===L||void 0===L?void 0:L.users.map((function(e){return(0,o.tZ)(Vo,{value:e.username,image:e.image,statusText:"(can edit)",type:"guest",onButtonPress:X?function(){k.loading||w({variables:{replId:r,username:e.username}})}:void 0,Icon:No.Z},e.id)})),null===_||void 0===_?void 0:_.map((function(e){return(0,o.tZ)(Vo,{value:e.email,statusText:"(pending)",onButtonPress:X?function(){E.loading||P({variables:{replId:r,email:e.email}})}:void 0,Icon:No.Z},e.email)})),!O&&(null===j||void 0===j?void 0:j.withoutPermission.length)?(0,o.tZ)("div",{className:co().dynamic([["dc131772cdbb2add",[uo.j.mobileMax]]])+" list-heading",children:(0,o.BX)(rr.Ug,{align:"center",spacing:1,children:[(0,o.tZ)(Lo.Z,{size:12}),(0,o.BX)(Oo.Z,{foreground:2,size:"small",children:[(0,Qo.Z)("member",null===j||void 0===j?void 0:j.withoutPermission.length,!0),"without access"]})]})}):null,!O&&(null===j||void 0===j?void 0:j.withoutPermission.map((function(e){return(0,o.tZ)(Vo,{value:e.username,image:e.image,type:"member",onButtonPress:A?function(){y.loading||g({variables:{replId:r,username:e.username,type:"rw"}})}:void 0,Icon:zo.Z},e.id)}))),(null===j||void 0===j?void 0:j.teamAdmins.length)?(0,o.tZ)("div",{className:co().dynamic([["dc131772cdbb2add",[uo.j.mobileMax]]])+" list-heading",children:(0,o.BX)(rr.Ug,{align:"center",spacing:1,children:[(0,o.tZ)(_o.Z,{size:12}),(0,o.tZ)(Oo.Z,{foreground:2,size:"small",children:"Team admins cannot be removed from repls"})]})}):null,null===j||void 0===j?void 0:j.teamAdmins.map((function(e){return(0,o.tZ)("div",{className:co().dynamic([["dc131772cdbb2add",[uo.j.mobileMax]]])+" "+(vo()("multiplayer-item",{"is-editable":A})||""),children:(0,o.BX)(rr.Ug,{align:"center",spacing:1,children:[(0,o.tZ)(jo.Z,{size:"s",url:e.image}),(0,o.tZ)("div",{className:co().dynamic([["dc131772cdbb2add",[uo.j.mobileMax]]])+" label",children:h?(0,o.tZ)(et.gr,{source:e.username,match:h}):e.username})]})},e.id)})),F?(0,o.BX)(Oo.Z,{foreground:2,align:"center",children:['No members matching "',h,'" found']}):null]}),A||l?null:(0,o.tZ)(Oo.Z,{foreground:2,size:"small",children:"Only admins can add and remove members to multiplayer"}),A&&O?(0,o.tZ)($o.Z,{replId:r}):null]}),(0,o.tZ)(co(),{id:"dc131772cdbb2add",dynamic:[uo.j.mobileMax],children:".root.__jsx-style-dynamic-selector{padding:var(--space-16);color:var(--foreground-default)}.multiplayers-list.__jsx-style-dynamic-selector{background-color:var(--background-root);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);height:300px;overflow-y:auto}.multiplayers-list.is-empty.__jsx-style-dynamic-selector{display:grid;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:var(--space-16);word-break:break-word}.multiplayer-item.__jsx-style-dynamic-selector{padding:var(--space-4)var(--space-16)}.multiplayer-item.is-editable.__jsx-style-dynamic-selector{padding-right:var(--space-8)}.multiplayer-item.is-editable.__jsx-style-dynamic-selector:hover{background-color:var(--background-root)}.list-heading.__jsx-style-dynamic-selector{padding:var(--space-16)var(--space-16)0}.label.__jsx-style-dynamic-selector{margin-right:auto}.information-icon-container.__jsx-style-dynamic-selector{margin-left:5px}@media screen and (min-width:".concat(uo.j.mobileMax,"px){.root.__jsx-style-dynamic-selector{padding:var(--space-48)}}")})]})}var ea=t(70804),na=t(15153);function ta(e){var n=e.children,t=e.showPopover,r=(0,it.Z)("announcement","add-guest-new-user"),i=r.shouldDisplay,a=r.register,l=r.dismiss,s=(0,x.Z)(p.useState(!1),2),c=s[0],u=s[1],d=(0,x.Z)(p.useState(!1),2),f=d[0],h=d[1];p.useEffect((function(){t&&!f&&a()}),[f,a,t]);var m=i&&!f;return(0,o.BX)(ea.Z,{onClickOutside:function(){return h(!0)},isOpen:m,showArrow:!0,borderColor:"var(--accent-purple-default)",children:[n,(0,o.BX)(rr.gC,{spacing:2,align:"stretch",children:[(0,o.BX)(rr.Ug,{spacing:1,children:[(0,o.tZ)(na.Z,{}),(0,o.tZ)(Ao.Z,{level:5,children:"Invite guests to your repl!"})]}),(0,o.BX)(Oo.Z,{children:[" ","Add external guests to your repl for interviews and collaborative projects."," "]}),(0,o.tZ)(rr.Ug,{spacing:1,justify:"end",children:(0,o.tZ)(qo.Z,{loading:c,onClick:function(){u(!0),l()},children:"Got it"})})]})]})}var ra=t(59233);function ia(e){var n=e.replId;return(0,o.tZ)(u.G7,{css:[u.l0.p(16)],children:(0,o.BX)(u.G7,{css:[u.l0.flex.column,u.l0.colWithGap(8),u.l0.align.stretch],children:[(0,o.tZ)(u.xv,{variant:"subheadDefault",children:"Invite"}),(0,o.tZ)(ra.Z,{replId:n}),(0,o.tZ)($o.Z,{replId:n})]})})}var oa=t(70757),aa=t(78951),la=((0,O.cn)(null,(function(e,n,t){var r=e(K.Eh).find((function(e){return e.isDialog}));r?n(oa.$r,r.paneId):n(sa,t)})),(0,O.cn)(null,(function(e,n,t){var r=e(K.Eh).find((function(e){return e.isDialog}));if(r){var i=e(r.data);i.type!==i.type?(n(oa.$r,r.paneId),n(sa,t)):n(aa.v,{paneId:r.paneId,data:t.pane})}else n(sa,t)})));var sa=(0,O.cn)(null,(function(e,n,t){if(!e(K.Eh).find((function(e){return e.isDialog}))){var r=e(Y.g4),i=e(K.CK),o=Ge()(),a=i.x+i.width,l=i.y+i.height,s=t.maxWidth||a,c=t.maxHeight||l,u=Math.min(s,.8*a),d=Math.min(c,.8*l),p={width:u,height:d,x:a/2-u/2-i.x,y:l/2-d/2-i.y},f=(0,ee.ZP)(r,(function(e){try{(0,De.m)(e,{id:Ge()(),isFloating:!0,panes:[o],rect:p})}catch(t){throw n(oe.j6,{error:t,tags:{layoutstate:!0},origin:"Layout: state/dialog"}),t}}));n(ae.iH,f),n(ne.W1,o);var h=(0,K.z)(o),m=e(h);n(ne.W1,o),n(h,(0,po.Z)((0,Zn.Z)({},m),{isDialog:!0})),n(m.data,t.pane)}})),ca=(0,O.cn)(null,(function(e,n){var t=e(K.Eh).find((function(e){return e.isDialog}));t&&n(oa.$r,t.paneId)}));var ua=t(35642),da=t(61756),pa=t(1879),fa=t(26082),ha=t(17495),ma=t(42325),va=t(1144),ga=t(88075);function ba(e){var n,t=e.replId,r=e.onDone,i=e.isResubmit,a=e.lastUpdated,l=e.openIOtesterPane,s=(0,A.Z)().iotester,c=(0,ma.CH)({variables:{replId:t}}),u=s.lastRunAt.getTime()>a,d=(0,ha.xh)({variables:{replId:t}}).data,p="Repl"===(null===d||void 0===d?void 0:d.repl.__typename)?d.repl:null,f=(null===p||void 0===p?void 0:p.template)||null,h=(null===f||void 0===f?void 0:f.dueDate)||null,m=(new Date).toISOString(),v=(0,Xo.Z)(),g=v.showConfirm,b=v.showError,y=(0,x.Z)((0,ha.xA)({variables:{replId:t},onCompleted:function(e){var n=e.submitRepl;"UserError"!==n.__typename?"Repl"===n.__typename&&(g("Repl submitted"),r()):b(n.message)},onError:function(e){b(e.message)}}),2),Z=y[0],w=y[1],k=u&&s.lastRunDidPass;return"Repl"===(null===(n=c.data)||void 0===n?void 0:n.repl.__typename)&&c.data.repl.ioTests.length>0&&!k?(0,o.BX)(Hr.G,{css:[Wr.l0.colWithGap(24)],children:[(0,o.tZ)(va.h,{variant:"headerDefault",level:2,children:u?"Fix test failures before submitting":"Run tests before submitting"}),(0,o.tZ)(va.x,{multiline:!0,children:u?"Input/Output tests did not pass.":"Input/Output tests have not been run since this Repl was last changed."}),(0,o.BX)(Hr.G,{css:[Wr.l0.rowWithGap(12),Wr.l0.justify.end],children:[(0,o.tZ)(da.zx,{disabled:w.loading,colorway:"primary",onClick:function(){l(),r()},text:"View tests"}),(0,o.tZ)(da.zx,{disabled:w.loading,onClick:function(){return Z()},iconLeft:(0,o.tZ)(ga.Z,{}),text:"Submit anyway"})]})]}):(0,o.BX)(Hr.G,{css:[Wr.l0.colWithGap(24)],children:[(0,o.tZ)(va.h,{variant:"headerDefault",level:2,children:i?" Resubmit Repl":"Submit Repl"}),(0,o.tZ)(va.x,{multiline:!0,children:i?"This will re-notify Team admins about your submission.":"This will submit your Repl for review and notify the Team's admins."}),h&&h<m?(0,o.tZ)(va.x,{multiline:!0,css:[Wr.l0.color.accentNegativeStronger],children:"Note: Your submission is past the due date and will be marked late."}):null,(0,o.BX)(Hr.G,{css:[Wr.l0.rowWithGap(12),Wr.l0.justify.end],children:[(0,o.tZ)(da.zx,{disabled:w.loading,onClick:r,text:"Cancel"}),(0,o.tZ)(da.zx,{colorway:"primary",disabled:w.loading,onClick:function(){return Z()},iconLeft:(0,o.tZ)(ga.Z,{}),text:i?"Submit again":"Submit"})]})]})}var ya=t(40381),Za=t(73604),xa=t(37424),wa=t(19923);function ka(){var e=(0,xn.Z)(["\n  query UpdateModelSolutionModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        origin {\n          id\n          ...TeamProfileRepl\n          template {\n            id\n            dueDate\n          }\n          unitTests {\n            tests {\n              id\n            }\n          }\n          ioTests {\n            id\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return ka=function(){return e},e}function Ca(){var e=(0,xn.Z)(["\n  mutation UpdateModelSolution($input: UpdateReplTemplateModelSolutionInput!) {\n    updateReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Ca=function(){return e},e}var Sa={},Ra=(0,wn.Ps)(ka(),wa.vs);var Ta=(0,wn.Ps)(Ca(),wa.vs);var Ia,Pa=t(28479),Ea=function(e){var n,t,r,i,a,l,s,c,d,f=e.replId,h=e.onDone,m=(0,Xo.Z)(),v=m.showConfirm,g=m.showError,b=function(e){var n=(0,Zn.Z)({},Sa,e);return Ui.a(Ra,n)}({variables:{replId:f},onCompleted:function(e){var n,t,r=e.repl;"Repl"===r.__typename&&(null===(n=r.origin)||void 0===n||null===(t=n.template)||void 0===t?void 0:t.modelSolution)&&"ReplTemplateModelSolution"===r.origin.template.modelSolution.__typename&&(T(r.origin.template.modelSolution.visibleAfterSubmitting),E(r.origin.template.modelSolution.visibleAfterPassingTests),U(r.origin.template.modelSolution.visibleAfterDueDate))}}),y=b.data,Z=b.loading,w=(0,x.Z)(function(e){var n=(0,Zn.Z)({},Sa,e);return Xi.D(Ta,n)}({onError:function(e){return g(e)},onCompleted:function(){v("Updated solution"),h()}}),2),k=w[0],C=w[1],S=(0,x.Z)(p.useState(!1),2),R=S[0],T=S[1],I=(0,x.Z)(p.useState(!1),2),P=I[0],E=I[1],G=(0,x.Z)(p.useState(!1),2),D=G[0],U=G[1],B=(0,x.Z)(p.useState(),2),M=B[0],L=B[1],_=(0,xa.H)();if(p.useEffect((function(){var e="Students can ";if(R||D||P){e+="view the solution after";var n=[];R&&n.push("submitting their project"),P&&n.push("passing all tests"),D&&n.push("the due date has passed");for(var t=0;t<n.length;t++)t>0&&(e+=",",t===n.length-1&&(e+=" and")),e+=" "+n[t];e+="."}else e+="never view the solution.";L(e)}),[R,P,D]),Z)return(0,o.tZ)(u.G7,{css:[u.l0.center],children:(0,o.tZ)(Se.Z,{})});var j="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&"Team"===(null===(n=y.repl.owner)||void 0===n?void 0:n.__typename)&&(null===(t=y.repl.owner)||void 0===t?void 0:t.id),X="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&(null===(r=y.repl.origin)||void 0===r||null===(i=r.template)||void 0===i?void 0:i.modelSolution);if(!X)return null;var N=X.id,z="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&((null===(a=y.repl.origin)||void 0===a?void 0:a.ioTests.length)||(null===(l=y.repl.origin)||void 0===l||null===(s=l.unitTests)||void 0===s?void 0:s.tests.length)),A="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&(null===(c=y.repl.origin)||void 0===c||null===(d=c.template)||void 0===d?void 0:d.dueDate);return(0,o.tZ)("form",{onSubmit:function(e){e.preventDefault(),j&&N&&k({variables:{input:{teamId:j,solutionId:N,visibleAfterSubmitting:R,visibleAfterPassingTests:P,visibleAfterDueDate:D}}})},children:(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.h4,{level:1,variant:"headerDefault",children:"Update solution"}),(0,o.BX)(u.G7,{css:[u.l0.colWithGap(16)],children:[(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8)],children:[(0,o.tZ)(u.XZ,{id:_("availableAfterSubmitting"),checked:R,onChange:function(){return T(!R)}}),(0,o.tZ)("label",{htmlFor:_("availableAfterSubmitting"),children:(0,o.tZ)(u.xv,{children:"Available after submitting"})})]}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8)],children:[(0,o.tZ)(u.XZ,{id:_("availableAfterPassingTests"),checked:P,onChange:function(){return E(!P)}}),(0,o.tZ)("label",{htmlFor:_("availableAfterPassingTests"),children:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(4)],children:[(0,o.tZ)(u.xv,{children:"Available after passing tests"}),(0,o.BX)(u.xv,{children:["(",z?"".concat(z," ").concat((0,Qo.Z)("test",z)," defined"):"no tests exist yet",")"]})]})})]}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),{verticalAlign:"baseline"}],children:[(0,o.tZ)(u.XZ,{id:_("availableAfterDueDate"),checked:D,onChange:function(){return U(!D)}}),(0,o.tZ)("label",{htmlFor:_("availableAfterDueDate"),children:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(4)],children:[(0,o.tZ)(u.xv,{children:"Available after due date"}),(0,o.BX)(u.xv,{css:{textDecoration:"italic"},children:["(",A?(0,Pa.p)(A):"no due date set yet",")"]})]})})]})]}),(0,o.tZ)(u.E_,{text:"".concat(M),colorway:R||P||D?"positive":"negative"}),(0,o.tZ)(u.G7,{css:{alignItems:"end"},children:(0,o.tZ)(u.zx,{type:"submit",stretch:!1,colorway:"primary",text:"".concat(C.loading?"Saving...":"Save"),iconLeft:(0,o.tZ)(ga.Z,{}),disabled:C.loading})})]})})},Ga=(Ia={},(0,Nr.Z)(Ia,Di.Sy.PublishTemplate,"Publish project"),(0,Nr.Z)(Ia,Di.Sy.EditTemplate,"Edit project"),(0,Nr.Z)(Ia,Di.Sy.Submit,"Submit"),(0,Nr.Z)(Ia,Di.Sy.Resubmit,"Resubmit"),(0,Nr.Z)(Ia,Di.Sy.UpdateModelSolution,"Update solution"),Ia);function Da(e){var n=e.cta,t=e.replId,r=e.isGroupProject,i=e.openIOtesterPane,a=(0,x.Z)(p.useState(null),2),l=a[0],s=a[1],c=function(){return s(null)},u=(0,ya.Z)(),d=(0,A.Z)().fs,f=(0,x.Z)(p.useState(0),2),h=f[0],m=f[1];p.useEffect((function(){if(u&&!(0,Za.T3)(u)&&!(0,Za.sL)(u)){var e=d.watchTextFile(u,{onChange:function(e){e.changeSource===Kt.Fl.Local&&m(Date.now())}});return e}}),[u,d,m]);var v=Boolean(l&&[Di.Sy.PublishTemplate,Di.Sy.EditTemplate].includes(l));return p.useEffect((function(){n===Di.Sy.ReviewSubmission&&(ua.Z.get("annotations/educationModalDismissed")||(s(n),ua.Z.set("annotations/educationModalDismissed",!0)))}),[n]),(0,o.BX)(o.HY,{children:[Ga[n]&&(0,o.tZ)(da.zx,{onClick:function(){return s(n)},text:Ga[n],iconLeft:(0,o.tZ)(ga.Z,{})}),(0,o.tZ)(pa.u,{isOpen:l===Di.Sy.Submit||l===Di.Sy.Resubmit,onRequestClose:c,maxWidth:512,children:(0,o.tZ)(ba,{replId:t,onDone:c,isResubmit:l===Di.Sy.Resubmit,lastUpdated:h,openIOtesterPane:i})}),(0,o.tZ)(Do.Z,{preventClose:!0,isOpen:v,onRequestClose:c,width:r?"large":"medium",children:(0,o.tZ)(fa.Z,{replId:t,onDone:c})}),(0,o.tZ)(pa.u,{isOpen:l===Di.Sy.UpdateModelSolution,onRequestClose:c,maxWidth:600,children:(0,o.tZ)(Ea,{replId:t,onDone:c})})]})}var Ua=t(9117),Ba=t(98146),Ma=t(42699),La=t(71255),_a=t(85565),ja=t(80437),Xa=t(97808),Na=t(41034),za=t(79500),Aa=t(30880),Oa=t(57981),Fa="https://linkedin.com/sharing/share-offsite";var Wa="https://www.facebook.com/dialog/share?display=page&app_id=1775481339348651";var Ha=function(e){var n=e.lessonSlug,t=e.courseSlug,r=(0,Xo.Z)().showConfirm;if(!n||!t)return null;var i=(0,Xa.QW)(t),a=(0,Xa.qv)(t,n);if(!a)return null;var l=a.ordinalLabel,s=(0,Xa.tD)(i.socialSharingText,a),c="".concat(s," ").concat(i.sharableLink),d=(0,La.Z)({text:s,url:i.sharableLink}),p=function(e){var n=e.url;return"".concat(Fa,"?url=").concat(encodeURIComponent(n))}({url:i.sharableLink}),f=function(e){var n=e.url,t=e.hashtag,r=e.redirectBackTo,i=new URLSearchParams;i.append("href",n),r&&i.append("redirect_uri",r),t&&(t.startsWith("#")||(t="#".concat(t)),i.append("hashtag",t));var o=i.toString();return"".concat(Wa,"&").concat(o)}({url:i.sharableLink,hashtag:i.socialHashtag}),h=[{url:d,icon:_a.Z,base:La.c,cta:"Share on Twitter",color:ja.Z.brands.twitter},{url:p,icon:Oa.Z,base:Fa,cta:"",color:ja.Z.brands.linkedin},{url:f,icon:Aa.Z,base:Wa,cta:"",color:ja.Z.brands.facebook}];return(0,o.BX)(Hr.G,{children:[(0,o.BX)(Hr.G,{css:[Wr.l0.rowWithGap(16),Wr.l0.align.center,Wr.l0.pr(24)],children:[(0,o.tZ)(Hr.G,{css:{fontSize:48},children:"\ud83e\udd73"}),(0,o.BX)(va.x,{variant:"headerDefault",children:["Congrats on completing ",l,"!"]})]}),(0,o.tZ)(va.x,{variant:"subheadDefault",css:[Wr.l0.py(12)],children:"Share your progress"}),(0,o.BX)(Hr.G,{css:[Wr.l0.position.relative,Wr.l0.borderRadius(8),Wr.l0.backgroundColor.backgroundHigher,Wr.l0.py(8),Wr.l0.px(12)],children:[(0,o.tZ)(Hr.G,{css:Wr.l0.pr(16),children:c}),(0,o.tZ)(u.hU,{css:[Wr.l0.position.absolute,Wr.l0.top(8),Wr.l0.right(8)],alt:"Copy",size:18,tooltipHidden:!0,onClick:function(){r("Copied to clipboard!"),(0,za.Z)(c),(0,Ma.l)({action:"copied_share_text",lessonSlug:n,courseSlug:t,origin:"lesson_complete_modal"})},children:(0,o.tZ)(Na.Z,{size:16})})]}),(0,o.BX)(Hr.G,{css:[Wr.l0.rowWithGap(16),Wr.l0.justify.center,Wr.l0.pt(16),Wr.l0.align.center],children:[(0,o.tZ)(u.ZP,{outlined:!0,text:"Back to the learning hub",href:"/learn/".concat(t,"/hub")}),(0,o.tZ)(Hr.G,{css:[Wr.l0.rowWithGap(8),Wr.l0.align.center],children:h.map((function(e){var r=e.url,i=e.icon,a=e.base,l=e.cta,s=e.color;return(0,o.tZ)(da.zx,{css:[{backgroundColor:s,color:"white"}],onClick:function(){window.open(r,"_blank"),(0,b.j)(b.U3.EXTERNAL_LINK_VIEWED,{url:a,placement:"lesson-complete-modal",campaign:t,lessonSlug:n})},text:l,iconLeft:(0,o.tZ)(i,{})},r)}))})]})]})},qa=function(e){var n=e.lesson,t=(0,Xo.Z)().showError,r=(0,Ba.$0)().fireCircularBurstFrom,i=(0,p.useRef)(null),a=(0,Kr.T)(),l=(0,p.useState)(!1),s=l[0],c=l[1],d=(0,x.Z)(function(e){var n=(0,Zn.Z)({},Ai,e);return Xi.D(Fi,n)}({onError:function(){return t("Something went wrong")},onCompleted:function(e){var o,l;"UpdatedUserCourseLesson"!==(null===(o=e.completeUserCourseLesson)||void 0===o?void 0:o.__typename)?t((null===(l=e.completeUserCourseLesson)||void 0===l?void 0:l.message)||"Something went wrong"):e.completeUserCourseLesson.userCourseLesson.id===n.id?(i.current&&!a&&r({element:i.current}),c(!0)):t("Something went wrong")}}),2),f=d[0],h=d[1].loading;return(0,o.BX)(o.HY,{children:[null!==n.timeCompleted?(0,o.tZ)(u.zx,{ref:i,disabled:!0,text:"Lesson completed \ud83c\udf89",colorway:"primary"}):(0,o.tZ)(u.zx,{iconLeft:h?(0,o.tZ)(Se.Z,{}):void 0,onClick:function(){(0,Ma.l)({action:"completed",lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug}),f({variables:{input:{userLessonId:n.id}}})},text:h?"Verifying\u2026":"Mark lesson as complete",colorway:"primary",css:[h&&u.pt.backgroundPulse()]}),(0,o.tZ)(u.u_,{isOpen:s,onRequestClose:function(){return c(!1)},children:(0,o.tZ)(Ha,{lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug})})]})},Va=t(88080),Ya=t(87514);function Ka(e){var n=e.lesson,t=(0,Va.Un)(),r=(0,Va.$x)();return t?(0,o.tZ)(qa,{lesson:n}):(0,o.tZ)(u.zx,{colorway:"primary",iconLeft:(0,o.tZ)(Ya.Z,{}),text:"Show tutorial",onClick:function(){return r()}})}var $a=t(91553),Qa=t(36316);function Ja(e){var n=e.repl,t=(0,x.Z)(p.useState(!1),2),r=t[0],i=t[1];return(0,o.BX)(ea.Z,{isOpen:r,maxWidth:460,onClickOutside:function(){},padding:0,gap:8,placement:"bottom-start",growToMaxWidth:!0,zIndex:C.Is-1,elevated:!1,children:[(0,o.BX)(u.G7,{tag:"button",dataCy:"ws-repl-info-container",onClick:function(){i(!0)},css:[u.l0.flex.growAndShrink(1),u.l0.align.center,u.l0.cursor.pointer,u.l0.rowWithGap(8),u.l0.p(4),u.l0.borderRadius(8),u.l0.color.foregroundDefault,r&&{pointerEvents:"none"},u.gU.nofill],children:[(0,o.tZ)(Qa.Z,{repl:n}),(0,o.tZ)(Yr.Z,{color:u.TV.foregroundDimmest,size:12})]}),(0,o.tZ)(u.Tg,{background:"default",css:[u.l0.borderRadius(8)],children:(0,o.tZ)($a.Z,{setIsEditing:i})})]})}var el=t(3462),nl=t(85485),tl=t(3411),rl=t(11070),il=t(50700),ol=t(57996),al=t(78175),ll=t(48086),sl=t(97838),cl=t(41664),ul=t.n(cl),dl=t(58889);function pl(){var e=(0,xn.Z)(["\n  fragment ReplEnvironmentNavMenuCurrentUser on CurrentUser {\n    id\n    ...LayoutSidebarCurrentUser\n  }\n  ","\n"]);return pl=function(){return e},e}function fl(){var e=(0,xn.Z)(["\n  query ReplEnvironmentNavMenu {\n    currentUser {\n      id\n      ...ReplEnvironmentNavMenuCurrentUser\n    }\n  }\n  ","\n"]);return fl=function(){return e},e}var hl={},ml=(0,wn.Ps)(pl(),dl.d),vl=(0,wn.Ps)(fl(),ml);var gl={button:(0,a.iv)([u.l0.py(4),u.l0.viewStyle,u.l0.reset.button,u.l0.rowWithGap(2),u.l0.align.center,u.l0.color.foregroundDefault,u.l0.cursor.pointer,u.l0.borderRadius(8),{":hover svg":{fill:u.TV.foregroundDefault},"&:focus-visible":{boxShadow:"0 0 0 2px ".concat(u.TV.accentPrimaryDefault)}}]),surface:(0,a.iv)([u.l0.borderRadius(8),u.l0.width(200),u.l0.maxHeight("80vh"),u.l0.maxWidth("80vw"),u.l0.overflowY("auto")]),ctas:(0,a.iv)([u.l0.colWithGap(8),u.l0.p(8),{borderBottom:"1px solid",borderColor:u.TV.outlineDimmer}]),link:(0,a.iv)([u.l0.viewStyle,u.l0.rowWithGap(4),u.l0.color.foregroundDefault,u.l0.p(8),u.l0.align.center,u.gU.listItem,{":active":{backgroundColor:"".concat(u.TV.backgroundHighest," !important")}}]),linkText:(0,a.iv)(u.l0.flex.shrink(1))},bl=(0,a.iv)([u.gU.nofill,{borderRadius:"0 0 10.5px 10.5px",borderTop:"1px solid ".concat(u.TV.outlineDimmer)}]);function yl(){var e=(0,jr.Z)(d.y.GlobalNavButton),n=function(e){var n=(0,Zn.Z)({},hl,e);return Ui.a(vl,n)}().data,t=(0,tl.N)({currentUser:(null===n||void 0===n?void 0:n.currentUser)||void 0}),r=(0,p.useState)(!1),i=r[0],a=r[1],l=(0,p.useState)(null),s=l[0],c=l[1],f=(0,k.D)({controlName:"flag-bundle-world"});return(0,o.BX)(o.HY,{children:[(0,o.BX)(ea.Z,{isOpen:i,onClickOutside:function(){return a(!1)},gap:4,padding:0,placement:"bottom-start",children:[(0,o.BX)("button",{ref:e,onClick:function(){return a(!i)},css:gl.button,"data-cy":"global-nav-dropdown-btn",children:[(0,o.tZ)(ol.N2,{color:u.TV.foregroundDefault,size:20}),(0,o.tZ)(Yr.Z,{color:u.TV.foregroundDimmest,size:12})]}),(0,o.BX)(u.Tg,{elevated:!0,css:gl.surface,children:[(0,o.BX)(u.G7,{css:gl.ctas,children:[(0,o.tZ)(u.zx,{"data-cy":"global-nav-dropdown-new-repl-btn",text:"Create",iconLeft:(0,o.tZ)(zo.Z,{}),colorway:"primary",onClick:function(){a(!1),c("create")}}),(0,o.tZ)(u.zx,{text:f?"Upgrade":"Power Up",iconLeft:(0,o.tZ)(sl.Z,{}),outlined:!0,onClick:function(){a(!1),c("upgrade")}})]}),(0,o.tZ)(u.G7,{children:t.map((function(e){return(0,o.tZ)(ul(),{passHref:!0,as:e.as,href:e.href,prefetch:!1,children:(0,o.BX)("a",{css:gl.link,children:[e.icon,(0,o.tZ)(u.xv,{css:gl.linkText,children:e.label}),e.tag||null]})},e.label)}))}),(0,o.tZ)(al.Z,{css:bl,context:ll.HY.Workspace})]})]}),(0,o.tZ)(il.Z,{initialTab:"default",isOpen:"upgrade"===s,onRequestClose:function(){return c(null)},context:"workspace_menu_nav"}),(0,o.tZ)(u.u_,{isOpen:"create"===s,onRequestClose:function(){return c(null)},children:(0,o.tZ)(rl.Z,{})})]})}var Zl=t(92069);function xl(){var e=(0,ki.Iv)(),n=(0,ki.W8)(),t=(0,jr.Z)(d.y.SidebarButton),r=(n?"Close":"Open")+" sidebar",i=(0,x.Z)(p.useState(!1),2),a=i[0],l=i[1];return(0,o.tZ)(u.u,{tooltip:r,placement:"right",children:(0,o.tZ)(u.G7,{tag:"button",alt:r,innerRef:t,css:[u.l0.reset.button,u.l0.height(16),u.l0.width(16),u.l0.center,u.l0.cursor.pointer,u.l0.borderRadius(8),u.l0.p(12),{opacity:.75,transition:"opacity 0.1s","&:hover":{opacity:1},"&:focus-visible":{boxShadow:"0 0 0 2px ".concat(u.TV.accentPrimaryDefault)}}],onClick:function(){e(),l(!1)},onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:(0,o.BX)(u.G7,{css:[u.l0.flex.row,u.l0.align.center,{height:14,width:16,border:"1px solid ".concat(u.TV.foregroundDefault),borderRadius:u.TV.borderRadius2}],children:[(0,o.tZ)(u.G7,{css:{height:"100%",width:n&&!a||!n&&a?"40%":"20%",backgroundColor:n?u.TV.foregroundDefault:"transparent",borderRight:"1px solid ".concat(u.TV.foregroundDefault),transition:"0.1s ease-out width, 0.1s background-color"}}),(0,o.tZ)(u.G7,{})]})})})}function wl(){return(0,o.tZ)(a.xB,{styles:[{".toggle":{display:"none"}}]})}function kl(e){var n=e.repl,t=e.currentUser;return(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center,u.l0.justify.start,u.l0.width("calc(50% - ".concat((lo.al.small+8)/2,"px)")),(0,Nr.Z)({},(0,nl.et)("tabletMax"),[u.l0.width("calc(50% - ".concat((lo.al.large+8)/2,"px)"))])],children:[(0,o.tZ)(xl,{}),(0,o.tZ)(wl,{}),(0,o.tZ)(yl,{}),(0,o.tZ)(u.G7,{css:[u.l0.flex.shrink(1),u.l0.maxWidth(530),u.l0.align.center,{"& > span":[u.l0.viewStyle,u.l0.flex.shrink(1)]}],children:(0,o.tZ)(Ja,{repl:n})}),(0,o.tZ)(Zl.m,{}),(null===t||void 0===t?void 0:t.isFirewallMode)?(0,o.tZ)(el.Z,{isWorkspace:!0}):null]})}var Cl=t(82447),Sl=function(e){return function(){(0,b.j)(b.U3.SIDEBAR_LAYOUT_NAV_CLICK,{target:e})}},Rl={button:(0,a.iv)([u.l0.py(4),u.l0.viewStyle,u.l0.reset.button,u.l0.rowWithGap(2),u.l0.align.center,u.l0.color.foregroundDefault,u.l0.cursor.pointer,{":hover svg":{fill:u.TV.foregroundDefault}}]),surface:(0,a.iv)([u.l0.borderRadius(8),u.l0.minWidth(80),{"& > a:first-of-type":u.l0.borderRadius(8,8,0,0)},{"& > a:last-of-type":u.l0.borderRadius(0,0,8,8)}]),link:(0,a.iv)([u.l0.viewStyle,u.l0.color.foregroundDefault,u.l0.p(8),u.gU.listItem])};function Tl(){var e=(0,jr.Z)(d.y.AvatarButton),n=function(e){var n=(0,Zn.Z)({},Li,e);return Ui.a(ji,n)}().data,t=(0,p.useState)(!1),r=t[0],i=t[1],a=null===n||void 0===n?void 0:n.currentUser,l=a?(0,Cl.Ru)(a):null,s=l?[{label:"Profile",trackingLabel:"Profile",as:l.as,href:l.href},{label:"Account",trackingLabel:"Account",dataCy:"avatar-dropdown-account-link",as:"/account",href:"/account"},{trackingLabel:"CLUI",label:"CLUI",as:"/~/cli",href:"/~/cli"},{trackingLabel:"Log out",label:"Log out",href:"/logout"}]:[];return(0,o.BX)(ea.Z,{isOpen:r,onClickOutside:function(){return i(!1)},gap:4,padding:0,placement:"bottom-start",children:[(0,o.BX)("button",{ref:e,onClick:function(){i(!r)},css:Rl.button,children:[(0,o.tZ)(u.qE,{size:24,src:(null===a||void 0===a?void 0:a.image)||null,username:(null===a||void 0===a?void 0:a.username)||""}),(0,o.tZ)(Yr.Z,{color:u.TV.foregroundDimmest,size:12})]}),(0,o.tZ)(u.Tg,{elevated:!0,css:Rl.surface,children:s.map((function(e){return(0,o.tZ)(ul(),{passHref:!0,as:e.as,href:e.href,prefetch:!1,children:(0,o.tZ)("a",{onClick:function(){Sl(e.trackingLabel)},onKeyDown:function(){Sl(e.trackingLabel)},css:Rl.link,children:e.label})},e.label)}))})]})}var Il=t(97776),Pl=t(98099),El=function(e){var n=(0,Pl.Z)(e,{onReceiveAnnotationUpdate:function(){}}).generalThread;return(0,p.useMemo)((function(){return n?n.messages.filter((function(e){return!1===e.seen})).length:0}),[n])},Gl=t(75026);function Dl(e){var n=(0,Pl.Z)(e,{onReceiveAnnotationUpdate:function(){}}).annotations;return(0,p.useMemo)((function(){return n.reduce((function(e,n){return n.isGeneral?e:e+n.messages.filter((function(e){return!1===e.seen})).length}),0)}),[n])}var Ul,Bl,Ml={container:(0,a.iv)([u.l0.position.relative]),button:(0,a.iv)([u.l0.position.relative,u.gU.nofill,u.l0.width(32),u.l0.height(32),u.l0.borderRadius(8,0,0,8)]),notificationDot:(0,a.iv)(u.l0.display.none)},Ll=function(){var e=(0,Te.Z)(),n=El(e),t=Dl(e),r=(0,O.b9)(Fn.rl),i=(0,O.b9)(Fn.Bm);return(0,o.tZ)(u.G7,{css:[u.l0.flex.row,u.l0.align.center,{"&:only-child .open-chat-button":[u.l0.width(24),u.l0.height(24),u.l0.borderRadius(8),u.gU.listItem],"&:only-child .notification-dot-on-button":[u.l0.display.block],"&:not(:only-child) .notification-dot-on-icon":[u.l0.display.block]}],children:(0,o.tZ)(u.hU,{alt:"Open Chat and Threads",onClick:function(){i(),r()},css:Ml.button,className:"open-chat-button",children:(0,o.BX)(o.HY,{children:[n>0||t>0?(0,o.tZ)(u.G7,{className:"notification-dot-on-button",css:Ml.notificationDot,children:(0,o.tZ)(dt.B,{})}):null,(0,o.BX)(u.G7,{css:Ml.container,children:[n>0||t>0?(0,o.tZ)(u.G7,{className:"notification-dot-on-icon",css:Ml.notificationDot,children:(0,o.tZ)(dt.B,{})}):null,(0,o.tZ)(Gl.Z,{})]})]})})})},_l=t(33279),jl=t(93426),Xl=t(8135),Nl=t(16466),zl=t(37815),Al=t(95137);!function(e){e.Publish="Publish",e.UpdatePublishedTemplate="UpdatePublishedTemplate",e.UpdatePublishedRepl="UpdatePublishedRepl"}(Ul||(Ul={})),function(e){e.Ctas="Ctas",e.Tiers="Tiers"}(Bl||(Bl={}));var Ol={surface:(0,a.iv)([u.l0.borderRadius(8),u.l0.maxHeight("80vh"),u.l0.maxWidth("80vw"),u.l0.overflowY("auto"),u.l0.backgroundColor.backgroundDefault]),ctas:(0,a.iv)([u.l0.colWithGap(16),u.l0.p(16),{borderBottom:"1px solid",borderColor:u.TV.outlineDimmer},{":last-child":{borderBottom:0}}]),tiers:(0,a.iv)([u.l0.colWithGap(16),u.l0.p(16)]),tiersTitle:(0,a.iv)([u.l0.rowWithGap(8),u.l0.align.center]),tier:(0,a.iv)([u.l0.borderRadius(12),u.l0.colWithGap(12),u.l0.p(12)]),tierHeader:(0,a.iv)([u.l0.rowWithGap(8),u.l0.flex.grow(1),u.l0.justify.spaceBetween,u.l0.align.baseline]),tierHeaderTitle:(0,a.iv)(u.l0.rowWithGap(8)),tierHeaderCost:(0,a.iv)([u.l0.rowWithGap(4),u.l0.align.baseline]),tierFeatures:(0,a.iv)(u.l0.colWithGap(8)),tierFeature:(0,a.iv)(u.l0.rowWithGap(4)),tierPerformance:(0,a.iv)(u.l0.rowWithGap(4))},Fl=[{available:!0,title:"Pro",cost:"$10",features:["Deploy to any URL, cover page optional","Performance upgrades available","Always on"],performance:"1 vCPU, 1 GiB RAM"},{title:"Community",features:["Deploy to the Replit Community","Wake-up required","Basic performance"],performance:"0.5 vCPU, 0.5 GiB RAM"}],Wl=function(e){var n=e.available,t=e.title,r=e.cost,i=e.features,a=e.performance;return(0,o.BX)(u.Tg,{background:"higher",css:[Ol.tier,{border:n?"1px solid ".concat(u.TV.accentPrimaryStronger):"1px solid transparent"},n?u.l0.backgroundColor.accentPrimaryDimmer:u.l0.color.foregroundDimmest],children:[(0,o.BX)(u.G7,{css:Ol.tierHeader,children:[(0,o.BX)(u.G7,{css:Ol.tierHeaderTitle,children:[(0,o.tZ)(u.xv,{variant:"subheadBig",children:t}),n?null:(0,o.tZ)(u.DR,{text:"Coming soon"})]}),r?(0,o.BX)(u.G7,{css:Ol.tierHeaderCost,children:[(0,o.tZ)(u.xv,{variant:"subheadDefault",children:r}),(0,o.tZ)(u.xv,{css:[n?u.l0.color.accentPrimaryStrongest:null],children:"per month"})]}):(0,o.tZ)(u.xv,{variant:"subheadDefault",children:"Free"})]}),(0,o.tZ)(u.G7,{css:Ol.tierFeatures,children:i.map((function(e,t){return(0,o.BX)(u.G7,{css:Ol.tierFeature,children:[n?(0,o.tZ)(sr.Check,{}):(0,o.tZ)(u.G7,{css:[{width:16,lineHeight:1},u.l0.px(4)],children:"\u2022"}),(0,o.tZ)(u.xv,{children:e})]},t)}))}),(0,o.BX)(u.G7,{css:Ol.tierPerformance,children:[(0,o.tZ)(u.xv,{css:[n?u.l0.color.accentPrimaryStrongest:null],children:"Performance:"}),(0,o.tZ)(u.xv,{css:u.l0.fontWeight.bold,children:a})]})]})};function Hl(e){var n,t=e.repl,r=(0,x.Z)(p.useState(!1),2),i=r[0],a=r[1],l=(0,x.Z)(p.useState(Bl.Ctas),2),s=l[0],c=l[1],d=(0,x.Z)(p.useState(null),2),f=d[0],h=d[1],m=(0,Le.TO)(),v="HostingDeployment"===(null===(n=t.hostingDeployment)||void 0===n?void 0:n.__typename)&&t.hostingDeployment.currentBuild,g=t.currentUserPermissions.publish,b=!(null===t||void 0===t?void 0:t.publishedAs),y=(null===t||void 0===t?void 0:t.publishedAs)===Di.O2.RegularRepl,Z=t.publishedAs===Di.O2.Template,w=(0,Xl.Z)(),k=function(){a(!1),c(Bl.Ctas),m({pane:{type:"deployments",data:{showDeployOptions:!0}}})};return(0,o.BX)(o.HY,{children:[(0,o.BX)(ea.Z,{isOpen:i,onClickOutside:function(){a(!1),c(Bl.Ctas)},padding:0,gap:8,maxWidth:382,growToMaxWidth:!0,placement:"bottom-start",children:[(0,o.tZ)(u.zx,{onClick:function(){return a(!i)},iconLeft:(0,o.tZ)(sr.Deploy,{}),text:"Release"}),(0,o.BX)(u.Tg,{css:Ol.surface,children:[s===Bl.Ctas?(0,o.BX)(o.HY,{children:[(0,o.tZ)(u.G7,{css:Ol.ctas,children:v?(0,o.BX)(o.HY,{children:[(0,o.tZ)(Al._,{currentBuild:v}),(0,o.tZ)(u.zx,{text:"Redeploy project",iconLeft:(0,o.tZ)(sr.Deploy,{}),onClick:k})]}):(0,o.BX)(u.G7,{css:u.l0.colWithGap(8),children:[(0,o.tZ)(u.zx,{text:"Deploy your project",iconLeft:(0,o.tZ)(sr.Deploy,{}),colorway:"primary",onClick:function(){return c(Bl.Tiers)}}),(0,o.tZ)(u.xv,{multiline:!0,children:"Create a production build of your project so people can use it without being interrupted by changes in progress."})]})}),(0,o.BX)(u.G7,{css:Ol.ctas,children:[g&&b&&!w?(0,o.BX)(u.u,{tooltip:"This Repl is private. You need to make it public in order to publish it!",isDisabled:!(null===t||void 0===t?void 0:t.isPrivate),children:[(0,o.tZ)(u.zx,{type:"button",css:u.l0.mb(8),text:"Publish your project",disabled:null===t||void 0===t?void 0:t.isPrivate,iconLeft:(0,o.tZ)(sr.Publish,{}),onClick:function(){a(!1),h(Ul.Publish)}}),(0,o.tZ)(u.xv,{multiline:!0,children:"Share your project with the Replit community"})]}):null,Z?(0,o.tZ)(u.zx,{type:"button",iconLeft:(0,o.tZ)(sr.Upload,{}),onClick:function(){a(!1),h(Ul.UpdatePublishedTemplate)},text:"Update template"}):null,y?(0,o.tZ)(u.zx,{type:"button",iconLeft:(0,o.tZ)(sr.Chat,{}),onClick:function(){a(!1),h(Ul.UpdatePublishedRepl)},text:"Update project"}):null]})]}):null,s===Bl.Tiers?(0,o.BX)(u.G7,{css:Ol.tiers,children:[(0,o.BX)(u.G7,{css:Ol.tiersTitle,children:[(0,o.tZ)(u.hU,{alt:"back",onClick:function(){return c(Bl.Ctas)},children:(0,o.tZ)(sr.ArrowLeft,{})}),(0,o.tZ)(u.xv,{variant:"subheadDefault",children:"Choose your deployment tier"})]}),Fl.map((function(e,n){return(0,o.tZ)(Wl,(0,Zn.Z)({},e),n)})),(0,o.tZ)(u.zx,{text:"Start Pro deployment",iconRight:(0,o.tZ)(sr.ArrowRight,{}),colorway:"primary",onClick:k}),(0,o.tZ)(ul(),{href:"",children:(0,o.tZ)("a",{css:u.l0.textAlign.center,children:"Learn more about pricing"})})]}):null]})]}),f?(0,o.BX)(o.HY,{children:[(0,o.tZ)(u.u_,{isOpen:f===Ul.Publish,onRequestClose:function(){return h(null)},noPadding:!0,maxWidth:872,fitContent:!0,children:(0,o.tZ)(jl.Z,{source:"replEnvironment",replId:t.id})}),(0,o.tZ)(u.u_,{isOpen:f===Ul.UpdatePublishedTemplate,onRequestClose:function(){return h(null)},children:(0,o.tZ)(Nl.Z,{repl:t})}),(0,o.tZ)(u.u_,{isOpen:f===Ul.UpdatePublishedRepl,onRequestClose:function(){return h(null)},children:(0,o.tZ)(zl.Z,{repl:t,onDone:function(){return h(null)},source:"replEnvironment"})})]}):null]})}var ql=t(4977),Vl=t(75815),Yl=t(48732),Kl=t(59119),$l=t(31595),Ql=t(99086),Jl=t(24888),es=t(1864),ns=["codeEditor","history"],ts=Jl.Z,rs=function(){function e(n){var t,r,i,o,a,l,s;if((0,Vl.Z)(this,e),this.id=n.id,this.aliases=n.aliases||[],this.name=n.name,this.openWith=null!==(a=n.openWith)&&void 0!==a?a:ns,this.defaultPane=null!==(l=this.openWith[0])&&void 0!==l?l:null,this.shortName=n.shortName,this.extensions=n.extensions||void 0,this.files=n.files||void 0,this.filePattern=os(n.filePattern),this.features=null!==(s=n.features)&&void 0!==s?s:{},this.definedFeatures=new Set(Object.keys(this.features)),this.id=this.id.toLowerCase(),this.aliases=this.aliases.map((function(e){return e.toLowerCase()})),this.extensions=null===(t=this.extensions)||void 0===t?void 0:t.map((function(e){return e.toLowerCase()})),this.files=null===(r=this.files)||void 0===r?void 0:r.map((function(e){return e.toLowerCase()})),this.aliases.includes(this.id)||this.aliases.push(this.id),this.aliases.includes(this.name.toLowerCase())||this.aliases.push(this.name.toLowerCase()),this.shortName&&!this.aliases.includes(this.shortName.toLowerCase())&&this.aliases.push(this.shortName.toLowerCase()),this.unassociated=!(null===(i=this.extensions)||void 0===i?void 0:i.length)&&!(null===(o=this.files)||void 0===o?void 0:o.length)&&!this.filePattern,this.codeMirrorLanguage=null,this.openWith.includes("codeEditor")&&"null"!==n.codeMirrorLanguage&&null!==n.codeMirrorLanguage){if(""===n.codeMirrorLanguage)throw new Error('Unknown codeMirrorLanguage for "'.concat(this.id,'": (empty string)'));if(n.codeMirrorLanguage){var c=Kl.c6.matchLanguageName($l.Z,n.codeMirrorLanguage);if(!c)throw new Error('Unknown codeMirrorLanguage for "'.concat(this.id,'": ').concat(n.codeMirrorLanguage));this.codeMirrorLanguage=c}if(!this.codeMirrorLanguage){var u=function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=e.aliases[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value,l=Kl.c6.matchLanguageName($l.Z,a);if(null!==l)return l}}catch(w){t=!0,r=w}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}if(e.extensions){var s=!0,c=!1,u=void 0;try{for(var d,p=e.extensions[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var f=d.value,h=Kl.c6.matchFilename($l.Z,f);if(null!==h)return h}}catch(w){c=!0,u=w}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}}if(e.files){var m=!0,v=!1,g=void 0;try{for(var b,y=e.files[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){var Z=b.value,x=Kl.c6.matchFilename($l.Z,Z);if(null!==x)return x}}catch(w){v=!0,g=w}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}}return null}(this);u&&(this.codeMirrorLanguage=u)}}if(n.icon)if("Replit"===n.icon)this.icon=Ql.Z;else{var d=sr[n.icon];if(!d)throw new Error('Unknown icon for "'.concat(this.id,'": ').concat(n.icon));this.icon=d}else this.icon=ts}var n=e.prototype;return n.matchesPath=function(e){return is(e,this)},n.matchesAlias=function(e){return this.aliases.includes(e.toLowerCase())},n.hasFeature=function(e){return this.definedFeatures.has(e)},n.getFeature=function(e){var n;return this.definedFeatures.has(e)&&null!==(n=this.features[e])&&void 0!==n?n:null},e}();function is(e,n){var t,r,i,o,a=(0,es.extname)(e).toLowerCase(),l=(0,es.basename)(e).toLowerCase();return null!==(o=(null===(t=n.extensions)||void 0===t?void 0:t.includes(l))||(null===(r=n.extensions)||void 0===r?void 0:r.includes(a))||(null===(i=n.files)||void 0===i?void 0:i.includes(l))||function(e,n){var t=os(n);if(!t)return!1;return t.test(e)}(l,n.filePattern))&&void 0!==o&&o}function os(e){if(e)return(0,Yl.Z)(e,RegExp)?e:gr()(e,{extended:!0,globstar:!0})}var as=t(18352),ls=Symbol.iterator,ss=function(){function e(){(0,Vl.Z)(this,e),this.types=new Set,this.allIds=new Set,this.aliasesToType=new Map,this.extensionsToType=new Map,this.filesToType=new Map}var n=e.prototype;return n.register=function(e){if(!(0,Yl.Z)(e,rs)||!this.types.has(e)){var n=(0,Yl.Z)(e,rs)?e:new rs(e);if(this.allIds.has(n.id))throw new Error('File type with id "'.concat(n.id,'" already exists'));this.types.add(n),this.allIds.add(n.id);var t=!0,r=!1,i=void 0;try{for(var o,a=n.aliases[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value,s=this.aliasesToType.get(l);if(s)throw new Error('File type "'.concat(n.id,'" has alias "').concat(l,'" that already exists on file type "').concat(s.id,'"'));this.aliasesToType.set(l,n)}}catch(k){r=!0,i=k}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}if(n.extensions){var c=!0,u=!1,d=void 0;try{for(var p,f=n.extensions[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=p.value,m=this.extensionsToType.get(h);if(m)throw new Error('File type "'.concat(n.id,'" is overriding extension "').concat(h,'" from "').concat(m.id,'"'));this.extensionsToType.set(h,n)}}catch(k){u=!0,d=k}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}}if(n.files){var v=!0,g=!1,b=void 0;try{for(var y,Z=n.files[Symbol.iterator]();!(v=(y=Z.next()).done);v=!0){var x=y.value,w=this.filesToType.get(x);if(w)throw new Error("File type ".concat(n.id,' is overriding file "').concat(x,'" from "').concat(w.id,'"'));this.filesToType.set(x,n)}}catch(k){g=!0,b=k}finally{try{v||null==Z.return||Z.return()}finally{if(g)throw b}}}}},n.has=function(e){var n=e.toLowerCase();if(this.aliasesToType.has(n))return!0;if(this.extensionsToType.has(n))return!0;if(this.filesToType.has(n))return!0;var t=!0,r=!1,i=void 0;try{for(var o,a=this.types[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){if(o.value.matchesPath(e))return!0}}catch(l){r=!0,i=l}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}return!1},n.from=function(e){var n=e.toLowerCase(),t=this.aliasesToType.get(n);if(t)return t;var r=this.extensionsToType.get(n);if(r)return r;var i=this.filesToType.get(n);if(i)return i;var o=!0,a=!1,l=void 0;try{for(var s,c=this.types[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if(u.matchesPath(e))return u}}catch(d){a=!0,l=d}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}return null},n.filterByFeature=function(n,t){var r=new e,i=!0,o=!1,a=void 0;try{for(var l,s=this.types[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value,u=c.getFeature(n);null===u||t&&!t(u)||r.register(c)}}catch(d){o=!0,a=d}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return r},n[ls]=function(){return this.types.values()},(0,as.Z)(e,[{key:"ids",get:function(){return Array.from(this.allIds)}},{key:"size",get:function(){return this.types.size}}]),e}(),cs=new ss,us=JSON.parse('{"dotreplit":{"name":"Replit Configuration","shortName":"Replit","files":[".replit"],"icon":"Replit"},"npm-package":{"name":"NPM Package","files":["package.json"],"codeMirrorLanguage":"json","icon":"Npm"},"npm-lock":{"name":"NPM Lockfile","files":["package-lock.json"],"codeMirrorLanguage":"json","icon":"Npm"},"npm-rc":{"name":"NPM RC","files":[".npmrc"],"codeMirrorLanguage":"ini","icon":"Npm"},"yarn-lock":{"name":"Yarn Lockfile","files":["yarn.lock"],"codeMirrorLanguage":"yaml","icon":"Yarn"},"cargo-package":{"name":"Cargo Package","files":["Cargo.toml"],"codeMirrorLanguage":"toml","icon":"Rust"},"cargo-lock":{"name":"Cargo Lockfile","files":["cargo.lock"],"codeMirrorLanguage":"toml","icon":"Rust"},"webpack-config":{"name":"Webpack Config","filePattern":"webpack.config.{cjs,mjs,js}","codeMirrorLanguage":"javascript","icon":"Webpack"},"python-requirements":{"name":"Python Package","files":["requirements.txt"],"icon":"Python"},"ruby-gems":{"name":"Ruby Gems","files":["Gemfile","Gemfile.lock",".gemspec"],"codeMirrorLanguage":"ruby","icon":"Ruby"},"composer-package":{"name":"Composer Package","files":["composer.json"],"codeMirrorLanguage":"json","icon":"Php"},"composer-lock":{"name":"Composer Lockfile","files":["composer.lock"],"codeMirrorLanguage":"json","icon":"Php"},"laravel-artisan":{"name":"Laravel Artisan","files":["artisan"],"codeMirrorLanguage":"php","icon":"Php"},"typescript-config":{"name":"TypeScript Config","files":["tsconfig.json"],"codeMirrorLanguage":"json","icon":"Typescript"},"svelte-config":{"name":"Svelte Config","filePattern":"svelte.config.{cjs,mjs,js}","codeMirrorLanguage":"javascript","icon":"Svelte"},"nvm-rc":{"name":"NVM","files":[".nvmrc"],"codeMirrorLanguage":"null","icon":"Node"},"profile":{"name":"Profile","files":[".profile",".login",".bash_profile",".zshrc",".bashrc"],"codeMirrorLanguage":"shell","icon":"Shell"},"video":{"name":"Video","extensions":[".3gpp",".3gp",".3g2",".h263",".h261",".h264",".jpgv",".jpgm",".mj2",".mjp2",".mp4",".mp4v",".mpg4",".mpeg",".mpg",".mpe",".m1v",".m2v",".ogv",".qt",".mov",".uvh",".uvvh",".uvm",".uvvm",".uvp",".uvvp",".uvs",".uvvs",".uvv",".uvvv",".dvb",".fvt",".mxu",".m4u",".pyv",".uvu",".uvvu",".viv",".webm",".f4v",".fli",".flv",".m4v",".mkv",".mk3d",".mks",".mng",".asf",".asx",".vob",".wm",".wmv",".wmx",".wvx",".avi",".movie",".smv"],"openWith":["media"],"icon":"Play"},"audio":{"name":"Audio","extensions":[".adp",".au",".snd",".mid",".midi",".kar",".rmi",".mp3",".m4a",".mp4a",".mpga",".mp2",".mp2a",".m2a",".m3a",".oga",".ogg",".spx",".s3m",".sil",".uva",".uvva",".eol",".dra",".dts",".dtshd",".lvp",".pya",".ecelp4800",".ecelp7470",".ecelp9600",".rip",".wav",".weba",".aac",".aif",".aiff",".aifc",".caf",".flac",".mka",".m3u",".wax",".wma",".ram",".ra",".rmp",".xm"],"openWith":["media"],"icon":"Music"},"image":{"name":"Image","extensions":[".exr",".apng",".bmp",".cgm",".drle",".emf",".fits",".g3",".gif",".heic",".heics",".heif",".heifs",".hej2",".hsj2",".ief",".jls",".jp2",".jpg2",".jpeg",".jpg",".jpe",".jph",".jhc",".jpm",".jpx",".jpf",".jxr",".jxra",".jxrs",".jxs",".jxsc",".jxsi",".jxss",".ktx",".png",".btif",".pti",".sgi",".t38",".tif",".tiff",".tfx",".psd",".azv",".uvi",".uvvi",".uvg",".uvvg",".djvu",".djv",".sub",".dwg",".dxf",".fbs",".fpx",".fst",".mmr",".rlc",".ico",".dds",".mdi",".wdp",".npx",".tap",".vtf",".wbmp",".xif",".pcx",".webp",".wmf",".3ds",".ras",".cmx",".fh",".fhc",".fh4",".fh5",".fh7",".jng",".sid",".pic",".pct",".pnm",".pbm",".pgm",".ppm",".rgb",".tga",".xbm",".xpm",".xwd"],"openWith":["media"],"icon":"Image"},"pdf":{"name":"PDF","extensions":[".pdf"],"openWith":["media"],"icon":"Pdf"},"svg":{"name":"Scalable Vector Graphics","shortName":"SVG","extensions":[".svg",".svgz"],"codeMirrorLanguage":"xml","openWith":["codeEditor","media","history"],"icon":"Svg"},"zip":{"name":"Zip Archive","shortName":"Zip","extensions":[".zip"],"openWith":[],"icon":"Zip"},"source-map":{"name":"Source Map","extensions":[".map"],"codeMirrorLanguage":"json","icon":"Json"},"sql":{"name":"SQL","extensions":[".sql",".ddl",".prc",".tab",".udf",".viw"],"icon":"Sql"},"pgsql":{"name":"PostgreSQL","shortName":"Postgres","extensions":[".pgsql",".postgres",".psql"],"icon":"Sql"},"sqlite":{"name":"SQLite","extensions":[".sqlite"],"icon":"Sqlite"},"mysql":{"name":"MySQL","extensions":[".mysql"],"icon":"Sql"},"cql":{"name":"Cassandra","shortName":"CQL","extensions":[".cql"],"icon":"Sql"},"mariadb-sql":{"name":"MariaDB","aliases":["mariadb","mariadb sql"],"icon":"Sql"},"ms-sql":{"name":"Microsoft SQL","shortName":"MS-SQL","aliases":["mssql","ms sql"],"icon":"Sql"},"plsql":{"name":"PL/SQL","aliases":["pl sql"],"extensions":[".pls",".pks",".pkb",".plsql"],"icon":"Sql"},"smarty":{"name":"Smarty Template","shortName":"Smarty","extensions":[".tpl"]},"apacheconf":{"name":"Apache Configuration","shortName":"Apache","extensions":[".apacheconf"],"files":[".htaccess","apache2.conf","httpd.conf"]},"blade":{"name":"Blade Template","shortName":"Blade","filePattern":"*.{blade,blade.php}"},"fluent":{"name":"Fluent","extensions":[".ftl"]},"v":{"name":"V","aliases":["vlang"],"extensions":[".v"]},"hlsl":{"name":"High Level Shading Language","shortName":"HLSL","extensions":[".hlsl",".hlsli",".fx",".fxh",".cginc"]},"qml":{"name":"Qt Modelling Language","shortName":"QML","extensions":[".qml",".qbs"]},"vala":{"name":"Vala","extensions":[".vala",".vapi"]},"autohotkey":{"name":"AutoHotkey","shortName":"AHK","extensions":[".ahk",".ahkl"]},"gdscript":{"name":"Godot Script","shortName":"GDScript","extensions":[".gd"]},"vim-script":{"name":"Vim Script","aliases":["vim","viml","nvim"],"extensions":[".vim",".vba",".vimrc",".vmb"],"files":[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},"xquery":{"name":"XQuery","extensions":[".xq",".xquery",".xqm",".xql",".xqy"]},"velocity":{"name":"Velocity Template","shortName":"Velocity","extensions":[".vtl"],"codeMirrorLanguage":"html"},"vbscript":{"name":"VBScript","extensions":[".vbs"]},"webidl":{"name":"WebIDL","extensions":[".webidl"]},"textile":{"name":"Textile","extensions":[".textile"]},"stylus":{"name":"Stylus","extensions":[".styl"]},"squirrel":{"name":"Squirrel","extensions":[".nut"]},"sml":{"name":"Standard ML","shortName":"SML","extensions":[".sml",".sig",".fun"]},"oz":{"name":"Oz","extensions":[".oz"]},"matlab":{"name":"MATLAB","aliases":["octave"],"extensions":[".matlab",".m"]},"nginx":{"name":"Nginx","extensions":[".nginxconf",".nginx",".vhost"],"files":["nginx.conf"]},"modelica":{"name":"Modelica","extensions":[".mo"]},"mathematica":{"name":"Mathematica","aliases":["mma","wolfram"],"extensions":[".mathematica",".nb"]},"livescript":{"name":"LiveScript","shortName":"LS","aliases":["live-script"],"extensions":[".ls","._ls"],"files":["Slakefile"]},"jinja":{"name":"Jinja","aliases":["jinja2"],"extensions":[".jinja",".j2",".jinja2"],"codeMirrorLanguage":"html"},"idl":{"name":"Interactive Data Language","shortName":"IDL","extensions":[".pro",".dlm"]},"haxe":{"name":"Haxe","extensions":[".hx",".hxsl"]},"hxml":{"name":"HXML","extensions":[".hxml"]},"factor":{"name":"Factor","extensions":[".factor"],"files":[".factor-boot-rc",".factor-rc"]},"excalidraw":{"name":"Excalidraw","extensions":[".draw"],"openWith":["draw"],"codeMirrorLanguage":"null","icon":"Draw"},"csv":{"name":"Comma Separated Values","shortName":"CSV","extensions":[".csv"],"icon":"Csv"},"tsv":{"name":"Tab Separated Values","shortName":"TSV","extensions":[".tsv"],"icon":"Csv"},"basic":{"name":"BASIC","extensions":[".bas"],"icon":"Basic"},"ballerina":{"name":"Ballerina","extensions":[".bal"],"icon":"Ballerina"},"lezer":{"name":"Lezer","extensions":[".lezer",".grammar"]},"webassembly":{"name":"WebAssembly","shortName":"WASM","extensions":[".wasm",".wat"],"icon":"Wasm"},"apl":{"name":"APL","extensions":[".apl",".dyalog"]},"asn1":{"name":"ASN.1","aliases":["asn"],"extensions":[".asn",".asn1"]},"brainfuck":{"name":"Brainfuck","extensions":[".b",".bf"],"icon":"Brainf"},"cobol":{"name":"COBOL","extensions":[".cob",".cbl",".ccp",".cobol",".cpy"]},"crystal":{"name":"Crystal","extensions":[".cr"],"icon":"Crystal"},"dtd":{"name":"Document Type Definition","shortName":"DTD","extensions":[".dtd"],"codeMirrorLanguage":"xml"},"dylan":{"name":"Dylan","extensions":[".dylan",".dyl",".intr",".lid"]},"enbf":{"name":"Extended Backus-Naur Form","shortName":"EBNF","extensions":[".ebnf"]},"edn":{"name":"Extensible Data Notation","shortName":"EDN","extensions":[".edn"],"icon":"Clojure"},"eiffel":{"name":"Eiffel","extensions":[".e"]},"abap":{"name":"ABAP","extensions":[".abap"]},"aes":{"name":"Advanced Encryption Standard","shortName":"AES","extensions":[".aes"]},"apex":{"name":"Apex","extensions":[".cls"]},"azcli":{"name":"Azure CLI","shortName":"ACLI","extensions":[".azcli"]},"bat":{"name":"Batch","extensions":[".bat",".cmd"]},"bibtex":{"name":"BibTeX","extensions":[".bib",".bbl"]},"bicep":{"name":"Bicep","extensions":[".bicep"]},"c":{"name":"C","extensions":[".c",".h"],"icon":"C"},"cameligo":{"name":"Cameligo","extensions":[".mligo"]},"clojure":{"name":"Clojure","extensions":[".clj",".cljc",".cljx"],"icon":"Clojure"},"clojurescript":{"name":"ClojureScript","extensions":[".cljs"],"icon":"Clojure"},"coffeescript":{"name":"CoffeeScript","extensions":[".coffee"],"icon":"Coffeescript"},"cpp":{"name":"C++","aliases":["c plus plus"],"extensions":[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],"icon":"CPlusPlus","features":{"ai":{"codex":"c++"}}},"csharp":{"name":"C#","aliases":["c sharp"],"extensions":[".cs",".csx",".cake"],"icon":"CSharp"},"css":{"name":"CSS","extensions":[".css"],"icon":"Css"},"d":{"name":"D","extensions":[".d"],"icon":"D"},"dart":{"name":"Dart","extensions":[".dart"],"icon":"Dart"},"diff":{"name":"Diff","extensions":[".diff",".patch"]},"dockerfile":{"name":"Dockerfile","extensions":[".dockerfile"],"files":["Dockerfile"],"icon":"Docker"},"ecl":{"name":"ECL","extensions":[".ecl"]},"ejs":{"name":"EJS","extensions":[".ejs"]},"elisp":{"name":"Emacs Lisp","shortName":"Elisp","extensions":[".el"]},"elixir":{"name":"Elixir","extensions":[".ex",".exs"],"icon":"Elixir"},"elm":{"name":"Elm","extensions":[".elm"],"icon":"Elm"},"erlang":{"name":"Erlang","extensions":[".erl",".hrl"]},"flow9":{"name":"Flow","extensions":[".flow"]},"forth":{"name":"Forth","extensions":[".forth",".fth",".4th"],"icon":"Forth"},"fortran":{"name":"Fortran","extensions":[".f",".for",".f90",".f95",".f03"]},"fsharp":{"name":"F#","aliases":["f sharp"],"extensions":[".fs",".fsi",".fsx",".fsscript"],"icon":"FSharp"},"ignore":{"name":"Ignore","aliases":["gitignore","dockerignore","npmignore","eslintignore","prettierignore","stylelintignore"],"files":[".gitignore",".dockerignore",".npmignore",".eslintignore",".prettierignore",".stylelintignore"]},"glsl":{"name":"GLSL","extensions":[".vert",".tesc",".tese",".geom",".frag",".comp",".glsl",".glslv",".glslf",".glslg"]},"go":{"name":"Go","aliases":["golang"],"extensions":[".go"],"icon":"Go","features":{"ai":{"codex":"go"}}},"graphql":{"name":"GraphQL","extensions":[".graphql",".gql"],"icon":"Graphql"},"groovy":{"name":"Groovy","extensions":[".groovy",".gvy",".gy",".gsh"]},"handlebars":{"name":"Handlebars","extensions":[".handlebars",".hbs"]},"haskell":{"name":"Haskell","extensions":[".hs",".lhs"],"icon":"Haskell","features":{"ai":{"codex":"haskell"}}},"hcl":{"name":"HashiCorp Configuration","shortName":"HCL","extensions":[".tf",".tfvars",".hcl"]},"html":{"name":"HTML","extensions":[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],"icon":"Html5"},"erb":{"name":"Embedded Ruby","shortName":"ERB","extensions":[".erb",".rhtml",".rhtm"],"icon":"Ruby"},"ini":{"name":"INI","extensions":[".ini"],"files":["config",".gitattributes",".gitconfig",".editorconfig",".properties"]},"pug":{"name":"Pug","aliases":["jade"],"extensions":[".pug",".jade"]},"java":{"name":"Java","extensions":[".java",".jav"],"icon":"Java"},"json":{"name":"JSON","extensions":[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],"icon":"Json"},"jsonc":{"name":"JSON with Comments","shortName":"JSONC","extensions":[".jsonc"],"codeMirrorLanguage":"json","icon":"Json"},"json5":{"name":"JSON5","extensions":[".json5"],"codeMirrorLanguage":"javascript","icon":"Json"},"jsonld":{"name":"JSON-LD","extensions":[".jsonld"],"codeMirrorLanguage":"json","icon":"Json"},"javascript":{"name":"JavaScript","shortName":"JS","aliases":["node","ecmascript","es"],"extensions":[".js",".es6",".mjs",".cjs"],"files":["jakefile"],"icon":"Javascript","features":{"ai":{"codex":"javascript"}}},"javascriptreact":{"name":"JavaScript React","shortName":"JSX","extensions":[".jsx"],"icon":"React","features":{"ai":{"codex":"javascript"}}},"typescript":{"name":"TypeScript","shortName":"TS","extensions":[".ts",".mts",".cts"],"icon":"Typescript","features":{"ai":{"codex":"typescript"}}},"typescriptreact":{"name":"TypeScript React","shortName":"TSX","extensions":[".tsx"],"icon":"React","features":{"ai":{"codex":"typescript"}}},"julia":{"name":"Julia","extensions":[".jl"],"icon":"Julia"},"kotlin":{"name":"Kotlin","extensions":[".kt",".kts"],"icon":"Kotlin"},"latex":{"name":"LaTeX","aliases":["tex","stex"],"extensions":[".tex",".latex"]},"less":{"name":"Less","extensions":[".less"]},"lexon":{"name":"Lexon","extensions":[".lex"]},"liquid":{"name":"Liquid","extensions":[".liquid"]},"lisp":{"name":"Lisp","extensions":[".lisp",".lsp",".l",".fasl"],"icon":"Lisp","features":{"ai":{"codex":"lisp"}}},"lua":{"name":"Lua","extensions":[".lua"],"icon":"Lua"},"m3":{"name":"Modula-3","shortName":"M3","extensions":[".m3",".i3",".mg",".ig"]},"makefile":{"name":"Makefile","extensions":[".mak",".MAKE"],"files":["makefile","GNUmakefile"]},"cmake":{"name":"CMake","extensions":[".cmake",".cmake.in"],"files":["CMakeLists.txt"]},"markdown":{"name":"Markdown","extensions":[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],"icon":"Markdown"},"assembly":{"name":"Assembly","aliases":["asm","mips","x86","x86_64","arm","arm64"],"extensions":[".s",".asm"],"icon":"Asm"},"msdax":{"name":"Dynamics AX","shortName":"MSDAX","aliases":["morphx","dynamicsax","x++","x plus plus"],"extensions":[".msdax"]},"nim":{"name":"Nim","extensions":[".nim"],"icon":"Nim"},"nix":{"name":"Nix","extensions":[".nix"],"icon":"Nix"},"objective-c":{"name":"Objective-C","shortName":"ObjC"},"objective-cpp":{"name":"Objective-C++","shortName":"ObjC++","extensions":[".mm"]},"ocaml":{"name":"OCaml","extensions":[".ml",".mli"],"icon":"Ocaml"},"pascal":{"name":"Pascal","extensions":[".pas",".p",".pp"]},"pascaligo":{"name":"Pascaligo","extensions":[".ligo"]},"perl":{"name":"Perl","extensions":[".pl"],"icon":"Perl"},"raku":{"name":"Raku","aliases":["perl6","perl 6"],"extensions":[".pl6",".p6",".pm6",".pod6",".t6",".raku",".rakumod",".rakutest"],"icon":"Raku"},"php":{"name":"PHP","extensions":[".php",".php3",".php4",".php5",".php7",".phtml"],"icon":"Php"},"plaintext":{"name":"Plain Text","shortName":"Text","aliases":["txt"],"extensions":[".txt"],"icon":"Txt"},"postiats":{"name":"ATS2","aliases":["ats"],"extensions":[".dats",".sats",".hats"]},"powerquery":{"name":"Power Query","extensions":[".pq",".pqm"]},"powershell":{"name":"PowerShell","extensions":[".ps1",".psm1",".psd1"]},"processing":{"name":"Processing","extensions":[".pde"],"icon":"Processing"},"protobuf":{"name":"Protocol Buffers","shortName":"Protobuf","extensions":[".proto"]},"python":{"name":"Python","aliases":["py","python2","python3"],"extensions":[".py",".rpy",".pyw",".gyp",".gypi"],"icon":"Python","features":{"ai":{"codex":"python"}}},"cython":{"name":"Cython","aliases":["pyrex"],"extensions":[".pyx",".pxd",".pxi"],"icon":"Python","features":{"ai":{"codex":"python"}}},"qsharp":{"name":"Q#","aliases":["q sharp"],"extensions":[".qs"]},"r":{"name":"R","extensions":[".r",".rhistory",".rmd",".rprofile",".rt"],"icon":"R"},"razor":{"name":"Razor","extensions":[".cshtml"]},"reason":{"name":"Reason","aliases":["reasonml"],"extensions":[".re",".rei"],"icon":"Reasonml"},"redis":{"name":"Redis","extensions":[".redis"]},"restructuredtext":{"name":"Restructured Text","shortName":"RST","extensions":[".rst"]},"ruby":{"name":"Ruby","extensions":[".rb",".rbx",".rjs",".gemspec"],"files":["rakefile"],"icon":"Ruby","features":{"ai":{"codex":"ruby"}}},"rust":{"name":"Rust","extensions":[".rs",".rslib"],"icon":"Rust","features":{"ai":{"codex":"rust"}}},"sass":{"name":"Sass","extensions":[".sass"],"icon":"Sass"},"scss":{"name":"SCSS","extensions":[".scss"],"icon":"Sass"},"sb":{"name":"Small Basic","shortName":"SB","extensions":[".sb"]},"scala":{"name":"Scala","extensions":[".scala",".sc",".sbt"],"icon":"Scala"},"scheme":{"name":"Scheme","extensions":[".scm",".ss",".sch",".rkt"],"icon":"Scheme"},"shellscript":{"name":"Shell Script","shortName":"Shell","aliases":["sh","bash","zsh","ksh"],"extensions":[".sh",".bash",".zsh",".ksh",".fish"],"codeMirrorLanguage":"shell","icon":"Terminal","features":{"ai":{"codex":"bash"}}},"env":{"name":"Environment Variables","shortName":"ENV","aliases":["environment"],"extensions":[".env"],"codeMirrorLanguage":"shell"},"solidity":{"name":"Solidity","aliases":["sol"],"extensions":[".sol"],"icon":"Sol"},"sparql":{"name":"SPARQL","extensions":[".rq"]},"st":{"name":"Smalltalk","extensions":[".st",".iecst",".iecplc",".lc3lib"]},"swift":{"name":"Swift","extensions":[".swift"],"icon":"Swift"},"svelte":{"name":"Svelte","extensions":[".svelte"],"codeMirrorLanguage":"html","icon":"Svelte"},"systemverilog":{"name":"SystemVerilog","shortName":"SV","extensions":[".sv",".svh"]},"tcl":{"name":"Tcl","extensions":[".tcl"]},"toml":{"name":"TOML","extensions":[".toml"],"icon":"Toml"},"twig":{"name":"Twig","extensions":[".twig"]},"vb":{"name":"Visual Basic","shortName":"VB","extensions":[".vb"]},"vue":{"name":"Vue","extensions":[".vue"],"icon":"Vue"},"xml":{"name":"XML","extensions":[".xml",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".opf",".xsl"]},"yaml":{"name":"YAML","aliases":["yml"],"extensions":[".yaml",".yml"],"icon":"Yaml"}}');for(var ds in us){var ps=us[ds];cs.register((0,Zn.Z)({id:ds},ps))}var fs,hs=t(6625),ms=t(46887),vs=t(58523),gs=function(e){return e&&e.args?(e.args&&e.args.length>=3&&"sh"===e.args[0]&&"-c"===e.args[1]?e.args.slice(2):e.args).join(" "):""},bs=function(e){var n=e.hideModal,t=(0,A.Z)(),a=t.dotReplit,l=t.session,s=(0,hs.Z)(),c=(0,Xo.Z)().showError,d=(0,x.Z)(p.useState(!1),2),f=d[0],h=d[1],m=(0,x.Z)(p.useState(""),2),v=m[0],g=m[1],b=p.useCallback((function(){n(),l.openFile(ms.Z)}),[l,n]),y=p.useCallback((function(){return c("Failed to update run command, please try again or contact support")}),[c]),Z=(0,x.Z)(p.useState(null),2),w=Z[0],k=Z[1];p.useEffect((function(){var e=function(){var e=(0,r.Z)((function(){var e,n,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,a.getConfig()];case 1:return n=r.sent(),s.current?(n.errorMessage?k({error:n.error,errorMessage:n.errorMessage}):k(null),t=null===n||void 0===n||null===(e=n.config)||void 0===e?void 0:e.run,g(gs(t)),[2]):[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[a,s]);var C=p.useCallback((0,r.Z)((function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:if(!s.current)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),e=v?(0,vs.KQ)(v):(0,vs.xz)("run"),h(!0),[4,a.updateDotReplit([e])];case 2:return t.sent(),s.current?(n(),[3,5]):[2];case 3:return t.sent(),y(),[3,5];case 4:return h(!1),[7];case 5:return[2]}}))})),[v,y,a,n]);return(0,o.BX)(u.G7,{css:[Wr.l0.colWithGap(8),Wr.l0.p(2),f&&Wr.l0.cursor.progress],children:[(0,o.tZ)(u.h4,{level:1,variant:"text",css:[Wr.l0.fontWeight.normal,Wr.l0.color.foregroundDimmer],children:"Run Command"}),w?(0,o.tZ)(u.xv,{children:w.errorMessage}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(u.II,{value:v,onChange:function(e){return g(e.target.value)},spellCheck:!1}),(0,o.BX)(u.G7,{css:[Wr.l0.rowWithGap(12),Wr.l0.mt(12)],children:[(0,o.tZ)(da.zx,{onClick:b,text:"Advanced"}),(0,o.tZ)(u.G7,{css:Wr.l0.flex.grow(1)}),(0,o.tZ)(da.zx,{colorway:"blue",text:"Save",onClick:C})]})]})]})};!function(e){e[e.Closed=0]="Closed",e[e.MenuOpen=1]="MenuOpen",e[e.EditorOpen=2]="EditorOpen"}(fs||(fs={}));var ys=(0,a.iv)([u.l0.position.absolute,u.l0.right(-40),u.l0.top(8)]);function Zs(e){var n=e.runner,t=(0,O.Dv)(Y.QP),r=(0,O.Dv)(Y.lT),i=(0,ql.T)(),a=p.useMemo((function(){return function(e,n,t,r){if(!(null===e||void 0===e?void 0:e.runs))return[];var i=[];if(n=n.slice(),r&&-1===n.indexOf(r)&&n.splice(0,0,r),t){var o=n.indexOf(t);-1!==o&&(n.splice(o,1),n.splice(0,0,t))}var a=!0,l=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;if(d.match(/(\.[a-z0-9]+)$/)){var p=!0,f=!1,h=void 0;try{for(var m,v=e.runs[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var g=m.value;if(g.fileParam){var b=g.fileTypeAttrs||null;null===b&&g.language&&(b=cs.from(g.language)),b&&is(d,b)&&i.push({runner:g,filePath:d})}}}catch(S){f=!0,h=S}finally{try{p||null==v.return||v.return()}finally{if(f)throw h}}}}}catch(S){l=!0,s=S}finally{try{a||null==u.return||u.return()}finally{if(l)throw s}}var y=!0,Z=!1,x=void 0;try{for(var w,k=e.runs[Symbol.iterator]();!(y=(w=k.next()).done);y=!0){var C=w.value;C.fileParam||i.push({runner:C})}}catch(S){Z=!0,x=S}finally{try{y||null==k.return||k.return()}finally{if(Z)throw x}}return i}(i||null,r.map((function(e){return e.filePath||""})),t,(null===i||void 0===i?void 0:i.entrypoint)||"")}),[t,r,i]),l=(0,p.useState)(void 0),s=l[0],c=l[1];p.useEffect((function(){(a.length>0&&!s||s&&!a.find((function(e){return e.runner.id===s.runner.id||e.filePath===s.filePath})))&&c(a[0])}),[a]);var f,h=(0,k.D)({controlName:"flag-toolchain-multiple-runners"}),m=(0,k.D)({controlName:"flag-run-button-editor"}),v=(0,p.useRef)(null),b=(0,x.Z)(p.useState(fs.Closed),2),y=b[0],Z=b[1],w=(0,g.e)(d.y.Run),C=[];h&&(f=C).push.apply(f,(0,N.Z)(a.map((function(e,n){return(0,o.tZ)(u.ck,{"aria-label":"Run ".concat(e.filePath," (").concat(e.runner.name,")"),children:(0,o.tZ)(u.G7,{css:u.l0.rowWithGap(8),children:(0,o.BX)(u.xv,{children:["Run ",e.filePath,"\xa0(",e.runner.name,")"]})})},n)}))));return m&&C.push((0,o.tZ)(u.ck,{"aria-label":"custom",children:(0,o.tZ)(u.G7,{css:u.l0.rowWithGap(8),children:(0,o.tZ)(u.xv,{children:"Custom..."})})},"custom")),(0,o.BX)(o.HY,{children:[(0,o.BX)(ea.Z,{onClickOutside:function(){Z(fs.Closed)},isOpen:y!==fs.Closed,padding:8,popperRef:v,children:[(0,o.tZ)(lo.ZP,{runner:n,runConfig:s,disableTooltip:null===w||void 0===w?void 0:w.isActive}),(0,o.BX)(o.HY,{children:[y===fs.MenuOpen&&(0,o.tZ)(u.v2,{label:"Configure Repl run",onAction:function(e){if("custom"===e){var t;Z(fs.EditorOpen),(null===(t=v.current)||void 0===t?void 0:t.update)&&v.current.update()}else{var r;Z(fs.Closed),(null===(r=v.current)||void 0===r?void 0:r.update)&&v.current.update();var i=a[Number(e)];c(i),n.run(i)}},children:C}),m&&y===fs.EditorOpen&&(0,o.tZ)(bs,{hideModal:function(){return Z(fs.Closed)}})]})]}),(0,o.tZ)(u.G7,{css:ys,children:(0,o.tZ)(u.hU,{alt:"Configure Repl run",size:28,onClick:function(){Z((function(e){return e===fs.Closed?fs.MenuOpen:fs.Closed}))},css:[u.l0.color.foregroundDimmest],children:(0,o.tZ)(Yr.Z,{})})})]})}var xs=[Di.Sy.Submit,Di.Sy.Resubmit,Di.Sy.UpdateModelSolution,Di.Sy.PublishTemplate,Di.Sy.EditTemplate,Di.Sy.ReviewSubmission],ws={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"M"},ks={root:(0,a.iv)([u.l0.height(60),u.l0.width("100%"),u.l0.top(0),u.l0.left(0),u.l0.flex.row,u.l0.align.center,u.l0.justify.spaceBetween,u.l0.py(8),u.l0.px(12),u.l0.position.absolute]),center:(0,a.iv)([u.l0.position.absolute,u.l0.height(42),u.l0.justify.center,{transform:"translate(-50%, -50%)",left:"50%",top:"50%"}]),right:(0,a.iv)([u.l0.rowWithGap(8),u.l0.align.center,u.l0.justify.end]),socialGroup:(0,a.iv)([u.l0.flex.row,u.l0.align.stretch,u.l0.borderRadius(8)]),inviteButton:(0,a.iv)([u.gU.nofill,u.l0.borderRadius(0,8,8,0)]),divider:(0,a.iv)(u.l0.height("100%"))};function Cs(e){var n,t,r,i,a=(0,w.useRouter)(),l=(0,A.Z)(),s=l.runner,c=l.presence,f=(0,Te.Z)(),h=(0,x.Z)(p.useState(!1),2),m=h[0],v=h[1],y=(0,g.e)(d.y.Run),Z=(0,g.e)(d.y.Share),C=(0,jr.Z)(d.y.NotificationsButton),S=function(e){var n=(0,Zn.Z)({},to,e);return Ui.a(oo,n)}({variables:{id:f}}).data,R=(0,O.b9)(la),T=gn(),I=ye(),P=(0,bn.Z)({presence:c}),E=(0,k.D)({controlName:"flag-toolchain-multiple-runners"}),G=(0,k.D)({controlName:"flag-run-button-editor"}),D=(0,k.D)({controlName:"flag-deployments-server-side"}),U="Repl"===(null===S||void 0===S?void 0:S.repl.__typename)?S.repl:null,B=(null===U||void 0===U?void 0:U.multiplayers)&&U.multiplayers.length>0,M=(0,p.useRef)(null),L=(0,p.useRef)(null),_=(0,p.useRef)(m&&(null===Z||void 0===Z?void 0:Z.isActive));(0,p.useEffect)((function(){_.current&&!(null===Z||void 0===Z?void 0:Z.isActive)&&v(!1),_.current=m&&(null===Z||void 0===Z?void 0:Z.isActive)}),[Z,m]),(0,p.useEffect)((function(){(null===Z||void 0===Z?void 0:Z.isActive)&&(m&&L.current?null===Z||void 0===Z||Z.delegateTooltip(L.current):Z.delegateTooltip(M.current))}),[Z,m,L]);var j="Team"===(null===U||void 0===U||null===(n=U.owner)||void 0===n?void 0:n.__typename),X=Boolean("Team"===(null===U||void 0===U||null===(t=U.owner)||void 0===t?void 0:t.__typename)&&(null===(r=null===U||void 0===U?void 0:U.owner.capabilities)||void 0===r?void 0:r.isEducationPlan)),N=xs.find((function(e){return e===(null===U||void 0===U?void 0:U.workspaceCta)})),z=!X&&(null===U||void 0===U?void 0:U.currentUserPermissions.editMultiplayers);return(0,Ua.x)(ws,{enabled:!X,run:function(){v(!0)}}),nn({match:H.pl,data:{type:"action",label:"Multiplayer",icon:(0,o.tZ)(yn.Z,{}),description:"Open multiplayer mode",run:function(){v(!0)},keyboardShortcut:ws}},{enabled:!X}),(0,o.BX)(u.Tg,{tag:"header",css:ks.root,children:[(0,o.tZ)(kl,{repl:e.repl,currentUser:e.currentUser}),(0,o.tZ)(u.G7,{innerRef:null===y||void 0===y?void 0:y.delegateTooltip,dataCy:"ws-run-btn",onClick:function(){(null===y||void 0===y?void 0:y.isActive)&&y.next()},css:ks.center,children:E||G?(0,o.tZ)(Zs,{runner:s}):(0,o.tZ)(lo.ZP,{runner:s,disableTooltip:null===y||void 0===y?void 0:y.isActive})}),(0,o.BX)(u.G7,{css:ks.right,children:[(null===U||void 0===U?void 0:U.lesson)?(0,o.tZ)(Ka,{lesson:U.lesson}):null,(0,o.tZ)(u.hU,{size:24,onClick:function(){I()},alt:"Search & run commands",tooltipContents:(0,o.BX)(u.G7,{children:[(0,o.tZ)(u.xv,{children:"Search & run commands"}),(0,o.tZ)(u.G7,{css:[u.l0.center,u.l0.pt(4)],children:(0,o.tZ)(_l.Z,{shortcut:F.q})})]}),tooltipPlacement:"bottom-end",children:(0,o.tZ)(de.Z,{})}),(0,o.BX)(u.Tg,{css:[ks.socialGroup],background:P.length>1||z?"default":"root",children:[B?(0,o.tZ)(Ll,{}):null,B&&P.length>1?(0,o.tZ)(u.G7,{children:(0,o.tZ)(u.XA,{css:ks.divider})}):null,(0,o.tZ)(Go,{onAvatarClick:T}),z&&(P.length>1||B)?(0,o.tZ)(u.G7,{children:(0,o.tZ)(u.XA,{css:ks.divider})}):null,z?(0,o.tZ)(o.HY,{children:(0,o.tZ)(u.G7,{innerRef:M,css:{"&:only-child .invite-button":[u.l0.borderRadius(8)]},children:(0,o.tZ)(ta,{showPopover:U.currentUserPermissions.inviteGuests,children:(0,o.tZ)(u.zx,{onClick:function(){(0,b.j)(b.U3.INVITE_MODAL_OPENED,{language:U.lang.id,replId:U.id,source:"replEnvironment"}),v(!0)},iconLeft:(0,o.tZ)(ao.Z,{}),text:"Invite",css:[ks.inviteButton],className:"invite-button"})})})}):null]}),D&&U?(0,o.tZ)(Hl,{repl:U}):null,N?(0,o.tZ)(Da,{cta:N,replId:f,isGroupProject:Boolean(null===U||void 0===U||null===(i=U.template)||void 0===i?void 0:i.isGroupProject),openIOtesterPane:function(){R({pane:{type:"autograder"}})}}):null,(0,o.BX)(o.HY,{children:[(0,o.tZ)(u.G7,{innerRef:C,children:(0,o.tZ)(Il.Z,{sidebarIsOpen:!0,pathname:a.pathname,showCount:!1})}),(0,o.tZ)(Tl,{})]})]}),(0,o.tZ)(Do.Z,{isOpen:m,onRequestClose:function(){return v(!1)},children:(0,o.tZ)(u.G7,{innerRef:L,children:j?(0,o.tZ)(Jo,{replId:f}):(0,o.tZ)(ia,{replId:f})})})]})}var Ss=(0,p.memo)(Cs),Rs=t(88662),Ts=t(85861),Is=t(41489);var Ps=t(44747),Es=t(40258),Gs=t(49906),Ds=t(37432);var Us=u.KD.button,Bs=(0,a.iv)([u.l0.display.inlineFlex,u.l0.height("100%")]),Ms=(0,a.iv)([u.l0.cursor.pointer,u.l0.center,u.l0.rowWithGap(4),u.l0.pl(8),u.l0.pr(4),u.l0.height("100%"),u.l0.focusRing,{backgroundColor:"transparent",border:"none",font:"inherit",lineHeight:"normal",color:"inherit"}]),Ls=(0,a.iv)([u.l0.center,u.l0.height("100%"),u.l0.pr(4),{borderRight:"1px solid",borderColor:u.TV.outlineDimmer}]);function _s(){return(0,k.D)({controlName:"flag-ws-quick-jump"})?(0,o.tZ)(u.G7,{css:Ls,children:(0,o.tZ)(Yr.Z,{size:12,color:u.TV.foregroundDefault})}):null}function js(e){var n=e.onClick,t=e.tabIndex;return(0,o.tZ)(u.hU,{tooltipHidden:!0,onClick:n,tabIndex:t,alt:"Close",size:18,css:[{"&& svg":{width:12,height:12,minWidth:"unset",minHeight:"unset",color:u.TV.foregroundDimmest},borderRadius:6},u.gU.nofill],children:(0,o.tZ)(No.Z,{})})}function Xs(e){var n=(0,A.Z)().fs,t=e.split("/"),r=t.pop(),i=t.join("/"),o=(0,p.useState)(!1),a=o[0],l=o[1],s=function(e){var n=e.path,t=e.initialExpanded,r=(0,A.Z)().fs;return(0,Ds.Z)({path:n,initialExpanded:t,fs:r})}({path:i.length>0?i:".",initialExpanded:!0}).children,c=null===s||void 0===s?void 0:s.filter((function(e){return e.filename!==r}));return{fileName:r,parentPath:i,renaming:a,siblings:c,handleRename:function(){l(!0)},handleCancel:function(){l(!1)},handleSubmit:function(t){var r=i.length>0?i+"/"+t:t;n.moveFile(e,r),l(!1)}}}function Ns(e){var n=e.filePath,t=e.title,r=e.onClick,i=e.onClose,a=e.isActive,l=e.isCommitted,s=e.innerRef,c=e.icon,d=e.onPointerDown,f=Xs(n),h=f.fileName,m=f.parentPath,v=f.renaming,g=f.siblings,b=f.handleRename,y=f.handleSubmit,Z=f.handleCancel,w=p.useRef(null),C=(0,x.Z)((0,Gt.XZ)(w,!1),4),S=C[0],R=C[1],T=C[2],I=C[3];(0,Gt.Ym)(R,w);var P=(0,k.D)({controlName:"flag-ws-draft-files"}),E=(0,k.D)({controlName:"flag-tab-menu"});return(0,o.tZ)(u.u,{tooltip:n,placement:"bottom",isDisabled:!m||a,maxWidth:"calc(100vw - ".concat(u.TV.space16,")"),children:function(e,n){return(0,o.BX)(u.Tg,(0,po.Z)((0,Zn.Z)({innerRef:(0,Ln.l)(s,n),css:[Bs,a?u.gU.filled:u.gU.nofill,a?u.l0.color.foregroundDefault:u.l0.color.foregroundDimmer,u.l0.flex.row,u.l0.align.center,u.l0.pr(4)]},e),{children:[v?(0,o.tZ)(Gs.Z,{onSubmit:y,onCancel:Z,loading:!1,siblings:g||[],parentPath:m,type:Kt.Tv.File,initialValue:h,rename:!0}):(0,o.BX)(Us,{role:"tab",ref:w,tabIndex:S,onKeyDown:T,onPointerDown:d,onDoubleClick:b,css:Ms,onClick:function(e){I(),r(e)},children:[(0,o.tZ)(u.G7,{css:{opacity:a?1:.6},children:c||null}),P?(0,o.tZ)(u.xv,{css:{fontStyle:l?"inherit":"italic}"},children:t}):(0,o.tZ)(u.xv,{children:t}),E&&a?(0,o.tZ)(_s,{}):null]}),(0,o.tZ)(js,{onClick:i,tabIndex:R?0:-1})]}))}})}function zs(e){var n=e.title,t=e.onClick,r=e.onClose,i=e.isActive,a=e.innerRef,l=e.icon,s=e.onPointerDown,c=(0,k.D)({controlName:"flag-tab-menu"}),d=p.useRef(null),f=(0,x.Z)((0,Gt.XZ)(d,!1),4),h=f[0],m=f[1],v=f[2],g=f[3];return(0,Gt.Ym)(m,d),(0,o.BX)(u.Tg,{innerRef:a,css:[Bs,i?u.gU.filled:u.gU.nofill,i?u.l0.color.foregroundDefault:u.l0.color.foregroundDimmer,u.l0.flex.row,u.l0.align.center,u.l0.pr(4)],children:[(0,o.BX)(Us,{role:"tab",ref:d,tabIndex:h,onKeyDown:v,css:Ms,onClick:function(e){g(),t(e)},onPointerDown:s,children:[(0,o.tZ)(u.G7,{css:{opacity:i?1:.6},children:l||null}),(0,o.tZ)(u.xv,{children:n}),c&&i?(0,o.tZ)(_s,{}):null]}),(0,o.tZ)(js,{onClick:r,tabIndex:m?0:-1})]})}var As=t(42532);var Os=t(30551),Fs=t(73935);function Ws(e){var n=e.paneId,t=e.paneGroupId,r=(0,D.Se)(),i=(0,K.ec)(n),a=(0,oa.A)(),l=(0,oa.Kt)(),s=function(e){var n=e.paneGroupId,t=(0,B.Z)((function(){return(0,O.cn)((function(e){var t=e(Y.g4),r=(0,te.QF)(t,n);return r?r.panes.length:null}))}),[n]);return(0,O.Dv)(t)}({paneGroupId:t});return(0,B.Z)((function(){var e=r.getTitle(i),t=[{match:H.pl,data:{type:"action",label:"Close "+e,icon:(0,o.tZ)(No.Z,{}),run:function(){a(n)}}}];return s&&s>1&&t.push({match:H.pl,data:{type:"action",label:"Close all other tabs",icon:(0,o.tZ)(No.Z,{}),run:function(){l(n)}}}),t}),[r,i,n,a,l,s])}function Hs(e){var n=e.paneId,t=e.paneGroupId,r=(0,D.Se)(),i=(0,K.ec)(n),a=qs({paneId:n}),l=Ws({paneId:n,paneGroupId:t});return(0,B.Z)((function(){var e=r.getTitle(i),n=(0,N.Z)(a).concat([{data:{type:"group",key:"pane-close"},commands:function(){return l}}]),t={match:H.pl,data:{type:"context",label:e,icon:(0,o.tZ)(r.Icon,{pane:i})},commands:function(e){var t=e.active,r=e.search;return t||r?n:[]}};return[t]}),[i,a,r,l])}function qs(e){var n=e.paneId,t=e.limit,r=(0,D.Y6)(n);return(0,B.Z)((function(){var e=null===r||void 0===r?void 0:r.actions;return e?(void 0===t?e:e.slice(0,t)).map((function(e){return{match:H.pl,data:e}})):[]}),[r,t])}function Vs(e){var n=e.paneGroupId,t=function(){var e=(0,B.Z)((function(){return(0,O.cn)((function(e){var n=e(K.N9),t=[],r=[],i=!0,o=!1,a=void 0;try{for(var l,s=n[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value,u=c.panes.map((function(n){return[n,e(e((0,K.z)(n)).data)]})),d="floating"===c.path[0];(d?t:r).push({activeIndex:c.activeIndex,paneGroupId:c.id,isFloating:d,panes:u})}}catch(p){o=!0,a=p}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return{floating:t,tiling:r}}))}),[]);return(0,O.Dv)(e)}(),r=(0,D.Se)(),i=ce(),a=(0,Fn.Eh)();return(0,B.Z)((function(){var e=t.tiling,l=t.floating,s=e.reduce((function(e,n){return e+n.panes.length}),0)+l.reduce((function(e,n){return e+n.panes.length}),0),c={match:H.pl,data:{type:"action",label:"New tab",icon:(0,o.tZ)(zo.Z,{}),run:function(){a({paneGroupId:n,activate:!0,panes:[{type:"commands",data:{autoFocus:!0}}]})}}};return s?[{match:H.pl,data:{type:"context",label:(0,Qo.Z)("Tab",s),icon:(0,o.tZ)(Ys,{count:s})},commands:function(n){var t=n.active,a=n.search;if(!t&&!a)return[];var s=(0,N.Z)(e).concat((0,N.Z)(l)).map((function(e,n){return{data:{type:"group",key:"paneGroups"+n},commands:function(){return e.panes.map((function(e){var n=(0,x.Z)(e,2),t=n[0],a=n[1];return{match:H.pl,data:{type:"action",label:r.getTitle(a),icon:(0,o.tZ)(r.Icon,{pane:a}),run:function(){i(t)}}}}))}}}));return s.unshift(c),s}}]:[c]}),[t,r,i,a,n])}function Ys(e){var n,t=null!==(n=e.size)&&void 0!==n?n:20;return(0,o.tZ)(u.G7,{css:[u.l0.center,{fontSize:u.TV.fontSizeSmall,border:"1px solid",borderColor:u.TV.outlineDefault},u.l0.borderRadius(8)],style:{width:t,height:t},children:(0,o.tZ)(u.G7,{css:{lineHeight:1},children:e.count})})}var Ks=t(51347),$s=(0,O.cn)(null,(function(e,n,t){var r=e(Y.g4),i=e((0,K.z)(t)),o=i.rectAtom,a=i.type,l=e(o),s=(0,te.Rh)(r,t);if(!s){var c=new Error("Expected pane");throw n(oe.j6,{error:c,tags:{layoutstate:!0},origin:"Layout: state/toggleFloating"}),c}if("tile"!==a){var u=e(K.Eh).filter((function(e){return"tile"===e.type&&!e.isHidden})),d=e(K.M0),p={x:l.x+l.width/2,y:l.y+l.height/2},f=u.find((function(n){var t=e(n.rectAtom);return(0,An.V0)(p,{x:t.x,y:t.y-d,width:t.width,height:t.height+d})})),h="leftOf";f&&(h=(0,An.QN)(p,e(f.rectAtom)).placement),n(ae.iH,(0,ee.ZP)(r,(function(e){(0,Ks.$C)(e,{paneGroupPath:s.paneGroupPath,to:(null===f||void 0===f?void 0:f.paneId)||["tiling"],placement:h})})))}else n(ae.iH,(0,ee.ZP)(r,(function(e){(0,Ks.MB)(e,{paneGroupPath:s.paneGroupPath,rect:{x:l.x-16,y:l.y-16,width:l.width,height:l.height}})})))}));function Qs(){return(0,O.b9)($s)}var Js=t(65214),ec=t(90145),nc=t(66843),tc=t(89295),rc=t(94860);function ic(e,n,t){var r=(0,x.Z)("x"===t?[[e.x,e.x+e.width],[n.x,n.x+n.width]]:[[e.y,e.y+e.height],[n.y,n.y+n.height]],2),i=r[0],o=r[1],a=Math.max(i[0],o[0]);return Math.min(i[1],o[1])-a}function oc(e){var n=e.from,t=e.other;switch(e.direction){case"above":return n.y-t.y;case"below":return t.y-n.y;case"rightOf":return t.x-n.x;case"leftOf":return n.x-t.x}}function ac(e,n){var t=n.path,r=n.forwards,i=n.vertical,o=(0,te.KC)(e,t);if("split"!==(null===o||void 0===o?void 0:o.type))return null;var a=(0,ie.I)(t),l=(0,te.KC)(e,a);if("split"!==(null===l||void 0===l?void 0:l.type))return null;if(l.stacked!==i)return ac(e,{path:a,forwards:r,vertical:i});var s=l.children.indexOf(o),c=0===s;if(!(s===l.children.length-1&&r||c&&!r)){var u=s+(r?1:-1),d=l.children[u],p=l.children[s];return d?{other:p,node:d,parent:l,path:(0,N.Z)(a).concat([u])}:null}if(1===a.length){var f=c&&!r?l.children.length-1:0;return{parent:l,other:l.children[s],path:(0,N.Z)(a).concat([f]),node:l.children[f]}}return ac(e,{path:a,forwards:r,vertical:i})}function lc(e,n,t){var r=(0,te.Xb)(e,n.id);if(!r)return null;var i="up"===t||"down"===t,o="down"===t||"right"===t;return ac(e,{path:r.path,forwards:o,vertical:i})}function sc(e,n){var t=n.paneGroupId,r=n.direction,i=(0,te.QF)(e,t),o=(0,te.Xb)(e,t);if("paneGroup"!==(null===i||void 0===i?void 0:i.type)||!o)return!1;var a=o.node.children.indexOf(i);if(-1===a)throw new Error("Expected index");var l=(0,N.Z)(o.path).concat([a]),s="up"===r||"down"===r,c="down"===r||"right"===r,u=0===a,d=a===o.node.children.length-1,p=o.node.stacked===s,f=o.path.length>2;if(p&&!((d&&c||u&&!c)&&f))!function(e,n,t){var r=e.indexOf(n);if(-1===r)throw new Error("Expected item to be in array");if(1!==e.length){var i=r===e.length-1,o=0===r;if("forward"===t&&i)return e.pop(),void e.unshift(n);if("back"===t&&o)return e.shift(),void e.push(n);var a="forward"===t?1:-1;e[r]=e[r+a],e[r+a]=n}}(o.node.children,i,c?"forward":"back");else{var h=lc(e,i,r);if(h){var m=l.slice(0,h.path.length+("paneGroup"===h.node.type?2:1));!function(e){if("tiling"!==e[0])throw new Error("Expected tiling path")}(m);var v=(0,te.KC)(e,m);if(!v||"floatingPaneGroup"===v.type)throw new Error("Expected adjacentNode");if("split"!==h.other.type)throw new Error("Expected split");var g,b,y,Z=function(e,n){var t=e.indexOf(n),r=0,i=!0,o=!1,a=void 0;try{for(var l,s=e.slice(0,t)[Symbol.iterator]();!(i=(l=s.next()).done);i=!0)r+=l.value.percent}catch(c){o=!0,a=c}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return{start:r,end:r+n.percent}}(h.other.children,v);if("paneGroup"===h.node.type){var x=(g=Z,b={start:0,end:100},y=!h.parent.stacked,g.start-b.start<b.end-g.end?y?"above":"rightOf":y?"below":"leftOf");return(0,zn.Z)(e,(0,N.Z)(o.path).concat([a])),void(0,De.m)(e,{placement:x,id:i.id,panes:i.panes,activeIndex:i.activeIndex,percent:i.percent,relativeTo:h.path})}var w=function(e,n){var t,r,i=e.children,o=e.stacked,a="above",l=0,s=0,c=0,u=0,d=!0,p=!1,f=void 0;try{for(var h,m=i[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value,g={start:c,end:c+v.percent},b=(t=n,r=g,Math.max(0,Math.min(t.end,r.end)-Math.max(t.start,r.start)));b>u&&(u=b,l=s,a=n.start-g.start<g.end-n.end?o?"above":"rightOf":o?"below":"leftOf"),c+=v.percent,s++}}catch(y){p=!0,f=y}finally{try{d||null==m.return||m.return()}finally{if(p)throw f}}return{placement:a,index:l}}(h.node,Z),k=w.index,C=w.placement;(0,zn.Z)(e,(0,N.Z)(o.path).concat([a])),(0,De.m)(e,{placement:C,id:i.id,panes:i.panes,activeIndex:i.activeIndex,percent:i.percent,relativeTo:(0,N.Z)(h.path).concat([k])})}}}var cc=(0,O.cn)(null),uc=(0,O.cn)((function(e){var n=e(cc);if(!n)return null;if("sidebar"===n.target)return{target:"sidebar"};var t=(0,te.Rh)(e(Y.g4),n.paneId);if(!t)return null;var r=t.paneGroup;return{target:"pane",paneGroupId:r.id,activeIndex:r.activeIndex,panes:r.panes.map((function(n){var t=e((0,K.z)(n));return[t.paneId,e(t.data)]}))}}));var dc=(0,O.cn)((function(e){var n=e(uc);if(!n)return null;if("sidebar"===n.target)return{target:"sidebar"};var t=n.paneGroupId,r=n.activeIndex;return{target:"pane",paneId:n.panes[r][0],paneGroupId:t}}));var pc=(0,O.cn)(null,(function(e,n,t){var r=t||e(ne.J1);if(r)n(cc,{target:"pane",paneId:r});else{var i=(0,te._F)(e(Y.g4),"topLeft"),o=i?i.paneGroup.panes[i.paneGroup.activeIndex]:null;o&&n(cc,{target:"pane",paneId:o})}})),fc=(0,O.cn)(null,(function(e,n){var t=e(cc);t&&(n(cc,null),"sidebar"!==t.target&&n(se,t.paneId))}));function hc(){return(0,O.b9)(fc)}var mc=(0,O.cn)(null,(function(e,n){if(e(uc))n(fc);else{var t=e(ne.J1);if(t)n(pc,t);else{var r=(0,te._F)(e(Y.g4),"topLeft"),i=r?r.paneGroup.panes[r.paneGroup.activeIndex]:null;i&&n(pc,i)}}}));var vc=(0,O.cn)((function(e){return null!==e(cc)}));var gc=(0,O.cn)(null,(function(e,n){n(cc,null)}));function bc(){return(0,O.b9)(gc)}var yc=(0,O.cn)(null,(function(e,n,t){var r=e(cc);if(null!==r&&"sidebar"!==r.target){var i=new Map(e(K.Eh).filter((function(e){return!e.isHidden})).map((function(n){return[n.paneId,e(n.rectAtom)]}))),o=function(e){var n=e.relativeTo,t=e.rects,r=e.direction,i=t.get(n);if(!i)throw new Error("Expected relativeTo rect to be included in rects");var o=null,a=!0,l=!1,s=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=(0,x.Z)(c.value,2),p=d[0],f=d[1];if(p!==n){var h=oc({from:i,other:f,direction:r});if(!(("leftOf"===r||"above"===r)&&h<=0||("rightOf"===r||"below"===r)&&h<0)){var m=ic(i,f,"leftOf"===r||"rightOf"===r?"y":"x");m<=0||(!o||o.distance>h||o.distance===h&&o.overlap<m)&&(o={key:p,rect:f,distance:h,overlap:m})}}}}catch(v){l=!0,s=v}finally{try{a||null==u.return||u.return()}finally{if(l)throw s}}return(null===o||void 0===o?void 0:o.key)||null}({relativeTo:r.paneId,rects:i,direction:t});o&&n(cc,{target:"pane",paneId:o})}}));var Zc=(0,O.cn)(null,(function(e,n,t){var r=e(uc);null!==r&&"sidebar"!==r.target&&n(ae.iH,(0,ee.ZP)(e(Y.g4),(function(e){sc(e,{paneGroupId:r.paneGroupId,direction:t.direction})})))}));var xc=t(87534),wc=t(99932),kc=t(90849),Cc=t(73148),Sc=t(16647),Rc=new Map([["leftOf",{label:"Insert Left",icon:(0,o.tZ)(xc.Z,{})}],["rightOf",{label:"Insert Right",icon:(0,o.tZ)(wc.Z,{})}],["above",{label:"Insert Up",icon:(0,o.tZ)(kc.Z,{})}],["below",{label:"Insert Down",icon:(0,o.tZ)(Cc.Z,{})}]]);function Tc(e){var n=function(e){var n=e.paneId,t=e.paneGroupId,r=(0,Fr.Bd)(),i=(0,Js.rX)({paneGroupId:t}),o=(0,Be.XO)({paneGroupId:t}),a=!i&&!o;return(0,B.Z)((function(){return a?(0,N.Z)(Rc.entries()).map((function(e){var t=(0,x.Z)(e,2),i=t[0],o=t[1],a=o.label,l=o.icon;return{match:H.pl,data:{label:a,icon:l,type:"action",run:function(){r({placement:i,paneId:n,autoFocus:!0}),(0,b.j)(b.U3.WS_SPLIT_USED,{action:"opened",placement:"leftOf"})}}}})):[]}),[a,r,n])}({paneId:e.paneId,paneGroupId:e.paneGroupId});return(0,B.Z)((function(){var e=n;return[{match:H.pl,data:{type:"context",label:"Add pane",icon:(0,o.tZ)(Sc.Z,{})},commands:function(n){var t=n.active,r=n.search;return t||r?e:[]}}]}),[n])}function Ic(e){var n=e.paneGroupId,t=e.paneId,r=Tc({paneId:t,paneGroupId:n}),i=function(e){var n=e.paneGroupId,t=(0,Js.Lo)(),r=t.maximizePaneGroup,i=t.restoreMaximizedPaneGroup,a=(0,Js.rX)({paneGroupId:n});return(0,B.Z)((function(){return a?[{match:H.pl,data:{type:"action",label:"Restore",icon:(0,o.tZ)(rc.Z,{}),run:function(){return i()}}}]:[{match:H.pl,data:{type:"action",label:"Maximize",icon:(0,o.tZ)(tc.Z,{}),run:function(){return r({paneGroupId:n})}}}]}),[n,r,i,a])}({paneGroupId:n}),a=function(e){var n=e.paneGroupId,t=(0,Fr.lI)(),r=bc();return(0,B.Z)((function(){return[{match:H.pl,data:{type:"action",label:"Close",icon:(0,o.tZ)(No.Z,{}),run:function(){r(),t({paneGroupId:n})}}}]}),[r,t,n])}({paneGroupId:n}),l=function(e){var n=e.paneId,t=e.paneGroupId,r=Qs(),i=(0,Js.rX)({paneGroupId:t}),a=(0,Be.XO)({paneGroupId:t});return(0,B.Z)((function(){return i?[]:[{match:H.pl,data:{type:"action",label:a?"Unfloat":"Float",icon:a?(0,o.tZ)(ec.Z,{}):(0,o.tZ)(nc.Z,{}),run:function(){r(n)}}}]}),[n,r,a,i])}({paneId:t,paneGroupId:n});return(0,B.Z)((function(){return[{data:{type:"group",key:"pane-group"},commands:function(){return(0,N.Z)(r).concat((0,N.Z)(i),(0,N.Z)(l),(0,N.Z)(a))}}]}),[r,i,l,a])}function Pc(e){var n=e.paneGroupId,t=e.paneId,r=function(e){var n=e.paneId,t=Hs({paneId:n,paneGroupId:e.paneGroupId}),r=qs({paneId:n,limit:2});return(0,B.Z)((function(){var e={data:{type:"group",key:"pane-actions"},commands:function(e){var n=e.search;return(0,N.Z)(n?[]:r).concat((0,N.Z)(t))}};return[e]}),[r,t])}({paneId:t,paneGroupId:n}),i=Vs({paneGroupId:n}),o=Ic({paneGroupId:n,paneId:t});return(0,B.Z)((function(){return{data:{type:"group",key:"root",description:"Search"},commands:function(){return(0,N.Z)(r).concat((0,N.Z)(i),(0,N.Z)(o))}}}),[r,i,o])}var Ec=(0,u.Xb)({root:[u.l0.position.fixed,u.l0.top(0),u.l0.left(0),u.l0.borderRadius(8),u.l0.shadow(3),{border:"1px solid",borderColor:u.TV.outlineDefault}]});function Gc(e){var n=Pc({paneGroupId:e.paneGroupId,paneId:e.paneId}),t=Hs({paneGroupId:e.paneGroupId,paneId:e.paneId}),r=Math.round(e.x)+"px",i=Math.round(e.y)+"px";return(0,Fs.createPortal)((0,o.tZ)(Os.MT,{autoFocus:!0,restoreFocus:!0,children:(0,o.tZ)(u.Tg,{elevated:!0,innerRef:e.menuRef,css:Ec.root,style:{transform:"translate(".concat(r,", ").concat(i,")"),width:e.width},children:(0,o.tZ)(z.X,{iconBreadcrumbs:!0,command:[n].concat((0,N.Z)(t)),onSelect:function(n){"action"===n.data.type&&n.data.run(),e.close()}})})}),document.body)}var Dc=u.KD.div;function Uc(e){var n=function(){i&&M?G():(Rt.n_({category:"pane",message:"Tab clicked: "+d.type}),(0,b.j)(b.U3.WS_TAB_OPENED,{paneType:d.type}),s.onClick())},t=e.paneId,r=e.paneGroupId,i=e.isActive,a=e.onClose,l=e.dragGroup,s=(0,Ps.Z)(e,["paneId","paneGroupId","isActive","onClose","dragGroup"]),c=(0,K.mR)(t),d=(0,K.ec)(t),f=(0,D.Se)(),h=f.getTitle(d),m=f.Icon({pane:d,size:16}),v=(0,Kr.T)(),g=(0,p.useRef)(null);(0,p.useEffect)((function(){i&&g.current&&(0,Es.Z)(g.current,{behavior:v?"auto":"smooth",scrollMode:"if-needed"})}),[i,v]);var y=(0,x.Z)((0,Nn.c)({type:Xn.z.Pane,item:function(){var e,n=(null===(e=g.current)||void 0===e?void 0:e.getBoundingClientRect().width)||80;return{type:Xn.z.Pane,paneId:t,width:n}},collect:function(e){return{isDragging:e.isDragging()}}}),2),Z=y[0].isDragging,w=y[1],C=(0,Fn.y8)();(0,p.useEffect)((function(){return C(Z)}),[C,Z]);var S,R=(0,As.q6)({paneGroupId:r}).dnd,T=R&&l?function(e){1!==e.button&&zt(e,{start:R.start,move:R.update,end:R.end})}:void 0,I=function(){var e=function(){o(null)},n=(0,p.useRef)(null),t=(0,p.useRef)(null),r=(0,p.useState)(null),i=r[0],o=r[1];return(0,p.useEffect)((function(){var r=function(n){n.target!==o&&n.target!==a&&((null===o||void 0===o?void 0:o.contains(n.target))||(null===a||void 0===a?void 0:a.contains(n.target))||e())};if(i){var o=t.current,a=n.current;return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}}),[i]),{tabContainerRef:n,state:i,toggleMenu:function(){if(i)e();else{var t=n.current;if(t){var r=t.getBoundingClientRect(),a=r.x,l=r.y,s=r.height,c=r.width;o({x:a,y:l+s+8,width:Math.min(Math.max(c,200),window.innerWidth-16-a)})}}},menuRef:t,closeMenu:e}}(),P=I.tabContainerRef,E=I.menuRef,G=I.toggleMenu,U=I.closeMenu,B=I.state,M=(0,k.D)({controlName:"flag-tab-menu"});return(0,o.BX)(o.HY,{children:[B&&i?(0,o.tZ)(Gc,{menuRef:E,x:B.x,y:B.y,width:B.width,close:U,paneId:t,paneGroupId:r}):null,(0,o.tZ)(Dc,{ref:P,css:Z?[u.l0.width(0),u.l0.visibility.hidden]:[u.l0.px(2)],onMouseDown:function(e){1===e.button&&(Rt.n_({category:"pane",message:"Tab closed: "+d.type,data:{reason:"middle click"}}),(0,b.j)(b.U3.WS_TAB_CLOSED,{paneType:d.type}),a())},children:(0,D.Ur)(d)?(0,o.tZ)(Ns,{onPointerDown:T,innerRef:T?void 0:(0,Ln.l)(w,g),filePath:null!==(S=d.data.path)&&void 0!==S?S:"",title:h,isActive:i,isCommitted:c,icon:m,onClick:n,onClose:function(){Rt.n_({category:"pane",message:"Tab closed: "+d.type}),(0,b.j)(b.U3.WS_TAB_CLOSED,{paneType:d.type}),a()}}):(0,o.tZ)(zs,{onPointerDown:T,innerRef:T?void 0:(0,Ln.l)(w,g),title:h,isActive:i,isCommitted:c,icon:m,onClick:n,onClose:function(){Rt.n_({category:"pane",message:"Tab closed: "+d.type}),(0,b.j)(b.U3.WS_TAB_CLOSED,{paneType:d.type}),a()}})})]})}function Bc(){var e=(0,A.Z)().presence,n=(0,x.Z)(p.useState(e.getFollowingUsers()),2),t=n[0],r=n[1];return p.useEffect((function(){return r(e.getFollowingUsers()),e.onFollowingUsersChanged((function(e){r(e.followingUsers)}))}),[e]),t}var Mc={root:(0,a.iv)([u.l0.rowWithGap(4),u.l0.align.center]),text:(0,a.iv)([u.l0.flex.shrink(1),u.l0.align.center]),username:(0,a.iv)([u.l0.flex.shrink(2),u.l0.maxWidth(140),u.l0.truncate])};function Lc(){var e=Bc();return 0===e.length?null:1===e.length?(0,o.tZ)(_c,{user:e[0]}):(0,o.BX)(u.xv,{variant:"small",color:"dimmest",css:Mc.text,children:[e.length," users are observing you"]})}function _c(e){var n=e.user,t=n.id,r=n.username,i=n.color,a=(0,Eo.pu)([t]),l={id:t,username:r,color:i,image:null===a||void 0===a?void 0:a.get(t)};return(0,o.BX)(u.G7,{css:Mc.root,children:[(0,o.tZ)(u.qE,{size:16,src:l.image||null,username:l.username,ringColor:l.color}),(0,o.tZ)(u.xv,{variant:"small",color:"dimmer",css:Mc.username,children:r}),(0,o.tZ)(u.xv,{variant:"small",color:"dimmest",css:Mc.text,children:"is observing you"})]})}var jc={root:(0,a.iv)([u.l0.rowWithGap(4),u.l0.align.center]),text:(0,a.iv)([u.l0.flex.shrink(1),u.l0.align.center]),username:(0,a.iv)([u.l0.flex.shrink(2),u.l0.maxWidth(140),u.l0.truncate])};function Xc(e){var n=e.id,t=e.username,r=e.color,i=(0,Eo.pu)([n]),a=(0,A.Z)().presence,l={id:n,username:t,color:r,image:null===i||void 0===i?void 0:i.get(n)};return(0,o.BX)(u.G7,{css:jc.root,children:[(0,o.tZ)(u.qE,{size:16,src:l.image||null,username:l.username,ringColor:l.color}),(0,o.tZ)(u.xv,{css:jc.text,variant:"small",color:"dimmest",children:"Observing"}),(0,o.tZ)(u.xv,{css:jc.username,variant:"small",color:"dimmer",children:t}),(0,o.tZ)(u.hU,{alt:"Stop observing",size:18,onClick:function(){a.unfollowUser()},children:(0,o.tZ)(No.Z,{})})]})}var Nc=t(86601);function zc(e){var n=e.activeFile,t=e.paneId,r=(0,Fn.Ek)(),i=(0,Fn.Fg)(),a=(0,Fn.dK)(),l=n&&(0,Za.gK)(n),s=function(e){var n=e.paneId,t=(0,Nc.Z)(),r=(0,ne.cr)({paneId:n});return t&&r?t:null}({paneId:t}),c=function(e){var n=e.paneId,t=Bc();return(0,ne.cr)({paneId:n})&&t.length>0?t:null}({paneId:t}),d=null;return s?d=(0,o.tZ)(Xc,{id:s.id,username:s.username,color:s.color}):l&&n&&(d=r?(0,o.tZ)(u.zx,{css:[u.gU.nofill],small:!0,iconLeft:(0,o.tZ)(Lo.Z,{}),text:"Close preview",onClick:function(){i({type:"markdown"})}}):(0,o.tZ)(u.zx,{css:[u.gU.nofill],small:!0,iconLeft:(0,o.tZ)(Mo.Z,{}),text:"Open preview",onClick:function(){n&&a({type:"markdown",data:{path:n}})}})),null!==d||c?(0,o.BX)(u.G7,{css:[u.l0.px(4),u.l0.rowWithGap(8)],children:[c&&n?(0,o.tZ)(Lc,{}):null,d]}):null}function Ac(e){var n=e.paneId,t=e.paneGroupId,r=Qs(),i=(0,Fr.lI)(),a=(0,Fr.Bd)(),l=(0,Be.XO)({paneGroupId:t}),s=(0,Js.Lo)(),c=s.maximizePaneGroup,d=s.restoreMaximizedPaneGroup;if((0,Js.rX)({paneGroupId:t}))return(0,o.tZ)(u.hU,{onClick:function(){return d()},alt:"Restore",children:(0,o.tZ)(rc.Z,{})});var p={label:"Maximize",icon:(0,o.tZ)(tc.Z,{}),run:function(){return c({paneGroupId:t})}},f={label:l?"Unfloat":"Float",icon:l?(0,o.tZ)(ec.Z,{}):(0,o.tZ)(nc.Z,{}),run:function(){r(n)}},h={label:"Close",icon:(0,o.tZ)(No.Z,{}),run:function(){i({paneGroupId:t}),(0,b.j)(b.U3.WS_SPLIT_USED,{action:"closed"})}},m=l?[p,f,h]:[{label:"Insert Left",icon:(0,o.tZ)(xc.Z,{}),run:function(){a({placement:"leftOf",paneId:n}),(0,b.j)(b.U3.WS_SPLIT_USED,{action:"opened",placement:"leftOf"})}},{label:"Insert Right",icon:(0,o.tZ)(wc.Z,{}),run:function(){a({placement:"rightOf",paneId:n}),(0,b.j)(b.U3.WS_SPLIT_USED,{action:"opened",placement:"rightOf"})}},{label:"Insert Up",icon:(0,o.tZ)(kc.Z,{}),run:function(){a({placement:"above",paneId:n}),(0,b.j)(b.U3.WS_SPLIT_USED,{action:"opened",placement:"above"})}},{label:"Insert Down",icon:(0,o.tZ)(Cc.Z,{}),run:function(){a({placement:"below",paneId:n}),(0,b.j)(b.U3.WS_SPLIT_USED,{action:"opened",placement:"below"})}},f,p,h];return(0,o.tZ)(Wt.Z,{resetOnSelect:!0,label:"Pane Actions",items:m,onItemClick:function(e){e.run()}})}var Oc=(0,p.memo)(Ac),Fc=u.KD.div,Wc=(0,a.iv)([u.l0.flex.growAndShrink(1),u.l0.minWidth(16),u.l0.height("100%")]);function Hc(e){var n=e.paneGroupId,t=(0,As.q6)({paneGroupId:n}),r=t.isDragging,i=t.dnd,a=(0,Js.Lo)().toggleMaximizedPaneGroup;if(!i)return null;var l=r?"grabbing":"grab";return(0,o.tZ)(Fc,{onDoubleClick:function(){a({paneGroupId:n})},css:[Wc],style:{cursor:l},onPointerDown:function(e){zt(e,{start:i.start,move:i.update,end:i.end})}})}var qc=Hr.K.div,Vc=(0,a.iv)([u.l0.width("100%"),u.l0.position.absolute,u.l0.left(0),{cursor:"ns-resize",zIndex:1,":hover":{transform:"scaleY(4)"}}]),Yc=(0,a.iv)([u.l0.height("100%"),u.l0.position.absolute,u.l0.top(0),{cursor:"ew-resize",zIndex:1,":hover":{transform:"scaleX(4)"}}]),Kc=(0,a.iv)([u.l0.position.absolute,{zIndex:2,transform:"scale(2)",":hover":{transform:"scale(4)"}}]);function $c(e){var n="topLeft"===e||"topRight"===e?"bottom":"top";return{transformOrigin:"".concat("topLeft"===e||"bottomLeft"===e?"right":"left"," ").concat(n)}}var Qc={topLeft:(0,a.iv)([u.l0.top(0),u.l0.left(0),$c("topLeft")]),topRight:(0,a.iv)([u.l0.top(0),u.l0.right(0),$c("topRight")]),bottomLeft:(0,a.iv)([u.l0.bottom(0),u.l0.left(0),$c("bottomLeft")]),bottomRight:(0,a.iv)([u.l0.bottom(0),u.l0.right(0),$c("bottomRight")])};function Jc(e){var n=e.edge,t=e.size,r=e.onPointerDown;if("top"===n||"bottom"===n)return(0,o.tZ)(qc,{onPointerDown:r,style:(0,Nr.Z)({height:t},n,-t),css:Vc});if("right"===n||"left"===n)return(0,o.tZ)(qc,{onPointerDown:r,style:(0,Nr.Z)({width:t},n,-t),css:Yc});var i="topLeft"===n||"bottomRight"===n?"nwse-resize":"nesw-resize";return(0,o.tZ)(qc,{onPointerDown:r,style:{height:t,width:t,cursor:i},css:[Kc,Qc[n]]})}var eu={height:0,width:0};var nu={width:120,height:120},tu=(0,O.cn)(null),ru=(0,O.cn)(null,(function(e,n,t){var r=e(Y.g4);if("end"===t.type)return n(tu,null),void n(ae.iH,r);if("update"!==t.type){var i=e(K.Eh).find((function(e){return e.paneId===t.paneId}));if(!i){var o=new Error("Expected pane");throw n(oe.j6,{error:o,tags:{layoutstate:!0},origin:"Layout: state/resizeFloating"}),o}n(ne.W1,t.paneId),n(tu,{paneId:t.paneId,edge:t.edge,rectStart:e(i.rectAtom)})}else{var a=e(tu);if(!a){var l=new Error("Expected floatingResizeState");throw n(oe.j6,{error:l,tags:{layoutstate:!0},origin:"Layout: state/resizeFloating"}),l}var s=e(K.M0),c=function(e,n){var t=n.edge,r=n.delta,i=n.minSize,o=void 0===i?eu:i,a=(0,Zn.Z)({},e),l=o.height,s=o.width;if(function(e){return"top"===e||"topLeft"===e||"topRight"===e}(t)){var c=e.height-r.y;a.height=Math.max(c,l),a.y=c<l?e.y+e.height-l:e.y+r.y}else if(function(e){return"bottom"===e||"bottomLeft"===e||"bottomRight"===e}(t)){var u=e.height+r.y;a.height=Math.max(u,l)}if(function(e){return"right"===e||"bottomRight"===e||"topRight"===e}(t)){var d=e.width+r.x;a.width=Math.max(d,s)}else if(function(e){return"left"===e||"bottomLeft"===e||"topLeft"===e}(t)){var p=e.width-r.x;a.width=Math.max(p,s),a.x=p<s?e.x+e.width-s:e.x+r.x}return a}(a.rectStart,{delta:t.moveDelta,edge:a.edge,minSize:nu}),u=a.paneId,d=(0,ee.ZP)(r,(function(e){var t=e.floating.find((function(e){return e.panes.includes(u)}));if(!t){var r=new Error("Expected floating");throw n(oe.j6,{error:r,tags:{layoutstate:!0},origin:"Layout: state/resizeFloating"}),r}var i=t.rect;i.x=c.x,i.y=c.y-s,i.width=c.width,i.height=c.height+s}));n(ae.iH,d)}}));function iu(){return(0,O.b9)(ru)}var ou=t(65617),au=t(17556),lu=t(9517),su=t(88512),cu=t(38630),uu=t(76818),du=(0,a.F4)({"0%":{transform:"translate(0, 0)"},"8.33%, 25%":{transform:"translate(-50%, 0)"},"33.33%, 50%":{transform:"translate(-50%, -50%)"},"58.33%, 75%":{transform:"translate(0, -50%)"},"83.33%, 100%":{transform:"translate(0, 0)"}}),pu=(0,u.Xb)({root:[u.l0.position.relative,{overflow:"hidden"}],border:_l.w.border,arrows:[u.l0.position.absolute,u.l0.top(0),u.l0.left(0),u.l0.flex.row,u.l0.flex.wrap,{animationName:du,animationDirection:"normal",animationTimingFunction:"ease-out",animationIterationCount:"infinite"}],arrow:[u.l0.width("50%"),u.l0.height("50%"),u.l0.center]});function fu(e){var n=e.delay,t=e.duration;return(0,o.BX)(u.G7,{style:{width:20,height:20},css:pu.root,children:[(0,o.tZ)(u.G7,{css:pu.border}),(0,o.BX)(u.G7,{css:pu.arrows,style:{width:40,height:40,animationDelay:n?n+"ms":void 0,animationDuration:t?t+"ms":"8000ms"},children:[(0,o.tZ)(u.G7,{css:pu.arrow,children:(0,o.tZ)(su.Z,{size:12})}),(0,o.tZ)(u.G7,{css:pu.arrow,children:(0,o.tZ)(cu.Z,{size:12})}),(0,o.tZ)(u.G7,{css:pu.arrow,children:(0,o.tZ)(lu.Z,{size:12})}),(0,o.tZ)(u.G7,{css:pu.arrow,children:(0,o.tZ)(uu.Z,{size:12})})]})]})}var hu=(0,u.Xb)({overlay:[u.l0.position.absolute,u.l0.borderRadius(8),u.l0.shadow(3),u.l0.align.end,u.l0.p(16),{overflow:"hidden",border:"1px solid",borderColor:u.TV.accentPrimaryStronger,zIndex:Jn.MI.overlay,transitionProperty:"transform, height, width",transitionDuration:uo.H.duration,transitionTimingFunction:uo.H.timingFunction}],surface:[u.l0.position.relative,u.l0.borderRadius(8),u.l0.flex.shrink(1),{maxHeight:"100%",maxWidth:"100%",width:200,border:"1px solid",borderColor:u.TV.outlineDefault},u.l0.shadow(3)],innerSurface:[u.l0.flex.growAndShrink(1),u.l0.borderRadius(8)]});function mu(){var e=function(){var e=(0,B.Z)((function(){return(0,O.cn)((function(e){var n=e(cc);if(!n)return null;if("sidebar"===n.target)return null;if(e(Js.Xu)===n.paneId)return e(Js.Ep);var t=e((0,K.z)(n.paneId)),r=e(t.rectAtom),i=e(K.M0);return{x:Math.round(r.x),y:Math.round(r.y-i),width:Math.round(r.width),height:Math.round(r.height+i)}}))}),[]);return(0,O.Dv)(e)}();if(e){var n=function(e){return{width:e.width,height:e.height,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")}}(e);return{width:n.width,height:n.height,transform:n.transform}}}var vu=(0,u.Xb)({root:[u.l0.colWithGap(8),u.l0.p(8),{borderTop:"1px solid",borderColor:u.TV.outlineDimmer}],row:[u.l0.rowWithGap(2),u.l0.align.center,u.l0.justify.spaceBetween]}),gu=6e3;function bu(){return(0,o.BX)(u.G7,{css:vu.root,children:[(0,o.BX)(u.G7,{css:vu.row,children:[(0,o.tZ)(u.xv,{color:"dimmest",variant:"small",children:"Move focus"}),(0,o.tZ)(_l.Z,{small:!0,shortcut:{cmdOrCtrlKey:!0,key:(0,o.tZ)(fu,{duration:gu})}})]}),(0,o.BX)(u.G7,{css:vu.row,children:[(0,o.tZ)(u.xv,{color:"dimmest",variant:"small",children:"Move pane"}),(0,o.tZ)(_l.Z,{small:!0,shortcut:{shiftKey:!0,cmdOrCtrlKey:!0,key:(0,o.tZ)(fu,{duration:gu,delay:1500})}})]})]})}var yu=(0,p.memo)((function(){var e=mu(),n=bc(),t=(0,au.Z)(n,[]);return(0,o.tZ)(Os.MT,{restoreFocus:!0,autoFocus:!0,children:(0,o.tZ)(u.G7,{style:e,css:hu.overlay,children:(0,o.tZ)(u.Tg,{innerRef:t,elevated:!0,css:hu.surface,children:(0,o.tZ)(u.Tg,{css:hu.innerSurface,elevated:!0,children:(0,o.tZ)(ku,{})})})})})})),Zu={ArrowUp:"above",ArrowDown:"below",ArrowRight:"rightOf",ArrowLeft:"leftOf"},xu={ArrowUp:"up",ArrowDown:"down",ArrowRight:"right",ArrowLeft:"left"},wu=Object.keys(Zu),ku=(0,p.memo)((function(){var e=(0,O.b9)(yc),n=(0,O.b9)(Zc),t=hc();(0,Ua.x)({key:"Escape"},{run:function(){t()}}),(0,Ua.x)(wu.map((function(e){return{key:e,cmdOrCtrlKey:!0}})),{run:function(n){e(Zu[n.key])}}),(0,Ua.x)(wu.map((function(e){return{key:e,cmdOrCtrlKey:!0,shiftKey:!0}})),{run:function(e){n({direction:xu[e.key]})}});var r=(0,O.Dv)(dc);return r?"sidebar"===r.target?null:(0,o.tZ)(o.HY,{children:(0,o.tZ)(Cu,{paneGroupId:r.paneGroupId,paneId:r.paneId})}):null}));function Cu(e){var n=bc(),t=hc(),r=Pc(e);return(0,o.tZ)(z.X,{iconBreadcrumbs:!0,command:r,onSelect:function(e){"action"===e.data.type&&e.data.run(),n()},onKeyDown:function(e,n){var r=n.inputValue,i=n.hasHighlightedItem;if("Enter"===e.key&&!r&&!i)return e.preventDefault(),void t();(0,L.jh)(e)&&(0,L.jh)(e)&&e.preventDefault()},footer:(0,o.tZ)(bu,{})})}var Su={cmdOrCtrlKey:!0,key:"J"};function Ru(){var e=(0,O.b9)(mc),n=(0,O.Dv)(vc),t=(0,k.D)({controlName:"flag-ws-quick-jump"});return(0,Ua.x)(Su,{run:function(){e()},enabled:t}),n?(0,o.tZ)(yu,{}):null}function Tu(e){var n=e.icon,t=e.run,r=e.label;return(0,o.tZ)(u.hU,{onClick:function(){return t()},alt:r,tooltipPlacement:"left",children:n})}function Iu(e){var n=e.paneId,t=(0,D.Y6)(n);if(!t)return null;var r=t.actions;return(null===r||void 0===r?void 0:r.length)?(0,o.tZ)(o.HY,{children:r.slice(0,2).map((function(e){var n=e.icon,t=e.label,r=e.run;return(0,o.tZ)(Tu,{icon:n,label:t,run:r},t)}))}):null}var Pu=(0,u.Xb)({left:[u.l0.rowWithGap(2),u.l0.flex.growAndShrink(1),u.l0.align.center,u.l0.height("100%")],right:[u.l0.px(4),u.l0.rowWithGap(2)],scrollbar:[u.l0.flex.row,u.l0.flex.shrink(1),u.l0.align.center,u.l0.height("100%"),{"& > .os-viewport":u.l0.height("100%")}],tabContainer:[u.l0.flex.row,u.l0.height("100%"),u.l0.py(4),u.l0.px(2)],tabPreviewWrap:[u.l0.px(2)],tabPreview:[u.l0.borderRadius(8),u.l0.height(28),u.l0.backgroundColor.accentPrimaryDimmest,{border:"1px dashed ".concat(u.TV.accentPrimaryDefault)}]});function Eu(e){var n=e.headerId,t=(0,Fn.eM)(),r=(0,Fn.Eh)(),i=(0,Fn.JW)(),a=(0,oa.A)(),l=(0,Fn.Jy)(),s=(0,Fn.qV)(n),c=s.activeIndex,d=s.panes,f=s.activeTabPaneId,h=s.activeFile,m=function(e){var n=e.visibility,t=(0,Ts.Fg)().isDarkColorScheme,r=(0,p.useState)(!1),i=r[0],o=r[1],a=(0,x.Z)((0,Is.A)({options:{overflow:{y:"hidden",x:"scroll"},update:{debounce:[100,200]},scrollbars:{theme:t?"os-theme-light":"os-theme-dark",autoHide:"leave",visibility:n}},events:{initialized:function(){return o(!0)}},defer:!0}),2),l=a[0],s=a[1],c=(0,p.useCallback)((function(e){e&&l(e)}),[l]),u=(0,p.useRef)(0),d=(0,p.useRef)(!1);return{ref:c,initialized:i,handleWheel:function(e){var n=s();if(n&&0!==e.deltaY&&0===e.deltaX){var t=n.elements().viewport,r=t.scrollLeft,i=e.deltaY,o=t.scrollWidth;d.current=!0,u.current=Math.max(0,Math.min(o,r+i)),t.scrollLeft=u.current}}}}({visibility:l?"hidden":"auto"}),v=(0,x.Z)((0,Rs.L)({accept:[Kt.Tv.File,Xn.z.Pane,Xn.z.NewPane],hover:function(e,n){var t=n.getSourceClientOffset();t&&w({item:e,panes:d,sourceClientOffset:t.x})},collect:function(e){return{isOver:e.isOver()}},drop:function(e,t){if(!t.didDrop()){var o=null!==(null===C||void 0===C?void 0:C.index)?null===C||void 0===C?void 0:C.index:d.length;if(e.type!==Kt.Tv.File&&e.type!==Kt.Tv.Directory)if(e.type!==Xn.z.NewPane){if("paneId"in e){var a=d.includes(e.paneId)?d.length-1:d.length;i({paneId:e.paneId,index:void 0!==o&&o<a?o:a,toPaneGroupId:n})}}else r({activate:!0,paneGroupId:n,index:o,panes:[e.pane]});else{var l=e.nodes.filter((function(e){return e.type===Kt.Tv.File})).map((function(e){return{type:(0,D.Dp)({path:e.path}),data:{path:e.path}}}));l.length>0&&r({activate:!0,commit:!0,paneGroupId:n,index:o,panes:l})}}}}),2),g=v[0],b=v[1],y=function(e){var n=e.isOver,t=(0,p.useState)(null),r=t[0],i=t[1],o=(0,p.useRef)(null),a=(0,p.useRef)([]);(0,p.useEffect)((function(){if(!n)return a.current=[],void i(null);o.current&&(a.current=(0,N.Z)(o.current.children).map((function(e){var n=e.getBoundingClientRect();return n.x+n.width/2})))}),[n]);var l=(0,p.useCallback)((function(e){if(0!==a.current.length){var n=e.item.type===Xn.z.Pane?e.item:null,t=(null===n||void 0===n?void 0:n.paneId)||null,r=t?e.panes.indexOf(t):-1,o=(null===n||void 0===n?void 0:n.width)||80,l=a.current.map((function(e,n){return-1===r||r<n?e:e+o/2})).findIndex((function(n){return n>e.sourceClientOffset})),s=-1===l,c=-1===r?e.panes.length:e.panes.length-1;i({index:s?c:Math.min(l,c),paneId:t,width:o})}}),[]);return{tabContainerRef:o,hover:l,dropState:r}}({isOver:g.isOver}),Z=y.tabContainerRef,w=y.hover,C=y.dropState,S=(0,k.D)({controlName:"flag-ws-quick-jump"}),R=(0,O.b9)(pc),T=C?C.index:null;if((null===C||void 0===C?void 0:C.paneId)&&null!==T){var I=d.indexOf(C.paneId);I>-1&&I<T&&T++}var P=C&&null!==T?(0,N.Z)(d.slice(0,T)).concat([C],(0,N.Z)(d.slice(T))):d;return(0,o.BX)(o.HY,{children:[(0,o.BX)(u.G7,{css:Pu.left,innerRef:b,role:"tablist",children:[(0,o.BX)(Gt.uP,{children:[(0,o.tZ)(u.G7,{onWheel:m.handleWheel,style:{opacity:m.initialized?1:0},innerRef:m.ref,css:Pu.scrollbar,children:(0,o.tZ)(u.G7,{innerRef:Z,css:Pu.tabContainer,children:P.map((function(e,r){var i=c===r;return"string"!==typeof e?(0,o.tZ)(u.G7,{css:Pu.tabPreviewWrap,children:(0,o.tZ)(u.G7,{style:{width:e.width},css:Pu.tabPreview})},"preview"):(0,o.tZ)(Uc,{dragGroup:1===d.length,paneId:e,paneGroupId:n,isActive:i,onClick:function(){t(e)},onClose:function(){a(e)}},e)}))})}),(0,o.tZ)(u.hU,{alt:"New tab",tooltipHidden:!0,onClick:function(){r({paneGroupId:n,activate:!0,panes:[{type:"commands",data:{autoFocus:!0}}]})},children:(0,o.tZ)(zo.Z,{})})]}),(0,o.tZ)(Hc,{paneGroupId:n})]}),(0,o.tZ)(zc,{headerId:n,paneId:f,activeFile:h}),(0,o.BX)(u.G7,{css:Pu.right,children:[(0,o.tZ)(Iu,{paneId:f}),S?(0,o.tZ)(u.hU,{onClick:function(){return R(f)},alt:"Pane actions",tooltipPlacement:"left",tooltipContents:(0,o.tZ)(_l.Z,{hideBorder:!0,shortcut:Su}),children:(0,o.tZ)(ou.Z,{})}):(0,o.tZ)(Oc,{paneId:f,paneGroupId:n})]})]})}var Gu=(0,p.memo)(Eu),Du=(0,a.iv)([u.l0.borderRadius(8,8,0,0),u.l0.position.absolute,u.l0.flex.row,u.l0.align.center],{borderBottom:"1px solid ".concat(u.TV.backgroundHigher)}),Uu=["top","right","left","topRight","topLeft"];function Bu(e){var n=e.headerId,t=(0,Be.XO)({paneGroupId:n}),r=(0,Fn.u_)(n),i=iu();return t?(0,o.tZ)(o.HY,{children:Uu.map((function(e){return(0,o.tZ)(Jc,{size:8,edge:e,onPointerDown:function(n){zt(n,{start:function(){i({type:"start",paneId:r,edge:e})},move:function(e){var n=e.delta;i({type:"update",moveDelta:n})},end:function(){i({type:"end"})}})}},e)}))}):null}var Mu=(0,p.memo)(Bu);function Lu(e){var n=e.headerId,t=(0,Fn.u_)(n),r=(0,K.ec)(t),i=(0,Jn.w8)(t),a=(0,As.cI)({paneId:t}),l=(0,Fn.LS)(n),s=(0,As.FD)({paneId:t}),c=(0,ne.Xo)();return(0,o.BX)(u.Tg,{elevated:!0,css:Du,style:{transform:a?"scale(".concat(a.scale,")"):void 0,transformOrigin:a?"".concat(a.originX," bottom"):void 0,width:l.width,height:l.height,top:Math.round(l.y),left:Math.round(l.x),zIndex:i,transitionProperty:s?"all":void 0,transitionDuration:s?"140ms":void 0,transitionTimingFunction:s?"ease-out":void 0},onMouseDown:function(){var e="codeEditor"!==r.type;c(t,{commit:e})},children:[(0,o.tZ)(Gu,{headerId:n}),(0,o.tZ)(Mu,{headerId:n})]})}var _u=(0,p.memo)(Lu),ju=t(93160),Xu=t(13482),Nu=["bottom","right","left","bottomRight","bottomLeft"],zu=(0,a.iv)([Wr.l0.coverContainer,Wr.l0.borderRadius(0,0,8,8)]),Au="--fixed-position-offset-x",Ou="--fixed-position-offset-y",Fu=function(e){return"var(".concat(e,")")},Wu=(0,a.iv)({transform:"translate(".concat(Fu(Au),", ").concat(Fu(Ou),")")}),Hu=(0,a.iv)([Wr.l0.coverContainer,!Xu.gn&&{"& .cm-editor > .cm-tooltip":Wu,"& .cm-editor > .cm-tooltip.cm-tooltip-thread":{left:"0px !important",transform:"translateY(".concat(Fu(Ou),"px)")},".cm-custom-context-menu":Wu}]);function qu(e){var n,t=e.resizable&&e.onResizeControlPointerDown?Nu.map((function(n){return(0,o.tZ)(Jc,{size:8,edge:n,onPointerDown:function(t){if(!e.onResizeControlPointerDown)throw new Error("Expected onResizeControlMouseDown");e.onResizeControlPointerDown(t,n)}},n)})):null,r=e.rect;return(0,o.tZ)(Hr.G,{style:(n={zIndex:e.zIndex,position:"absolute",width:r.width,height:r.height,transform:"translate(".concat(Math.round(r.x),"px, ").concat(Math.round(r.y),"px)"),visibility:e.hidden?"hidden":void 0,opacity:e.hidden?0:void 0},(0,Nr.Z)(n,Au,-e.viewportInset.x+"px"),(0,Nr.Z)(n,Ou,-e.viewportInset.y+"px"),(0,Nr.Z)(n,"transitionProperty","transform"),(0,Nr.Z)(n,"transitionTimingFunction","ease-out"),(0,Nr.Z)(n,"transitionDuration",e.animate?"140ms":void 0),n),css:{"&:hover":{zIndex:e.zIndexHovered}},children:(0,o.BX)(ju.T,{onKeyDown:e.onKeyDown,onMouseDown:e.onMouseDown,onContextMenu:e.onMouseDown,elevated:!0,css:zu,className:e.className,children:[(0,o.tZ)(Hr.G,{innerRef:e.innerRef,css:Hu,children:e.children}),t]})})}var Vu=(0,O.cn)((function(e){return Boolean(e(As.sx)||e(tu)||e(Ar)||e(Fn.c)||e(vi.xM))}));var Yu={base:(0,a.iv)([u.l0.position.absolute,u.l0.borderRadius(8),{pointerEvents:"none",border:"1px solid",transitionProperty:"border, box-shadow",transitionDuration:uo.H.duration,transitionTimingFunction:uo.H.timingFunction}]),floating:(0,a.iv)([{borderColor:u.TV.outlineDimmest},u.l0.shadow(2)]),dragging:(0,a.iv)([{borderColor:u.TV.outlineStronger},u.l0.shadow(3)]),active:(0,a.iv)([{borderColor:u.TV.outlineDimmer}])};function Ku(e){var n=function(e){var n=e.paneId,t=(0,B.Z)((function(){return(0,O.cn)((function(e){if(e(Js.Xu))return null;var t=e((0,K.z)(n)),r=n===e(As.WB),i=n===e(ne.J1),o="floating"===t.type;if(!(o||r||i))return null;var a=e(K.M0),l=e(t.rectAtom);return{style:{width:l.width+2,height:l.height+a+2,top:-(a+1),left:-1},isActive:i,isBeingDragged:r,isFloating:o}}))}),[n]);return(0,O.Dv)(t)}({paneId:e.paneId});return n?(0,o.tZ)(u.G7,{css:[Yu.base,n.isFloating&&Yu.floating,n.isActive&&Yu.active,n.isBeingDragged&&Yu.dragging],style:n.style}):null}var $u=(0,p.memo)(Ku);var Qu=t(10693);function Ju(e){var n=e.paneId,t=(0,x.Z)((0,Rs.L)({accept:[Kt.Tv.File,Xn.z.Pane,Xn.z.NewPane],collect:function(e){return{isOver:e.isOver()}},hover:function(e,t){var r=t.getClientOffset();r&&o.drag({pageX:r.x,pageY:r.y,over:n})},drop:function(e,t){var r=t.getClientOffset();if(r)if(e.type!==Xn.z.Pane){if(e.type===Kt.Tv.File||e.type===Kt.Tv.Directory){var i=e.nodes.filter((function(e){return e.type===Kt.Tv.File})).map((function(e){return{type:(0,D.Dp)({path:e.path}),data:{path:e.path}}}));i.length>0&&o.drop({type:"newPaneGroup",panes:i,pageX:r.x,pageY:r.y,over:n})}if(e.type===Xn.z.NewPane){var a=e.pane;o.drop({type:"newPaneGroup",panes:[a],pageX:r.x,pageY:r.y,over:n})}}else o.drop({type:"pane",paneId:e.paneId,pageX:r.x,pageY:r.y,over:n})}}),2),r=t[0].isOver,i=t[1],o=function(e){var n=e.isOver,t=(0,O.b9)(On.m);return(0,p.useEffect)((function(){n||t(null)}),[n,t]),{drag:(0,O.b9)(Wn),drop:(0,O.b9)(Hn)}}({isOver:r});return i}var ed=(0,a.iv)([u.l0.width("100%"),u.l0.flex.growAndShrink(1),{overflow:"auto"}]);function nd(e){return(0,o.tZ)(u.G7,{css:ed,style:{pointerEvents:e.disableInteractions?"none":void 0,userSelect:e.disableInteractions?"none":void 0},children:e.children})}function td(e){var n=e.paneId,t=(0,K.uK)(),r=(0,K.ec)(n).type,i=(0,K.L0)(n),a=(0,As.cI)({paneId:n}),l=iu(),s=(0,ne.Xo)(),c="floating"===i.type&&!i.isDialog,u=(0,As.FD)({paneId:n}),d=(0,Jn.MD)(n),p=(0,ne.cr)({paneId:n}),f=(0,O.Dv)(Vu),h=function(e){var n=e.paneId,t=(0,B.Z)((function(){return(0,O.cn)((function(e){if(e(Js.Xu)===n)return e(Js.Ep);var t=e((0,K.z)(n));return e(t.rectAtom)}))}),[n]);return(0,O.Dv)(t)}({paneId:n}),m={x:Math.round(t.x+h.x),y:Math.round(t.y+h.y)},v=Ju({paneId:n}),g="tile"===i.type,b=p?void 0:function(){s(n,{commit:"codeEditor"!==r})};return(0,o.BX)(D.Xq,{value:n,children:[i.isDialog?(0,o.tZ)(od,{}):null,(0,o.BX)(qu,{css:{transform:a?"scale(".concat(a.scale,")"):void 0,transformOrigin:a?"".concat(a.originX," top"):void 0},innerRef:g?v:void 0,zIndex:d.normal,zIndexHovered:d.hovered,hidden:i.isHidden,viewportInset:m,rect:h,animate:u,resizable:c,onMouseDown:b,onResizeControlPointerDown:function(e,t){zt(e,{start:function(){l({type:"start",paneId:n,edge:t})},move:function(e){var n=e.delta;l({type:"update",moveDelta:n})},end:function(){l({type:"end"})}})},children:[(0,o.tZ)($u,{paneId:n}),(0,o.tZ)(Qu.Z,{origin:"ErrorBoundary: PaneContainer",bsod:!0,tags:(0,B.Z)((function(){return{paneType:i.type}}),[i.type]),children:(0,o.tZ)(nd,{disableInteractions:f,children:(0,o.tZ)(id,{paneId:n,isHidden:i.isHidden})})},n)]})]})}function rd(e){var n=e.paneId,t=e.isHidden,r=(0,K.ec)(n),i=(0,ne.cr)({paneId:n}),a=(0,K.mR)(n),l=(0,k.D)({controlName:"flag-ws-draft-files"}),s=(0,D.Se)().Content,c=(0,Le.hA)(),u=(0,ne.Z0)(),d=(0,B.Z)((function(){if(l&&!a)return function(){return u(n)}}),[u,l,a,n]),p=function(e){c({fromPaneId:n,data:e})};return(0,o.tZ)(s,{pane:r,options:{paneId:n,isHidden:t,replacePane:p,openPane:p,commitPane:d,isActive:i}})}var id=(0,p.memo)(rd);function od(){var e=(0,O.b9)(ca);return(0,o.tZ)(u.G7,{onClick:function(){return e()},css:[u.l0.coverContainer,u.l0.position.fixed,u.l0.backgroundColor.backgroundOverlay]})}var ad=(0,p.memo)(td),ld=(0,O.cn)((function(e){var n=e(K.CK),t=n.width,r=n.height,i=e(on.TL);return{x:Math.round(i.width+ae.SG),y:0,width:t-i.width-2*ae.SG,height:r-ae.SG}}));var sd=(0,O.cn)(null,(function(e,n){var t=e(ld);n(On.m,{type:"dropPreview",rect:t})})),cd=(0,O.cn)(null,(function(e,n,t){n(On.m,null),n(Fn.c,!1),n(Ue.g2,{panes:t.panes,placement:"leftOf",makeActive:!0,relativeTo:["tiling"]})}));function ud(){var e=(0,x.Z)((0,Rs.L)({accept:[Kt.Tv.File,Xn.z.NewPane],collect:function(e){return{isOver:e.isOver()}},hover:function(e,n){n.getClientOffset()&&r.drag()},drop:function(e,n){if(n.getClientOffset()){if(e.type===Kt.Tv.File||e.type===Kt.Tv.Directory){var t=e.nodes.filter((function(e){return e.type===Kt.Tv.File})).map((function(e){return{type:(0,D.Dp)({path:e.path}),data:{path:e.path}}}));t.length>0&&r.drop({panes:t})}if(e.type===Xn.z.NewPane){var i=e.pane;r.drop({panes:[i]})}}}}),2),n=e[0].isOver,t=e[1],r=function(e){var n=e.isOver,t=(0,O.b9)(On.m);return(0,p.useEffect)((function(){n||t(null)}),[n,t]),{drag:(0,O.b9)(sd),drop:(0,O.b9)(cd)}}({isOver:n});return t}var dd=(0,u.Xb)({root:[u.l0.position.absolute,u.l0.borderRadius(8),u.l0.pt(16),u.l0.align.center,{border:"1px solid",borderColor:u.TV.outlineDimmest}],content:[u.l0.width("100%"),u.l0.flex.growAndShrink(1),{"& > div > label + div":[u.l0.maxWidth(600),u.l0.width("100%"),{alignSelf:"center"}],'& [role="listbox"] > div':[u.l0.align.center],'& [role="listbox"] > div > div':[u.l0.maxWidth("calc(".concat(600,"px - ").concat(u.TV.space16,")")),u.l0.width("100%")],'& [role="option"] > div':[u.l0.borderRadius(8)]}]});function pd(){var e=(0,O.Dv)(ld),n=(0,Ue.BN)(),t=(0,Ne.C)(),r=ud(),i=ve({currentPaneId:null,openFile:t});return(0,o.tZ)(u.G7,{style:{width:e.width,height:e.height,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")},css:dd.root,innerRef:r,children:(0,o.tZ)(u.G7,{css:dd.content,children:(0,o.tZ)(z.X,{autoFocus:!0,command:i,onSelect:function(e){"openFile"!==e.data.type?"openPane"!==e.data.type?"action"!==e.data.type||e.data.run():n({pane:e.data.pane,edge:"left"}):t(e.data.deeplink)}})})})}var fd=(0,O.cn)((function(e){var n=e(ne.J1);if(!n)return null;var t=e((0,K.z)(n)).rectAtom,r=e(t),i=e(K.M0);return{x:r.x,y:r.y-i,width:r.width,height:r.height+i}}));function hd(){var e=(0,O.Dv)(fd),n=(0,Nc.Z)();return e&&n?(0,o.tZ)("div",{css:[Wr.l0.position.absolute,Wr.l0.width(e.width),Wr.l0.height(e.height),Wr.l0.borderRadius(4),{boxShadow:"0 0 0 3px ".concat(n.color),pointerEvents:"none",zIndex:3,transform:"translate(".concat(Math.round(e.x),"px, ").concat(Math.round(e.y),"px)")}]}):null}var md=(0,p.memo)(hd);function vd(){var e=(0,On.K)(),n=(0,Y.hF)(),t=(0,Jn.P9)();if(!e)return null;var r=e.rect,i="detachPreview"===e.type?e.progress:1,a="detachPreview"===e.type?e.rect.height:8,l="detachPreview"===e.type&&i<.98?Wr.TV.foregroundDefault:Wr.TV.accentPrimaryDefault,s="detachPreview"===e.type?void 0:Wr.TV.accentPrimaryDimmer;return(0,o.tZ)("div",{style:{position:"absolute",border:"1px ".concat(i<.98?"dashed":"solid"),pointerEvents:"none",width:r.width,height:r.height,backgroundColor:s,borderColor:l,borderRadius:a,zIndex:t,opacity:"detachPreview"===e.type?.5*i:.2,transform:"translate(".concat(Math.round(r.x),"px, ").concat(Math.round(r.y),"px)"),transition:n?"transform 140ms, width 140ms, height 140ms, border-radius 140ms":void 0},children:"detachPreview"===e.type?(0,o.tZ)(gd,{progress:i}):null})}function gd(e){var n=e.progress;return(0,o.tZ)("div",{style:{width:"100%",height:"100%",transform:"scale(".concat(n,")"),background:"radial-gradient(transparent, ".concat(Wr.TV.backgroundHighest,")"),borderRadius:"100%"}})}var bd=(0,p.memo)(vd),yd=t(8181),Zd=t(11598),xd=t(15902),wd=t(53931),kd=t(60665);function Cd(){var e=(0,xn.Z)(["\n  query RepricingAnnouncement {\n    currentUser {\n      id\n      url\n      username\n      pricesUpdate {\n        __typename\n        ... on CurrentUserPricesUpdateOptionOutputObject {\n          option\n        }\n      }\n    }\n  }\n"]);return Cd=function(){return e},e}var Sd={},Rd=(0,wn.Ps)(Cd());function Td(e){var n=(0,Zn.Z)({},Sd,e);return Ui.a(Rd,n)}var Id=t(16188),Pd=t(9625),Ed=t(19536),Gd=t(38164),Dd=t(73147),Ud=t(59247),Bd=new Date("2023-01-05");function Md(){var e,n=Td().data,t=(0,it.Z)("workspace","repricing-announcement"),r=t.shouldDisplay,i=t.dismiss,a=t.register,l=(0,w.useRouter)();return p.useEffect((function(){a()}),[a]),(0,xd.Vg)(l)||"CurrentUserPricesUpdateOptionOutputObject"!==(null===n||void 0===n||null===(e=n.currentUser)||void 0===e?void 0:e.pricesUpdate.__typename)?null:n.currentUser.pricesUpdate.option===Di.c1.General?(0,o.tZ)(Ld,{shouldDisplay:r,dismiss:i}):(0,o.tZ)(Xd,{shouldDisplay:r,dismiss:i,isHacker:n.currentUser.pricesUpdate.option===Di.c1.LegacyHacker})}function Ld(e){var n=e.shouldDisplay,t=e.dismiss,r=Td().data;if(!(null===r||void 0===r?void 0:r.currentUser))return null;var i,l={slides:[{title:"Introducing new levels of Boosts!",subtitle:(0,o.tZ)(o.HY,{children:"We've now added even more power with additional levels starting at 4x the base resources and going all the way up to 32x of the base resources."}),text:(0,o.BX)(o.HY,{children:["Boosts are a way to allow your Repls to utilize more resources and make them faster."," ",(0,o.tZ)("a",{href:Dd.TT.ABOUT_BOOSTED_REPLS,onClick:t,target:"_blank",children:"Learn more"})]}),backgroundImage:"/public/images/repricing-announcement.png",backgroundColor:(i=kd.S.values.global.accentPrimaryDefault,(0,a.iv)({backgroundColor:i})),position:"center"}],date:Bd};return(0,o.tZ)(wd.Z,{announcement:l,showModal:n,onRequestClose:t})}function _d(e){var n=e.price,t=e.period;return(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(2),u.l0.align.center],children:[(0,o.tZ)(Id.Z,{context:"repricing_announcement",children:(0,o.tZ)(Gd.Z,{css:{color:u.TV.foregroundDefault}})}),(0,o.BX)(u.xv,{children:[n,"/",t," (",(0,Ed.$E)(n),"/",t,")"]})]})}function jd(e){var n=e.variant;return(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(16),u.l0.align.center],children:[(0,o.tZ)(u.G7,{css:[{width:40}],children:(0,o.tZ)(Pd.Z,{variant:n})}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(16),u.l0.flex.shrink(1),{flexWrap:"wrap",gap:4}],children:[(0,o.tZ)(u.xv,{css:{width:140},children:(0,Ed.Pr)(n)}),(0,o.tZ)(_d,{price:Ud.z4[n],period:"day"})]})]})}function Xd(e){var n=e.isHacker,t=e.shouldDisplay,r=e.dismiss;return(0,o.tZ)(u.u_,{isOpen:t,onRequestClose:r,centered:!0,fitContent:!0,children:(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.BX)(u.G7,{css:[u.l0.colWithGap(12)],children:[(0,o.tZ)(u.xv,{variant:"subheadBig",multiline:!0,children:"Announcing more power and updated pricing"}),(0,o.tZ)(u.xv,{multiline:!0,children:n?"We\u2019re launching more powerful machines for a more powerful  experience. Our new pricing and Hacker plan benefits reflect these changes.":"We\u2019re launching more powerful machines for a more powerful  experience. Our new pricing reflects these changes."})]}),(0,o.BX)(u.G7,{css:[u.l0.colWithGap(16)],children:[(0,o.tZ)(u.xv,{variant:"subheadDefault",children:"Boosted Repls"}),n?(0,o.tZ)(u.xv,{children:"One 4x Boost included with Hacker plan, then:"}):null,(0,o.BX)(u.G7,{css:[u.l0.colWithGap(8)],children:[(0,o.tZ)(jd,{variant:"boost_2cpu_2ram"}),(0,o.tZ)(u.RX,{}),(0,o.tZ)(jd,{variant:"boost_4cpu_4ram"}),(0,o.tZ)(u.RX,{}),(0,o.tZ)(jd,{variant:"boost_8cpu_8ram"}),(0,o.tZ)(u.RX,{}),(0,o.tZ)(jd,{variant:"boost_16cpu_16ram"})]})]}),(0,o.BX)(u.G7,{css:[u.l0.colWithGap(8)],children:[(0,o.tZ)(u.xv,{variant:"subheadDefault",children:"Always On Repls"}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(4),{flexWrap:"wrap"}],children:[n?(0,o.tZ)(u.xv,{multiline:!0,children:"One included with Hacker plan, then "}):null,(0,o.tZ)(_d,{price:20,period:"day"})]})]}),n?null:(0,o.BX)(u.G7,{css:[u.l0.colWithGap(8)],children:[(0,o.tZ)(u.xv,{variant:"subheadDefault",children:"Private Repls"}),(0,o.tZ)(u.G7,{css:[u.l0.rowWithGap(4)],children:(0,o.tZ)(_d,{price:500,period:"month"})})]}),(0,o.BX)(u.xv,{multiline:!0,children:["For any Always On or Boost Power Ups you're currently paying for using Cycles, your pricing won\u2019t change until April 2023."," ",n?"In addition, your Hacker plan benefits won\u2019t change until April 2023.":"Similarly, if you've purchased the Private Repls Power Up, your pricing won't change until April 2023."]}),(0,o.BX)(u.G7,{css:[u.l0.flex.row,u.l0.align.center,u.l0.justify.spaceBetween],children:[(0,o.tZ)(u.ZP,{text:"Learn more",iconRight:(0,o.tZ)(sr.ExternalLink,{}),href:Dd.TT.REPRICING_BLOG_POST,target:"_blank",css:{width:120}}),(0,o.tZ)(u.zx,{text:"Got it",onClick:r,colorway:"primary",css:{width:120}})]})]})})}var Nd=44100,zd=32896,Ad=function e(){var n=this;(0,Vl.Z)(this,e),this.audioStart=0,this.feed=function(e){var t=n.getFormatedValue(e),r=new Float32Array(n.samples.length+t.length);r.set(n.samples,0),r.set(t,n.samples.length),n.samples=r},this.getFormatedValue=function(e){for(var n=new Float32Array(e.length),t=0;t<e.length;t++)n[t]=e[t]/2147483648;return n},this.stop=function(){if(n.bufferSource)try{n.bufferSource.stop()}catch(e){if("InvalidStateError"!==e.name&&"RangeError"!==e.name)throw e}},this.flush=function(e){if(n.audioCtx&&n.samples.length){var t=0,r=n.audioCtx.currentTime;if(0===e)n.startTime=r,n.audioStart=r;else{for(var i=r-n.audioStart,o=Math.floor(i*Nd);o>e-zd;)n.audioStart+=.7459410430839002,o-=zd;o>e&&(t=o-e,n.startTime=r),n.startTime=r}n.samples=n.samples.slice(t,n.samples.length);for(var a,l,s,c=n.audioCtx.createBufferSource(),u=n.samples.length/1,d=n.audioCtx.createBuffer(1,u,Nd),p=0;p<1;p++)for(a=d.getChannelData(p),l=p,s=0;s<u;s++)a[s]=n.samples[l],l+=1;n.startTime<n.audioCtx.currentTime&&(n.startTime=n.audioCtx.currentTime),c.buffer=d,c.connect(n.gainNode),c.start(n.startTime),n.stop(),n.bufferSource=c,n.startTime+=d.duration,n.samples=new Float32Array}},this.samples=new Float32Array;var t=window.AudioContext||window.webkitAudioContext;this.audioCtx=new t,this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime};function Od(e){var n=e.container,t=(0,p.useState)(!1),r=t[0],i=t[1],a=(0,p.useRef)(null);(0,p.useEffect)((function(){return n.openChannel({name:"audio",service:"audio"},(function(e){var n=e.channel;if(n){var t=null,r=!1;return n.onCommand((function(e){var n;r||(r=!0,a.current=function(){t=new Ad,a.current=null},i(!0)),t&&(null===e||void 0===e||null===(n=e.audio2)||void 0===n?void 0:n.data)&&(e.audio2.samples||(e.audio2.samples=0),t.feed(Int32Array.from(e.audio2.data)),t.flush(e.audio2.samples))})),function(){i(!1),t&&(t.stop(),t=null),a.current=null}}}))}),[n]);var l=function(){i(!1)};return(0,o.tZ)(u.u_,{isOpen:r,onRequestClose:l,children:(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.h4,{variant:"headerDefault",level:1,children:"We hear audio!"}),(0,o.BX)(u.G7,{css:[u.l0.colWithGap(8)],children:[(0,o.tZ)(u.xv,{multiline:!0,children:"Hey! It appears that this Repl is playing audio."}),(0,o.tZ)(u.xv,{multiline:!0,children:"In order for us to hear the audio you\u2019re receiving, please click confirm."})]}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(12),u.l0.justify.end],children:[(0,o.tZ)(u.zx,{onClick:l,text:"Cancel"}),(0,o.tZ)(u.zx,{colorway:"positive",onClick:function(){i(!1),a.current&&a.current()},text:"Confirm",iconLeft:(0,o.tZ)(ga.Z,{})})]})]})})}var Fd=t(39705),Wd=t(2146),Hd=t(87138),qd=new Date("2022-12-01"),Vd=new Date("2022-10-20");function Yd(){var e,n=(0,Hd.lg)(),t=n.data,r=n.loading,i=n.error,a=(0,Wd.o)("workspace-history-announcement"),l=a.isLoading,s=a.isDone,c=a.setAsDone,d=new Date,p=(null===t||void 0===t||null===(e=t.currentUser)||void 0===e?void 0:e.timeCreated)?new Date(t.currentUser.timeCreated):null;return r||l||s||i||!p||qd<d||Vd<p?null:(0,o.tZ)(u.u_,{centered:!0,isOpen:!s,onRequestClose:function(){return c()},children:(0,o.BX)(u.G7,{css:[u.l0.colWithGap(16)],children:[(0,o.tZ)(u.xv,{variant:"headerDefault",children:"History in the Workspace"}),(0,o.tZ)(u.xv,{multiline:!0,children:"Now, you can scrub through any file history directly in the workspace. You'll see a History button in the bottom right of any file."}),(0,o.tZ)(u.G7,{css:[u.l0.p(4),u.l0.borderRadius(8),u.l0.backgroundColor.backgroundRoot,{border:"solid 1px ".concat(u.TV.backgroundHigher)}],children:(0,o.tZ)("video",{css:u.l0.borderRadius(8),src:"/public/videos/history-demo-new.mp4",autoPlay:!0,muted:!0,playsInline:!0,loop:!0})}),(0,o.tZ)(u.G7,{css:[u.l0.display.flex,u.l0.align.end],children:(0,o.tZ)(u.zx,{text:"Continue Coding",colorway:"primary",onClick:function(){return c()}})})]})})}var Kd=t(25977);var $d=function(e){return(0,o.tZ)(pa.u,{preventClose:!0,isOpen:!0,onRequestClose:e.onCancel,children:(0,o.BX)(Hr.G,{css:[Wr.l0.colWithGap(24)],children:[(0,o.tZ)(va.h,{variant:"headerDefault",level:2,css:Wr.l0.maxWidth("100%"),children:"Replit needs your permission to enable notifications."}),(0,o.tZ)(va.x,{multiline:!0,children:"Never miss messages from your collaborators if you\u2019re in another tab or window."}),(0,o.BX)(Hr.G,{css:[Wr.l0.rowWithGap(12),Wr.l0.justify.end],children:[(0,o.tZ)(da.zx,{onClick:e.onCancel,text:"Deny",iconLeft:(0,o.tZ)(No.Z,{})}),(0,o.tZ)(da.zx,{text:"Allow notifications",colorway:"positive",iconLeft:(0,o.tZ)(ga.Z,{}),onClick:e.onConfirm})]})]})})},Qd={slides:[{title:"Repl Chat Tab",subtitle:"Chat has a new home. Open it from the sidebar or the New Tab menu.",backgroundImage:"/public/images/threads/chat.png",backgroundColor:u.l0.backgroundColor.yellowStrongest,position:"center"},{title:"Inline Threads",subtitle:(0,o.BX)("span",{css:{".shortcut":{gridGap:"var(--space-2)"},".shortcut div":[u.l0.backgroundColor.backgroundHighest,u.l0.color.foregroundDefault,{border:"1px solid var(--outline-default)"}]},children:["Right click code to start a discussion, or select code and use the hotkey"," ",(0,o.tZ)(_l.Z,{shortcut:{key:"/",altKey:!0},small:!0})]}),backgroundImage:"/public/images/threads/inline.png",backgroundColor:u.l0.backgroundColor.blurpleStronger,position:"center"},{title:"Threads Inbox Tab",subtitle:"All your threads in one place. Open the inbox from the sidebar or the New Tab menu.",backgroundImage:"/public/images/threads/inbox.png",backgroundColor:u.l0.backgroundColor.blueStronger,position:"center"}],date:new Date("2022-11-08")};function Jd(){var e=(0,it.Z)("workspace","threads-2-announcement"),n=e.shouldDisplay,t=e.dismiss,r=e.register;return p.useEffect((function(){r()}),[r]),(0,o.tZ)(wd.Z,{announcement:Qd,showModal:n,onRequestClose:t})}function ep(){var e=(0,p.useState)(!0),n=e[0],t=e[1];return(0,o.tZ)(u.u_,{isOpen:n,onRequestClose:function(){return t(!1)},centered:!0,preventScrollOnFocus:!0,children:(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.h4,{level:1,variant:"headerDefault",children:"We've upgraded your project!"}),(0,o.BX)(u.xv,{multiline:!0,children:["Your project is now using Nix behind the scenes, which means that you can now run many more kinds of software in your Repls. You can learn more by reading our"," ",(0,o.tZ)(ul(),{href:"https://blog.replit.com/nix",children:"announcement blog post"}),","," ",(0,o.tZ)(ul(),{href:"https://docs.replit.com/programming-ide/nix-on-replit",children:"documentation"}),", or by following our"," ",(0,o.tZ)(ul(),{href:"https://docs.replit.com/tutorials/python/build-with-nix",children:"Nix with Python tutorial"}),"."]}),(0,o.BX)(u.G7,{children:[(0,o.tZ)(u.xv,{multiline:!0,children:"In order to migrate your Repl to Nix, we had to make some changes:"}),(0,o.BX)("ul",{children:[(0,o.tZ)("li",{children:(0,o.tZ)(u.xv,{multiline:!0,children:"1. Imported some files to support your programming language with Nix"})}),(0,o.tZ)("li",{children:(0,o.tZ)(u.xv,{multiline:!0,children:"2. Turned on a flag that says your Repl is a Nix Repl"})}),(0,o.tZ)("li",{children:(0,o.tZ)(u.xv,{multiline:!0,children:"3. Restarted your Repl"})})]})]}),(0,o.BX)(u.xv,{multiline:!0,children:["Note that any files that might otherwise be overwritten have been backed up to the same file name with a .backup suffix. If you have any issues with your newly-migrated Repl, make sure to check out"," ",(0,o.tZ)(ul(),{href:"https://ask.replit.com",children:"ask.replit.com"})," to get help."]}),(0,o.tZ)(u.xv,{children:"Enjoy!"}),(0,o.tZ)(u.xv,{children:"\u2014 Replit Staff"})]})})}var np=t(41709),tp=t(59586);function rp(){var e=(0,Fn.hx)(),n=(0,tp.Z)({moveOrDeleteFile:e}),t=n.isConverging,r=n.didContentsDiverge,i=n.showMoreDetail,a=n.failedFiles,l=n.failedFilesOptions,s=n.selectedFile,c=n.setSelectedFile,d=n.reviewingPrompt,p=n.onChoice,f=n.local,h=n.remote,m=[u.l0.minHeight("7em"),u.l0.maxHeight("50vh"),u.l0.overflowY("auto"),{"> div":{display:"flex",alignItems:"stretch",width:"100%",height:"100%"},"> div > .cm-editor":{flex:"1 1 auto",width:"100%"}}];return(0,o.tZ)(u.u_,{css:[{maxHeight:"90%",maxWidth:"90%"}],preventClose:!0,isOpen:r,onRequestClose:function(){},children:(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(va.h,{level:3,variant:"headerDefault",children:"Replit is out of sync!"}),(0,o.BX)(va.x,{multiline:!0,children:["Sometimes Replit has trouble making sure everyone's code is the same. Let us know which version of"," ",a.length>1?"these files":"this file"," you'd like to keep."," ",a.length>1?(0,o.BX)("strong",{children:["There are ",a.length," files impacted by this."]}):""]}),t?(0,o.tZ)(sr.Loader,{}):(0,o.BX)(o.HY,{children:[l.length?(0,o.tZ)(u.Ph,{initialSelectedItem:l[0],selectedItem:l.find((function(e){return e.path===s})),items:l,onChange:function(e){c(e.path)}}):null,i?(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(16),u.l0.justify.start,u.l0.align.center,u.l0.pt(16),u.l0.p(8),u.l0.backgroundColor.redDimmest,u.l0.font.code],children:[(0,o.tZ)(va.x,{variant:"subheadDefault",children:"Debug View"}),(0,o.BX)(va.x,{children:["Divergence type: ",null===d||void 0===d?void 0:d.case]})]}):null,(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8)],children:[(0,o.BX)(u.G7,{css:[u.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,o.tZ)(va.x,{variant:"subheadDefault",children:"My changes"}),(0,o.tZ)(u.Tg,{elevated:!0,css:[u.l0.flex.growAndShrink(1),u.l0.py(8)],children:(0,o.tZ)(u.G7,{css:m,children:(0,o.tZ)(np.q,{diffViewer:f})})}),(0,o.BX)(u.G7,{css:[u.l0.pt(16)],children:[(0,o.tZ)(va.x,{multiline:!0,css:[u.l0.textAlign.center],children:"This might disrupt other people's work or create unexpected bugs."}),(0,o.tZ)(u.zx,{onClick:function(){p("local")},text:"Reset to Mine"})]})]}),(0,o.BX)(u.G7,{css:[u.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,o.tZ)(va.x,{variant:"subheadDefault",children:"Shared changes"}),(0,o.tZ)(u.Tg,{elevated:!0,css:[u.l0.flex.growAndShrink(1),u.l0.py(8)],children:(0,o.tZ)(u.G7,{css:m,children:(0,o.tZ)(np.q,{diffViewer:h})})}),(0,o.BX)(u.G7,{css:[u.l0.pt(16),u.l0.justify.end],children:[(0,o.tZ)(va.x,{multiline:!0,css:[u.l0.textAlign.center],children:"This is the safest option and won't disrupt other's work."}),(0,o.tZ)(u.zx,{onClick:function(){p("remote")},text:"Sync to Shared",colorway:"primary"})]})]})]})]})]})})}var ip=t(1557);function op(){var e=(0,A.Z)().fs,n=(0,p.useState)(!1),t=n[0],r=n[1],i=(0,p.useState)(!1),a=i[0],l=i[1],s=(0,xa.D)();(0,p.useEffect)((function(){if(!a)return e.onDiskQuotaExceeded((function(){r(!0)}))}),[e,a]);var c=function(){r(!1)};return(0,o.tZ)(u.u_,{isOpen:t,onRequestClose:c,children:(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.BX)(u.h4,{level:3,variant:"headerDefault",children:["Oops! This Repl's disk is full"," ",(0,o.tZ)(ip.Z,{color:u.TV.accentNegativeDefault,size:20})]}),(0,o.BX)(u.xv,{multiline:!0,variant:"subheadDefault",children:["Please free up space by deleting some files. You can open the file tree by clicking the ",(0,o.tZ)(Jl.Z,{})," icon on the left."]}),(0,o.tZ)(u.xv,{multiline:!0,children:"You can check how much space you are using from the Repl Resources section under the file tree."}),(0,o.tZ)(u.xv,{multiline:!0,variant:"small",children:"We apologize for the inconvenience. We are working on a solution to allow you to boost your disk limits."}),(0,o.BX)(u.G7,{css:u.l0.rowWithGap(8),tag:"label",children:[(0,o.tZ)(u.XZ,{id:s,checked:a,onChange:function(e){return l(Boolean(e.currentTarget.value))}}),(0,o.tZ)(u.xv,{multiline:!0,variant:"small",children:"Do not show this message again for this session."})]}),(0,o.tZ)(u.zx,{onClick:c,text:"Close"})]})})}var ap=t(91759),lp=t(25602),sp=t(89390),cp=t(33404),up=function(){var e=(0,r.Z)((function(e,n){var t,r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(0,lp.u9)()?[4,(0,lp.mv)(e)]:[2,!1];case 1:return t=i.sent(),r=t.path,o=t.line,a=t.col,r?(n.openFile(r,{line:o,col:a}),[2,!0]):[2,!1]}}))}));return function(n,t){return e.apply(this,arguments)}}();function dp(){return function(){var e=(0,A.Z)(),n=e.fs,t=e.session,o=e.dotReplit,a=(0,Te.Z)(),l=(0,O.Dv)(Y.QP),s=(0,S.Z)(l),c=(0,p.useState)(!1),u=c[0],d=c[1],f=(0,O.Dv)(cp.Mn),h=(0,p.useRef)(!1);(0,p.useEffect)((function(){if(u&&!h.current)if(l){var e=(0,lp.YM)({path:l}),n=window.location.hash;if(n.slice(1)!==l&&!n.startsWith(e+":")){var t=new URL(window.location.href);t.hash=e,window.history.pushState(null,"",t)}}else{if(!window.location.hash)return;history.pushState("",document.title,window.location.pathname+window.location.search)}}),[u,l]),(0,p.useEffect)((function(){function e(){return(e=(0,r.Z)((function(){var e;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return f?s.current?(d(!0),[2]):[4,up(n,t)]:[2];case 1:return e=r.sent(),d(!0),e||s.current||"saved"===f||(0,sp.P)(n,t,o,a),[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t,o,a,s,f]),(0,p.useEffect)((function(){if(f){var e=function(){var e=(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return h.current=!0,[4,up(n,t)];case 1:return e.sent(),h.current=!1,[2]}}))}));return function(){return e.apply(this,arguments)}}();return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}}}),[f,n,t])}(),null}var pp=t(43530),fp=t(98814);function hp(){var e=(0,xn.Z)(["\n  query ExtensionStore($replId: String!) {\n    extensionList(includeNonBlessed: true) {\n      ...TopLevelExtension\n      installation(replId: $replId) {\n        ...TopLevelExtensionInstallation\n      }\n    }\n  }\n  ","\n  ","\n"]);return hp=function(){return e},e}var mp=(0,wn.Ps)(hp(),fp.R9,fp.gp);function vp(){var e=Ur(),n=(0,k.D)({controlName:"flag-extension-creator",default:!1,type:"boolean"}),t=(0,Te.Z)(),a=(0,lr.WF)(),l=(0,lr.td)(),s=(0,lr.ot)(),c=(0,lr.L4)();return p.useEffect((function(){t&&e&&c(t)}),[t,e,c]),nn({match:H.pl,commands:function(e){return e.active||""!==e.search?[{match:H.pl,data:{type:"action",label:"URL",icon:(0,o.tZ)(zo.Z,{}),description:"Add an extension by URL",run:function(){var e=prompt("insert extension url");e&&l({url:e,name:"Extension",extensionId:null,installationId:null})}}},{match:H.pl,data:{type:"context",label:"Store",icon:(0,o.tZ)(ir.Z,{}),description:"Browse the extension store"},commands:function(){var e=(0,r.Z)((function(e){var n,r,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e.active?[4,null===je.l||void 0===je.l?void 0:je.l.query({query:mp,variables:{replId:t}})]:[2,[]];case 1:return!(n=i.sent())||n.error?[2,[]]:(r=n.data.extensionList)?[2,r.map((function(e){return{match:H.pl,data:{type:"action",label:e.name,icon:(0,o.tZ)(ir.Z,{}),description:null!==(l=e.description)&&void 0!==l?l:"",run:function(){e.url&&(e.installation?s(e.installation.id):a({replId:t,extension:e}))}}}}))]:[2,[]]}}))}));return function(n){return e.apply(this,arguments)}}()},{match:H.pl,data:{type:"action",label:"Docs",icon:(0,o.tZ)(pp.Z,{}),description:"Read the extensions docs",run:function(){l({url:"/extensions-docs",name:"Extension",extensionId:null,installationId:null})}}}]:[]},data:{type:"context",label:"Extensions",icon:(0,o.tZ)(ir.Z,{}),description:"Manage extensions"}},{enabled:n}),null}var gp=t(51995),bp=t(91082),yp=t(48920),Zp=t(83117),xp={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"Enter"};function wp(e){var n=e.isAdmin,t=ye(),r=(0,p.useState)(!1),i=r[0],a=r[1],l=(0,Y.AA)(),s=(0,A.Z)(),c=s.fs,u=s.container,d=s.runner,f=(0,lo.L7)(d),h=(0,$.T)(),m=(0,Ne.C)();(0,_.Il)((function(){return[en.id,function(){return t()}]}),[t]),(0,Ua.x)(q.q,{run:function(){t(q.i({openFile:m,fs:c,shouldHideFile:h,getRecentFiles:l}))}}),(0,Ua.x)(V.q,{run:function(){t(V.F({container:u,keyboardShortcut:!0}))}}),nn(q.i({openFile:m,fs:c,shouldHideFile:h,getRecentFiles:l,keyboardShortcut:!0}));var v=(0,Ie.Q)("flagGhostrunner");return nn(V.F({container:u,activeOnly:v})),nn({match:H.pl,data:{type:"action",icon:(0,o.tZ)(gp.Z,{}),label:"Run",description:"Run Repl",run:function(){d.run()},keyboardShortcut:xp}},{enabled:f===yp.A.IDLE}),(0,Ua.x)(xp,{run:function(){f===yp.A.RUNNING&&d.stopRun(),d.run()},enabled:f!==yp.A.OFFLINE}),nn({match:H.pl,data:{type:"action",icon:(0,o.tZ)(bp.Z,{}),label:"Stop",description:"Stop Repl",run:function(){d.stopRun()}}},{enabled:f===yp.A.RUNNING}),nn({match:H.pl,data:{type:"action",icon:(0,o.tZ)(Zp.Z,{}),label:"Kill 1",description:"Kill the Repl pid1 process if it's in a bad state (admin only)",run:function(){u.exec("kill","1")}}},{enabled:n}),nn({match:(0,H.zf)({defaultScore:.5}),data:{type:"action",label:"Create",icon:(0,o.tZ)(zo.Z,{}),description:"Create a new Repl",run:function(){a(!0)}}}),(0,o.tZ)(pa.u,{isOpen:i,onRequestClose:function(){return a(!1)},maxWidth:600,centered:!0,children:(0,o.tZ)(rl.Z,{})})}var kp=(0,p.memo)(wp),Cp=t(21603),Sp=t(13819),Rp=t(75192),Tp=t(43186),Ip=t(18888),Pp=t(58482),Ep=t(6801),Gp=t(11213),Dp=t(75436);function Up(){var e=(0,xn.Z)(["\n  subscription ThreadUpdates($replId: String!) {\n    updatedThread: annotationUpdatesByRepl(replId: $replId) {\n      id\n      ...AnnotationsUIAnchor\n    }\n  }\n  ","\n"]);return Up=function(){return e},e}var Bp={},Mp=(0,wn.Ps)(Up(),Ep.j7);function Lp(e){!function(e){var n=(0,Zn.Z)({},Bp,e);Dp.m(Mp,n)}({variables:{replId:e},onData:function(n){var t,r,i=null===(t=n.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.updatedThread;i&&"AnnotationAnchor"===i.__typename&&(n.client.cache.updateQuery({query:Ep.yi,variables:{replId:e}},(function(e){return(0,ee.ZP)(e,(function(e){null!==e&&"Repl"===e.repl.__typename&&(e.repl.annotationAnchors.find((function(e){return e.id===i.id}))||e.repl.annotationAnchors.push(i))}))})),n.client.cache.updateQuery({query:Gp.Jq,variables:{replId:e,path:i.path}},(function(e){return(0,ee.ZP)(e,(function(e){var n;e&&"ThreadsByFileResult"===(null===(n=e.threadsByFile)||void 0===n?void 0:n.__typename)&&(e.threadsByFile.threads.find((function(e){return e.id===i.id}))||e.threadsByFile.threads.push((0,po.Z)((0,Zn.Z)({},i),{messageCount:i.messages.length,unreadCount:i.messages.filter((function(e){return!e.seen})).length,participants:i.messages.filter((function(e){return!!e.user})).map((function(e){return e.user}))})))}))})))}})}var _p=t(15335);function jp(){var e=(0,xn.Z)(["\n  subscription RegisterReplConnection($replId: String!) {\n    replConnection(replId: $replId)\n  }\n"]);return jp=function(){return e},e}var Xp={},Np=(0,wn.Ps)(jp());var zp=t(11887);function Ap(){!function(e){var n=(0,Zn.Z)({},Xp,e);Dp.m(Np,n)}({variables:{replId:(0,Te.Z)()},skip:(0,_p.Z)()!==zp.em.CONNECTED})}var Op=t(5275),Fp=t(45528),Wp=!1;var Hp=t(36774),qp=(0,O.cn)(null,(function(e,n){n(Y.g4,{tiling:null,floating:[]}),n(Y.yv,[]),n(Y.Md,null),n(cp.Mn,null),n(Hp.dv,!1),n(Js.dK,!1),n(As.sx,null),n(tu,null),n(K.vA)}));function Vp(e){var n=(0,S.Z)(e.initialLayoutState),t=(0,Y.kr)(),r=(0,Te.Z)(),i=(0,cp.mk)(),o=(0,O.b9)(qp);(0,p.useEffect)((function(){if(t)return i({initialLayoutState:n.current}),function(){o()}}),[r,i,o,t,n])}function Yp(){var e=(0,xn.Z)(["\n  mutation HandlePortOpenedUpdateReplConfig($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        config {\n          isVnc\n          isServer\n        }\n      }\n    }\n  }\n"]);return Yp=function(){return e},e}var Kp={},$p=(0,wn.Ps)(Yp());var Qp=t(91296),Jp=t.n(Qp),ef=t(12946);function nf(){var e=(0,Te.Z)(),n=(0,A.Z)().container,t=(0,Fn.o3)(),r=(0,x.Z)(function(e){var n=(0,Zn.Z)({},Kp,e);return Xi.D($p,n)}(),1)[0],i=(0,Tp.Z)().preferences.webviewAutoOpenOnPortOpened,o=(0,x.Z)((0,ef.e)(),1)[0];(0,p.useEffect)((function(){return n.onPortOpened(Jp()((function(n){var a,l=n.isVnc;i&&!o&&t(l?"vnc":"webview"),a=l?{isVnc:!0}:{isServer:!0},r({variables:{input:(0,Zn.Z)({id:e},a)}})}),500,{leading:!0}))}),[n,t,r,e,i])}function tf(){var e=(0,xn.Z)(["\n  subscription ReplEnvironmentUserCanWrite($replId: String!) {\n    currentUserCanWrite(replId: $replId)\n  }\n"]);return tf=function(){return e},e}var rf={},of=(0,wn.Ps)(tf());function af(e){var n=e.isAnon,t=e.isOwner,r=e.ignoreUnloadPrompt;!function(e){var n=(0,Zn.Z)({},rf,e);Dp.m(of,n)}({skip:n||t,variables:{replId:(0,Te.Z)()},onData:function(e){var n=e.data.data;!1===(null===n||void 0===n?void 0:n.currentUserCanWrite)&&(r(!0),window.location.reload())}})}function lf(){var e=(0,xn.Z)(["\n  query ReplEnvironmentNotifyUserJoin($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        title\n      }\n    }\n  }\n"]);return lf=function(){return e},e}var sf=(0,wn.Ps)(lf());function cf(){var e=(0,xn.Z)(["\n  query BrowserNotifications($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      image\n    }\n  }\n"]);return cf=function(){return e},e}var uf=(0,wn.Ps)(cf());function df(e){return pf.apply(this,arguments)}function pf(){return(pf=(0,r.Z)((function(e){var n,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return null===je.l?[2]:[4,je.l.query({query:uf,variables:{username:e}})];case 1:return[2,null===(t=r.sent().data)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.image]}}))}))).apply(this,arguments)}function ff(){return"Notification"in window?"true"===ua.Z.get(bf,"string")?"dismissed":window.Notification.permission:"denied"}function hf(){return mf.apply(this,arguments)}function mf(){return(mf=(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){try{window.Notification.requestPermission().then()}catch(n){return[2,new Promise((function(e){window.Notification.requestPermission((function(n){e(n)}))}))]}return[2,window.Notification.requestPermission()]}))}))).apply(this,arguments)}function vf(){return gf.apply(this,arguments)}function gf(){return(gf=(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,hf()];case 1:return e.sent(),yf(!1),[2]}}))}))).apply(this,arguments)}var bf="notifications/dismissedModal";function yf(e){ua.Z.set(bf,String(e))}var Zf={};function xf(){return(xf=(0,r.Z)((function(e){var n,t,r,o,a,l,s,c,u,d,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=e.title,t=e.body,r=e.badge,o=e.icon,a=e.iconByUsername,l=e.tag,s=e.onClick,c=e.cacheDuration,u=void 0===c?0:c,!document.hidden&&document.hasFocus()?[2]:"granted"!==ff()?[2]:(d=Date.now(),l in Zf&&Zf[l]+u>d?[2]:a?[4,df(a)]:[3,2]);case 1:o=i.sent(),i.label=2;case 2:return p=new window.Notification(n,{body:t,badge:r||"/public/images/logo-grayscale.png",icon:o||"/public/images/icon-square.png",tag:l}),setTimeout((function(){p.close()}),1e4),p.addEventListener("click",(function(){window.focus(),p.close()})),s&&p.addEventListener("click",s),Zf[l]=d,[2]}}))}))).apply(this,arguments)}function wf(){return wf=(0,r.Z)((function(e){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:if(!je.l)throw new Error("Expected Apollo client");return[4,je.l.query({query:sf,variables:{id:e}})];case 1:return[2,"Repl"===(null===(n=t.sent().data)||void 0===n?void 0:n.repl.__typename)?n.repl.title:null]}}))})),wf.apply(this,arguments)}function kf(){var e=(0,A.Z)(),n=e.container,t=e.presence;p.useEffect((function(){var e=t.onUserJoin((function(t){var r,i=null===(r=n.getContext())||void 0===r?void 0:r.repl;if(i){var o=t.username;return function(e){return wf.apply(this,arguments)}(i.id).then((function(e){e&&function(e){xf.apply(this,arguments)}({title:"",body:"".concat(o," joined ").concat(e),tag:"".concat(i.id,"-").concat(o,"-joined"),iconByUsername:o,cacheDuration:9e5})})),function(){e()}}}))}),[t,n])}function Cf(){var e=(0,Xo.Z)(),n=e.showConfirm,t=e.showNotice,r=e.hideMessage,i=e.showError,o=(0,A.Z)().container;(0,p.useEffect)((function(){var e=o.onToast((function(e){e.startsWith("PANIC")||t(e,function(e){var n=e.length/.025+1e3;return Math.max(1e4,n)}(e))})),a=null,l=!1,s=o.onConnectionStateChanged((function(e){if(a&&(r(a),a=null),e===zp.em.CONNECTED)return l=!0,void(a=n("Connected",1500));l&&(e!==zp.em.CONNECTING?e!==zp.em.DISCONNECTED||(a=i("Disconnected")):a=t("Reconnecting"))}));return function(){a&&r(a),e(),s()}}),[o,n,t,i,r])}var Sf=t(68122),Rf=t(39571);function Tf(e){var n=e.onOpenFile,t=(0,A.Z)(),r=function(e){var n=e.toolchain,t=e.debuggest;return(0,p.useEffect)((function(){var e=function(e){(null===e||void 0===e?void 0:e.debuggers)&&(null===e||void 0===e?void 0:e.debuggers.length)>0&&t.connect()};e(n.configs.current),n.configs.subscribe((function(n){e(n)}))}),[n,t]),(0,Sf.Z)(t.mainClient)}({debuggest:t.debuggest,toolchain:t.toolchain});!function(e){(0,p.useEffect)((function(){if(e){var n=e.onStarted((function(e){(0,b.j)(b.U3.DEBUGGER_USED,{action:"started",joined:e})})),t=e.onPaused((function(e){(0,b.j)(b.U3.DEBUGGER_USED,{action:"paused",reason:e})})),r=e.onBreakpoint((function(n){(0,b.j)(b.U3.DEBUGGER_USED,{action:"breakpointToggled",breakpointAction:n,state:e.state.current})}));return function(){n(),t(),r()}}}),[e])}(r),function(e,n){var t,r=n.onOpenFile,i=(0,S.Z)(r),o=(0,Sf.Z)(e?e.stackFrames:null),a=null===o||void 0===o?void 0:o[0],l=null===a||void 0===a||null===(t=a.source)||void 0===t?void 0:t.path,s=null===a||void 0===a?void 0:a.line;(0,p.useEffect)((function(){if(l&&s&&e){var n=(0,Rf.om)(l);n?i.current({path:n,line:s}):e.stepOut()}}),[e,l,s,i])}(r,{onOpenFile:n})}var If=t(1250),Pf={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"S"};var Ef=t(13897),Gf=t(42613);var Df=t(71490);var Uf=t(48483),Bf=t(22371),Mf="video.json",Lf=(0,es.join)(Bf.V,Mf);function _f(e,n){return jf.apply(this,arguments)}function jf(){return(jf=(0,r.Z)((function(e,n){var t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return n.find((function(e){return e.type===Kt.Tv.File&&e.filename===Mf}))?[4,e.readFile(Lf)]:[2,null];case 1:return(t=r.sent()).error?[2,null]:[2,t.content.toString()]}}))}))).apply(this,arguments)}function Xf(){!function(e){var n=(0,A.Z)().fs,r=(0,Xr.Z)().isTutorial,i=(0,S.Z)(e);(0,p.useEffect)((function(){if(r){var e=!1,o=n.watchDir(Bf.V,{onChange:function(r){Promise.all([t.e(1142).then(t.t.bind(t,11142,23)),_f(n,r)]).then((function(n){var t=(0,x.Z)(n,2),r=t[0],o=t[1];if(!e)if(o){var a=null;try{a=r.parse(o)}catch(s){}var l="object"===typeof a&&"string"===typeof a.embedUrl?a.embedUrl:null;i.current(l?{embedUrl:l}:null)}else i.current(null)}))},onMoveOrDelete:function(){i.current(null)},onError:function(){i.current(null)}});return function(){e=!0,o()}}}),[n,r,i])}((0,Va.gQ)())}var Nf=t(55528),zf=t(4862),Af=t(58823);var Of=(0,O.cn)((function(e){return e(K.Eh).find((function(n){return"education"===e(n.data).type}))||null})),Ff=(0,O.cn)(null,(function(e,n){var t=e(Of);(null===t||void 0===t?void 0:t.isHidden)?n(Fn.Oe,t.paneId):t||n(Ue.g2,{panes:[{type:"education"}],placement:"rightOf",percent:20,relativeTo:["tiling"],makeActive:!0})}));var Wf=t(88729);function Hf(){var e=(0,Wf.T)(),n=(0,O.b9)(Ff);(0,p.useEffect)((function(){e&&n()}),[e,n])}function qf(){var e=(0,xn.Z)(["\n  query TrackMultiplayer($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        multiplayers {\n          id\n        }\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return qf=function(){return e},e}var Vf={},Yf=(0,wn.Ps)(qf());function Kf(){var e,n=(0,A.Z)().presence,t=(0,Te.Z)(),r=(0,p.useRef)(!1),i=function(e){var n=(0,Zn.Z)({},Vf,e);return Ui.a(Yf,n)}({variables:{replId:t}}),o=i.data,a=i.loading,l=0;"Repl"===(null===o||void 0===o?void 0:o.repl.__typename)&&(l=o.repl.multiplayers.length,"User"===(null===(e=o.repl.owner)||void 0===e?void 0:e.__typename)&&(l+=1));(0,p.useEffect)((function(){if(!a&&!r.current){var e=n.onActiveUsersChange((function(){r.current=!0,e(),(0,b.j)(b.U3.MULTIPLAYER_REPL_OPENED,{replId:t,participantsCount:l,usersOnlineCount:n.getActiveUsers().length})}));return e}}),[t,a,l,n])}var $f=t(16568);function Qf(e){var n,t=e.repl,r=e.currentUser,i=r.id===(null===(n=t.user)||void 0===n?void 0:n.id),o=(0,Tp.Z)().preferences,a=(0,A.Z)().session;!function(){var e=(0,A.Z)(),n=e.lspnix,t=e.lsp,r=e.fs,i=(0,Tp.Z)().preferences.codeIntelligence,o=(0,ya.Z)()||"",a=(0,Nf.Z)(o);p.useEffect((function(){if(!i)return t.stop(),void n.disable();t.start(),n.enable()}),[n,t,i]),p.useEffect((function(){if(a&&o&&(0,Za.Mb)(o))return a.onWorkspaceEdit((function(e){var n=e.edit;return(0,Af.w)({edit:n,fs:r,client:a}),{applied:!0}}))}),[r,a,o]),p.useEffect((function(){if(a&&o&&(0,Za.Mb)(o)&&(0,zf.Z)(a).isTextDocumentSyncSupported)return r.watchTextFile(o,{onFlush:function(){a.isOpen(o)&&a.notify.didSave(o)}})}),[r,o,a])}(),function(){var e=(0,Df.ne)();(0,p.useEffect)((function(){var n=function(){e({force:!1}),e.flush()};return window.addEventListener("beforeunload",n),function(){window.removeEventListener("beforeunload",n)}}),[e]),(0,p.useEffect)((function(){var n=function(){"hidden"===document.visibilityState&&e({force:!1})};return document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n)}}),[e]),(0,p.useEffect)((function(){var n=null;return function t(){n=setTimeout((function(){e({force:!1}),t()}),6e4)}(),function(){n&&clearTimeout(n)}}),[e]),(0,p.useEffect)((function(){return function(){e({force:!1}),e.flush()}}),[e])}(),(0,Ip.Z)(),(0,Op.Z)({workspaceType:"desktop"}),p.useEffect((function(){var e=function(e){"s"===e.key&&(0,L.jh)(e)&&e.preventDefault()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),kf(),Ap(),function(){var e=(0,A.Z)().presence;p.useEffect((function(){return e.onFollowingUsersChanged((function(e){var n=e.followingUsers,t=e.type,r=n.length;"follow"===t?(0,b.j)(hr.U3.REMOTE_USER_CURSOR_FOLLOWED,{numFollowers:r}):(0,b.j)(hr.U3.REMOTE_USER_CURSOR_UNFOLLOWED,{numFollowers:r})}))}),[e])}(),af({isAnon:!1,isOwner:i,ignoreUnloadPrompt:(0,Pp.Z)()}),function(){var e=(0,A.Z)().presence,n=(0,ya.Z)();(0,p.useEffect)((function(){e.updateOpenFile(n)}),[e,n])}(),Cf(),(0,Hp.ZP)(),(0,If.Z)(),function(){var e=(0,A.Z)().runner,n=(0,Fn.fN)(),t=(0,Fn.dK)(),r=(0,Fn.Fg)(),i=(0,Hp.Ln)(),o=(0,cp.x7)(),a=(0,g.e)(d.y.Output);p.useEffect((function(){if(o&&(null===a||void 0===a?void 0:a.isActive)){var e=setInterval((function(){n()}),200);return function(){clearInterval(e)}}}),[null===a||void 0===a?void 0:a.isActive,n,o]),p.useEffect((function(){if(o)return e.onStateChanged((function(e){e===yp.A.RUNNING&&n()}))}),[e,n,o]),p.useEffect((function(){o&&(i?t({type:"instructions"}):r({type:"instructions"}))}),[i,t,r,o]),(0,Ua.x)(Pf,{run:function(){return t({type:"shell"})},enabled:Boolean(o)})}(),(0,Ef.Z)(),function(){var e=(0,A.Z)(),n=e.presence,t=e.session;(0,p.useEffect)((function(){return n.onUserOpenedFile((function(e){var r=e.user,i=e.file,o=n.getFollowedUser();o&&o.id===r.id&&i&&t.openFile(i)}))}),[n,t]);var r=(0,p.useState)(null),i=r[0],o=r[1];(0,p.useEffect)((function(){return n.onFollowedUserChanged(o)}),[n,t]),(0,p.useEffect)((function(){var e=function(){n.unfollowUser()};if(i){var t=setTimeout((function(){document.addEventListener("click",e)}),0);return function(){clearTimeout(t),document.removeEventListener("click",e)}}}),[i])}(),(0,Uf.Z)(),Xf(),Hf(),function(){var e=(0,Xr.Z)().isTutorial,n=(0,Va.$x)();(0,p.useEffect)((function(){e&&n()}),[n,e])}(),function(){var e=(0,Te.Z)(),n=El(e),t=Dl(e),r=(0,Qn.C)();(0,p.useEffect)((function(){r({paneType:"chat",indicatorType:n>0?"unread":void 0})}),[r,n]),(0,p.useEffect)((function(){r({paneType:"threadInbox",indicatorType:t>0?"unread":void 0})}),[r,t])}(),Lp(t.id),Tf({onOpenFile:function(e){a.openFile(e.path),a.updateDeeplink(e)}}),function(){var e=(0,Gf.c2)().data,n=null===e||void 0===e?void 0:e.currentUser,t=(0,O.b9)(Ie.H);(0,p.useEffect)((function(){t({flagDraftFiles:Boolean(null===n||void 0===n?void 0:n.flagDraftFiles),flagGhostrunner:Boolean(null===n||void 0===n?void 0:n.flagGhostrunner)})}),[t,n])}();var l=["html","html_beta"].includes(t.language),s=(0,Sp.t7)();(0,p.useEffect)((function(){return s(l)}),[s,l]),Vp({initialLayoutState:t.layoutState||null}),(0,p.useEffect)((function(){return Rt.YA("replId",t.id),Rp.c_.setTag("replId",t.id),function(){Rt.YA("replId",void 0),Rp.c_.setTag("replId",void 0)}}),[t.id]),function(e){var n=e.repl,t=e.currentUser,r=(0,A.Z)().container,i=(0,w.useRouter)(),o=(0,Fp.b)({repl:n,currentUser:t});(0,p.useEffect)((function(){var e;if(o)return Wp||(Wp=!0,e=i.query.initialConnectionMetadata),r.connect({customConnectionMetadata:e,context:o}),function(){r.close()}}),[o,r]),(0,p.useEffect)((function(){return function(){r.destroy()}}),[r])}({repl:t,currentUser:r}),nf(),(0,p.useEffect)((function(){var e,n="Repl"===(null===(e=t.origin)||void 0===e?void 0:e.__typename)?t.origin.id:null;return(0,Cp.Fy)({id:t.id,slug:t.slug,originId:n,roles:r.roles&&r.roles.map((function(e){return e.name}))}),function(){(0,Cp.dv)()}}),[t,r.roles]);var c=(0,Y.Id)(),u=(0,Kr.T)();(0,p.useEffect)((function(){c(!u)}),[u,c]);var f=o.isLayoutStacked,h=(0,Sp.Nv)();return(0,p.useEffect)((function(){return h(f)}),[h,f]),Kf(),(0,$f.B)(),null}var Jf=t(92364);var eh=t(52869),nh={Content:function(e){var n=e.options,t=n.openPane,r=n.paneId,i=n.replacePane,a=e.pane.data.autoFocus,l=(0,ne.cr)({paneId:r}),s=(0,p.useRef)(null);(0,p.useEffect)((function(){var e;l&&(null===(e=s.current)||void 0===e||e.call(s))}),[l]),(0,D.L5)((function(){return{focus:function(){var e;null===(e=s.current)||void 0===e||e.call(s)}}}),[s]);var c=ve({currentPaneId:r,openFile:(0,p.useCallback)((function(e){var n=e.path;i({type:(0,D.Dp)({path:n}),data:{path:n}})}),[i])});return(0,o.tZ)(z.X,{autoFocus:a,command:c,onSelect:function(e){if("openFile"!==e.data.type)"openPane"!==e.data.type?"action"!==e.data.type||e.data.run():t(e.data.pane);else{var n=e.data.deeplink.path,r={type:(0,D.Dp)({path:n}),data:{path:n}};t(r)}},focusRef:s})},Icon:function(){return null},getTitle:function(){return"New tab"}},th=t(82947),rh=t(34467),ih=t(63177),oh=t(20787),ah=t(76832),lh=t(47886),sh=t(56483),ch={Content:function(e){var n=e.options,t=n.paneId,r=n.isHidden,i=(0,A.Z)(),a=i.container,l=i.fs,s=i.session,c=i.runner,u=(0,O.b9)(Fn.Oe),d=(0,O.Dv)(ah.f),p=(0,ah.Z)();return(0,lh.Z)({container:a,runner:c,refreshWebView:p}),(0,sh.Z)({runner:c,refreshWebView:p}),(0,Ua.x)(th.b,{run:function(){u(t),p()}}),nn({match:H.pl,data:{type:"action",label:"Refresh",icon:(0,o.tZ)(oh.Z,{}),description:"Refresh webview",keyboardShortcut:th.b,run:function(){u(t),p()}}}),(0,o.tZ)(ih.Z,{fs:l,session:s,ref:d,isVisible:!r})},Icon:function(e){var n=e.size;return(0,o.tZ)(rh.Z,{size:n})},getTitle:function(){return"Webview"}};function uh(e){return(0,o.BX)(o.HY,{children:[(0,o.tZ)(Ao.Z,{truncate:!0,level:5,children:"Call stack"}),(0,o.tZ)(rr.gC,{align:"stretch",constrainWidth:!0,children:e.frames.map((function(n){return(0,o.tZ)(dh,{frame:n,onClick:e.onFrameClick},n.id)}))})]})}function dh(e){var n,t,r=e.frame,i=e.onClick,a=null===(n=r.source)||void 0===n?void 0:n.name,l=null===(t=r.source)||void 0===t?void 0:t.path,s=a&&(0,Rf.om)(a),c=l&&(0,Rf.om)(l),u=l&&(0,Rf.IT)(l);return(0,o.BX)(o.HY,{children:[(0,o.BX)("div",{onClick:function(){return u&&i(u,r.line)},className:"jsx-c66d0af1ad52f929 frame",children:[(0,o.tZ)("div",{className:"jsx-c66d0af1ad52f929 label name",children:r.name}),(0,o.BX)("div",{className:"jsx-c66d0af1ad52f929 label path",children:[(0,o.tZ)("span",{className:"jsx-c66d0af1ad52f929 line",children:r.line}),s||c||a||l]})]}),(0,o.tZ)(co(),{id:"c66d0af1ad52f929",children:".frame.jsx-c66d0af1ad52f929{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;max-width:100%;height:var(--space-32);cursor:pointer;color:var(--foreground-dimmer);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-small);font-family:var(--font-family-code)}.frame.jsx-c66d0af1ad52f929:hover{background-color:var(--background-higher);color:var(--foreground-default)}.label.jsx-c66d0af1ad52f929{font-size:var(--font-size-default);padding-left:var(--space-8);padding-right:var(--space-8);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.name.jsx-c66d0af1ad52f929{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;background-color:var(--background-higher);padding:1px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.path.jsx-c66d0af1ad52f929{-webkit-box-flex:0;-webkit-flex:0 1 auto;-moz-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto}.line.jsx-c66d0af1ad52f929{display:inline-block;margin-right:var(--space-8);background-color:var(--background-higher);padding:1px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}"})]})}function ph(e){var n=[],t=!0,r=!1,i=void 0;try{for(var a,l=e.breakpoints[Symbol.iterator]();!(t=(a=l.next()).done);t=!0){var s=(0,x.Z)(a.value,2),c=s[0],u=s[1],d=!0,p=!1,f=void 0;try{for(var h,m=u[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value;n.push((0,o.tZ)(fh,{breakpoint:v,file:c,line:v.line,verified:v.verified,onClick:e.onBreakpointClick,onRemove:e.onRemove},"".concat(c,":").concat(v.line,":").concat(v.pid1Id,":").concat(v.dapId)))}}catch(g){p=!0,f=g}finally{try{d||null==m.return||m.return()}finally{if(p)throw f}}}}catch(g){r=!0,i=g}finally{try{t||null==l.return||l.return()}finally{if(r)throw i}}return(0,o.BX)(o.HY,{children:[(0,o.tZ)(Ao.Z,{truncate:!0,level:5,children:"Breakpoints"}),n.length>0?(0,o.tZ)(rr.gC,{align:"stretch",constrainWidth:!0,children:n}):(0,o.BX)(Oo.Z,{size:"xsmall",foreground:2,children:["To start, add a breakpoint ",(0,o.tZ)("span",{className:"jsx-223474dbb82a953c breakpoint"})," by clicking on the line number.",(0,o.tZ)(co(),{id:"223474dbb82a953c",children:".breakpoint.jsx-223474dbb82a953c{display:inline-block;background-color:var(--accent-primary-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:8px;height:8px}"})]})]})}function fh(e){var n=e.breakpoint,t=e.file,r=e.line,i=e.verified,a=e.onClick,l=e.onRemove,s=(0,Rf.om)(t);return(0,o.BX)(o.HY,{children:[(0,o.tZ)(rr.gC,{spacing:1,align:"stretch",children:(0,o.tZ)("div",{className:"jsx-3743f20b19d8f08d breakpoint",children:(0,o.BX)("div",{css:[{"&:hover":{backgroundColor:Wr.TV.backgroundHigher,color:Wr.TV.foregroundDefault},"&:focus-within":{color:Wr.TV.foregroundDefault},"&:hover .frameButton":{background:Wr.TV.backgroundHigher,backgroundColor:Wr.TV.backgroundHigher,opacity:1},"&:focus-within .frameButton":{opacity:1},"&:hover .frameButton:hover":{backgroundColor:Wr.TV.backgroundHighest}}],onClick:function(){a(t,r)},className:"jsx-3743f20b19d8f08d frame",children:[(0,o.tZ)("div",{className:"jsx-3743f20b19d8f08d "+(vo()("circle",{verified:i})||"")}),(0,o.tZ)("div",{className:"jsx-3743f20b19d8f08d line",children:r}),(0,o.tZ)("div",{className:"jsx-3743f20b19d8f08d location",children:(0,o.tZ)("span",{className:"jsx-3743f20b19d8f08d path",children:s||t})}),(0,o.tZ)(u.hU,{className:"frameButton",alt:"Remove breakpoint",css:[{opacity:0}],onClick:function(){l({breakpoint:n})},children:(0,o.tZ)(No.Z,{})})]})})}),(0,o.tZ)(co(),{id:"3743f20b19d8f08d",children:".breakpoint.jsx-3743f20b19d8f08d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;max-width:100%;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.frame.jsx-3743f20b19d8f08d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:var(--space-32);cursor:pointer;color:var(--foreground-dimmer);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-default)}.circle.jsx-3743f20b19d8f08d{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;background-color:var(--accent-primary-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:11px;height:11px;margin-left:var(--space-8);margin-right:var(--space-8);opacity:.5}.verified.jsx-3743f20b19d8f08d{opacity:1}.line.jsx-3743f20b19d8f08d{font-family:var(--font-family-code);background-color:var(--background-higher);padding:1px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.location.jsx-3743f20b19d8f08d{font-family:var(--font-family-code);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;font-size:var(--font-size-default);padding-left:var(--space-8);padding-right:var(--space-8)}.path.jsx-3743f20b19d8f08d{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}"})]})}var hh=t(85593),mh=t(29163),vh=t(4648),gh=t(94270),bh=t(15882),yh=t(8633),Zh=t(76075);function xh(e){var n=e.client,t=e.debugConfig,r=(0,Sf.Z)(null===n||void 0===n?void 0:n.state),i=(0,Sf.Z)(null===n||void 0===n?void 0:n.supportsStepBack);return(0,o.BX)(Hr.G,{css:Wr.l0.rowWithGap(2),children:[i?(0,o.BX)(o.HY,{children:[(0,o.tZ)(mh.h,{size:40,disabled:!n||"paused"!==r,onClick:function(){(0,b.j)(b.U3.DEBUGGER_USED,{action:"lastBreakpoint"}),null===n||void 0===n||n.reverseContinue()},alt:"Last Breakpoint",tooltipContents:"Last Breakpoint",tooltipPlacement:"bottom",children:(0,o.tZ)(vh.Z,{})}),(0,o.tZ)(mh.h,{size:40,disabled:!n||"paused"!==r,onClick:function(){(0,b.j)(b.U3.DEBUGGER_USED,{action:"stepBack"}),null===n||void 0===n||n.back()},alt:"Step Back",tooltipContents:"Step Back",tooltipPlacement:"bottom",children:(0,o.tZ)(qr.Z,{})})]}):null,(0,o.tZ)(kh,{stop:function(){(0,b.j)(b.U3.DEBUGGER_USED,{action:"stop"}),null===n||void 0===n||n.stop()},start:function(){(0,b.j)(b.U3.DEBUGGER_USED,{action:"start"}),null===n||void 0===n||n.start(t)},state:r}),(0,o.tZ)(mh.h,{size:40,disabled:!n||"paused"!==r,onClick:function(){(0,b.j)(b.U3.DEBUGGER_USED,{action:"nextStep"}),null===n||void 0===n||n.next()},alt:"Next Step",tooltipContents:"Next Step",tooltipPlacement:"bottom",children:(0,o.tZ)(_n.Z,{})}),(0,o.tZ)(mh.h,{size:40,disabled:!n||"paused"!==r,onClick:function(){(0,b.j)(b.U3.DEBUGGER_USED,{action:"skipStep"}),null===n||void 0===n||n.skip()},alt:"Skip Step",tooltipContents:"Skip Step",tooltipPlacement:"bottom",children:(0,o.tZ)(bh.Z,{rotate:90})}),(0,o.tZ)(mh.h,{size:40,disabled:!n||"paused"!==r,onClick:function(){(0,b.j)(b.U3.DEBUGGER_USED,{action:"nextBreakpoint"}),null===n||void 0===n||n.continue()},alt:"Next Breakpoint",tooltipContents:"Next Breakpoint",tooltipPlacement:"bottom",children:(0,o.tZ)(gh.Z,{})})]})}var wh=(0,a.F4)({"0%":{opacity:.2},"50%":{opacity:1},"100%":{opacity:.2}});function kh(e){var n=e.state,t=e.start,r=e.stop;return"terminated"===n?(0,o.tZ)(mh.h,{css:Wr.l0.color.accentPrimaryDefault,size:40,onClick:t,alt:"Run",tooltipContents:"Run",tooltipPlacement:"bottom",children:(0,o.tZ)(yh.Z,{})}):"stopping"===n||null===n?(0,o.tZ)(mh.h,{size:40,disabled:!0,alt:"Loading",tooltipContents:"Loading",tooltipPlacement:"bottom",children:(0,o.tZ)(Se.Z,{})}):(0,o.tZ)(mh.h,{css:"initializing"===n||"preinitializing"===n?[Wr.l0.color.foregroundDimmer,{animationName:wh.toString(),animationDuration:"2s",animationIterationCount:"infinite"}]:Wr.l0.color.accentPrimaryDefault,size:40,onClick:r,alt:"Stop",tooltipContents:"Stop",tooltipPlacement:"bottom",children:(0,o.tZ)(Zh.Z,{})})}var Ch=t(6148);function Sh(e){var n=e.children;return(0,o.BX)(u.Tg,{background:"default",css:[u.l0.height("100%"),u.l0.width("100%"),u.l0.p(8),u.l0.overflow("auto"),{borderTopRightRadius:u.TV.borderRadius4,paddingBottom:"44px"}],children:[(0,o.BX)(rr.gC,{spacing:2,align:"stretch",justify:"center",constrainWidth:!0,children:[(0,o.tZ)(rr.Ug,{spacing:1,align:"center",justify:"space-between",constrainWidth:!0,children:(0,o.tZ)(Ao.Z,{truncate:!0,level:4,children:"Debugger"})}),n]}),(0,o.tZ)(co(),{id:"ffa04cbdbbf3badd",children:"a.jsx-ffa04cbdbbf3badd{font-size:var(--font-size-default);color:var(--accent-primary-default);font-weight:var(--font-weight-medium)}"})]})}function Rh(e){var n=(0,xa.H)(),t=(0,A.Z)().debuggest,r=(0,Sf.Z)(t.mainClient),i=(0,Sf.Z)(r?r.state:null),a=(0,Sf.Z)(r?r.stackFrames:null),l=(0,Sf.Z)(r?r.variables:null),s=(0,Sf.Z)(r?r.breakpoints:null),c=(0,O.Dv)(Y.QP),d=(0,O.Dv)(Y.lT),f=(0,ql.T)(),h=!!(null===f||void 0===f?void 0:f.debuggers)&&f.debuggers.length>0,m=(0,p.useState)(null),v=m[0],g=m[1],b=p.useMemo((function(){return function(e,n,t,r){if(!(null===e||void 0===e?void 0:e.debuggers))return[];var i=[];if(n=n.slice(),r&&-1===n.indexOf(r)&&n.splice(0,0,r),t){var o=n.indexOf(t);-1!==o&&(n.splice(o,1),n.splice(0,0,t))}var a=!0,l=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;if(d.match(/(\.[a-z0-9]+)$/)){var p=!0,f=!1,h=void 0;try{for(var m,v=e.debuggers[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var g=m.value;if(g.fileParam){var b=g.fileTypeAttrs||null;null===b&&g.language&&(b=cs.from(g.language)),b&&is(d,b)&&i.push({debuggerOption:g,filePath:d,title:"Debug ".concat(d," (").concat(g.name,")")})}}}catch(S){f=!0,h=S}finally{try{p||null==v.return||v.return()}finally{if(f)throw h}}}}}catch(S){l=!0,s=S}finally{try{a||null==u.return||u.return()}finally{if(l)throw s}}var y=!0,Z=!1,x=void 0;try{for(var w,k=e.debuggers[Symbol.iterator]();!(y=(w=k.next()).done);y=!0){var C=w.value;C.fileParam||i.push({debuggerOption:C,title:"Debug (".concat(C.name,")")})}}catch(S){Z=!0,x=S}finally{try{y||null==k.return||k.return()}finally{if(Z)throw x}}return i}(f||null,d.map((function(e){return e.filePath||""})),c,(null===f||void 0===f?void 0:f.entrypoint)||"")}),[c,d,f]);p.useEffect((function(){(b.length>0&&!v||v&&!b.find((function(e){return e.debuggerOption.id===v.debuggerOption.id&&e.filePath===v.filePath})))&&g(b[0])}),[b]);var y=function(n,t){var r=(0,Rf.om)(n);r&&e.onOpenFile({path:r,line:t})};return h?(0,o.BX)(Sh,{children:[b.length>0&&(0,o.tZ)(u.Ph,{id:n("debug-config"),items:b,selectedItem:v,onChange:function(e){g(e)}}),(0,o.tZ)(xh,{client:r,debugConfig:v||void 0}),s?(0,o.tZ)(ph,{breakpoints:s,onBreakpointClick:y,onRemove:function(e){var n=e.breakpoint;r&&n.pid1Id&&r.removeBreakpoint(n.pid1Id)}}):null,l&&r&&"paused"===i?(0,o.tZ)(hh.Z,{client:r,variables:l}):null,a&&"paused"===i?(0,o.tZ)(uh,{frames:a,onFrameClick:y}):null,r?(0,o.tZ)(u.G7,{css:[u.l0.flex.row,u.l0.justify.end,u.l0.position.absolute,u.l0.bottom(0),u.l0.right(0),u.l0.p(8),u.l0.backgroundColor.backgroundDefault,u.l0.borderRadius(0,0,8,8),{width:"100%"}],children:(0,o.tZ)(u.zx,{small:!0,outlined:!0,onClick:function(){return function(e){if("undefined"===typeof Blob)return;var n=new Blob([e],{type:"text/plain"}),t=document.createElement("a");t.download="debugger-logs.txt",t.href=URL.createObjectURL(n),t.dataset.downloadurl=["text/plain",t.download,t.href].join(":"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),setTimeout((function(){URL.revokeObjectURL(t.href)}),1500)}(r.getDebugLogs())},text:"Download Logs",iconLeft:(0,o.tZ)(Ch.Z,{})})}):null]}):(0,o.tZ)(Sh,{children:(0,o.tZ)(u.h4,{level:2,children:"Sorry, no debugger found."})})}var Th={Content:function(){return(0,o.tZ)(Ih,{})},Icon:function(e){var n=e.size;return(0,o.tZ)(sr.PlayPause,{size:n})},getTitle:function(){return"Debugger"}};function Ih(){var e=(0,A.Z)().session;return(0,o.tZ)(Rh,{onOpenFile:function(n){e.openFile(n.path),e.updateDeeplink(n)}})}function Ph(){var e=(0,eh.U)();return(0,po.Z)((0,Zn.Z)({},e),{webview:ch,commands:nh,debugger:Th})}var Eh=t(25108);function Gh(e){var n=e.repl,t=e.currentUser,r=(0,p.useState)((function(){return(0,D.fK)({config:Ph()})}))[0],i=function(e){var n=e.repl,t=(0,w.useRouter)(),r=(0,Df.Z4)();(0,p.useEffect)((function(){r(n.id)}),[n.id,r]);var i=(0,Ne.C)(),o=(0,oe.uV)(),a=(0,k.D)({controlName:"flag-null-diagnostics"}),l=(0,p.useState)(!1),s=l[0],c=l[1],u=(0,p.useState)(!1),d=u[0],f=u[1];return{services:(0,p.useState)((function(){return(0,I.Z)({runnerMode:"html"===n.language?"html":"shellrunner",onUnrecoverableError:function(e){var n=(0,P.Z)(e);n!==P.G.NotFound?n!==P.G.NotAllowed?n!==P.G.FirewallDenied?(Eh.error(e),o({error:e,tags:{services:!0,environment:"desktop"},origin:"replEnvironmentDesktop: services/unrecoverableError"})):c(!0):f(!0):t.push("/home","~/")},openFile:i,onFirewallDenied:function(){return c(!0)},enableUserEvents:a})}))[0],isFirewallDenied:s,isNotAllowed:d}}({repl:n}),a=i.services,l=i.isFirewallDenied,s=i.isNotAllowed,c=(0,w.useRouter)().query,u=T();return(0,o.BX)(Gi,{ui:r,services:a,replId:n.id,replSlug:n.slug,replLanguage:n.language,children:[(0,o.BX)(Qu.Z,{origin:"ErrorBoundary: ReplEnvironmentDesktop Top level",bsod:!0,children:[(0,o.tZ)(Ua.h,{}),(0,o.tZ)(kp,{isAdmin:t.isAdmin}),(0,o.tZ)(Jf.Z,{}),(0,o.tZ)(Ss,{repl:n,currentUser:t}),(0,o.tZ)(rn,{}),(0,o.tZ)(dp,{}),(0,o.tZ)(Qf,{repl:n,currentUser:t}),(0,o.tZ)(yd.Z,{}),(0,o.tZ)(Lh,{}),(0,o.tZ)(Od,{container:a.container}),(0,o.tZ)(rp,{}),(0,o.tZ)(op,{}),c.didMigrateToNix?(0,o.tZ)(ep,{}):null,u?(0,o.tZ)(Yd,{}):null,u?(0,o.tZ)(Jd,{}):null,u?(0,o.tZ)(Md,{}):null,(0,o.tZ)(Uh,{isMultiplayerSession:n.multiplayers.length>0}),(0,o.tZ)(Fd.Z,{isOpen:l&&!s}),(0,o.tZ)(Kd.Z,{isOpen:s}),(0,o.tZ)(Zd.E,{}),(0,o.tZ)(vp,{})]}),(0,o.tZ)(Dh,{})]})}function Dh(){var e=(0,x.Z)((0,oe.qg)(),1)[0],n=(0,Df.lY)();return(0,p.useEffect)((function(){e&&n()}),[e,n]),(0,o.tZ)(ap.Z,{})}function Uh(e){var n=function(e){var n=(0,x.Z)(p.useState(!1),2),t=n[0],o=n[1],a=(0,R.X)(),l=a&&!a.isDone&&!a.isLoading;return p.useEffect((function(){l||e&&"default"===ff()&&o(!0)}),[e,l]),{shouldShowModal:t,hideModal:p.useCallback((function(){yf(!0),o(!1)}),[]),confirm:p.useCallback((0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,vf()];case 1:return e.sent(),o(!1),[2]}}))})),[])}}(e.isMultiplayerSession),t=n.shouldShowModal,a=n.hideModal,l=n.confirm;return t?(0,o.tZ)($d,{onCancel:a,onConfirm:l}):null}var Bh=u.KD.div,Mh=(0,a.iv)([u.l0.height("calc(100% - ".concat(C.Mz,"px)")),u.l0.width("100%"),u.l0.top(C.Mz),u.l0.left(0),u.l0.position.absolute]);function Lh(){var e=function(){var e=(0,ae.lY)(),n=(0,p.useRef)(null),t=(0,Bn.Z)((function(t){var r=t.width,i=t.height;if(r&&i&&n.current){var o=n.current.getBoundingClientRect(),a=o.top,l=o.left;e({width:r,height:i,x:l,y:a})}}));return(0,p.useCallback)((function(e){n.current=e,t(e)}),[t])}(),n=(0,Y.kr)(),t=(0,K.N2)(),r=(0,K.nG)(),i=(0,K.rU)();return(0,o.tZ)(Bh,{ref:e,css:Mh,children:n?(0,o.BX)(o.HY,{children:[(0,o.tZ)(Ti,{}),r.map((function(e){return(0,o.tZ)(mi,{handleId:e},e)})),i.map((function(e){return(0,o.tZ)(_u,{headerId:e},e)})),t.map((function(e){return(0,o.tZ)(ad,{paneId:e},e)})),0===t.length?(0,o.tZ)(pd,{}):null,(0,o.tZ)(bd,{}),(0,o.tZ)(md,{}),(0,o.tZ)(Ru,{})]}):null})}var _h=t(2548),jh=t(73825);function Xh(){return(0,o.tZ)(a.xB,{styles:[{body:{overscrollBehaviorX:"none"}}]})}var Nh=t(7591);function zh(){var e=(0,xn.Z)(["\n  query ReplEnvironmentDesktop($url: String!) {\n    repl(url: $url) {\n      ... on Repl {\n        id\n        ...ReplEnvironmentDesktopRepl\n        ...ReplEnvironmentTourRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n        isOwner\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironmentDesktopCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return zh=function(){return e},e}var Ah={},Oh=(0,wn.Ps)(zh(),Ki.o,Nh.z,Ki.U);var Fh=(0,a.iv)([u.l0.position.fixed,u.l0.top(0),u.l0.left(0),u.l0.height("100%"),u.l0.width("100%")]),Wh=function(){var e=null,n=(0,w.useRouter)().query;if(!n.replUrl)throw new Error("Expected replUrl to be set");var t,r=n.replUrl.toString(),i=function(e){var n=(0,Zn.Z)({},Ah,e);return Ui.a(Oh,n)}({variables:{url:r},ssr:Boolean(n.ssr)}),a=i.data,c=i.loading,d=i.error,f=a&&"Repl"===a.repl.__typename?a.repl:null,h=(null===a||void 0===a?void 0:a.currentUser)||void 0,g="https://replit.com".concat(r),b=null!==(t=null===f||void 0===f?void 0:f.description)&&void 0!==t?t:void 0,x=(0,p.useState)(!1),k=x[0],C=x[1];(0,p.useEffect)((function(){return C(!0)}),[]),(0,Z.Z)((null===a||void 0===a?void 0:a.repl)||null,r);var S=null;return d?e=(0,o.tZ)(u.G7,{css:[u.l0.center,u.l0.flex.growAndShrink(1)],children:(0,o.tZ)(u.xv,{children:"Something went wrong loading the Repl. Please reload the page and try again."})}):c||!k?e=(0,o.BX)(u.G7,{css:[u.l0.center,u.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(wl,{}),(0,o.tZ)(_h.Z,{height:100})]}):f&&h?(e=(0,o.tZ)(Gh,{repl:f,currentUser:h},f.id),S=function(e){var n=e.isLesson,t=e.hasSeenOldWorkspaceTour;return n?null:t?v:m}({isLesson:Boolean(f.lesson),hasSeenOldWorkspaceTour:h.hasSeenOldWorkspaceTour})):e=(0,o.BX)(u.G7,{css:[u.l0.center,u.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(wl,{}),(0,o.tZ)(_h.Z,{height:100})]}),(0,o.tZ)(y,{tour:S,children:(0,o.tZ)(l.Z,{children:(0,o.tZ)(s.Z,{dataCy:"workspace-page",title:"".concat((null===f||void 0===f?void 0:f.title)||""),oembedUrl:g,description:b,noHeader:!0,noFooter:!0,forceDrawer:!0,hideSidebar:!0,hideEmailVerify:!0,children:(0,o.BX)(u.Tg,{css:Fh,children:[(0,o.tZ)(jh.g,{}),(0,o.tZ)(Xh,{}),e]})})})})};Wh.getInitialProps=function(){var e=(0,r.Z)((function(e){var n,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return n=e.req,t=e.store,[4,(0,c.Z)(n,t)];case 1:return r.sent(),[2,{}]}}))}));return function(n){return e.apply(this,arguments)}}();var Hh=Wh},7900:function(e,n,t){"use strict";t.d(n,{Pc:function(){return Z},Pu:function(){return C}});var r=t(14251),i=t(32692),o=t(31230),a=t(21767);function l(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplateMember on TeamMembership {\n    id\n    user {\n      id\n      image\n      username\n      firstName\n      lastName\n    }\n    nickname\n    email\n    permissions\n  }\n"]);return l=function(){return e},e}var s=(0,o.Ps)(l()),c=t(16092),u=t(37887);function d(){var e=(0,i.Z)(["\n  fragment TeamTemplateUser on User {\n    id\n    username\n    displayName\n    fullName\n    image\n    url\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplSubmission on ReplSubmission {\n    id\n    timeSubmitted\n    timeLastReviewed\n    author {\n      id\n      ...TeamTemplateUser\n    }\n    repl {\n      id\n      title\n      timeCreated\n      template {\n        id\n        dueDate\n      }\n      ...ReplLinkRepl\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamTemplateSubmissionGroup on ReplSubmissionGroup {\n    submission {\n      id\n      timeSubmitted\n      timeLastReviewed\n      isGroupSubmission\n      repl {\n        id\n        url\n        nextPagePathname\n      }\n    }\n    users {\n      id\n      ...TeamTemplateUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplate on ReplTemplate {\n    id\n    isGroupProject\n    isPublished\n    imageUrl\n    url\n    dueDate\n    repl {\n      id\n    }\n    team {\n      id\n      username\n      displayName\n      members {\n        id\n        ...TeamTemplateReplTemplateMember\n      }\n    }\n    author {\n      id\n      username\n      image\n      ...UserLinkUser\n    }\n    submissions {\n      id\n      ...TeamTemplateReplSubmission\n    }\n    submissionGroups {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}function m(){var e=(0,i.Z)(["\n  fragment TeamTemplateRepl on Repl {\n    id\n    title\n    slug\n    description\n    ...ReplLinkRepl\n    template {\n      id\n      ...TeamTemplateReplTemplate\n    }\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}function v(){var e=(0,i.Z)(["\n  query TeamTemplate($replUrl: String!) {\n    repl(url: $replUrl) {\n      ... on Repl {\n        id\n        ...TeamTemplateRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n        repl {\n          id\n        }\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var g={},b=(0,o.Ps)(d()),y=(0,o.Ps)(p(),b,a.Y),Z=(0,o.Ps)(f(),b),x=(0,o.Ps)(h(),s,c._,y,Z),w=(0,o.Ps)(m(),a.Y,x),k=(0,o.Ps)(v(),w);function C(e){var n=(0,r.Z)({},g,e);return u.a(k,n)}}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[2240,3662,3443,7570,6344,9371,8966,4778,4286,7485,3795,5499,4837,2069,1674,1889,891,1783,1390,3201,3549,1489,6286,9922,618,2350,6679,607,3036,7808,3426,9131,9499,5521,9774,2888,179],(function(){return n(25436),n(24558)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=replEnvironmentDesktop-13d840e8053411da.js.map