"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[618],{89735:function(e,t,r){r.d(t,{j:function(){return o}});var n=r(14251),a=r(16998),i=r(60977),o=function(e){var t=a.Z.get("gfa_ref")||a.Z.get("_growth_ref")||document.referrer,r=a.Z.get("gfa_campaign")||a.Z.get("_growth_campaign"),o=a.Z.get("gfa_landed_on")||a.Z.get("_growth_landing");(0,i.yV)((0,n.Z)({id:e},t?{firstAcquisitionSource:t}:{},r?{firstAcquisitionCampaign:r}:{},o?{firstAcquisitionLandedOn:o}:{}))}},16918:function(e,t,r){r.d(t,{Z:function(){return ce}});var n=r(67573),a=r(9941),i=r(35944),o=r(63805),s=r(67294),l=r(11163),u=r(34727),c=r(70655),d=r(92776),h=r(27206),p=r(8766),g=r(92002),f=r(77365),m=r(14251),v=r(52875),Z=r(15794);function b(e){var t=e.username,r=e.email,n=e.password,a=e.teacher,i=e.organization,o=e.hCaptchaResponse,s=e.hCaptchaSiteKey,l=e.privacyInvite,d=e.source,h=e.formVariant;return function(){var e=(0,u.Z)((function(e,u){var p,g;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:e({type:"FETCH_SIGNUP_REQUEST"}),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,(0,Z.uz)("/signup",{email:r,username:t,password:n,teacher:a,organization:i,privacyInvite:l,hCaptchaResponse:o,hCaptchaSiteKey:s,source:d,formVariant:h})];case 2:return p=c.sent(),[3,4];case 3:return g=c.sent(),e({type:"FETCH_SIGNUP_FAILURE",error:g}),[2,{error:g}];case 4:return e({type:"FETCH_SIGNUP_SUCCESS",user:p}),[2,{user:u().user.userInfo}]}}))}));return function(t,r){return e.apply(this,arguments)}}()}function y(e){var t=e.username,r=e.password,n=e.teacher,a=e.hCaptchaResponse,i=e.hCaptchaSiteKey;return function(){var e=(0,u.Z)((function(e,o){var s,l;return(0,c.__generator)(this,(function(u){switch(u.label){case 0:e({type:"FETCH_LOGIN_REQUEST"}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,(0,Z.uz)("/login",{username:t,password:r,teacher:n,hCaptchaResponse:a,hCaptchaSiteKey:i})];case 2:return s=u.sent(),[3,4];case 3:return l=u.sent(),e({type:"FETCH_LOGIN_FAILURE",error:l}),[2,{error:l}];case 4:return e({type:"FETCH_LOGIN_SUCCESS",user:s}),[2,{user:o().user.userInfo}]}}))}));return function(t,r){return e.apply(this,arguments)}}()}function w(e){var t=e.provider;return function(){var e=(0,u.Z)((function(e,r){var n,a,i;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:e({type:"FETCH_USER_INFO_REQUEST"}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,Z.LK)("/is_authenticated")];case 2:return n=o.sent(),[3,4];case 3:return a=o.sent(),e({type:"FETCH_USER_INFO_FAILURE",error:a}),[2,{error:a}];case 4:return n.success?(e({type:"FETCH_USER_INFO_SUCCESS",user:(0,v.Z)((0,m.Z)({},n.user),{loginMethod:t,should_complete_profile:n.should_complete_profile})}),[2,{user:r().user.userInfo}]):((i=new Error("Unauthorized")).status=401,e({type:"FETCH_USER_INFO_FAILURE",error:i}),[2,{error:i}])}}))}));return function(t,r){return e.apply(this,arguments)}}()}var C=r(55768),S=r(30992),T=r(59641),_=r(42941),E=r(60977),x=r(1144),U=function(e){var t=e.isLogin;return(0,i.BX)(x.x,{variant:"small",color:"dimmer",children:["Trouble ",t?"logging in":"signing up","? ",(0,i.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",children:"Get help"})]})},I=r(88075),R=r(36808),B=r.n(R);function L(e){var t=e.user,r=B().get("shouldUseMobileAppAuthComplete");if("string"!==typeof r||r.length<1)return null;var n=t.postLoginRedirectUrl;return"string"!==typeof n||n.length<1?null:"/authComplete?redirectUrl=".concat(encodeURI(n))}var D=r(64487),N=r(15902),k=r(23384);var A="a20d9b66-6747-404a-9393-c449c4611661";function P(e){if(e.error)return[{message:e.error.message,state:"error"}];if(e.warning)return[{message:e.warning.message,state:"warning"}];if(e.value){if(e.isValid)return[{message:"",state:"success"}];if(e.touched)return[{message:"",state:"loading"}]}}var V=function(e){var t,r=e.email,n=void 0===r?"":r,o=e.username,m=void 0===o?"":o,v=e.password,Z=void 0===v?"":v,y=e.schoolName,w=void 0===y?"":y,x=e.isTeacher,R=e.randomUsername,B=void 0===R?"":R,V=e.privacyInvite,F=e.onSubmit,z=e.onChangeAuth,H=e.source,X=void 0===H?"explicit":H,j=e.ise2e,G=(0,l.useRouter)(),O=(0,k.D)({controlName:"flag-p-signup",type:"string",default:"loading"}),Y="loading"===O,W=null===G||void 0===G||null===(t=G.asPath)||void 0===t?void 0:t.includes("control=true"),M=("a"===O||"d"===O)&&!V&&!j&&!W,K="control"===O||!O||V||j||W,Q=(0,a.Z)(s.useState(!1),2),q=Q[0],$=Q[1],J=(0,a.Z)(s.useState(!1),2),ee=J[0],te=J[1],re=s.useRef(null),ne=(0,d.I)(),ae=(0,S.Y)(V?B:m,M?function(){return null}:p.Z.username),ie=(0,S.Y)(V?"".concat(B,"@teams.noreply.replit.com"):n,x?p.Z.teacherEmail:p.Z.email),oe=(0,S.Y)(Z||"",p.Z.password),se=(0,S.Y)(w||"",p.Z.school),le=function(){var e=(0,u.Z)((function(e){var t,r,n,a,i,o;return(0,c.__generator)(this,(function(s){switch(s.label){case 0:return e.preventDefault(),$(!0),ae.isValid?[3,2]:[4,ae.validate()];case 1:if(s.sent())return $(!1),[2];s.label=2;case 2:return ie.isValid?[3,4]:[4,ie.validate()];case 3:if(s.sent())return $(!1),[2];s.label=4;case 4:return oe.isValid?[3,6]:[4,oe.validate()];case 5:if(s.sent())return $(!1),[2];s.label=6;case 6:return!x||se.isValid?[3,8]:[4,se.validate()];case 7:if(s.sent())return $(!1),[2];s.label=8;case 8:return s.trys.push([8,10,,11]),[4,(0,C.Z)(A,(function(){(0,E.j)(E.U3.AUTH_FORM_CAPTCHA_TRIGGERED,{authenticationType:"signup"})}))];case 9:return t=s.sent(),[3,11];case 10:return r=s.sent(),D.Tb(r,(function(e){return e.setTag("bonsai",(0,N.Fj)(G))})),F({error:"Something went wrong trying to submit. Please try again."}),$(!1),[2];case 11:return[4,ne(b({username:ae.value,password:oe.value,privacyInvite:V,email:ie.value,teacher:x,organization:se.value,hCaptchaResponse:t,hCaptchaSiteKey:A,source:X,formVariant:O}))];case 12:if(n=s.sent(),$(!1),"error"in n){if(a=n.error,F({error:a.status&&a.message?a.message:"Something went wrong"}),a.status&&a.status>=500)throw a;return[2]}return te(!0),(i=L({user:n.user}))?(window.location.href=i,[2]):(o=n.user,F({user:o,newUser:!0,organization:se.value}),[2])}}))}));return function(t){return e.apply(this,arguments)}}(),ue=x&&!se.value,ce=V&&!ie.value,de=function(e){z&&(e.preventDefault(),z(),(0,E.j)(E.U3.LOGIN_REQUESTED,{from:"signup",location:"form"}))};return Y?(0,i.tZ)(f.Z,{}):(0,i.tZ)("form",{onSubmit:le,css:{width:"100%"},children:(0,i.BX)(T.G7,{css:[T.l0.colWithGap(8)],children:[M?null:(0,i.tZ)(h.ZP,{label:V?"Use our default or pick a username that\u2019s not your real name.":void 0,"aria-label":V?void 0:"Username",name:"username",ref:re,placeholder:"Username",onBlur:ae.handleBlur,validationResults:P(ae),onChange:function(e){return ae.setValue(e.target.value)},value:ae.value,autoComplete:"on",autoFocus:!0,autoCorrect:"off",autoCapitalize:"off",onValidationError:function(){(0,E.j)(E.U3.AUTH_FORM_VALIDATION_ERROR,{field:"username"})}}),V?null:(0,i.tZ)(h.ZP,{name:"email",placeholder:"Email","aria-label":"Email",onBlur:ie.handleBlur,validationResults:P(ie),onChange:function(e){return ie.setValue(e.target.value)},value:ie.value,autoComplete:"on",autoCorrect:"off",autoCapitalize:"off",onValidationError:function(){(0,E.j)(E.U3.AUTH_FORM_VALIDATION_ERROR,{field:"email"})}}),(0,i.tZ)(h.ZP,{name:"password",type:"password","aria-label":"Password",placeholder:"Password",onBlur:oe.handleBlur,validationResults:P(oe),onChange:function(e){return oe.setValue(e.target.value)},value:oe.value,onValidationError:function(){(0,E.j)(E.U3.AUTH_FORM_VALIDATION_ERROR,{field:"password"})}}),x?(0,i.tZ)(h.ZP,{type:"text",name:"organization",placeholder:"School or Organization name","aria-label":"School or Organization name",onBlur:se.handleBlur,validationResults:P(se),onChange:function(e){return se.setValue(e.target.value)},value:se.value,onValidationError:function(){(0,E.j)(E.U3.AUTH_FORM_VALIDATION_ERROR,{field:"organization"})}}):null,(0,i.BX)(T.G7,{css:[T.l0.colWithGap(4)],children:[(0,i.tZ)(T.zx,{type:"submit",colorway:ee?"positive":"primary",big:!0,stretch:!0,disabled:!oe.value||!ae.value&&!M||ce||ue||ee||q,iconLeft:q?(0,i.tZ)(f.Z,{}):ee?(0,i.tZ)(I.Z,{}):(0,i.tZ)(g.Z,{}),dataCy:"signup-create-account",text:"Create Account",css:[q&&T.pt.backgroundPulse(T.TV.accentPrimaryDimmest,T.TV.accentPrimaryDimmer),(ee||q)&&{color:"".concat(T.TV.foregroundDefault," !important"),cursor:"default"},T.l0.borderRadius(4)]}),!V&&K?(0,i.BX)(i.HY,{children:[(0,i.tZ)(_.Z,{size:3}),(0,i.BX)(T.xv,{children:["Have an account?"," ",(0,i.tZ)("a",{role:"button",tabIndex:0,onKeyDown:function(e){return de(e)},onClick:function(e){return de(e)},children:"Log In"})]}),(0,i.tZ)(U,{isLogin:!1})]}):null]}),!1]})})},F=r(41664),z=r.n(F),H=r(48850),X=r(9517),j=r(8135);function G(e){var t,r=e.username,n=void 0===r?"":r,o=e.password,p=void 0===o?"":o,g=e.isTeacher,m=e.privacyInvite,v=e.onSubmit,Z=e.onChangeAuth,b=e.source,w=e.ise2e,x=(0,a.Z)(s.useState(!1),2),R=x[0],B=x[1],A=(0,a.Z)(s.useState(!1),2),P=A[0],V=A[1],F=s.useRef(null),G=(0,d.I)(),O=(0,S.Y)(n,(function(){return null})),Y=(0,S.Y)(p,(function(){return null})),W=(0,l.useRouter)(),M=(0,k.D)({controlName:"flag-p-signup",type:"string",default:"loading"}),K="loading"===M,Q=null===W||void 0===W||null===(t=W.asPath)||void 0===t?void 0:t.includes("control=true"),q=("c"===M||"d"===M)&&!w&&!Q,$=function(){var e=(0,u.Z)((function(e){var t,r,n,a,i,o;return(0,c.__generator)(this,(function(s){switch(s.label){case 0:return e&&e.preventDefault&&e.preventDefault(),R?[2]:(B(!0),[4,O.validate()]);case 1:return s.sent()?(null===(t=F.current)||void 0===t||t.focus(),B(!1),[2]):[4,Y.validate()];case 2:if(s.sent())return B(!1),[2];s.label=3;case 3:return s.trys.push([3,5,,6]),[4,(0,C.Z)(void 0,(function(){(0,E.j)(E.U3.AUTH_FORM_CAPTCHA_TRIGGERED,{authenticationType:"login"})}))];case 4:return r=s.sent(),[3,6];case 5:return n=s.sent(),D.Tb(n,(function(e){return e.setTag("bonsai",(0,N.Fj)(W))})),v({error:"Something went wrong trying to submit. Please try again."}),B(!1),[2];case 6:return[4,G(y({username:O.value,password:Y.value,hCaptchaResponse:r,hCaptchaSiteKey:C.w,teacher:g}))];case 7:if(a=s.sent(),B(!1),"error"in a){if(i=a.error,v({error:i.status&&i.message?i.message:"Something went wrong"}),i.status&&i.status>=500)throw i;return[2]}return V(!0),(0,E.j)(E.U3.LOGIN_SUCCESSFUL,{source:b,siteVersion:(0,j.Z)()?"firewall":"regular"}),(o=L({user:a.user}))?(window.location.href=o,[2]):(v({user:a.user}),[2])}}))}));return function(t){return e.apply(this,arguments)}}();return K?(0,i.tZ)(f.Z,{}):(0,i.tZ)("form",{className:"login-form",onSubmit:$,method:"POST",action:"/login",css:{width:"100%"},children:(0,i.BX)(T.G7,{css:[T.l0.colWithGap(8)],children:[(0,i.tZ)(h.ZP,{ref:F,name:"username",placeholder:"Email or Username","aria-label":"Email or Username",value:O.value,onBlur:O.handleBlur,onChange:function(e){return O.setValue(e.currentTarget.value)},autoComplete:"on",autoFocus:!0,autoCorrect:"off",autoCapitalize:"off",validationResults:O.error?[{message:O.error.message,state:"error"}]:void 0,required:!0}),(0,i.tZ)(H.Z,{validated:!1,name:"password",placeholder:"Password","aria-label":"Password",value:Y.value,onBlur:Y.handleBlur,onChange:function(e){return Y.setValue(e.currentTarget.value)},validationResults:Y.error?[{message:Y.error.message,state:"error"}]:void 0,required:!0},"password"),(0,i.tZ)(T.zx,{type:"submit",onClick:$,colorway:P?"positive":"primary",big:!0,stretch:!0,disabled:!Y.value||!O.value||R||P,iconRight:R?(0,i.tZ)(f.Z,{}):P?(0,i.tZ)(I.Z,{}):(0,i.tZ)(X.Z,{}),dataCy:"log-in-btn",text:"Log In",css:[R&&T.pt.backgroundPulse(T.TV.accentPrimaryDimmest,T.TV.accentPrimaryDimmer),(P||R)&&{color:"".concat(T.TV.foregroundDefault," !important"),cursor:"default"},T.l0.borderRadius(4)]}),(0,i.tZ)(_.Z,{}),Z&&!q?(0,i.BX)(T.xv,{children:["New to Replit?"," ",(0,i.tZ)("a",{href:"/signup",onClick:function(e){e.preventDefault(),Z(),(0,E.j)(E.U3.SIGNUP_REQUESTED,{from:"login",location:"form"})},children:"Sign Up"})]}):null,(0,i.tZ)(T.xv,{children:(0,i.tZ)(z(),{href:"/forgot",children:"Forgot password?"})}),!1,m||q?null:(0,i.tZ)(U,{isLogin:!0})]})})}var O=r(60357),Y=r.n(O),W=r(94184),M=r.n(W),K=r(30019),Q=r(19526),q=r(6951),$=r(44781),J=r(85861);var ee=function(e){var t=e.onClick,r=e.provider,a=(0,J.Fg)().isDarkColorScheme,o="apple"===r?"apple-black.png":"".concat(r,".png");return(0,i.BX)("div",{className:"jsx-4ab90b4cea865584 social-login-container",children:[(0,i.tZ)(q.Z,{onClick:t,fullWidth:!0,size:"small",css:["apple"===r&&{backgroundColor:"white !important"},{height:36.5,borderRadius:"6px !important"}],children:(0,i.BX)(Q.Ug,{align:"center",justify:"center",spacing:"apple"===r?"4px":1,children:[(0,i.tZ)("div",{style:{backgroundImage:"url(/public/images/".concat(o,")")},css:[a&&"github"===r&&{filter:"brightness(0) invert(1)"},"apple"===r?{height:16,width:16,transform:"translateY(-1.5px)"}:{height:22,width:22}],className:"jsx-4ab90b4cea865584 "+(M()("social-login-icon",(0,n.Z)({},r,r))||"")}),(0,i.BX)($.Z,{size:"small",css:"apple"===r&&{color:"black !important"},children:["Continue with"," ","".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1))]}),(0,i.tZ)(_.Z,{})]})}),(0,i.tZ)(Y(),{id:"4ab90b4cea865584",children:".social-login-container.jsx-4ab90b4cea865584{min-width:280px}.social-login-icon.jsx-4ab90b4cea865584{-webkit-background-size:contain;-moz-background-size:contain;-o-background-size:contain;background-size:contain;background-repeat:no-repeat}"})]})},te=function(e){var t=e.isTeacher,r=e.isLogin,n=e.onSubmit,o=e.source,l=e.googleClassroom,h=(0,a.Z)(s.useState(!0),2),p=h[0],g=h[1],m=(0,k.D)({controlName:"flag-p-signup",type:"string",default:"loading"}),v="loading"===m,Z=("c"===m||"d"===m)&&!l&&!r&&!p;s.useEffect((function(){g(/((iPhone|iPod|iPad).*AppleWebKit)|(Replit-Bonsai)/i.test(navigator.userAgent))}),[]);var b=(0,d.I)(),y=s.useRef(null),C=function(e,a){e.preventDefault();var i="/auth/".concat(a,"/get?close=1");t&&(i+="&teacher=1"),o&&(i+="&source=".concat(o)),(0,E.j)(E.U3.AUTH_FORM_SSO_REQUESTED,{provider:a,authenticationType:r?"login":"signup",isTeacher:t?"true":"false"});var s=window.open(i),l=function(){var e=(0,u.Z)((function(e){var i,l,u,d;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return e.origin!==window.location.origin&&"https://replit.com"!==e.origin&&"https://repl.it"!==e.origin&&"https://firewalledreplit.com"!==e.origin&&"https://staging.replit.com"!==e.origin||"authenticated"!==e.data&&"authenticated:new_user"!==e.data?[2]:(y.current&&y.current(),s&&s.close(),[4,b(w({provider:a}))]);case 1:if("error"in(i=c.sent())){if(l=i.error,n({error:l.status&&l.message?l.message:"Something went wrong"}),(0,E.j)(E.U3.AUTH_FORM_SUBMISSION_FAILED,{provider:a,authenticationType:r?"login":"signup",isTeacher:t?"true":"false",errorStatus:l.status}),401!==l.status)throw l;return[2]}return u=i.user,d="authenticated:new_user"===e.data,r&&!d&&(0,E.j)(E.U3.LOGIN_SUCCESSFUL,{source:o,siteVersion:(0,j.Z)()?"firewall":"regular"}),n({user:u,social:!0,newUser:d}),[2]}}))}));return function(t){return e.apply(this,arguments)}}();window.addEventListener("message",l),y.current=function(){y.current=null,window.removeEventListener("message",l)}};return s.useEffect((function(){return function(){y.current&&y.current()}}),[]),v?(0,i.tZ)(f.Z,{}):(0,i.BX)(Q.gC,{children:[l?(0,i.BX)(Q.gC,{align:"center",children:[(0,i.tZ)(K.Z,{level:4,align:"center",children:"Login with Google"}),(0,i.tZ)(_.Z,{}),(0,i.tZ)("div",{className:"jsx-ec4a0caca93c2428",children:(0,i.tZ)(ee,{provider:"google",onClick:function(e){return C(e,"google")}})})]}):(0,i.tZ)(i.HY,{children:(0,i.tZ)(Q.gC,{spacing:1,children:["google","github","facebook","apple"].filter((function(e){return!Z||["google","github"].includes(e)})).map((function(e){return(0,i.tZ)(ee,{onClick:function(t){return C(t,e)},provider:e},e)}))})}),(0,i.tZ)(Y(),{id:"ec4a0caca93c2428",children:".social-spacer.jsx-ec4a0caca93c2428{width:100%;border-bottom:1px solid var(--outline-dimmest)}"})]})},re=r(70917),ne=r(14840),ae={signupFormEmailDisclaimer:(0,re.iv)({marginTop:20,color:ne.TV.foregroundDimmest,fontSize:ne.TV.fontSizeSmall,maxWidth:"280px"}),signupFormEmailDisclaimerNoClutter:(0,re.iv)({marginTop:20,color:ne.TV.foregroundDimmest,fontSize:ne.TV.fontSizeSmall,maxWidth:"280px",textAlign:"center"}),link:{},linkNoClutter:(0,re.iv)({textDecoration:"none",color:ne.TV.foregroundDimmest,fontWeight:ne.TV.fontWeightBold})},ie=function(e){var t=e.privacyInvite,r=e.reduceClutterVariation;return(0,i.BX)(T.xv,{css:r?ae.signupFormEmailDisclaimerNoClutter:ae.signupFormEmailDisclaimer,multiline:!0,children:["By continuing, you agree to Replit\u2019s"," ",(0,i.tZ)("a",{css:r?ae.linkNoClutter:ae.link,href:"/site/terms",target:"_blank",className:"jsx-f873d40d17cd72cc",children:"Terms of Service"})," ","and"," ",(0,i.tZ)("a",{css:r?ae.linkNoClutter:ae.link,href:"/site/privacy",target:"_blank",className:"jsx-f873d40d17cd72cc",children:"Privacy Policy"}),t||r?"":", and to receiving emails with updates.",(0,i.tZ)(Y(),{id:"f873d40d17cd72cc",children:".signup-form-email-disclaimer.jsx-f873d40d17cd72cc{font-size:12px;margin-top:20px;color:var(--foreground-dimmest);line-height:14px}"})]})},oe=function(e){var t=e.isLogin,r=e.isTeacher,n=e.privacyInvite,a=e.googleClassroom,o=e.toggleTeacher,s=e.reduceClutterVariation,l=function(e){e.preventDefault(),o()};return(0,i.tZ)(i.HY,{children:t||n||a?null:(0,i.BX)(T.G7,{onClick:l,role:"button",tabIndex:0,onKeyDown:l,children:[(0,i.tZ)(T.xv,{children:r?(0,i.tZ)("a",{children:"Not a teacher?"}):(0,i.tZ)("a",{children:s?"Sign up for teachers":"Teacher? Sign up for our education product."})}),(0,i.tZ)(_.Z,{})]})})},se=r(44524),le=r(85485),ue={switchFormType:(0,re.iv)([T.l0.width("100%"),T.l0.color.accentPrimaryStronger,T.l0.textAlign.center,T.l0.pt(8),{backgroundColor:"transparent",":hover":{color:T.TV.accentPrimaryStrongest,backgroundColor:"transparent"},height:36,borderRadius:6}])},ce=function(e){var t,r=e.onSubmit,u=e.isLogin,c=e.email,d=e.isTeacher,h=e.toggleTeacher,p=e.onChangeAuth,g=e.privacyInvite,m=e.randomUsername,v=e.source,Z=void 0===v?"explicit":v,b=e.googleClassroom,y=e.message,w=e.ise2e,C=(0,l.useRouter)(),S=(0,se.i)(),x=(0,a.Z)(s.useState(!1),2),U=x[0],I=x[1],R=280,B=(0,N.Fj)(C),L=(0,k.D)({controlName:"flag-p-signup",type:"string",default:"loading"}),D="loading"===L,A=null===C||void 0===C||null===(t=C.asPath)||void 0===t?void 0:t.includes("control=true"),P=("a"===L||"d"===L)&&!g&&!w&&!A,F=(0,a.Z)(s.useState("both"),2),z=F[0],H=F[1],X=("c"===L||"d"===L)&&!w&&!A,j="d"===L&&!g&&!w&&!A;s.useEffect((function(){H(P?"sso":"both")}),[P]);var O=(0,k.D)({controlName:"auth-flow-responsive-layout"});s.useEffect((function(){S.width&&S.height&&O&&((0,o.isMobile)({tablet:!0})||B)&&I(!g&&S.width>=685&&S.width>=S.height)}),[S,I,g,685,B,O]);var Y=function(e){p&&(e.preventDefault(),p(),u?(0,E.j)(E.U3.SIGNUP_REQUESTED,{from:"login",location:"form"}):(0,E.j)(E.U3.LOGIN_REQUESTED,{from:"signup",location:"form"}))};if(D)return(0,i.tZ)(f.Z,{});var W=(0,i.BX)(i.HY,{children:[u?(0,i.tZ)(T.h4,{variant:"headerDefault",level:1,children:"Log in to your account"}):null,u||b?null:(0,i.tZ)(T.h4,{variant:"headerDefault",level:1,children:d?"Create a teacher account":"Create a Replit account"}),X?null:(0,i.BX)(i.HY,{children:[(0,i.tZ)(_.Z,{}),(0,i.tZ)(oe,{isLogin:u,isTeacher:d,privacyInvite:g,googleClassroom:b,toggleTeacher:h,reduceClutterVariation:!0})]}),(0,i.tZ)(_.Z,{}),y?(0,i.BX)(i.HY,{children:[(0,i.tZ)(T.E_,{colorway:"primary",text:y}),(0,i.tZ)(_.Z,{})]}):null,(0,i.tZ)(_.Z,{})]}),M=(0,i.BX)(T.xv,{css:[T.l0.textAlign.center,T.l0.color.foregroundDimmest],variant:"small",children:[u?"New to Replit? ":"Have an account? ",(0,i.tZ)("a",{role:"button",tabIndex:0,onKeyDown:function(e){return Y(e)},onClick:function(e){return Y(e)},css:[T.l0.color.accentPrimaryStronger],children:u?"Sign up":"Log in"})]}),K=(0,i.BX)(i.HY,{children:[j?(0,i.tZ)(ie,{privacyInvite:g,reduceClutterVariation:P}):null,P&&!j?(0,i.BX)(i.HY,{children:[(0,i.tZ)(ie,{privacyInvite:g,reduceClutterVariation:P}),(0,i.tZ)(_.Z,{size:3}),(0,i.tZ)(T.RX,{}),(0,i.tZ)(_.Z,{size:3}),(0,i.tZ)(T.G7,{css:[T.l0.colWithGap(16)],children:(0,i.BX)(T.xv,{css:[T.l0.textAlign.center,T.l0.color.foregroundDimmest],variant:"small",children:["Trouble ",u?"logging in":"signing up","? ",(0,i.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",css:[T.l0.color.accentPrimaryStronger],children:"Get help"})]})})]}):null,X?(0,i.BX)(i.HY,{children:[(0,i.tZ)(_.Z,{size:64}),(0,i.BX)(T.G7,{css:[T.l0.width(280),T.l0.position.absolute,T.l0.bottom(16),(0,n.Z)({},(0,le.EM)("mobileMax"),[T.l0.position.relative,T.l0.pt(24)])],children:[(0,i.tZ)(_.Z,{size:3}),(0,i.tZ)(T.RX,{}),(0,i.tZ)(_.Z,{size:3}),(0,i.BX)(T.G7,{css:[T.l0.colWithGap(16),T.l0.align.center],children:[M,(0,i.BX)(T.G7,{css:[T.l0.rowWithGap(16),T.l0.align.center],children:[(0,i.tZ)(T.xv,{css:[T.l0.textAlign.center,T.l0.color.foregroundDimmest],variant:"small",children:(0,i.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",css:[T.l0.color.accentPrimaryStronger],children:"Get help"})}),(0,i.tZ)(T.xv,{children:"\u2022"}),(0,i.tZ)(T.xv,{css:[T.l0.textAlign.center,T.l0.color.foregroundDimmest],variant:"small",children:(0,i.tZ)("a",{role:"button",tabIndex:0,onKeyDown:function(){return h()},onClick:function(){return h()},css:[T.l0.color.accentPrimaryStronger],children:d?"Not a teacher?":"Sign up for teachers"})})]})]})]})]}):null]});return b?(0,i.BX)(Q.gC,{style:{margin:"auto",color:"var(--accent-foreground-default)",maxWidth:"".concat(R,"px")},children:[(0,i.tZ)(_.Z,{size:2}),(0,i.tZ)("div",{className:"social-spacer"}),(0,i.tZ)(_.Z,{}),(0,i.tZ)(te,{isTeacher:d,onSubmit:r,source:Z,isLogin:u,googleClassroom:b}),K]}):g?(0,i.BX)(Q.gC,{style:{margin:"auto",color:"var(--accent-foreground-default)",maxWidth:"".concat(R,"px")},children:[W,u?(0,i.tZ)(G,{isTeacher:d,privacyInvite:g,onSubmit:r,onChangeAuth:p,source:Z,ise2e:w}):(0,i.tZ)(V,{isTeacher:d,email:c,onSubmit:r,onChangeAuth:p,privacyInvite:g,randomUsername:m,source:Z}),K]}):P?(0,i.BX)(Q.gC,{style:{margin:"auto",color:"var(--accent-foreground-default)",maxWidth:"".concat(R,"px")},children:[W,u?(0,i.tZ)(G,{isTeacher:d,privacyInvite:g,onSubmit:r,onChangeAuth:p,source:Z,ise2e:w}):null,"email"!==z||u?null:(0,i.tZ)(V,{isTeacher:d,email:c,onSubmit:r,onChangeAuth:p,privacyInvite:g,randomUsername:m,source:Z,ise2e:w}),"sso"===z||u?(0,i.BX)(i.HY,{children:[(0,i.tZ)(_.Z,{size:2}),(0,i.tZ)("div",{className:"social-spacer"}),(0,i.tZ)(_.Z,{}),(0,i.tZ)(te,{isTeacher:d,onSubmit:r,source:Z,isLogin:u,googleClassroom:b})]}):null,u?null:(0,i.BX)(i.HY,{children:[(0,i.tZ)(T.G7,{css:[T.l0.pt(8),T.l0.width("100%")],children:(0,i.tZ)("a",{href:"#",css:ue.switchFormType,onClick:function(e){e.preventDefault(),H("email"===z?"sso":"email"),(0,E.j)(E.U3.SIGNUP_FORM_TYPE_SWITCHED,{from:z,to:"email"===z?"sso":"email"})},children:"email"===z?"\u2190 Use One-Tap options instead":"Continue with email \u2192"})}),(0,i.tZ)(T.G7,{css:[T.l0.pb(24)],children:K})]})]}):(X&&(Q.gC,"".concat(R,"px"),g||(i.HY,_.Z,_.Z)),U?(0,i.BX)(Q.gC,{style:{margin:"auto",color:"var(--accent-foreground-default)"},children:[W,(0,i.BX)(Q.Ug,{style:{flex:1,display:"flex",flexDirection:"row",gap:25},children:[(0,i.BX)("div",{style:{flex:1,width:"".concat(R,"px")},children:[u?(0,i.tZ)(G,{isTeacher:d,privacyInvite:g,onSubmit:r,onChangeAuth:p,source:Z,ise2e:w}):null,u||b?null:(0,i.tZ)(V,{isTeacher:d,email:c,onSubmit:r,onChangeAuth:p,privacyInvite:g,randomUsername:m,source:Z,ise2e:w}),K]}),(0,i.tZ)("div",{style:{flex:1,width:"".concat(R,"px")},children:(0,i.tZ)(te,{isTeacher:d,onSubmit:r,source:Z,isLogin:u,googleClassroom:b})})]})]}):(0,i.BX)(Q.gC,{style:{margin:"auto",color:"var(--accent-foreground-default)",maxWidth:"".concat(R,"px")},children:[W,u?(0,i.tZ)(G,{isTeacher:d,privacyInvite:g,onSubmit:r,onChangeAuth:p,source:Z}):null,u||b?null:(0,i.tZ)(V,{isTeacher:d,email:c,onSubmit:r,onChangeAuth:p,privacyInvite:g,randomUsername:m,source:Z,ise2e:w}),b?null:(0,i.tZ)(ie,{privacyInvite:g}),g?null:(0,i.BX)(i.HY,{children:[(0,i.tZ)(_.Z,{size:2}),(0,i.tZ)("div",{className:"social-spacer"}),(0,i.tZ)(_.Z,{}),(0,i.tZ)(te,{isTeacher:d,onSubmit:r,source:Z,isLogin:u,googleClassroom:b})]}),b?(0,i.tZ)(ie,{privacyInvite:g}):null,K]}))}},80498:function(e,t,r){r.d(t,{a:function(){return x},Z:function(){return E}});var n=r(95209),a=r(34727),i=r(75815),o=r(18352),s=r(67573),l=r(90132),u=r(14251),c=r(52875),d=r(44747),h=r(9941),p=r(48270),g=r(70655),f=r(35944),m=r(60357),v=r.n(m),Z=r(67294),b=r(91296),y=r.n(b),w=r(48966),C=r(15794),S={isEmail:[[w.isEmail,"Invalid email address"]],email:[[w.isEmail,"Invalid email address"],[function(){var e=(0,a.Z)((function(e){return(0,g.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,C.uz)("/data/user/exists",{email:e})];case 1:return[2,!t.sent().exists]}}))}));return function(t){return e.apply(this,arguments)}}(),"Email already in use"]],username:[[function(e){return(0,w.isByteLength)(e,2,15)},"Your username must be between 2 and 15 characters"],[function(e){return!!e.match(/^[0-9a-zA-Z]+$/)},"Your username can only contain alphanumeric characters (letters A-Z, numbers 0-9)"],[function(){var e=(0,a.Z)((function(e){return(0,g.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,C.uz)("/data/user/exists",{username:e})];case 1:return[2,!t.sent().exists]}}))}));return function(t){return e.apply(this,arguments)}}(),"Username is taken"]],name:[[function(e){return(0,w.isByteLength)(e,1,255)},"Your name must be at least 1 character long"]],classroomName:[[function(e){return(0,w.isByteLength)(e,1,255)},"Classroom name must be at least 1 character long"]],replTitle:[[function(e){return(0,w.isByteLength)(e,1,60)},"Titles must be between 1 and 60 characters"]],replDescription:[[function(e){return(0,w.isByteLength)(e,0,255)},"Description should not be longer than 255 characters"]],notEmpty:[[function(e){return!(0,w.isEmpty)(e)},"Cannot be empty"]],postTitle:[[function(e){return(0,w.isByteLength)(e,1,100)&&!!e.match(/[0-9a-zA-Z]+/)},"Your post title must be less than 100 characters and contain at least one alphanumeric character"]],replTag:[[function(e){return(0,w.isByteLength)(e,2,15)},"Tag must be between 2 and 15 characters"],[function(e){return!!e.match(/^[0-9a-zA-Z_]+$/)},"Tag must be alphanumeric characters"]],replFolderName:[[function(e){return(0,w.isByteLength)(e.trim(),1,60)},"Folder name must be between 1 and 60 characters"],[function(e){return!e.match(/[/*?"\\]+/)},'Folder name cannot contain /, *, ", ? \\']]},T=r(27206),_=r(77365),E=function(e){(0,l.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,t=this.props,r=t.error,n=t.isLoading,a=(0,d.Z)(t,["error","isLoading"]),i=r?[{message:r,state:"error"}]:void 0;return(0,f.BX)("div",{className:"jsx-ac5406405936ddf form-input-with-ui",children:[(0,f.tZ)(T.ZP,(0,c.Z)((0,u.Z)({},a),{validationResults:i,ref:function(t){return e.input=t}})),n?(0,f.tZ)("div",{style:{right:"8px",top:"12px",position:"absolute"},className:"jsx-ac5406405936ddf",children:(0,f.tZ)(_.Z,{size:16})}):null,(0,f.tZ)(v(),{id:"ac5406405936ddf",children:".form-input-with-ui.jsx-ac5406405936ddf{position:relative;width:100%}"})]})}}]),r}(Z.Component);(0,s.Z)(E,"defaultProps",{isLoading:!1,type:"text",value:"",required:!1});var x=function(e){(0,l.Z)(r,e);var t=(0,p.Z)(r);function r(e){var o;(0,i.Z)(this,r),o=t.call(this,e),(0,s.Z)((0,n.Z)(o),"onBlur",(function(e){o.props.onBlur&&o.props.onBlur(e),o.validateNow()})),(0,s.Z)((0,n.Z)(o),"onChange",(function(e){o.props.onChange(e),o.clearErrTimeout=setTimeout((function(){return o.setState({error:null})}),200),o.validate()})),(0,s.Z)((0,n.Z)(o),"validateNow",(function(){o.validate.cancel(),o._validate()}));var l=(0,n.Z)(o);return(0,s.Z)((0,n.Z)(o),"_validate",(0,a.Z)((function(){var e,t,r,n,a,i,o,s,u,c,d,p;return(0,g.__generator)(this,(function(g){switch(g.label){case 0:if(e=!0,!(t=l.props.validators||S[l.props.validator]))throw new Error("Please supply validators or a type of validator");r=!0,n=!1,a=void 0,g.label=1;case 1:g.trys.push([1,7,8,9]),i=t[Symbol.iterator](),g.label=2;case 2:return(r=(o=i.next()).done)?[3,6]:(s=(0,h.Z)(o.value,2),u=s[0],c=s[1],(d=u(l.props.value)).then?(l.setState({isLoading:!0}),[4,d]):[3,4]);case 3:d=g.sent(),l.setState({isLoading:!1}),g.label=4;case 4:if(!d)return l.props.onValidation(c),e=!1,l.setState({error:c}),l.clearErrTimeout&&clearTimeout(l.clearErrTimeout),[3,6];g.label=5;case 5:return r=!0,[3,2];case 6:return[3,9];case 7:return p=g.sent(),n=!0,a=p,[3,9];case 8:try{r||null==i.return||i.return()}finally{if(n)throw a}return[7];case 9:return e&&(l.setState({error:null}),l.props.onValidation(null)),[2]}}))}))),(0,s.Z)((0,n.Z)(o),"validate",y()((function(){return o._validate()}),o.props.debounceTime)),o.state={error:null,isLoading:!1},o}return(0,o.Z)(r,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,t=this.props,r=(t.onValidation,t.validator,t.validators,t.debounceTime,(0,d.Z)(t,["onValidation","validator","validators","debounceTime"])),n=(0,c.Z)((0,u.Z)({},r),{onChange:this.onChange,onBlur:this.onBlur,ref:function(t){return e.input=t},error:this.state.error,isLoading:this.state.isLoading});return(0,f.tZ)(E,(0,u.Z)({},n))}}]),r}(Z.Component);(0,s.Z)(x,"defaultProps",{debounceTime:1e3})},48850:function(e,t,r){var n=r(95209),a=r(75815),i=r(18352),o=r(67573),s=r(90132),l=r(14251),u=r(52875),c=r(48270),d=r(35944),h=r(60357),p=r.n(h),g=r(67294),f=r(80498),m=r(27206),v=function(e){(0,s.Z)(r,e);var t=(0,c.Z)(r);function r(){var e;return(0,a.Z)(this,r),e=t.apply(this,arguments),(0,o.Z)((0,n.Z)(e),"state",{isShown:!1}),(0,o.Z)((0,n.Z)(e),"toggleShowHide",(function(){e.setState({isShown:!e.state.isShown})})),e}return(0,i.Z)(r,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"render",value:function(){var e=this,t=this.state.isShown,r=t?"HIDE":"SHOW";return(0,d.BX)("div",{className:"jsx-36c139331f6f2b3d password-input",children:[this.props.validated?(0,d.tZ)(f.a,(0,u.Z)((0,l.Z)({ref:function(t){return e.input=t},type:t?"text":"password"},this.props),{validated:void 0})):(0,d.tZ)(m.ZP,(0,u.Z)((0,l.Z)({ref:function(t){return e.input=t}},this.props),{type:t?"text":"password",validated:void 0})),this.props.value&&this.props.value.length>0?(0,d.tZ)("div",{onClick:this.toggleShowHide,className:"jsx-36c139331f6f2b3d password-show-toggle",children:r}):null,(0,d.tZ)(p(),{id:"36c139331f6f2b3d",children:".password-input.jsx-36c139331f6f2b3d{position:relative}.password-input.jsx-36c139331f6f2b3d input{padding-right:67px!important}.password-show-toggle.jsx-36c139331f6f2b3d{position:absolute;right:19px;line-height:16px;top:12px;cursor:pointer}"})]})}}]),r}(g.Component);(0,o.Z)(v,"defaultProps",{validated:!1,theme:"replitLight"}),t.Z=v},44524:function(e,t,r){r.d(t,{i:function(){return o}});var n=r(67294),a=r(91296),i=r.n(a);function o(){var e=(0,n.useState)({width:void 0,height:void 0}),t=e[0],r=e[1];return(0,n.useEffect)((function(){var e=i()((function(){r({width:window.innerWidth,height:window.innerHeight})}),100);return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[t.width]),t}},92776:function(e,t,r){r.d(t,{I:function(){return n}});var n=r(15366).I0}}]);
//# sourceMappingURL=618-5e5246b07ed4a423.js.map