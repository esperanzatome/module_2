(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8157],{13390:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/replView",function(){return r(91718)}])},4941:function(n,e,r){"use strict";r.d(e,{B:function(){return h},Z:function(){return m}});var t=r(32692),i=r(31230),l=r(21767),o=r(97008),a=r(47174),c=r(48293),u=r(76876),s=r(11417);function d(){var n=(0,t.Z)(["\n  fragment ReplViewRepl on Repl {\n    id\n    title\n    timeCreated\n    imageUrl\n    analyticsUrl\n    releasesForkCount\n    publicForkCount\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n    relatedRepls(limitPerGroup: 3) {\n      name\n      repls {\n        id\n        publishedAs\n        ...ReplLinkRepl\n        ...TemplateReplCardRepl\n        ...ReplPostReplCardRepl\n      }\n    }\n    lang {\n      id\n      displayName\n    }\n    currentUserPermissions {\n      containerWrite\n      publish\n      changeIconUrl\n    }\n    publishedAs\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    ...ReplViewReplTitleRepl\n    ...ReplViewReplViewerRepl\n    ...ReplLinkRepl\n    ...ReplViewFooterRepl\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return d=function(){return n},n}function p(){var n=(0,t.Z)(["\n  fragment ReplViewCurrentUser on CurrentUser {\n    id\n    username\n    isSubscribed\n    isModerator: hasRole(role: MODERATOR)\n    isAdmin: hasRole(role: ADMIN)\n    ...ReplViewReplViewerCurrentUser\n  }\n  ","\n"]);return p=function(){return n},n}var m=(0,i.Ps)(d(),l.Y,o.qb,a.n,c.rv,u.Q,s.A),h=(0,i.Ps)(p(),u.r)},11417:function(n,e,r){"use strict";r.d(e,{A:function(){return u}});var t=r(32692),i=r(31230),l=r(21767);function o(){var n=(0,t.Z)(["\n  fragment ReplViewSourceRepl on Repl {\n    id\n    iconUrl\n    title\n    templateLabel\n    ...ReplLinkRepl\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n  }\n  ","\n"]);return o=function(){return n},n}function a(){var n=(0,t.Z)(["\n  fragment ReplViewFooterRepl on Repl {\n    id\n    description\n    lastPublishedAt\n    publishedAs\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n        followerCount\n        isFollowedByCurrentUser\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n        followerCount\n        isFollowedByCurrentUser\n      }\n    }\n    source {\n      release {\n        id\n      }\n      deployment {\n        id\n        repl {\n          id\n          ...ReplViewSourceRepl\n        }\n      }\n    }\n    tags {\n      id\n    }\n    origin {\n      id\n      ...ReplViewSourceRepl\n    }\n  }\n  ","\n"]);return a=function(){return n},n}var c=(0,i.Ps)(o(),l.Y),u=(0,i.Ps)(a(),c)},91718:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return vn}});var t=r(34727),i=r(14251),l=r(52875),o=r(9941),a=r(70655),c=r(35944),u=r(67294),s=r(21096),d=r(70338),p=r(32692),m=r(31230),h=r(4941),Z=r(37887);function f(){var n=(0,p.Z)(["\n  query ReplView($url: String!) {\n    repl(url: $url) {\n      ... on Repl {\n        id\n        imageUrl\n        ...ReplViewRepl\n      }\n    }\n    currentUser {\n      id\n      ...ReplViewCurrentUser\n    }\n  }\n  ","\n  ","\n"]);return f=function(){return n},n}var v={},g=(0,m.Ps)(f(),h.Z,h.B);var R,w,b,y,U=r(11163),k=r(31106),x=r(67573),C=r(54969),T=r(60977),F=r(38455),A=r(94361),P=r(70917),M=r(98967),O=r(33473),S=r(88046),V=r(80658),_=r(59292),B=r(76804),G=r(65400),D=r(25958),I=r(59641),X=r(57263),E=r(99843),N=r(64080),L=r(83074),W=r(92002),q=r(46702),j=r(26451),Y=r(23384),H=r(48474),Q=r(85485),$=r(49197),z=r(15902),J=r(2885),K=r(57746),nn=r(21131),en=r(35621),rn=r(91759),tn=r(88710),ln=r(25977),on=function(n){return"@media (max-width: ".concat(n,"px)")},an=(on(X.j.tabletMin),w=X.j.tabletMin+1,b=X.j.tabletMax,"@media (min-width: ".concat(w,"px) and (max-width: ").concat(b,"px)"),on(X.j.tabletMax),R=X.j.tabletMax+1,"@media (min-width: ".concat(R,"px)"),function(n){return{name:n,gridArea:(0,P.iv)({gridArea:n})}}),cn={header:an("header"),cta:an("cta"),main:an("main"),secondary:an("secondary"),auxiliary:an("auxiliary")},un={transparent:(0,P.iv)({background:"transparent"})};'\n      "'.concat(cn.header.name,'"\n      "').concat(cn.cta.name,'"\n      "').concat(cn.main.name,'"\n      "').concat(cn.auxiliary.name,'"\n      "').concat(cn.secondary.name,'"\n      '),'\n      "'.concat(cn.header.name," ").concat(cn.header.name," ").concat(cn.cta.name," ").concat(cn.cta.name,'"\n      "').concat(cn.main.name," ").concat(cn.main.name," ").concat(cn.main.name," ").concat(cn.main.name,'"\n      "').concat(cn.secondary.name," ").concat(cn.secondary.name," ").concat(cn.secondary.name," ").concat(cn.auxiliary.name,'"\n      '),I.TV.space32,'\n      "'.concat(cn.header.name," ").concat(cn.cta.name,'"\n      "').concat(cn.main.name," ").concat(cn.cta.name,'"\n      "').concat(cn.main.name," ").concat(cn.auxiliary.name,'"\n      "').concat(cn.main.name," ").concat(cn.auxiliary.name,'"\n      "').concat(cn.secondary.name," ").concat(cn.auxiliary.name,'"\n      ');function sn(n){var e,r=n.repl,t=n.currentUser,a=n.canModerate,s=n.runRepl,d=n.stopRepl,p=n.runState,m=n.showUrlOutput,h=n.isFileTreeOpen,Z=n.setIsFileTreeOpen,f=function(){if(!t)return R(y.AuthPrompt),void(0,T.j)(T.U3.SIGNUP_REQUESTED,{from:"cover-page",location:"fork"});k||R(y.ForkModal)},v=(0,o.Z)(u.useState(null),2),g=v[0],R=v[1],w=(0,o.Z)((0,_.Z)(),2),b=w[0],k=w[1].loading,x=(0,Y.D)({controlName:"flag-repl-analytics"}),F=(0,S.aq)(r),P=(0,c.tZ)(A.DZ,{runCount:r.runCount,runState:p,publishedAs:r.publishedAs,run:s,stop:d}),B=r.currentUserPermissions.containerWrite,D=B?(0,c.tZ)(I.u,{tooltip:"Edit in Workspace",children:(0,c.tZ)(I.ZP,{colorway:"primary",iconLeft:(0,c.tZ)(N.Z,{}),text:"Edit",as:F.as,href:F.href})}):null,X=B&&x&&r.analyticsUrl?(0,c.tZ)(I.u,{tooltip:"Repl Analytics",children:(0,c.tZ)(I.ZP,{iconLeft:(0,c.tZ)(E.Z,{}),stretch:!0,href:r.analyticsUrl,text:"",css:un.transparent})}):null,H=m?(0,c.tZ)(I.u,{tooltip:"Open in New Tab",children:(0,c.tZ)(I.ZP,{iconLeft:(0,c.tZ)(q.Z,{}),text:"",href:r.prodUrl,target:"_blank",css:un.transparent})}):null,Q=(0,c.tZ)(I.u,{tooltip:"Toggle Filetree",children:(0,c.tZ)(I.zx,{iconLeft:(0,c.tZ)(j.Z,{}),text:"",onClick:function(){return Z((function(n){return!n}))},css:h?void 0:un.transparent})}),K=r.publishedAs===C.O2.Template?{text:k?"Forking...":"Use Template",icon:(0,c.tZ)(W.Z,{}),count:r.releasesForkCount}:{text:k?"Forking...":"Fork",icon:(0,c.tZ)(L.Z,{}),count:r.publicForkCount},nn=B?null:(0,c.tZ)(O.Z,(0,l.Z)((0,i.Z)({},K),{onClick:f,icon:(0,c.tZ)(L.Z,{}),colorway:B?void 0:"primary",onCountClick:function(){return R(y.ForksModal)}})),en=(0,c.tZ)(I.u_,{maxWidth:768,isOpen:"ForksModal"===g,onRequestClose:function(){return R(null)},children:(0,c.tZ)(G.Z,{replId:r.id})}),rn=(0,c.tZ)(I.u_,{isOpen:g===y.ForkModal,onRequestClose:function(){return R(null)},children:(0,c.tZ)(V.Z,{onFork:function(n,e,t,i){var l,o;b({originId:r.id,teamId:n,title:e,description:t,isPrivate:i,replReleaseId:(null===(l=r.deployment)||void 0===l||null===(o=l.activeRelease)||void 0===o?void 0:o.id)||void 0,forkToPersonal:!n,trackingData:{forkSource:"replViewHeader",isApp:r.publishedAs===C.O2.App,isTemplate:r.publishedAs===C.O2.Template}})},initialTitle:r.title,initialDescription:null!==(e=r.description)&&void 0!==e?e:"",initialPrivacy:!1,hideModal:function(){return R(null)},teamContext:null===t||void 0===t?void 0:t.username,template:r.publishedAs===C.O2.Template})}),tn=(0,U.useRouter)(),ln=!(0,z.Vg)(tn)?(0,c.tZ)($.Z,{repl:r,currentUser:t,surface:!1}):null,on=B?(0,c.BX)(c.HY,{children:[en,rn]}):(0,c.BX)(c.HY,{children:[(0,c.tZ)(I.u_,{isOpen:g===y.AuthPrompt,onRequestClose:function(){R(null)},children:(0,c.tZ)(M.Z,{title:"Sign up or log in to fork this Repl",onSuccess:function(){return f()},source:"fork"})}),en,rn]});return(0,c.BX)(c.HY,{children:[(0,c.BX)(I.G7,{css:[I.l0.flex.row,I.l0.justify.spaceBetween,I.l0.align.center],children:[(0,c.BX)(I.G7,{css:[I.l0.rowWithGap(4),I.l0.align.center],children:[(0,c.BX)(I.G7,{css:[I.l0.rowWithGap(8),I.l0.align.center],children:[D,nn,P,ln]}),X,H,Q]}),(0,c.tZ)(J.Z,{repl:r,canModerate:a,source:"coverPage"})]}),on]})}function dn(n){var e=n.repl,r=n.currentUser,t=(0,Y.D)({controlName:"flag-tip-repl"}),i=(0,K.Z)({enableDeeplinks:!0,repl:e,currentUser:r}),l=i.openFile,a=i.viewState,s=i.fs,d=i.runRepl,p=i.stopRepl,m=i.runState,h=i.bsodId,Z=i.isFileTreeOpen,f=i.setIsFileTreeOpen,v=i.showUrlOutput,g=i.nonBsodUnrecoverableError,R=(0,nn.Z)((function(){return{id:e.id,slug:e.slug,language:e.language}}),[e.id,e.language,e.slug]),w="code"===(null===a||void 0===a?void 0:a.type)&&a.deeplink,b=(0,o.Z)(u.useState(w?w.path:null),2),y=b[0],U=b[1];return u.useEffect((function(){U(w?w.path:null)}),[w,null===a||void 0===a?void 0:a.type]),g===tn.G.NotAllowed?(0,c.tZ)(ln.Z,{isOpen:!0}):(0,c.BX)(I.G7,{css:[I.l0.flex.growAndShrink(1),(0,x.Z)({},(0,Q.et)("tabletMax"),{height:"calc(100vh - 60px)",flexDirection:"row"})],children:[(0,c.tZ)(I.G7,{css:[(0,x.Z)({height:"calc(57vw + 51px)",margin:"16px 16px 0px",border:"1px solid "+I.TV.outlineDimmest,borderRadius:8,overflow:"hidden","> *":{height:"100%"}},(0,Q.et)("tabletMax"),{flex:1,height:"100%",margin:0,border:"none",borderRadius:0})],children:(0,c.tZ)(en.Z.Provider,{value:R,children:h?(0,c.tZ)(rn.Z,{}):(0,c.tZ)(A.y6,{repl:e,runRepl:d,viewState:a,activePath:y,isFileTreeOpen:Z,setIsFileTreeOpen:f,openFile:l,fs:s})})}),(0,c.BX)(I.G7,{css:[(0,x.Z)({},(0,Q.et)("tabletMax"),{height:"100%",overflow:"scroll",width:430,borderLeft:"1px solid "+I.TV.outlineDimmest})],children:[(0,c.BX)(I.G7,{css:[I.l0.p(16),I.l0.colWithGap(16)],children:[(0,c.tZ)(sn,{repl:e,currentUser:r,canModerate:(null===r||void 0===r?void 0:r.isModerator)||(null===r||void 0===r?void 0:r.isAdmin),runRepl:d,stopRepl:p,runState:m,showUrlOutput:v,isFileTreeOpen:Z,setIsFileTreeOpen:f}),(0,c.tZ)(D.Z,{repl:e,iconEditable:e.currentUserPermissions.changeIconUrl,hideActions:!0,small:!0}),(0,c.tZ)(B.Z,{repl:e,currentUser:r})]}),(0,c.tZ)(I.RX,{}),t?(0,c.BX)(c.HY,{children:[(0,c.tZ)(I.G7,{css:[I.l0.p(16),I.l0.colWithGap(16)],children:(0,c.tZ)(H.Z,{replId:e.id})}),(0,c.tZ)(I.RX,{})]}):null,(0,c.tZ)(I.G7,{css:[I.l0.p(16),I.l0.colWithGap(16)],children:(0,c.tZ)(F.Z,{replId:e.id})})]})]})}!function(n){n.ForksModal="ForksModal",n.AuthPrompt="AuthPrompt",n.ForkModal="ForkModal"}(y||(y={}));var pn=r(93160),mn=r(81255),hn=r(9008),Zn=r.n(hn);function fn(){var n,e=(0,U.useRouter)(),r=function(n){var e=(0,i.Z)({},v,n);return Z.a(g,e)}({variables:{url:(null===(n=e.query.replUrl)||void 0===n?void 0:n.toString())||""}}),t=r.data,a=r.loading,d="Repl"===(null===t||void 0===t?void 0:t.repl.__typename)?t.repl:null,p=(null===t||void 0===t?void 0:t.currentUser)||void 0,m=(0,Y.D)({controlName:"flag-new-cover-page"}),h=(0,o.Z)(u.useState(!1),2),f=h[0],R=h[1];u.useEffect((function(){return R(!0)}),[]);var w=m?!a&&f:!a,b=Date.now()-864e5,y=new Date(null===d||void 0===d?void 0:d.timeCreated).getTime(),x=new Date(null===d||void 0===d?void 0:d.lastPublishedAt).getTime(),C=((null===d||void 0===d?void 0:d.likeCount)||0)<1||y>b||x>b,T=m?dn:k.Z;return(0,c.BX)(c.HY,{children:[(0,c.BX)(Zn(),{children:[(0,c.tZ)("link",{rel:"canonical",href:"https://replit.com".concat(e.query.replUrl)}),C?(0,c.tZ)("meta",{name:"robots",content:"noindex"}):null]}),(0,c.tZ)(s.Z,(0,l.Z)((0,i.Z)({},function(){var n,e,r,t,i;if(!d)return{title:"Loading..."};var l=(null===(n=d.source)||void 0===n||null===(e=n.deployment)||void 0===e||null===(r=e.repl)||void 0===r?void 0:r.templateLabel)||d.lang.displayName,o=d.description&&(null===(t=d.description)||void 0===t?void 0:t.length)>20?d.description:"Run ".concat(l," code live in your browser. Write and run code in 50+ languages online with Replit, a powerful IDE, compiler, & interpreter.");return{title:d.title,image:d.imageUrl||d.iconUrl||(null===(i=d.owner)||void 0===i?void 0:i.image),description:o,oembedUrl:"https://replit.com"+d.url,largeCard:!0,hideSidebar:m}}()),{children:(0,c.BX)(pn.T,{background:"root",css:[mn.l0.flex.row],children:[w&&d?(0,c.tZ)(T,{repl:d,currentUser:p}):null,w?null:(0,c.tZ)(k.G,{})]})}))]})}fn.getInitialProps=function(){var n=(0,t.Z)((function(n){var e,r;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return e=n.req,r=n.store,[4,(0,d.Z)(e,r)];case 1:return t.sent(),[2,{}]}}))}));return function(e){return n.apply(this,arguments)}}();var vn=fn}},function(n){var e=function(e){return n(n.s=e)};n.O(0,[2240,3662,3443,9371,8966,4778,4286,7485,3795,5499,4837,2069,6286,9922,618,4718,2350,6679,4924,6808,607,3036,7667,8474,7972,3064,9774,2888,179],(function(){return e(25436),e(13390)}));var r=n.O();_N_E=r}]);
//# sourceMappingURL=replView-ef026f17d51c5750.js.map