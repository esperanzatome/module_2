"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{58222:function(n,e,t){t.d(e,{Fp:function(){return r},Fv:function(){return a},HH:function(){return i},hI:function(){return o}});var r="claude-v1",o=["package.json","package-lock.json","yarn.lock","poetry.lock","package.json","package-lock.json",".replit","replit.nix","pyproject.toml",".breakpoints"],i=[".md",".yml",".yaml",".json",".toml",".out",".pkl"],a=["node_modules",".config","venv",".next",".git"]},34193:function(n,e,t){t.d(e,{Z:function(){return m}});var r=t(14251),o=t(52875),i=t(44747),a=t(9941),u=t(35944),c=t(60357),s=t.n(c),l=t(67294),d=t(62976),f=t(11163),p=t(84932),h=t(67629),g=(t(57263),t(81255)),b={xsmall:400,small:450,medium:550,large:900},v=100;function m(n){var e=n.children,t=(0,i.Z)(n,["children"]),r=t.onRequestClose,o=(0,f.useRouter)(),c=(0,a.Z)(l.useState(!1),2),h=c[0],m=c[1],y=(0,a.Z)(l.useState(t.isOpen),2),q=y[0],k=y[1],x=(0,a.Z)(l.useState(!1),2),C=x[0],Z=x[1];if(l.useEffect((function(){if(t.isOpen){var n=setTimeout((function(){return Z(!0)}));return function(){clearTimeout(n)}}Z(!1)}),[t.isOpen]),l.useEffect((function(){if(!t.isOpen){var n=setTimeout((function(){k(!1)}),v);return function(){clearTimeout(n)}}k(t.isOpen)}),[t.isOpen]),l.useEffect((function(){return m(!0)}),[]),l.useEffect((function(){if(t.isOpen&&!t.preventCloseOnRouteChange){var n=function(){return r()};return o.events.on("routeChangeStart",n),function(){o.events.off("routeChangeStart",n)}}}),[t.isOpen,t.preventCloseOnRouteChange,o,r]),!h)return null;var S=b[t.width||"medium"],E=C?1:0;return(0,u.BX)(u.HY,{children:[(0,u.tZ)(d.Ot,{prefix:"modal",children:(0,u.tZ)(p.t9,{style:{opacity:E},isOpen:q,onDismiss:t.preventClose?void 0:t.onRequestClose,className:"oldModalOverlay",children:(0,u.BX)(p.cZ,{"aria-label":"Dialog",style:{maxWidth:"calc(".concat(S,"px + var(--space-32))")},className:"oldModalContent",children:[e,t.preventClose||t.hideCloseButton?null:(0,u.tZ)("div",{"aria-label":"Close",className:s().dynamic([["9f06ff8373dbab42",[g.n0,v]]])+" close-control",children:(0,u.tZ)(w,{onClick:function(){t.onRequestClose()}})})]})})}),(0,u.tZ)(s(),{id:"9f06ff8373dbab42",dynamic:[g.n0,v],children:".oldModalOverlay{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;z-index:".concat(g.n0,";background-color:var(--background-overlay);-webkit-transition:opacity ").concat(v,"ms;-moz-transition:opacity ").concat(v,"ms;-o-transition:opacity ").concat(v,"ms;transition:opacity ").concat(v,"ms;opacity:0;padding:0 var(--space-16)}.oldModalContent{margin:20vh auto;outline:none;position:relative;background-color:var(--background-default);-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);border:1px solid var(--background-highest)}.oldModalOverlay.is-open{opacity:1}.close-control.__jsx-style-dynamic-selector{position:absolute;top:0;right:0;-webkit-transform:translate(0,-webkit-calc(-100% - var(--space-8)));-moz-transform:translate(0,-moz-calc(-100% - var(--space-8)));-ms-transform:translate(0,calc(-100% - var(--space-8)));-o-transform:translate(0,calc(-100% - var(--space-8)));transform:translate(0,-webkit-calc(-100% - var(--space-8)));transform:translate(0,-moz-calc(-100% - var(--space-8)));transform:translate(0,calc(-100% - var(--space-8)))}")})]})}function w(n){return(0,u.BX)("button",(0,o.Z)((0,r.Z)({},n),{className:"jsx-a21f4f6814924b01 "+(n&&null!=n.className&&n.className||""),children:[(0,u.tZ)(h.Z,{}),(0,u.tZ)(s(),{id:"a21f4f6814924b01",children:"button.jsx-a21f4f6814924b01{cursor:pointer;color:var(--foreground-dimmest);border:1px solid var(--background-highest);background-color:var(--background-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:var(--space-32);height:var(--space-32)}button.jsx-a21f4f6814924b01:focus{outline:0 none}button.jsx-a21f4f6814924b01:hover{color:var(--foreground-default)}"})]}))}},16568:function(n,e,t){t.d(e,{B:function(){return h},R$:function(){return g}});var r=t(34727),o=t(9941),i=t(70655),a=t(76216),u=t(99408),c=t(41302),s=t(7182),l=t(67294),d=(0,s.cn)("unknown");function f(n){var e,t,r,o;if(n.error)return"unknown";var i,a,u,c="unknown";if((null===(e=n.config.interpreter)||void 0===e||null===(t=e.command)||void 0===t?void 0:t.args)&&(null===(i=n.config.interpreter)||void 0===i||null===(a=i.command)||void 0===a||a.args.forEach((function(n){/nodejs/.test(n)?c="nodejs":/python3/.test(n)&&(c="python3")})),"unknown"!==c))return c;if((null===(r=n.config.run)||void 0===r?void 0:r.args)&&(null===(u=n.config.run)||void 0===u||u.args.forEach((function(n){/vite/.test(n)?c="vite":/node|npm/.test(n)?c="nodejs":/python3/.test(n)&&(c="python3")})),"unknown"!==c))return c;if(null===(o=n.config.packager)||void 0===o?void 0:o.language){var s,l=null===(s=n.config.packager)||void 0===s?void 0:s.language;if(/nodejs/.test(l)?c="nodejs":/python3/.test(l)&&(c="python3"),"unknown"!==c)return c}return"unknown"}function p(n){var e="unknown";return/nodejs|typescript/.test(n)?e="nodejs":/python3/.test(n)&&(e="python3"),e}function h(){var n=(0,u.Z)().dotReplit,e=(0,a.Z)(),t=(0,c.d)(),h=(0,o.Z)((0,s.KO)(d),2)[1];(0,l.useEffect)((function(){function o(){return(o=(0,r.Z)((function(){var r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t?[4,n.getConfig()]:[2];case 1:r=i.sent();try{return o="unknown","unknown"===(o=f(r))&&(o=p(e)),h(o),[2,o]}catch(a){h("unknown")}return[2]}}))}))).apply(this,arguments)}return function(){o.apply(this,arguments)}(),function(){h("unknown")}}),[n,t,e,h])}function g(){return(0,s.Dv)(d)}},76216:function(n,e,t){t.d(e,{T:function(){return a},Z:function(){return i}});var r=t(67294),o=t(35621);function i(){var n=r.useContext(o.Z);if(!n)throw new Error("Expected Repl info to be in context");return n.language}function a(){return i().startsWith("html")}},78241:function(n,e,t){t.d(e,{n:function(){return s}});var r=t(27322),o=t(33346),i=t(13211),a=t(70655);function u(n){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)((function(n){var e,t,r,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:e=n.getReader(),a.label=1;case 1:return[4,(0,o.Z)(e.read())];case 2:return t=a.sent(),r=t.done,i=t.value,r?[3,4]:[4,i];case 3:return a.sent(),[3,1];case 4:return e.releaseLock(),[2]}}))}))).apply(this,arguments)}function s(n){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)((function(n){var e,t,i,c,s,l,d,f,p;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:e=new TextDecoder("utf-8"),t=!1,i=!1,a.label=1;case 1:a.trys.push([1,7,8,13]),s=(0,r.Z)(u(n)),a.label=2;case 2:return[4,(0,o.Z)(s.next())];case 3:return(t=!(l=a.sent()).done)?(d=l.value,f=d,[4,e.decode(f,{stream:!0})]):[3,6];case 4:a.sent(),a.label=5;case 5:return t=!1,[3,2];case 6:return[3,13];case 7:return p=a.sent(),i=!0,c=p,[3,13];case 8:return a.trys.push([8,,11,12]),t&&null!=s.return?[4,s.return()]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(i)throw c;return[7];case 12:return[7];case 13:return[2]}}))}))).apply(this,arguments)}},36126:function(n,e,t){var r;t.d(e,{y:function(){return r}}),function(n){n.Welcome="Welcome",n.Editor="Editor",n.Examples="Examples",n.Run="Run",n.Output="Output",n.Sidepane="Sidepane",n.Share="Share",n.SidebarButton="SidebarButton",n.GlobalNavButton="GlobalNavButton",n.NotificationsButton="NotificationsButton",n.AvatarButton="AvatarButton",n.SidebarAnnouncement="SidebarAnnouncement",n.Feedback="Feedback"}(r||(r={}))},52867:function(n,e,t){t.d(e,{Z:function(){return f}});var r=t(34727),o=t(70655),i=t(15519),a=t(50055),u=t(48920),c=t(1672),s=t(21603);function l(n){var e=n.container,t=n.beforeRun,l=function(){var n=function(n){p!==n&&(p=n,d.emit(u.z.STATE_CHANGE,p))};n(f?g?u.A.STOPPING:"none"===h?u.A.IDLE:u.A.RUNNING:u.A.OFFLINE)},d=(0,c.ZP)(),f=null,p=u.A.OFFLINE,h="none",g=!1,b=Math.random();function v(){return(v=(0,r.Z)((function(n){var r,i,a,c,g;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(p!==u.A.IDLE&&p!==u.A.STOPPING)throw new Error("Cannot run while state is not IDLE or STOPPING, got state: "+p);return i=Math.random(),b=i,d.emit(u.z.LOCAL_RUN),h="before-run",l(),a=s.kg.timeStart({replLanguage:null===(r=e.getContext())||void 0===r?void 0:r.repl.language}),[4,t(a,{runId:i.toString(),channelId:null===f||void 0===f?void 0:f.id,type:"shellrunner"})];case 1:if(o.sent(),b!==i)return[2];if("none"===h)return[2];if("server"===h)return[2];if(!f)throw new Error("State is RUNNING but shellrunner is null?");return"open"!==f.status||(h="optimistic",c={},n&&(c.runnerId=n.runner.id,c.filePath=n.filePath),f.send({runMain:c}),g=f.onCommand((function(n){"state"===n.body&&(g(),a("run finished"))}))),[2]}}))}))).apply(this,arguments)}function m(){return(m=(0,r.Z)((function(n){return(0,o.__generator)(this,(function(e){if(p!==u.A.IDLE&&p!==u.A.RUNNING)throw new Error("Can only send input when running or idle");if(!f)throw new Error("State is not OFFLINE but shellrunner is null?");return f.send({input:n}),[2]}))}))).apply(this,arguments)}return e.openChannel({name:"shellrunner",service:"shellrun2",skip:function(n){var e,t=n.repl;return e=t.language,!(!0===i.Z.usesInterpreter(e)||!1!==i.Z.usesRunProject(e))}},(function(n){var e=n.channel;if(!n.error){if(!e)throw new Error("Expected error");return f=e,l(),e.onCommand((function(n){if(null!=n.state){var e=n.state===a.api.State.Stopped;g&&e&&(g=!1),e?"server"===h&&(h="none"):h="server",l()}else null!=n.output?d.emit(u.z.OUTPUT,n.output):n.hint&&d.emit(u.z.OUTPUT,"\r\n\x1b[0m\x1b[33m".concat(n.hint.text,"\x1b[0m\r\n"))})),function(){h="none",g=!1,f=null,l()}}})),{mode:"shellrunner",run:function(n){return v.apply(this,arguments)},stopRun:function(){if(p!==u.A.RUNNING)throw new Error("stopRun must be called when running but got ".concat(p));if(!f)throw new Error("State is RUNNING but shellrunner is null?");if("before-run"===h)return h="none",void l();h="none",g=!0,l(),f.send({clear:{}})},sendInput:function(n){return m.apply(this,arguments)},resizeTerminal:function(n){if(!f)throw new Error("resizeTerminal must be called when online");f.send({resizeTerm:n})},onOutput:function(n){return d.on(u.z.OUTPUT,n),function(){d.removeListener(u.z.OUTPUT,n)}},onLocalRun:function(n){return d.on(u.z.LOCAL_RUN,n),function(){d.removeListener(u.z.LOCAL_RUN,n)}},onStateChanged:function(n){return d.on(u.z.STATE_CHANGE,n),function(){d.removeListener(u.z.STATE_CHANGE,n)}},getRunState:function(){return p}}}var d=t(11887);function f(n){var e=n.container,t=n.beforeRun,i=n.mode,a=void 0===i?"shellrunner":i;if("shellrunner"===a)return l({container:e,beforeRun:t});if("html"===a)return function(n){var e=n.beforeRun,t=n.container,i=function(){(function(n){l!==n&&(l=n,a.emit(u.z.STATE_CHANGE,l))})("none"===f?u.A.IDLE:u.A.RUNNING)},a=(0,c.ZP)(),l=u.A.OFFLINE,f="none",p=Math.random();function h(){return(h=(0,r.Z)((function(){var n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:if(l!==u.A.IDLE&&l!==u.A.STOPPING)throw new Error("Cannot run while state is not IDLE or STOPPING, got state: "+l);return n=Math.random(),p=n,a.emit(u.z.LOCAL_RUN),f="before-run",i(),t=s.kg.timeStart({replLanguage:"html"}),[4,e(t,{runId:n.toString(),type:"html"})];case 1:return r.sent(),p!==n||"none"===f||(f="running",i(),f="none",i()),[2]}}))}))).apply(this,arguments)}function g(){return(g=(0,r.Z)((function(n){return(0,o.__generator)(this,(function(n){throw new Error("sendInput not implemented for htmlrunner")}))}))).apply(this,arguments)}return t.onConnectionStateChanged((function(n){n===d.em.CONNECTED&&(f="none",i())})),{mode:"html",run:function(){return h.apply(this,arguments)},stopRun:function(){if(l!==u.A.RUNNING)throw new Error("stopRun must be called when running but got ".concat(l));f="none",i()},sendInput:function(n){return g.apply(this,arguments)},resizeTerminal:function(n){throw new Error("resizeTerminal is a no-op in html mode")},onOutput:function(n){throw new Error("onOutput not implemented for htmlrunner")},onStateChanged:function(n){return a.on(u.z.STATE_CHANGE,n),function(){a.removeListener(u.z.STATE_CHANGE,n)}},onLocalRun:function(n){return a.on(u.z.LOCAL_RUN,n),function(){a.removeListener(u.z.LOCAL_RUN,n)}},getRunState:function(){return l}}}({beforeRun:t,container:e});throw new Error("mode not supported: "+a)}},48920:function(n,e,t){var r,o;t.d(e,{A:function(){return o},z:function(){return r}}),function(n){n.STATE_CHANGE="STATE_CHANGE",n.OUTPUT="OUTPUT",n.LOCAL_RUN="RUN"}(r||(r={})),function(n){n.OFFLINE="OFFLINE",n.IDLE="IDLE",n.RUNNING="RUNNING",n.STOPPING="STOPPING"}(o||(o={}))},20431:function(n,e,t){t.d(e,{X:function(){return i},z:function(){return a}});var r=t(67294),o=r.createContext(null);function i(){return r.useContext(o)}var a=o.Provider},34385:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(6899),o=function(){};function i(n){var e=(0,r.e)(n);return e?e.delegateTooltip:o}},6899:function(n,e,t){t.d(e,{e:function(){return i}});var r=t(67294),o=t(20431);function i(n){var e=(0,o.X)(),t=(0,r.useCallback)((function(t){null===e||void 0===e||e.setStepTargetElement(n,t)}),[n,null===e||void 0===e?void 0:e.setStepTargetElement]);return e&&e.steps.some((function(e){return e.id===n}))?{delegateTooltip:t,isActive:!e.isLoading&&!e.isDone&&e.activeStep.id===n,activeStep:e.activeStep,done:e.done,goto:e.goto,id:e.id,isDone:e.isDone,isLoading:e.isLoading,next:e.next,prev:e.prev,restart:e.restart,steps:e.steps}:null}},91759:function(n,e,t){t.d(e,{Z:function(){return x}});var r=t(9941),o=t(35944),i=t(60357),a=t.n(i),u=t(30019),c=t(44781),s=t(6951),l=t(19526),d=t(34193),f=t(81255),p=t(45273),h=t(37806),g=t(14251),b=t(32692),v=t(31230),m=t(37887);function w(){var n=(0,b.Z)(["\n  query BSODComponent {\n    currentUser {\n      id\n      username\n      image\n      isStaff: hasRole(role: REPLIT_STAFF)\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n"]);return w=function(){return n},n}var y={},q=(0,v.Ps)(w());var k=function(n){var e,t=n.bsod;return(0,o.tZ)("div",{css:[f.l0.p(16),f.l0.width("100%"),f.l0.backgroundColor.backgroundHigher,f.l0.borderRadius(8),f.l0.overflowY("hidden"),{whiteSpace:"pre"}],children:(0,o.tZ)(l.gC,{spacing:1,children:(0,o.BX)("div",{css:[f.l0.font.code,f.l0.fontSize(12)],children:[(0,o.BX)("div",{children:["Origin: ",t.origin]}),null===(e=t.error.stack)||void 0===e?void 0:e.split("\n").map((function(n,e){return(0,o.tZ)("div",{children:n},e)}))]})})})},x=function(){var n,e,t=function(n){var e=(0,g.Z)({},y,n);return m.a(q,e)}(),i=t.data,b=t.loading,v=(0,r.Z)((0,h.qg)(),1)[0];(0,h.ic)();if(!v)return null;var w=(null===i||void 0===i||null===(n=i.currentUser)||void 0===n?void 0:n.isStaff)||(null===i||void 0===i||null===(e=i.currentUser)||void 0===e?void 0:e.isAdmin);return(0,o.tZ)(d.Z,{width:"medium",isOpen:!0,preventClose:!0,onRequestClose:function(){},children:(0,o.BX)("div",{className:a().dynamic([["52051431ebcedd91",[f.n0]]])+" modal-content",children:[(0,o.BX)(l.gC,{spacing:2,align:"center",children:[(0,o.tZ)(u.Z,{level:2,children:" Your Repl is having a bit of trouble."}),(0,o.tZ)("div",{className:a().dynamic([["52051431ebcedd91",[f.n0]]])+" spacer"}),(0,o.tZ)(c.Z,{size:"large",children:"The issue has been logged and the Replit team will look into it. Try reloading the page to get back to coding."}),(0,o.tZ)("div",{css:[f.l0.p(16),f.l0.width("100%"),f.l0.backgroundColor.backgroundHigher,f.l0.borderRadius(8)],className:a().dynamic([["52051431ebcedd91",[f.n0]]]),children:(0,o.BX)(l.gC,{spacing:1,children:[!b&&(null===i||void 0===i?void 0:i.currentUser)?(0,o.BX)(l.Ug,{spacing:2,align:"center",children:[(0,o.tZ)(p.q,{src:i.currentUser.image,username:i.currentUser.username,size:48}),(0,o.tZ)(c.Z,{size:"medium",children:i.currentUser.username})]}):null,(0,o.BX)("div",{css:[f.l0.font.code],className:a().dynamic([["52051431ebcedd91",[f.n0]]]),children:["Error: ",v.eventId]})]})}),w?(0,o.tZ)(k,{bsod:v}):null,(0,o.tZ)("div",{className:a().dynamic([["52051431ebcedd91",[f.n0]]])+" spacer"}),(0,o.tZ)(s.Z,{onClick:function(){return window.location.reload()},color:"primary",filled:!0,fullWidth:!0,children:"reload"}),!1]}),(0,o.tZ)(a(),{id:"52051431ebcedd91",dynamic:[f.n0],children:".modal-content.__jsx-style-dynamic-selector{padding:var(--space-32)}.sentry-error-embed-wrapper{z-index:".concat(f.n0,"!important}")})]})})}},26209:function(n,e,t){t.d(e,{MY:function(){return b},WU:function(){return s},em:function(){return p},fN:function(){return g},j3:function(){return f},mJ:function(){return d},mV:function(){return l}});var r=t(9941),o=(t(21131),t(18172)),i=t(7182),a=t(80086),u=t(67294),c=(0,i.cn)(new Map),s=(0,i.cn)(null,(function(n,e,t){var r=t.messageId,i=t.abortController,a=(0,o.ZP)(n(c),(function(n){n.set(r,i)}));e(c,a)})),l=(0,i.cn)(null,(function(n,e,t){var r=t.messageId,i=(0,o.ZP)(n(c),(function(n){n.delete(r)}));e(c,i)})),d=(0,i.cn)(null,(function(n,e){var t=(0,o.ZP)(n(c),(function(n){var e=!0,t=!1,o=void 0;try{for(var i,a=n.entries()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var u=(0,r.Z)(i.value,2);u[0];u[1].abort()}}catch(c){t=!0,o=c}finally{try{e||null==a.return||a.return()}finally{if(t)throw o}}n.clear()}));e(c,t)})),f=function(){return(0,i.Dv)(c).size>0},p=function(){return(0,a.lV)((0,u.useCallback)((function(n,e){e(d)}),[]))},h=(0,i.cn)(new Set),g=(0,i.cn)(null,(function(n,e,t){var r=t.message,i=r.id,a=r.loading,u=(0,o.ZP)(n(h),(function(n){a?n.add(i):n.delete(i)}));e(h,u)})),b=function(){return(0,i.Dv)(h).size>0}},6880:function(n,e,t){t.d(e,{Iu:function(){return s},aK:function(){return a},db:function(){return c},gL:function(){return u},v3:function(){return d}});var r=t(58222),o=t(7182),i=t(13731),a=(0,o.cn)(r.Fp),u=(0,o.cn)(null),c=(0,o.cn)(null),s=(0,o.cn)((0,i.Z)()),l=(0,o.cn)(null,(function(n,e,t){var r=t.chatModel,o=t.replId,i=t.currentUser;e(a,r),e(u,o),e(c,i),n(s).resolve(!0)})),d=function(){return(0,o.b9)(l)}},4143:function(n,e,t){t.d(e,{Cd:function(){return f},KI:function(){return s},Og:function(){return l},Oy:function(){return d},YY:function(){return u},wK:function(){return c}});var r=t(14251),o=t(7182),i=t(18172),a=(0,o.cn)({}),u=(0,o.cn)(null,(function(n,e,t){var o=t.id,u=t.debugInfo,c=n(a),s=(0,i.ZP)(c,(function(n){n[o]||(n[o]={}),n[o]=(0,r.Z)({},n[o],u)}));e(a,s)})),c=function(n){var e=n.messageId;return(0,o.Dv)(a)[e]},s=(0,o.cn)(""),l=function(){return(0,o.Dv)(s)},d=(0,o.cn)(""),f=function(){return(0,o.Dv)(d)}},95921:function(n,e,t){t.d(e,{Kz:function(){return u},dp:function(){return d},u0:function(){return s}});var r=t(34727),o=t(70655),i=t(7182),a=(0,i.cn)(""),u=function(){return(0,i.KO)(a)},c=(0,i.cn)(null),s=function(){return(0,i.KO)(c)},l=(0,i.cn)(null,function(){var n=(0,r.Z)((function(n,e){return(0,o.__generator)(this,(function(n){return e(a,""),e(c,null),[2]}))}));return function(e,t){return n.apply(this,arguments)}}()),d=function(){return(0,i.b9)(l)}},14965:function(n,e,t){t.d(e,{Cv:function(){return s},I1:function(){return i},LB:function(){return f},nu:function(){return u},vY:function(){return d}});var r=t(7182),o=(0,r.cn)(null),i=function(){return(0,r.b9)(o)},a=(0,r.cn)([]),u=function(){return(0,r.KO)(a)},c=(0,r.cn)([]),s=function(){return(0,r.KO)(c)},l=(0,r.cn)([]),d=function(){return(0,r.KO)(l)},f=(0,r.cn)((function(n){return{activeFile:n(o),fileContext:n(l)}}))},22274:function(n,e,t){t.d(e,{gm:function(){return k},vY:function(){return x.vY},ZT:function(){return U},zu:function(){return R},Jc:function(){return I},gp:function(){return z},Og:function(){return p.Og},Cd:function(){return p.Cd},Cv:function(){return x.Cv},ql:function(){return D}});var r=t(27322),o=t(34727),i=t(14251),a=t(52875),u=t(70655),c=t(7182),s=t(71171),l=t.n(s),d=t(90694),f=t(21603),p=t(4143),h=t(69779),g=t(18172),b=t(26209),v=(0,c.cn)([]),m=(0,c.cn)(null,(function(n,e,t){var r=t.message,o=n(v);e(v,(0,h.Z)(o).concat([r]))})),w=(0,c.cn)(null,(function(n,e,t){var r=t.message,o=n(v);e(b.fN,{message:r}),e(v,(0,h.Z)(o).concat([r]))})),y=(0,c.cn)(null,(function(n,e,t){var r=t.message,o=r.id,i=n(v),a=(0,g.ZP)(i,(function(n){var e;for(e=n.length-1;e>=0&&i[e].id!==o;e--);e>=0&&(n[e]=r)}));e(b.fN,{message:r}),e(v,a)})),q=(0,c.cn)(null,(function(n,e,t){var r=t.messageId,o=t.error,i=n(v),a=(0,g.ZP)(i,(function(n){var e=n.find((function(n){return n.id===r}));e&&(e.loading&&(e.text="",e.loading=!1),e.error=o)}));e(v,a)})),k=(0,c.cn)(l()()),x=t(14965),C=t(6880),Z=t(60977),S=t(62093),E=t(78241),A=(0,c.cn)(""),I=function(){return(0,c.KO)(A)},R=function(){return(0,c.KO)(v)},N=(0,c.cn)(new Set),T=(0,c.cn)(null,(function(n,e,t){var r=(0,g.ZP)(n(N),(function(n){n.add(t)}));e(N,r)})),L=(0,c.cn)(null,(function(n,e,t){var r=(0,g.ZP)(n(N),(function(n){n.delete(t)}));e(N,r)})),O=(0,c.cn)((function(n){return n(N).size>0})),z=function(){return(0,c.KO)(O)};function B(n){return{user:n.attribution,message:n.text}}var j=(0,c.cn)(null,function(){var n=(0,o.Z)((function(n,e){return(0,u.__generator)(this,(function(n){return e(b.mJ),e(v,[]),e(k,l()()),(0,Z.j)(Z.U3.GHOSTWRITER_CHAT_CLEARED),[2]}))}));return function(e,t){return n.apply(this,arguments)}}()),U=function(){return(0,c.b9)(j)},_=(0,c.cn)(null,function(){var n=(0,o.Z)((function(n,e,t){var o,c,s,h,g,A,I,R,N,O,z,j,U,_,D,P,F,G,K,M,H,X,W,Y,V,Q,J;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return o=t.type,c=t.text,o=null!==o&&void 0!==o?o:d.NK.Chat,(0,Z.j)(Z.U3.GHOSTWRITER_CHAT_MESSAGE_SENT,{type:o}),s=c.trim(),[4,n(C.Iu).promise];case 1:if(u.sent(),!(h=n(C.db)))return[2];g=n(k),A=n(v),I=n(C.aK),R=n(C.gL),N=n(x.LB),O=l()(),e(T,O),z={id:O,type:o,text:s,author:{username:h.username,image:h.image},attribution:"Human"},e(m,{message:z}),j=l()(),e(w,{message:U={id:j,type:o,loading:!0,text:"Please wait while I think through your request\u2026",author:{username:"Ghostwriter",image:"/public/images/ghostwriter/blurple-circle.svg"},attribution:"Assistant"}}),_=new AbortController,e(b.WU,{messageId:j,abortController:_}),u.label=2;case 2:return u.trys.push([2,16,17,18]),e(S.Et,!0),D=A.filter((function(n){return!n.loading&&!n.error})).map(B),P=performance.now(),F=void 0,0===N.fileContext.length&&f.kg.warn("No file context passed to ghostwriter chat",{replid:R,chatId:g,messageId:j,chatInputType:o}),[4,fetch("/ai/chat2",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({chatHistory:D,message:{type:o,text:c},model:I,replId:R,chatId:g,context:N}),signal:_.signal})];case 3:if(200!==(G=u.sent()).status)throw new Error("Request failed");if(!G.body)throw new Error("Expected body on response object");K="",M=!1,H=!1,u.label=4;case 4:u.trys.push([4,9,10,15]),W=(0,r.Z)((0,E.n)(G.body)),u.label=5;case 5:return[4,W.next()];case 6:if(!(M=!(Y=u.sent()).done))return[3,8];V=Y.value,V.trim().split("\n\n").map((function(n){return JSON.parse(n)})).forEach((function(n){if(n.type===d.xA.Debug){var t=n;e(p.KI,t.fullPrompt),e(p.YY,{id:j,debugInfo:{fullPrompt:t.fullPrompt}}),e(p.YY,{id:j,debugInfo:{fileContext:N}})}if(n.type===d.xA.Error)throw f.kg.error("ghostwriter chat client response stream error",{replid:R,chatId:g,chatModel:I,messageId:j}),new Error("Sorry, I had an issue generating the response.");if(n.type===d.xA.Response){F||(F=performance.now()-P,f.kg.time("ghostwriter chat time to first stream",F,{replid:R,chatId:g,chatModel:I,messageId:j}),e(p.YY,{id:j,debugInfo:{timeToFirstStream:F}}));var r=n;null!==r.stopReason&&(e(p.Oy,r.stopReason),e(p.YY,{id:j,debugInfo:{stopReason:r.stopReason}}),r.stopReason===d.tD.MaxTokens&&f.kg.info("ghostwriter chat client response stop max tokens",{replid:R,chatId:g,chatModel:I,messageId:j,inferenceId:r.id})),K+=r.data,U={id:j,type:null!==o&&void 0!==o?o:d.NK.Chat,text:K,author:{username:"Ghostwriter",image:"/public/images/ghostwriter/blurple-circle.svg"},attribution:"Assistant",inferenceId:r.id},e(y,{message:U})}})),u.label=7;case 7:return M=!1,[3,5];case 8:return[3,15];case 9:return Q=u.sent(),H=!0,X=Q,[3,15];case 10:return u.trys.push([10,,13,14]),M&&null!=W.return?[4,W.return()]:[3,12];case 11:u.sent(),u.label=12;case 12:return[3,14];case 13:if(H)throw X;return[7];case 14:return[7];case 15:return[3,18];case 16:return J=u.sent(),e(S.Et,!1),"AbortError"===J.name?(e(y,{message:(0,a.Z)((0,i.Z)({},U),{aborted:!0})}),[2]):(e(q,{messageId:j,error:"Sorry, I had an issue generating the response."}),f.kg.error("ghostwriter chat client response error",{replid:R,chatId:g,chatModel:I,messageId:j}),[3,18]);case 17:return e(L,O),e(b.mV,{messageId:j}),[7];case 18:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}()),D=function(){return(0,c.b9)(_)}},62093:function(n,e,t){t.d(e,{Et:function(){return o},Z9:function(){return u},Z_:function(){return i},rM:function(){return c}});var r=t(7182),o=(0,r.cn)(!1),i=function(){return(0,r.KO)(o)},a=(0,r.cn)(!1),u=function(){return(0,r.KO)(a)},c=function(){return(0,r.b9)(a)}},41302:function(n,e,t){t.d(e,{d:function(){return d}});var r=t(23384),o=t(14251),i=t(32692),a=t(31230),u=t(37887);function c(){var n=(0,i.Z)(["\n  query GhostwriterChatStatusHook {\n    currentUser {\n      id\n      userPowerUpsByType {\n        __typename\n        ... on UserPowerUpsTypes {\n          ghostwriter {\n            active\n          }\n        }\n      }\n    }\n  }\n"]);return c=function(){return n},n}var s={},l=(0,a.Ps)(c());var d=function(){var n,e=(0,r.D)({controlName:"flag-ghostwriter-chat-ext"}),t=(0,r.D)({controlName:"flag-ghostwriter-chat-beta"}),i=function(n){var e=(0,o.Z)({},s,n);return u.a(l,e)}().data,a="UserPowerUpsTypes"===(null===i||void 0===i||null===(n=i.currentUser)||void 0===n?void 0:n.userPowerUpsByType.__typename)&&i.currentUser.userPowerUpsByType.ghostwriter.active;return e||t&&a}},48386:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(35944),o=t(60357),i=t.n(o),a=t(59641),u=t(57704),c=function(n){var e=n.onClick;return(0,r.tZ)(a.u,{tooltip:"Clear",placement:"bottom-start",children:(0,r.BX)("button",{"aria-label":"Clear",onClick:e,css:a.l0.focusRing,className:"jsx-fba03c32cb6e41ee",children:[(0,r.tZ)(u.Z,{size:16}),(0,r.tZ)(i(),{id:"fba03c32cb6e41ee",children:"button.jsx-fba03c32cb6e41ee{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-4);background-color:var(--background-root);color:var(--foreground-default);-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s;border:none;cursor:pointer}button.jsx-fba03c32cb6e41ee:hover{background-color:var(--background-higher)}button.jsx-fba03c32cb6e41ee:focus{outline:none}"})]})})}},91202:function(n,e,t){t.d(e,{l:function(){return c}});var r=t(35944),o=t(60357),i=t.n(o),a=t(59641),u=t(87653),c=function(n){var e=n.onClick;return(0,r.tZ)(a.u,{tooltip:"Search",placement:"bottom-start",children:(0,r.BX)("button",{"aria-label":"Search",onClick:e,css:a.l0.focusRing,className:"jsx-fba03c32cb6e41ee",children:[(0,r.tZ)(u.Z,{size:16}),(0,r.tZ)(i(),{id:"fba03c32cb6e41ee",children:"button.jsx-fba03c32cb6e41ee{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-4);background-color:var(--background-root);color:var(--foreground-default);-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s;border:none;cursor:pointer}button.jsx-fba03c32cb6e41ee:hover{background-color:var(--background-higher)}button.jsx-fba03c32cb6e41ee:focus{outline:none}"})]})})}},29672:function(n,e,t){t.d(e,{R:function(){return s}});var r=t(35944),o=t(60357),i=t.n(o),a=t(59641),u=t(6951),c=t(67294);function s(n){var e=n.findNext,t=n.findPrevious,o=n.exit,s=(0,c.useRef)(null),l=(0,c.useState)(""),d=l[0],f=l[1];(0,c.useEffect)((function(){s.current&&s.current.focus()}),[]);return(0,r.BX)("div",{className:"jsx-d22d76e8545c71ca search",children:[(0,r.tZ)("input",{ref:s,placeholder:"Find",value:d,onChange:function(n){return f(n.target.value)},onKeyDown:function(n){return function(n){"Escape"!==n.key?"Enter"===n.key&&(n.shiftKey?t(d):e(d)):o()}(n)},css:[a.l0.focusRing],className:"jsx-d22d76e8545c71ca"}),(0,r.tZ)(u.Z,{size:"small",onClick:function(){return e(d)},children:"Next"}),(0,r.tZ)(u.Z,{size:"small",onClick:function(){return t(d)},children:"Previous"}),(0,r.tZ)(u.Z,{size:"small",onClick:o,children:"Exit"}),(0,r.tZ)(i(),{id:"d22d76e8545c71ca",children:".search.jsx-d22d76e8545c71ca{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:30px}input.jsx-d22d76e8545c71ca{padding:4px var(--space-8)var(--space-4);background-color:var(--background-default);color:var(--white);height:24px;width:85px;border:none;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}input.jsx-d22d76e8545c71ca::-webkit-input-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca:-moz-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca::-moz-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca:-ms-input-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca::-ms-input-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca::placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca:focus{outline:none;border:var(--accent-primary-default)}input.jsx-d22d76e8545c71ca,.search button{margin:0 var(--space-4)}"})]})}},39348:function(n,e,t){t.d(e,{Z:function(){return H}});var r,o=t(9941),i=t(35944),a=t(67294),u=t(59641),c=t(10129),s=t(11089),l=t(70917),d=t(50055),f=t(10449),p=t(48920);function h(n,e){var t,o;switch(n){case r.Init:t="5%",o="Loading...";break;case r.Booting:o="Booting Repl",t="20%";break;case r.LoadingFiles:o="Downloading files",t="".concat(Math.floor(20+70*e).toString(),"%");break;case r.Ready:o="Ready",t="100%";break;default:(0,f.Z)(n)}return{percentString:t,message:o}}!function(n){n.Init="Init",n.Booting="Booting",n.LoadingFiles="LoadingFiles",n.Ready="Ready"}(r||(r={}));var g=(0,l.F4)({"0%":{opacity:0,top:0},"100%":{opacity:1,top:"-25px"}});function b(n){var e=n.onBootStatus,t=n.initialRunState,o=(0,a.useState)({current:t===p.A.OFFLINE?r.Init:r.Ready,previous:null}),u=o[0],c=o[1],s=(0,a.useState)(0),l=s[0],f=s[1];(0,a.useEffect)((function(){var n=0,t=0,o=null,i=null,a=function(){n=0,t=0,o=null,i&&(clearInterval(i),i=null)},u=e((function(e){var u;switch(function(e){var r=e.stage,u=e.progress,c=e.total;if(i&&clearInterval(i),r!==d.api.BootStatus.Stage.PULL_FILES&&r!==d.api.BootStatus.Stage.LOAD_BLOCK||!c)return a(),void f(0);if(!(n>u)&&t!==u){var s=Date.now(),l=0;l=o?(u-t)/(s-o)*50:5e4,o=s,t=u,i=setInterval((function(){(n+=l)>c&&(n=c),n=Math.max(n,u),f(n/c)}),50)}}(e),e.stage){case d.api.BootStatus.Stage.ACQUIRING:u=r.Booting;break;case d.api.BootStatus.Stage.PULL_FILES:case d.api.BootStatus.Stage.LOAD_BLOCK:u=r.LoadingFiles;break;case d.api.BootStatus.Stage.COMPLETE:u=r.Ready;break;default:return}c((function(n){return n.current===u?n:{current:u,previous:n.current}}))}));return function(){a(),u()}}),[e]);var b=u.previous?h(u.previous,1):null,v=h(u.current,l);return(0,i.BX)("div",{css:{position:"absolute",left:"25%",right:"25%",top:"45%",backgroundColor:"transparent",color:"white",transition:"all 1s 0.5s",opacity:u.current===r.Ready?0:1},children:[(0,i.BX)("div",{children:[b?(0,i.BX)("div",{css:{textAlign:"center",position:"absolute",width:"100%",top:"-100px",opacity:0,transition:"top 0.4s, opacity 0.4s"},children:[b.message,u.previous===r.LoadingFiles&&" 100%"]},b.message):null,(0,i.BX)("div",{css:{textAlign:"center",position:"absolute",width:"100%",top:"-25px",opacity:1,animationName:g.toString(),animationDuration:"0.6s"},children:[v.message,u.current===r.LoadingFiles&&" ".concat(v.percentString)]},v.message)]}),(0,i.tZ)("div",{css:{background:"none",border:"solid white 1px",borderRadius:"10px"},children:(0,i.tZ)("div",{css:{height:"5px",width:v.percentString,backgroundColor:"#fff",transition:"width cubic-bezier(0.28, 0.26, 0.33, 1) 2s"}})})]})}var v=t(84563);var m=t(29672),w=t(91202),y=t(48386),q=t(34385),k=t(36126),x=t(34140),C=t(43186),Z=t(34727),S=t(70655),E=t(95921),A=t(21603),I=/(((\w+Error)|(Error)): (.*)\r\n((?:\s+at .*\r\n)+))|(\/home\/runner(.*):\d+\r\n[\s\S]*((\w+Error)|(Error)): (.*)\r\n)/g,R=/(Traceback.*\r\n)?( +File.*(\r\n.*){1,2})*\r\n.*((\wError:)|(Exception:)).*/g,N=/(\x1b\[(.*?)m)/g;var T=t(16568),L=t(41302);function O(n){var e=n.runner,t=(0,T.R$)(),r=(0,a.useState)(p.A.IDLE),i=r[0],u=r[1],c=(0,o.Z)((0,E.u0)(),2),s=c[0],l=c[1],d=(0,E.dp)(),f=(0,o.Z)((0,E.Kz)(),2),h=f[0],g=f[1],b=(0,L.d)(),v=(0,a.useCallback)(function(){var n=(0,Z.Z)((function(n){return(0,S.__generator)(this,(function(e){return"unknown"===t||g((function(e){return(e+n).slice(-5e3)})),[2]}))}));return function(e){return n.apply(this,arguments)}}(),[t,g]),m=(0,a.useCallback)((function(n){"unknown"!==t&&n!==i&&(u(n),n!==p.A.RUNNING||d())}),[d,t,i]);return(0,a.useEffect)((function(){var n=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";return"nodejs"===e?null!==n.match(I):"python3"===e&&null!==n.match(R)}(h,t);if(n){var e=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";if("unknown"===e)return A.kg.error("Ghostwriter Chat Debugger cannot parse error and stack trace for unknown interpreter"),"";var t=n.replace(N,""),r=null;return"nodejs"===e?r=t.match(I):"python3"===e?r=t.match(R):(A.kg.error("Ghostwriter Chat Debugger invalid interpreter"),new Error("Ghostwriter Chat debugger invalid interpreter")),r?r[r.length-1]:(A.kg.error("Ghostwriter Chat Debugger had no error - this should not have happened",{errorBuffer:n,interpreter:e}),"")}(h,t);l(e)}}),[h,t,l]),(0,a.useEffect)((function(){if(b&&"shellrunner"===e.mode){var n=[e.onOutput(v),e.onStateChanged(m)];return function(){n.forEach((function(n){return n()}))}}}),[b,e,v,m]),{hasAccessToChatDebugger:b,parsedError:s,clearDebug:d}}var z=t(85873),B=t(60482),j=t(22274),U=t(90694),_=t(15902),D=t(19613),P=(0,l.iv)([u.l0.height("100%"),u.l0.width("100%"),u.l0.position.relative,u.l0.backgroundColor.backgroundDefault,u.l0.borderRadius(0,0,8,8),u.l0.pl(16),u.l0.pt(4),{"&:focus-within .controls":{opacity:"1"}}]),F=(0,l.iv)([u.l0.height("100%"),u.l0.overflow("auto"),{"& .xterm":u.l0.height("100%"),"& .xterm .xterm-viewport":[u.l0.borderRadius(0,0,8,8),u.l0.overflowY("auto")]}]),G=(0,l.iv)([u.l0.flex.row,u.l0.align.center,u.l0.justify.end,u.l0.position.absolute,u.l0.top(8),u.l0.right(8),u.l0.minHeight(30),{opacity:"0",zIndex:100}]),K=(0,l.iv)([u.l0.flex.row,u.l0.align.center,u.l0.justify.end,u.l0.position.absolute,u.l0.pl(8),u.l0.bottom(8),u.l0.right(8),u.l0.minHeight(30),{zIndex:100}]),M=function(n,e){var t=n.tracker,r=n.runner,l=n.debugClient,d=n.packager,f=n.onBootStatus,h=(0,o.Z)(function(n){var e=n.tracker,t=n.runner,r=n.debugClient,i=n.packager,u=(0,o.Z)((0,s.Z)(),2),c=u[0],l=u[1],d=(0,a.useState)(""),f=d[0],h=d[1],g=e||function(){};return(0,a.useEffect)((function(){if(!c)return t.onOutput((function(n){return h((function(e){return e+n}))}))}),[c,t,h]),(0,a.useEffect)((function(){if(!c&&i)return i.onOutput((function(n){return h((function(e){return e+n.replace(/\n/g,"\n\r")}))}))}),[c,i,h]),(0,a.useEffect)((function(){var n=function(n){if(!c)throw new Error("Expected xterm");c.write(n.replace(/\n/g,"\n\r"))};if(c&&i){var e=i.onOutput((function(e){n(e)})),t=i.onError((function(){return n("\x1b[31m\n\nReplit: Package operation failed.\x1b[00m")})),r=i.onStateChanged((function(e){e&&n("\n\nReplit: Updating package configuration\n\n")}));return function(){e(),t(),r()}}}),[c,i]),(0,a.useEffect)((function(){f&&c&&(g("user:run:output",{bufferedOutput:f}),c.write(f),h(""))}),[c,f]),(0,a.useEffect)((function(){if(c){var n=function(){t.getRunState()!==p.A.OFFLINE&&t.resizeTerminal(c.getSize())},e=[];e.push(c.onResize(n).dispose);var o=[];e.push(c.onData((function(n){var e=(0,v.I)(n);"running"!==(null===r||void 0===r?void 0:r.state.current)?t.getRunState()!==p.A.OFFLINE?t.sendInput(e):o.push(e):r.sendInput(e)})).dispose),e.push(t.onOutput((function(n){g("user:run:output",{output:n}),c.write(n)})));var i=!1;return e.push(t.onStateChanged((function(e){if(e!==p.A.OFFLINE){if(i||(n(),i=!0),o.length){var r=!0,a=!1,u=void 0;try{for(var c,s=o[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var l=c.value;t.sendInput(l)}}catch(d){a=!0,u=d}finally{try{r||null==s.return||s.return()}finally{if(a)throw u}}o=[]}}else i=!1}))),t.getRunState()!==p.A.OFFLINE&&(n(),i=!0),function(){e.forEach((function(n){return n()}))}}}),[c,t,r]),[c,l,h]}({tracker:t,runner:r,debugClient:l,packager:d}),3),g=h[0],Z=h[1],S=h[2],E=(0,o.Z)(a.useState(!1),2),A=E[0],I=E[1],R=O({runner:r}),N=R.hasAccessToChatDebugger,T=R.parsedError,L=R.clearDebug,M=(0,_.T3)(),H=N&&!M&&Boolean(T),X=(0,B.dK)(),W=(0,j.ql)();a.useEffect((function(){return function(){L()}}),[L]);var Y=(0,C.Z)().preferences.accessibleTerminal,V=(0,s.a)();a.useImperativeHandle(e,(function(){return{write:function(n){g?g.write(n):S((function(e){return e+n.replace(/\n/g,"\n\r")}))},clear:function(){g&&g.clear()},focus:function(){g&&g.focus()}}}));var Q=(0,q.Z)(k.y.Output);return(0,i.BX)(u.G7,{css:[P,V],onKeyDown:function(n){"f"===n.key&&(0,c.jh)(n)&&!n.shiftKey&&(I(!0),n.preventDefault())},innerRef:Q,children:[(0,i.BX)(u.G7,{css:G,className:"controls",children:[A&&g?(0,i.tZ)(m.R,{findPrevious:g.findPrevious,findNext:g.findNext,exit:function(){return I(!1)}}):(0,i.tZ)(w.l,{onClick:function(){return I(!0)}}),(0,i.tZ)(y.Z,{onClick:function(){g&&(g.clear(),g.focus(),L())}})]}),H?(0,i.tZ)(u.G7,{css:K,children:(0,i.tZ)(u.uj,{icon:(0,i.tZ)(z.Z,{}),text:"Code error detected. Debug with Ghostwriter?",colorway:"blurple",closable:!0,closeAction:function(){L()},onClick:function(){T&&(X({type:"ghostwriterChat"}),W({text:(0,D.Vh)(T),type:U.NK.Debugger}),L())}})}):null,Y?null:(0,i.tZ)(x.T,{children:'Enable "Accessible Terminal" in Workspace Settings to use a screen reader with the console.'}),(0,i.tZ)(u.G7,{css:F,innerRef:Z}),f?(0,i.tZ)(b,{initialRunState:r.getRunState(),onBootStatus:f}):null]})},H=a.forwardRef(M)},11089:function(n,e,t){t.d(e,{Z:function(){return B},a:function(){return l.a}});var r=t(34727),o=t(9941),i=t(70655),a=t(67294),u=t(64487),c=t(96189),s=t(79500),l=t(26020),d="replit-icons-font";function f(){if(!document.getElementById(d)){var n=document.createElement("style");n.id=d,n.type="text/css",n.appendChild(document.createTextNode("\n@font-face {\n  font-family: 'replit-icons';\n  font-style: normal;\n  font-weight: normal;\n  font-stretch: normal;\n  src: url(".concat("/public/fonts/replit-icons.woff",") format('woff'),\n    url(").concat("/public/fonts/replit-icons.ttf",") format('truetype');\n}"))),document.head.appendChild(n)}}var p="BESbswy",h=3e3;function g(n){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)((function(n){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return document.fonts?[4,m(document.fonts,n)]:[3,2];case 1:case 3:return e.sent(),[2];case 2:return[4,Promise.all([y("serif",n),y("sans-serif",n),y("monospace",n)])]}}))}))).apply(this,arguments)}function v(n){var e=n.family,t=n.style,r=void 0===t?"normal":t,o=n.weight,i=void 0===o?"normal":o;return"".concat(r," ").concat(i," 100px ").concat(e)}function m(n,e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)((function(n,e){var t,r,o,a,u,c;return(0,i.__generator)(this,(function(i){return t=e.fontInfo,r=e.characters,o=void 0===r?p:r,a=e.timeout,u=void 0===a?h:a,c=v(t),[2,new Promise((function(e,t){var r=!1,i=setTimeout((function(){r=!0,t(new Error("Font loading timed out"))}),u);n.load(c,o).then((function(){r||(clearTimeout(i),e())})).catch((function(n){r||(clearTimeout(i),t(n))}))}))]}))}))).apply(this,arguments)}function y(n,e){return q.apply(this,arguments)}function q(){return(q=(0,r.Z)((function(n,e){var t,r,o,a,u,c,s,l,d;return(0,i.__generator)(this,(function(i){return t=e.fontInfo,r=e.characters,o=void 0===r?p:r,a=e.timeout,u=void 0===a?h:a,c=v(t),(s=document.createElement("span")).innerText=o,s.style.font="normal normal 100px ".concat(n),s.style.position="absolute",s.style.left="-9999px",s.style.top="-9999px",document.body.appendChild(s),l=s.offsetWidth,s.style.font=c,(d=function(){return l!==s.offsetWidth})()?[2]:[2,new Promise((function(n,e){var r=setInterval((function(){d()&&(clearInterval(r),clearTimeout(o),document.body.removeChild(s),n())}),50),o=setTimeout((function(){clearInterval(r),document.body.removeChild(s),d()?n():e(new Error("Font loading timed out "+t.family))}),u)}))]}))}))).apply(this,arguments)}function k(n){u.Tb(n)}var x='"ReplitHack"',C=400,Z=700,S=String.fromCharCode(61095);function E(){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)((function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return f(),[4,Promise.all([g({fontInfo:{family:"replit-icons"},characters:S}).catch(k),g({fontInfo:{family:x,weight:C.toString()}}).catch(k),g({fontInfo:{family:x,weight:C.toString(),style:"italic"}}).catch(k),g({fontInfo:{family:x,weight:Z.toString()}}).catch(k),g({fontInfo:{family:x,weight:Z.toString(),style:"italic"}}).catch(k)])];case 1:return n.sent(),[2]}}))}))).apply(this,arguments)}var I,R=t(93096);var N=t.n(R)()((function(){if("undefined"!==typeof AudioContext){var n=(I||(I=new AudioContext),I),e=n.createBufferSource();n.decodeAudioData(function(n){for(var e=window.atob(n),t=e.length,r=new Uint8Array(t),o=0;o<t;o++)r[o]=e.charCodeAt(o);return r.buffer}("SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),(function(t){e.buffer=t,e.connect(n.destination),e.start(0)}))}}),500,{leading:!0,trailing:!0}),T=t(43186),L=t(2858),O=t(16965);function z(){return Promise.all([t.e(6142).then(t.t.bind(t,12320,23)),t.e(2617).then(t.t.bind(t,12617,23)),t.e(747).then(t.t.bind(t,747,23)),t.e(7511).then(t.t.bind(t,67511,23)),t.e(2993).then(t.t.bind(t,32993,23)),t.e(2510).then(t.bind(t,82510)),t.e(9421).then(t.t.bind(t,9421,23))])}function B(){var n=(0,a.useState)(null),e=n[0],u=n[1],s=(0,a.useState)(null),d=s[0],f=s[1],p=(0,l.f)(),h={screenReaderMode:(0,T.Z)().preferences.accessibleTerminal,fileLinking:function(){var n=(0,a.useContext)(L.Z);return(0,a.useMemo)((function(){return n?{listFiles:n.fs.listFiles,openFile:n.session.openFile}:null}),[n])}(),terminalTheme:p},g=(0,O.Z)(h),b=(0,c.Z)((function(){return null===d||void 0===d?void 0:d.fit()}),{type:"debounce",wait:200}),v=(0,a.useRef)(null);return(0,a.useLayoutEffect)((function(){if(e){var n=[];return function(){t.apply(this,arguments)}(),function(){n.forEach((function(n){return n()}))}}function t(){return t=(0,r.Z)((function(){var t,r,a,u,c,s,l,d,p,h,m,w,y,q,k,S;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([z(),E()])];case 1:return t=o.Z.apply(void 0,[i.sent(),1]),r=(0,o.Z)(t[0],7),a=r[0].Terminal,u=r[1].FitAddon,c=r[2].SearchAddon,s=r[3].WebLinksAddon,l=r[4].Unicode11Addon,d=r[5].FileLinkAddon,p=r[6].CanvasAddon,e?(h=new a({allowProposedApi:!0,cursorBlink:!1,scrollback:1e3,tabStopWidth:4,fontFamily:"".concat(x,', replit-icons, Monaco, "Ubuntu Mono", Consolas, monospace'),fontSize:14,lineHeight:1,fontWeight:C,fontWeightBold:Z,drawBoldTextInBrightColors:!1,minimumContrastRatio:4.5,theme:g.current.terminalTheme,screenReaderMode:g.current.screenReaderMode}),g.current.fileLinking?(v.current=new d(g.current.fileLinking.openFile,g.current.fileLinking.listFiles),h.loadAddon(v.current)):v.current=null,m=new u,h.loadAddon(m),w=new s,h.loadAddon(w),y=new c,h.loadAddon(y),q=new l,h.loadAddon(q),h.unicode.activeVersion="11",h.onBell(N),h.open(e),n.push((function(){return h.dispose()})),k=new p,h.loadAddon(k),h.attachCustomKeyEventHandler((function(n){return j(h,n)})),S=!1,h.attachCustomKeyEventHandler((function(n){return"shift"===n.key.toLowerCase()||"ctrl"===n.key.toLowerCase()||"alt"===n.key.toLowerCase()||"meta"===n.key.toLowerCase()||("tab"!==n.key.toLowerCase()||!S)&&(S="escape"===n.key.toLowerCase(),!0)})),f({onKey:h.onKey.bind(h),onData:h.onData.bind(h),onResize:h.onResize.bind(h),write:h.write.bind(h),fit:function(){var n=e.getBoundingClientRect(),t=n.width,r=n.height;t>0&&r>0&&m.fit()},focus:function(){return h.focus()},clear:function(){return h.clear()},findPrevious:function(n){return y.findPrevious(n)},findNext:function(n){return y.findNext(n)},getSize:function(){return{cols:h.cols,rows:h.rows}},_term:h}),b(e),[2]):[2]}}))})),t.apply(this,arguments)}}),[e,b,g]),function(n,e,r){var o=r.screenReaderMode,i=r.fileLinking,u=r.terminalTheme;(0,a.useEffect)((function(){n&&u&&(n.options.theme=u)}),[n,u]),(0,a.useEffect)((function(){n&&(n.options.screenReaderMode=o)}),[n,o]),(0,a.useEffect)((function(){if(n)if(i){if(!e.current){var r=!1;return t.e(2510).then(t.bind(t,82510)).then((function(t){var o=t.FileLinkAddon;r||(e.current=new o(i.openFile,i.listFiles),n.loadAddon(e.current))})),function(){r=!0}}e.current.update(i.openFile,i.listFiles),e.current.reactivate()}else e.current&&e.current.deactivate()}),[n,i,e])}(null===d||void 0===d?void 0:d._term,v,h),[d,u]}function j(n,e){return!window.navigator.clipboard||("c"!==e.key.toLowerCase()||!e.ctrlKey||!e.shiftKey||("keyup"===e.type&&n.hasSelection()&&(0,s.Z)(n.getSelection()).catch((function(n){u.$e((function(e){e.setTag("xterm-clipboard",!0),e.setExtra("type","copy"),u.Tb(n)}))})),e.preventDefault(),e.stopPropagation(),!1))}},84563:function(n,e,t){t.d(e,{I:function(){return i}});var r="\x1b[200~",o="\x1b[201~";function i(n){return function(n){return n.startsWith(r)&&n.endsWith(o)}(n)?n.slice(r.length,n.length-o.length):n}},26020:function(n,e,t){t.d(e,{a:function(){return u},f:function(){return c}});var r=t(30888),o=t(14840),i=t(98251),a=t(67294);function u(){var n={};return(0,r.F)().theme.id===o.Dy.id&&(n=(0,i.zL)(o.Sj.values)),n}function c(){var n=(0,r.F)(),e=n.theme,t=n.values;return(0,a.useMemo)((function(){return e.id===o.Dy.id?s(o.Sj.values):s(t)}),[e,t])}function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Sj.values;return{foreground:n.global.foregroundDefault,background:n.global.backgroundDefault,cursor:n.global.foregroundDefault,cursorAccent:n.global.backgroundHigher,selectionBackground:n.global.foregroundDefault,black:n.global.backgroundRoot,red:n.global.redStronger,green:n.global.accentPositiveDefault,yellow:n.global.yellowDefault,blue:n.global.blueStronger,magenta:n.global.magentaDefault,cyan:n.global.tealDefault,white:n.global.foregroundDefault,brightBlack:n.global.outlineDimmest,brightRed:n.global.redStrongest,brightGreen:n.global.accentPositiveStronger,brightYellow:n.global.yellowStronger,brightBlue:n.global.blueStrongest,brightMagenta:n.global.magentaStronger,brightCyan:n.global.tealStronger,brightWhite:n.global.foregroundDefault}}},19613:function(n,e,t){t.d(e,{LX:function(){return a},Vh:function(){return u}});var r=t(84159),o={"c#":"cs","c++":"cpp"},i=["c","cs","css","cpp","go","python","java","javascript","html","php","perl","r","sql","apex","rust","ruby"];function a(n,e){var t;if(!n)return"";var a,u=function(e){return(0,r.Z)(n,"Language: ".concat(e))},c=null!==(a=null===(t=o[n])||void 0===t?void 0:t.toLowerCase())&&void 0!==a?a:n,s="<|".concat(c,"|>");return i.includes(c)?u("python"===n?"python 3":s):u(n)}function u(n){var e="Running the code in my project results in the error:";return e+="\n```\n".concat(n,"\n```\n\n")}},84159:function(n,e,t){function r(n,e){switch(n){case"coffeescript":case"dockerfile":case"elixir":case"julia":case"makefile":case"perl":case"python":case"shellscript":case"terraform":case"yaml":return"# ".concat(e);case"sql":case"lua":return"-- ".concat(e);case"html":case"svelte":case"xml":case"xsl":return"\x3c!-- ".concat(e," --\x3e");case"css":return"/* ".concat(e," */");case"tex":case"latex":case"matlab":return"% ".concat(e);case"vb":return"' ".concat(e);case"markdown":return"[]: # ".concat(e);case"handlebars":return"{{!-- ".concat(e," --}}");case"haml":return"-# ".concat(e);case"erb":return"<%# ".concat(e," %>");default:return"// ".concat(e)}}t.d(e,{Z:function(){return r}})}}]);
//# sourceMappingURL=607-1dbb7a562d110ad2.js.map