"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5521],{64680:function(e,t,n){var r=n(14251),i=n(52875),o=n(35944),a=n(53328),l=n(60081),s=n(69119),c=n(55376),u=n(85861);a.kL.register(a.uw,a.f$,a.od,a.jn,a.u);t.Z=function(e){var t=e.labels,n=e.datasets,a=(0,u.Fg)().values,d={labels:t.map((function(e){return e.toISOString()})),datasets:n.map((function(e){return(0,i.Z)((0,r.Z)({},e),{data:e.data.map((function(e){var t=e.x,n=e.y;return{x:t.toISOString(),y:n}})),pointRadius:1,tension:.1})}))};return(0,o.tZ)(c.x1,{options:{responsive:!0,plugins:{tooltip:{callbacks:{title:function(e){var t=new Date(e[0].label);return(0,l.Z)(t,"MMM d, HH:mm (z)")}}}},scales:{y:{grid:{borderColor:a.global.backgroundHigher,color:a.global.backgroundHigher},ticks:{color:a.global.foregroundDimmer},min:0},x:{grid:{borderColor:a.global.backgroundHighest,color:a.global.backgroundHighest},ticks:{color:a.global.foregroundDimmer,callback:function(e,n){var r=t[n];if(r.toISOString()===(0,s.Z)(r).toISOString())return(0,l.Z)(r,"MMM d")}}}}},data:d})}},99894:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(35944),i=n(78343),o=n(67294),a=n(59641),l=n(85861),s=n(77365),c=n(14251),u=n(32692),d=n(31230),p=n(37887);function f(){var e=(0,u.Z)(["\n  fragment ReplAnalyticsPageViewDataPoint on ReplAnalyticsPageViewsData {\n    __typename\n    timestamp\n    success\n    failure\n  }\n"]);return f=function(){return e},e}function h(){var e=(0,u.Z)(["\n  fragment ReplAnalyticsPageViews on ReplAnalyticsPageViews {\n    __typename\n    uniques\n    results {\n      ...ReplAnalyticsPageViewDataPoint\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function m(){var e=(0,u.Z)(["\n  query ReplAnalyticsPageViews(\n    $id: String!\n    $input: ReplAnalyticsPageViewsInput!\n  ) {\n    repl(id: $id) {\n      ... on Repl {\n        __typename\n        id\n        analyticsPageViews(input: $input) {\n          ... on ReplAnalyticsPageViews {\n            ...ReplAnalyticsPageViews\n          }\n          ... on NotFoundError {\n            __typename\n            message\n          }\n          ... on UserError {\n            __typename\n            message\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var v={},g=(0,d.Ps)(f()),Z=(0,d.Ps)(h(),g),b=(0,d.Ps)(m(),Z);var y=n(64680),x=function(e){var t=e.data,n=e.start,o=e.hours,a=(0,l.Fg)().values,s=new Array(o).fill(0).map((function(e,t){return(0,i.Z)(n,t)})),c=t.results.reduce((function(e,t){return e.set(t.timestamp,t),e}),new Map),u=[{label:"Connected",data:s.map((function(e){var t;return{y:(null!==(t=c.get(e.toISOString()))&&void 0!==t?t:{success:0}).success,x:e}})),borderColor:a.global.accentPrimaryDefault,backgroundColor:a.global.accentPrimaryDefault},{label:"Failed",data:s.map((function(e){var t;return{y:(null!==(t=c.get(e.toISOString()))&&void 0!==t?t:{failure:0}).failure,x:e}})),borderColor:a.global.accentNegativeDefault,backgroundColor:a.global.accentNegativeDefault}];return(0,r.tZ)(y.Z,{labels:s,datasets:u})},w=function(e){var t,n,i=e.replId,l=e.start,u=e.hours,d=e.deployment,f=(0,o.useState)(void 0),h=f[0],m=f[1],g=function(e){var t=(0,c.Z)({},v,e);return p.a(b,t)}({variables:{id:i,input:{start:l,hours:u,deployment:d}},ssr:!1,onCompleted:function(e){if("Repl"===e.repl.__typename)switch(e.repl.analyticsPageViews.__typename){case"UserError":case"NotFoundError":m(new Error(e.repl.analyticsPageViews.message))}}}),Z=g.data,y=g.loading,w=g.error,C="Repl"===(null===Z||void 0===Z||null===(t=Z.repl)||void 0===t?void 0:t.__typename)&&"ReplAnalyticsPageViews"===(null===(n=Z.repl.analyticsPageViews)||void 0===n?void 0:n.__typename)?Z.repl.analyticsPageViews:void 0,k=C?C.uniques:void 0;return w&&m(w),(0,r.BX)(a.G7,{css:[a.l0.colWithGap(8)],children:[(0,r.BX)(a.G7,{css:[a.l0.flex.row,a.l0.align.center,a.l0.justify.spaceBetween],children:[(0,r.tZ)(a.xv,{variant:"subheadDefault",children:"Requests"}),k?(0,r.BX)(a.xv,{children:[(0,r.tZ)("strong",{children:k})," unique visitors"]}):null]}),(0,r.BX)(a.G7,{children:[y?(0,r.tZ)(s.Z,{}):null,h?(0,r.tZ)(a.E_,{text:h.message,colorway:"negative"}):null,C?(0,r.tZ)(x,{data:C,start:l,hours:u}):null]})]})}},21655:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(35944),i=n(67294),o=n(53328),a=n(59641),l=n(77365),s=n(43935),c=n(55376),u=n(14251),d=n(32692),p=n(31230),f=n(37887);function h(){var e=(0,d.Z)(["\n  fragment ReplAnalyticsTopListResult on ReplAnalyticsTopList {\n    __typename\n    results {\n      __typename\n      value\n      count\n    }\n  }\n"]);return h=function(){return e},e}function m(){var e=(0,d.Z)(["\n  query ReplAnalyticsTopList($id: String!, $input: ReplAnalyticsTopInput!) {\n    repl(id: $id) {\n      ... on Repl {\n        __typename\n        id\n        analyticsTopList(input: $input) {\n          ... on ReplAnalyticsTopList {\n            ...ReplAnalyticsTopListResult\n          }\n          ... on NotFoundError {\n            __typename\n            message\n          }\n          ... on UserError {\n            __typename\n            message\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var v={},g=(0,p.Ps)(h()),Z=(0,p.Ps)(m(),g);var b=n(85861),y=n(28860),x=n.n(y),w=function(e){var t=e.data,n=e.variant;if(0===t.results.length)return(0,r.tZ)(a.xv,{children:"No results"});switch(n){case"map":return(0,r.tZ)(L,{data:t});case"pie":return(0,r.tZ)(k,{data:t});case"table":return(0,r.tZ)(C,{data:t})}},C=function(e){var t=e.data;return o.kL.register(o.qi),(0,r.tZ)(a.G7,{children:t.results.map((function(e){return(0,r.BX)(a.G7,{css:[a.l0.rowWithGap(16),a.l0.py(8),{borderBottom:"1px solid ".concat(a.TV.outlineDimmest)},{"&:last-of-type":{borderBottom:"none"}}],children:[(0,r.tZ)(a.G7,{css:[a.l0.flex.grow(1),a.l0.maxWidth("90%")],children:(0,r.tZ)(a.xv,{title:e.value,children:e.value})}),(0,r.tZ)(a.G7,{children:(0,r.tZ)(a.xv,{children:e.count})})]})}))})},k=function(e){var t=e.data,n=(0,b.Fg)().values,i=[n.global.blueDefault,n.global.blurpleDefault,n.global.greenDefault,n.global.limeDefault,n.global.magentaDefault,n.global.orangeDefault,n.global.pinkDefault,n.global.purpleDefault,n.global.redDefault,n.global.tealDefault,n.global.yellowDefault];return(0,r.tZ)(c.by,{options:{radius:"80%"},data:{labels:t.results.map((function(e){return e.value})),datasets:[{hoverOffset:20,borderWidth:2,data:t.results.map((function(e){return e.count})),backgroundColor:Array(t.results.length).fill(0).map((function(e,t){return i[t%i.length]}))}]}})},L=function(e){var t=e.data,i=x()((function(){return Promise.all([n.e(2558),n.e(5309),n.e(5586),n.e(4964)]).then(n.bind(n,94964))}),{loadableGenerated:{webpack:function(){return[94964]}},ssr:!1}),o=t.results.map((function(e){return{country:e.value,numHits:e.count}}));return(0,r.tZ)(a.G7,{css:[a.l0.maxWidth(450)],children:(0,r.tZ)(i,{countries:o})})},S=function(e){var t,n,o=e.replId,c=e.start,d=e.hours,p=e.metric,h=e.deployment,m=e.count,g=e.variant,b=void 0===g?"table":g,y=(0,s.CZ)(p),x=(0,i.useState)(void 0),C=x[0],k=x[1],L=function(e){var t=(0,u.Z)({},v,e);return f.a(Z,t)}({variables:{id:o,input:{metric:p,start:c,hours:d,deployment:h,count:m}},ssr:!1,onCompleted:function(e){if("Repl"===e.repl.__typename)switch(e.repl.analyticsTopList.__typename){case"UserError":case"NotFoundError":k(new Error(e.repl.analyticsTopList.message))}}}),S=L.data,B=L.loading,E=L.error;return E&&k(E),(0,r.BX)(a.G7,{css:a.l0.colWithGap(8),children:[(0,r.BX)(a.xv,{variant:"subheadDefault",children:["Top ",y]}),(0,r.BX)(a.G7,{children:[B?(0,r.tZ)(l.Z,{}):null,C?(0,r.tZ)(a.E_,{text:C.message,colorway:"negative"}):null,"Repl"===(null===S||void 0===S||null===(t=S.repl)||void 0===t?void 0:t.__typename)&&"ReplAnalyticsTopList"===(null===(n=S.repl.analyticsTopList)||void 0===n?void 0:n.__typename)?(0,r.tZ)(w,{variant:b,data:S.repl.analyticsTopList}):null]})]})}},98099:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(14251),i=n(52875),o=n(9941),a=n(69779),l=n(67294),s=n(6801),c=n(36764),u=n(93058);function d(e,t){var n=t.onReceiveAnnotationUpdate,d=void 0===n?function(){}:n,p=(0,u.Z)().showError,f=(0,o.Z)(l.useState(null),2),h=f[0],m=f[1],v=(0,s.xT)({variables:{replId:e}}),g=function(){var e,t=null===(e=v.data)||void 0===e?void 0:e.currentUser;return t?{user:{__typename:"User",id:t.id,username:t.username,image:t.image}}:{}},Z=function(t,n){var o=t.readQuery({query:s.yi,variables:{replId:e}}),l=[],c=o.repl.annotationAnchors,u=c.findIndex((function(e){return e.id===n.id}));l=-1===u?(0,a.Z)(c).concat([n]):(0,a.Z)(c.slice(0,u)).concat([n],(0,a.Z)(c.slice(u+1))),t.writeQuery({query:s.yi,variables:{replId:e},data:(0,i.Z)((0,r.Z)({},o),{repl:(0,i.Z)((0,r.Z)({},o.repl),{annotationAnchors:l})})})},b=(0,o.Z)((0,s.AS)({onError:function(e){return p(e.message)},update:function(e,t){var n;if(t.errors)t.errors.forEach((function(e){return p(e.message)}));else{var r=null===(n=t.data)||void 0===n?void 0:n.createAnnotationAnchor;r&&("UserError"===r.__typename?p(r.message):"AnnotationAnchor"===r.__typename&&Z(e,r))}}}),1),y=b[0],x=(0,o.Z)((0,s.gE)({onError:function(e){return p(e.message)},update:function(e,t){var n;if(t.errors)t.errors.forEach((function(e){return p(e.message)}));else{var r=null===(n=t.data)||void 0===n?void 0:n.createAnnotationMessage;r&&("UserError"===r.__typename?p(r.message):"AnnotationAnchor"===r.__typename&&Z(e,r))}}}),1),w=x[0],C=(0,o.Z)((0,s.Rp)({onError:function(e){return p(e.message)},update:function(e,t){var n;if(t.errors)t.errors.forEach((function(e){return p(e.message)}));else{var r=null===(n=t.data)||void 0===n?void 0:n.updateAnnotationAnchor;r&&("UserError"===r.__typename?p(r.message):"AnnotationAnchor"===r.__typename&&Z(e,r))}}}),1),k=C[0],L=(0,o.Z)((0,c.n)(),1)[0],S=(0,o.Z)((0,s.Hj)(),1)[0];(0,s.Tt)({variables:{replId:e},onData:function(e){var t=e.data.data,n=e.client,r=null===t||void 0===t?void 0:t.updatedAnnotation;r&&(Z(n,r),d(r))}});var B=(0,o.Z)(l.useState([]),2),E=B[0],T=B[1];l.useEffect((function(){var e,t,n=[];"Repl"===(null===(e=v.data)||void 0===e?void 0:e.repl.__typename)&&(t=n).push.apply(t,(0,a.Z)(v.data.repl.annotationAnchors));h&&n.push((0,i.Z)((0,r.Z)({},h),{isGeneral:Boolean(h.isGeneral),messages:[],isResolved:!1,__typename:"AnnotationAnchor"})),T(n)}),[v,h]);var _=l.useMemo((function(){return E.find((function(e){return e.isGeneral}))}),[E]),R=l.useMemo((function(){return E.reduce((function(e,t){return t.isResolved?e:t.messages.some((function(e){return!1===e.seen}))?e+1:e}),0)}),[E]),D=function(e){var t=e.annotationAnchor,n=e.annotationMessage,o=e.highlight;y({variables:{annotationAnchor:t,annotationMessage:n,highlight:o},optimisticResponse:{createAnnotationAnchor:(0,i.Z)((0,r.Z)({},g(),t),{isGeneral:Boolean(t.isGeneral),__typename:"AnnotationAnchor",messages:n?[(0,i.Z)((0,r.Z)({},g(),n),{content:{text:n.text,__typename:"TextMessageContentType"},anchor:{id:t.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",timeCreated:Date.now(),currentUserIsAuthor:!0,seen:!0})]:[],isResolved:!1})}})};return{annotations:E,loading:v.loading,generalThread:_,unreadThreadCount:R,placeholderAnchorId:null===h||void 0===h?void 0:h.id,createAnnotationAnchorPlaceholder:function(e){var t=e.annotationAnchor;m(t)},deleteAnnotationAnchorPlaceholder:function(){m(null)},createAnnotationAnchor:D,createAnnotationMessage:function(t){var n=t.anchor,o=t.annotationMessage,l=t.highlight;(null===h||void 0===h?void 0:h.id)===n.id?(m(null),D({annotationAnchor:(0,r.Z)({},h),annotationMessage:o,highlight:l})):w({variables:{replId:e,anchorId:n.id,annotationMessage:o,highlight:l},optimisticResponse:{createAnnotationMessage:(0,i.Z)((0,r.Z)({},n),{messages:(0,a.Z)(n.messages.filter((function(e){return!e.id.startsWith("chat-")}))).concat([(0,i.Z)((0,r.Z)({},g(),o),{content:{text:o.text,__typename:"TextMessageContentType"},anchor:{id:n.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",timeCreated:Date.now(),currentUserIsAuthor:!0,seen:!0})])})}})},updateAnnotationAnchor:function(e){var t=e.annotationAnchor,n=e.changes;k({variables:{id:t.id,changes:n},optimisticResponse:{updateAnnotationAnchor:(0,i.Z)((0,r.Z)({},t,n),{isResolved:"boolean"===typeof n.isResolved?n.isResolved:t.isResolved})}})},updateThreadPreview:function(e){var t=e.threadId,n=e.messageId,r=e.message;S({variables:{threadId:t,messageId:n,message:r}})},markAllMessagesInReplAsSeenByUser:function(){L({variables:{replId:e}})}}}},41709:function(e,t,n){n.d(t,{q:function(){return E},J:function(){return B}});var r=n(14251),i=n(44747),o=n(9941),a=n(35944),l=n(75815),s=n(90132),c=n(48270),u=n(78120),d=n(14456),p=n(99094),f=d.tk.baseTheme({".cm-diff-inserted":{backgroundColor:"#0053A644",borderLeft:"#0053A6 solid 3px"},".cm-diff-deleted":{backgroundColor:"#c93c3733",borderLeft:"#c93c37 solid 3px"}}),h=d.p.line({attributes:{class:"cm-diff-inserted"}}),m=d.p.line({attributes:{class:"cm-diff-deleted"}}),v=u.Py.define({map:function(e,t){return e.map(t)}}),g=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.toDOM=function(){var e=document.createElement("div");return e.className="cm-diff-alignment cm-line",e.innerHTML="&nbsp;",e},r.ignoreEvent=function(){return!1},n}(d.l9);function Z(e){var t=new u.f_,n=new g;e.sort((function(e,t){return e.character-t.character}));var r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0)for(var s=a.value,c=s.character,p=s.padding,f=0;f<p;f++)t.add(c,c,d.p.widget({widget:n,side:-1,block:!0}))}catch(h){i=!0,o=h}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return t.finish()}function b(e){var t=e.coloredLines,n=e.colorDecoration,r=d.lg.fromClass((function e(r){(0,l.Z)(this,e);var i=new u.f_,o=!0,a=!1,s=void 0;try{for(var c,d=t[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var p=c.value,f=r.state.doc.line(p);i.add(f.from,f.from,n)}}catch(h){a=!0,s=h}finally{try{o||null==d.return||d.return()}finally{if(a)throw s}}this.decorations=i.finish()}),{decorations:function(e){return e.decorations}}),i=u.QQ.define({create:function(){return d.p.none},update:function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=t.effects[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;if(l.is(v))return l.value}}catch(s){r=!0,i=s}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t.docChanged?e.map(t.changes):e},provide:function(e){return d.tk.decorations.from(e)}});return[f,r,i]}var y=function(){var e=function(e,t){return d.tk.domEventHandlers({scroll:function(n,r){if(r===e&&n.target){var i=n.target;if(i.scrollTop){var o=i.scrollTop;t.scrollDOM.scrollTo({top:o})}}}})},t=new u.F6,n=new u.F6;return{extensions:function(){return{right:t.of([]),left:n.of([])}},setup:function(r,i){r.dispatch({effects:n.reconfigure(e(r,i))}),i.dispatch({effects:t.reconfigure(e(i,r))})}}},x=n(67294),w=n(70806),C=n(78244),k=y(),L=k.extensions,S=k.setup;function B(e){var t=e.left,n=e.right,a=t.code,l=(0,i.Z)(t,["code"]),s=n.code,c=(0,i.Z)(n,["code"]),d=(0,w.Z)((0,r.Z)({readOnly:!0,lineWrapping:!1,initialDoc:a,extensions:[L().left]},l)),f=d.view,g=d.ref,y=(0,w.Z)((0,r.Z)({readOnly:!0,lineWrapping:!1,initialDoc:s,extensions:[L().right]},c)),C=y.view,k=y.ref,B=(0,o.Z)(x.useState(!1),2),E=B[0],T=B[1],_=(0,o.Z)(x.useState(!1),2),R=_[0],D=_[1];return x.useEffect((function(){if(f&&C&&E&&R){var e=setTimeout((function(){S(f,C),function(e,t){var n=(0,p.Bz)(e.state.doc.sliceString(0),t.state.doc.sliceString(0));e.dispatch({effects:[u.Py.appendConfig.of(b({coloredLines:n.leftColored.sort((function(e,t){return e-t})),colorDecoration:m})),v.of(Z(n.leftPadded))]}),t.dispatch({effects:[u.Py.appendConfig.of(b({coloredLines:n.rightColored.sort((function(e,t){return e-t})),colorDecoration:h})),v.of(Z(n.rightPadded))]})}(f,C)}));return function(){return clearTimeout(e)}}}),[f,C,E,R]),x.useEffect((function(){f&&(f.dispatch({changes:{from:0,to:f.state.doc.length,insert:a}}),T(!0))}),[a,f]),x.useEffect((function(){C&&(C.dispatch({changes:{from:0,to:C.state.doc.length,insert:s}}),D(!0))}),[s,C]),{left:{view:f,ref:g,code:a,options:l,ready:E},right:{view:C,ref:k,code:s,options:c,ready:R}}}function E(e){var t,n=e.diffViewer,o=(0,i.Z)(e,["diffViewer"]);return(0,a.BX)(a.HY,{children:[(0,a.tZ)("div",{css:{height:n.ready?0:"auto"},ref:n.ref}),!n.ready&&(0,a.tZ)(C.PH,(0,r.Z)({code:null!==(t=n.code)&&void 0!==t?t:""},n.options,o))]})}},99094:function(e,t,n){n.d(t,{Bz:function(){return m},PO:function(){return v}});var r=n(75815),i=n(9941),o=n(70655),a=n(52027),l=n.n(a),s=l().DIFF_DELETE,c=l().DIFF_INSERT,u=l().DIFF_EQUAL;function d(e,t){var n=new(l()),r=n.diff_linesToChars_(e,t),i=r.chars1,o=r.chars2,a=r.lineArray,s=n.diff_main(i,o,!1);return n.diff_charsToLines_(s,a),s}function p(e){return e.split("\n").length-1}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===t)return 0;var r=e.indexOf("\n",n);return-1===r?null:1===t?r+1:f(e,t-1,r+1)}function h(e,t,n){if(e>0){var r=f(n,t);if(null!==r)return{lineNumber:t,character:r,padding:e}}return null}function m(e,t){for(var n,r,o=d(e+((n="\n"===e[e.length-1])?"":"\n"),t+((r="\n"===t[t.length-1])?"":"\n")),a=0,l=0,f=[],m=[],v=[],g=[],Z=0,b=0,y=0;y<o.length;y++){var x=(0,i.Z)(o[y],2),w=x[0],C=p(x[1]);switch(w){case s:var k,L=(0,i.Z)(null!==(k=o[y+1])&&void 0!==k?k:[],2),S=L[0],B=L[1];a+=C;for(var E=0;E<C;E++)f.push(a-E);var T=C;S===c&&(T-=p(B));var _=h(T,l,t);_&&g.push(_);break;case c:var R,D=(0,i.Z)(null!==(R=o[y-1])&&void 0!==R?R:[],2),G=D[0],I=D[1];l+=C;for(var j=0;j<C;j++)m.push(l-j);var M=C;G===s&&(M-=p(I));var P=h(M,a,e);P&&v.push(P);break;case u:l>b&&(b=l),a>Z&&(Z=a),a+=C,l+=C}}var N=v.filter((function(e){return e.lineNumber<b})),F=g.filter((function(e){return e.lineNumber<Z}));return{leftPadded:N,rightPadded:F,leftColored:f,rightColored:m,changedTrailingNewline:n!==r,leftTrailingNewline:n,rightTrailingNewline:r}}var v=function(){function e(t,n){(0,r.Z)(this,e),this.deleted=new Set,this.inserted=new Map,this.linePositions=new Map,this.lineLengths=new Map,this.currentTrailingNewline="\n"===t[t.length-1],this.otherTrailingNewline="\n"===n[n.length-1],this.changedTrailingNewline=this.currentTrailingNewline!==this.otherTrailingNewline;var o=d(t,n),a=[],l=!0,p=!1,f=void 0;try{for(var h,m=o[Symbol.iterator]();!(l=(h=m.next()).done);l=!0){var v=(0,i.Z)(h.value,2),g=v[0],Z=v[1].split("\n");""===Z[Z.length-1]&&Z.pop();var b=!0,y=!1,x=void 0;try{for(var w,C=Z[Symbol.iterator]();!(b=(w=C.next()).done);b=!0){var k=w.value;a.push([g,k])}}catch(N){y=!0,x=N}finally{try{b||null==C.return||C.return()}finally{if(y)throw x}}}}catch(N){p=!0,f=N}finally{try{l||null==m.return||m.return()}finally{if(p)throw f}}this.currentTrailingNewline&&!this.otherTrailingNewline?a.push([s,""]):!this.currentTrailingNewline&&this.otherTrailingNewline?a.push([c,""]):this.currentTrailingNewline&&this.otherTrailingNewline&&a.push([u,""]);var L=1,S=0,B=1,E=!0,T=!1,_=void 0;try{for(var R,D=a[Symbol.iterator]();!(E=(R=D.next()).done);E=!0){var G=(0,i.Z)(R.value,2),I=G[0],j=G[1];switch(I){case s:this.linePositions.set(L,S),this.lineLengths.set(L,j.length),this.deleted.add(L),S+=j.length+1,L++;break;case c:var M=L-1,P=this.inserted.get(M);P||(P=[],this.inserted.set(M,P)),P.push({number:B,content:j}),B++;break;case u:this.linePositions.set(L,S),this.lineLengths.set(L,j.length),S+=j.length+1,L++,B++}}}catch(N){T=!0,_=N}finally{try{E||null==D.return||D.return()}finally{if(T)throw _}}}var t=e.prototype;return t.startInsertions=function(){var e=this.inserted.get(0);return e&&0!==e.length?e:null},t.lineIsDeleted=function(e){return this.deleted.has(e)},t.lineInsertions=function(e){var t=this.inserted.get(e);return t&&0!==t.length?t:null},t.lineInsertedContent=function(e){var t=this.lineInsertions(e);return t?t.map((function(e){return e.content})).join("\n"):null},t.offsetFor=function(e){var t,n,r=0;r+=null!==(n=null===(t=this.inserted.get(0))||void 0===t?void 0:t.length)&&void 0!==n?n:0;for(var i=1;i<e;i++){this.lineIsDeleted(i)&&r--;var o=this.lineInsertions(i);o&&(r+=o.length)}return r},t.linePosition=function(e){var t;return null!==(t=this.linePositions.get(e))&&void 0!==t?t:null},t.lineLength=function(e){var t;return null!==(t=this.lineLengths.get(e))&&void 0!==t?t:null},t.line=function(e){var t=this.linePosition(e),n=this.lineLength(e);return null===t||null===n?null:{number:e,from:t,to:t+n,length:n,offset:this.offsetFor(e),isDeleted:this.lineIsDeleted(e),insertions:this.lineInsertions(e)}},t.lines=function(){var e,t,n,r,a,l,s,c,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:e=!0,t=!1,n=void 0,o.label=1;case 1:o.trys.push([1,6,7,8]),r=this.linePositions[Symbol.iterator](),o.label=2;case 2:if(e=(a=r.next()).done)return[3,5];if(l=(0,i.Z)(a.value,1),s=l[0],!(c=this.line(s)))throw new Error("line should not be null");return[4,c];case 3:o.sent(),o.label=4;case 4:return e=!0,[3,2];case 5:return[3,8];case 6:return u=o.sent(),t=!0,n=u,[3,8];case 7:try{e||null==r.return||r.return()}finally{if(t)throw n}return[7];case 8:return[2]}}))},e}()},77352:function(e,t,n){n.d(t,{gC:function(){return f},LK:function(){return d},jJ:function(){return p}});var r=n(35944),i=n(35642),o=n(59641),a=n(11163),l=["100-days-of-python","100-days-of-python-promo","add-guest-new-user","apps-announcement","appsOnboardingForkRepl","appsOnboardingRunRepl","appsOnboardingSelectRepl","april_2019_hiring","archive-cta","assignment_markdown","boosts-modal","classroom-repl-talk-ask-on-error","cleanup-popover-dismissed","codemirror-explorers-banner","create-model-solution","createWebsite","curriculum-launch-modal","custom-themes-banner","cycles-release","cycles-survey","dashboard_new_folder","dashboard_search","dashboard_templates","debugger_start","dec172020maintenance","devtools-intro","discount_hacker_18","discount_holiday_19","discount_newyear_19","downtime-073118","draw-new-user-cta","edfest-announcement","enveditorintro","file_tree","follow-cursor-avatar-click","ghostwriter-banner","ghostwriter-repl-resources-cta","ghostwriter-trial-repl-resources-cta","ghostwriter-trial-3-day-left-modal","ghostwriter-trial-banner","ghostwriter-trial-expired-modal","ghostwriter-post-purchase-tour","ghostwriter-existing-user-chat-beta-tour","grid_click","hacker_upgrade","hacker-gift","home","home-feed","home-onboarding-checklist","home-onboarding-checklist-apps","home-onboarding-checklist-learn","home-onboarding-checklist-repl","hosting_url","introduceYourself","js-4-day-challenge-day-1","js-4-day-challenge-day-2","js-4-day-challenge-day-3","js-4-day-challenge-day-4","js-4-day-challenge-day-end","july_2019_music_jam","july18_irl","landing","languagesInterestedIn","launch-modal","learn-onboarding","legacy-cycles-grant-notice","make_website","march_2019_game_jam","migrated_unnamed_repls","mobile-app-banner","mobile-announcement","mobile-new-workspace-banner","mobile-survey-banner-11042021","move_unnamed_repls","repricing-announcement","multiplayer","multiplayer_invite","multiplayer_welcome","new_in_repls","new_share","nft-world-2022","onboarding_connection_toast","onboarding_run","onboarding-simplify-experiment","packager-shell-hint","packman","product_hunt","profile-refresh-beta","profile2","projects-overview-cta","projects-overview-tests-disclaimer","publish-guidelines","repl_stars","repl-con-2022","repl-talk-update-2021","repl-talk-update-2022","revisions_history","run_on_replit","saw_unnamed_folders","search","self-grouping-projects-cta","series-b-announcement","share_classroom","share_repl_to_talk","show_packager_about_tooltip","show_packager_import_tooltip","show_test_update_tooltip","stack-create-cta","stack-migration-cta","summer_hacker","summer-2021-pd-survey","teams_pro_module","teams-grading-survey","teams-pro-2022","template-jam-announcement","threads-2-announcement","upgrade_module","workspace-desktop-tour","workspace-desktop-tour19","workspace-experience-task-completion-survey-06022022","workspace-experience-task-completion-survey-nudge-06022022","workspace-history-announcement","workspace-tools-databases-postgres-tour","youtube-in-the-ws","themes-announcement"];var s=n(88075),c=n(2146),u=n(60977);var d=function(e,t){return"".concat(e,"-tutorialChallenge-").concat(t)},p=function(e,t){var n,r,o=JSON.parse(i.Z.get(d(e,t),"string")||"{}");if("string"===typeof(r=o).tourName&&"string"===typeof r.url&&(n=o.tourName,l.includes(n)))return o},f=function(e){var t=e.challenge,n=l.find((function(e){return e.toString()===t.tourName}))||"js-4-day-challenge-day-1",i=(0,c.o)(n),d=i.isDone,p=i.isLoading,f=i.setAsDone,h=(0,a.useRouter)();return p?null:(0,r.tZ)(o.zx,{colorway:d?"primary":"positive",onClick:function(){f(),(0,u.j)(u.U3.TUTORIAL_DONE_BUTTON_COMPLETED),h.push("/~")},disabled:d,iconLeft:(0,r.tZ)(s.Z,{}),big:!0,text:d?"Challenge completed!":"Complete Challenge"})}},53676:function(e,t,n){n.d(t,{X:function(){return Je}});var r=n(14251),i=n(35944),o=n(59641),a=n(70917),l=n(57263),s=(l.H.duration,l.H.timingFunction,{container:(0,a.iv)([o.l0.p(8)]),surface:(0,a.iv)([o.gU.filled,o.l0.viewStyle,o.l0.flex.row,o.l0.align.center,o.l0.flex.growAndShrink(1),o.l0.height(32),{"&:focus-within":o.kN[":focus"]}]),input:(0,a.iv)([o.l0.viewStyle,o.l0.flex.growAndShrink(1),o.l0.fontSize("default"),o.l0.height("100%"),o.l0.px(4),{backgroundColor:"transparent",border:"0 none",outline:"0 none","::placeholder":{color:o.TV.foregroundDimmest},"&:hover::placeholder":{color:o.TV.foregroundDimmer},"&:focus::placeholder, &:hover:focus::placeholder":{color:o.TV.foregroundDimmest}}]),closeButton:(0,a.iv)([o.l0.reset.button,o.l0.viewStyle,o.l0.center,o.l0.height(32),o.l0.px(4),o.l0.cursor.pointer,o.l0.color.foregroundDimmest,{"&:hover":{color:o.TV.foregroundDefault}}])}),c=n(9941),u=n(69779),d=n(39715);function p(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e.slice(t)[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;"group"!==s.data.type&&n.push(s.data.label)}}catch(c){i=!0,o=c}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return(0,u.Z)(new Set(n))}var f=n(67294),h=n(81032),m=n(21131),v=n(91296),g=n.n(v);function Z(e,t){for(var n=e.indexPath,r=t.indexPath,i=Math.min(n.length,r.length),o=0;o<i;o++){if(n[o]>r[o])return 1;if(n[o]<r[o])return-1}return n.length-r.length}var b=n(18172),y=n(16965),x=n(37424),w=n(88750),C=(0,f.createContext)(void 0);function k(){var e=(0,f.useContext)(C);if(!e)throw new Error("Expected store in context");return e}function L(e){var t=k();return(0,w.Dv)(e,{store:t})}var S=function(e){var t=k();return(0,w.b9)(e,{store:t})},B=function(e){return"item-"+e},E=(0,h.cn)({path:[],rows:[],items:[],placeholder:"",isLoading:!1}),T=(0,h.cn)(!0);function _(){return L(T)}var R=(0,h.cn)(!1),D=(0,h.cn)((function(e){return!e(R)})),G=(0,h.cn)(!1),I=(0,h.cn)(null),j=(0,h.cn)((function(e){return e(W)>-1})),M=(0,h.cn)((function(e){var t=e(E);return!t.isLoading&&0===t.rows.length})),P=(0,h.cn)({label:"",input:"",menu:""});var N=(0,h.cn)(""),F=(0,h.cn)(""),V=(0,h.cn)(""),W=(0,h.cn)(-1);var z=(0,h.cn)((function(e){var t=e(W);return e(X).findIndex((function(e){return"item"===e.type&&e.index===t}))}));var X=(0,h.cn)((function(e){return e(E).rows})),H=(0,h.cn)((function(e){return e(E).items})),A=(0,h.cn)((function(e){return e(H).length})),U=(0,h.cn)((function(e){return e(E).path.filter((function(e){return e.match})).length>0})),O=(0,h.cn)((function(e){return e(E).placeholder}));var q=(0,h.cn)((function(e){return e(E).isLoading}));var $=(0,h.cn)((function(e){return e(E).path.length}));function Y(){return L($)}var K=(0,h.cn)((function(e){return e(U)||Boolean(e(N))}));function J(e){return L(function(e){return(0,m.Z)((function(){return(0,h.cn)((function(t){return t(X)[e]}))}),[e])}(e))}var Q=(0,h.cn)((function(e){return e(E).path}));function ee(e,t){return t.match.score-e.match.score}var te=(0,h.cn)(null,(function(e,t,n){var r=e(V);if(r===e(V)){var i,o=n.items.sort(ee),a=n.path.length?n.path[n.path.length-1]:null,l=function(e,t){var n=new Map;e.forEach((function(e){var t=e.path.slice(0,-1),r="section:"+(0,d.Nv)(t),i=n.get(r);if(i)i.items.push(e);else{var o=t[t.length-1],a="group"===(null===o||void 0===o?void 0:o.data.type);n.set(r,{type:"section",path:t,score:e.match.score,items:[e],unlabeled:a,key:r})}}));var r=(0,u.Z)(n.entries()).sort((function(e,n){var r=(0,c.Z)(e,2),i=r[0],o=r[1],a=(0,c.Z)(n,2),l=a[0],s=a[1];if(!t||!t.includes(i)&&!t.includes(l))return s.score-o.score;var u=t.indexOf(i),d=t.indexOf(l);return u>-1&&d>-1?u-d:-1===u?1:-1})),i={items:[],rows:[]},o=0;return r.forEach((function(e){var t=(0,c.Z)(e,2),n=t[0],r=t[1];i.rows.push({type:r.type,key:n,path:r.path,unlabeled:r.unlabeled}),r.items.forEach((function(e){i.items.push(e),i.rows.push({type:"item",item:e,index:o++})}))})),i}(o,r?e(E).rows.filter((function(e){return"section"===e.type})).map((function(e){return e.key})):void 0),s=l.items,p=l.rows,f=null!==(i=null===a||void 0===a?void 0:a.data)&&void 0!==i?i:null,h=null===f||void 0===f?void 0:f.description;e(G)&&"group"!==(null===f||void 0===f?void 0:f.type)&&(h=null===f||void 0===f?void 0:f.label),t(E,(function(e){return{items:s,rows:p,isLoading:Boolean(n.partial),path:n.path,placeholder:h||e.placeholder}}))}})),ne=(0,h.cn)(null,(function(e,t,n){t(N,n),t(W,n?0:-1),t(E,(function(e){return(0,b.ZP)(e,(function(e){e.isLoading=Boolean(n)}))})),e(R)&&t(T,Boolean(n))}));var re=(0,h.cn)(null,(function(e,t,n){t(E,(function(e){return(0,b.ZP)(e,(function(e){e.items=[],e.rows=[],e.path=n}))})),t(ne,""),t(F,""),t(V,"")})),ie=(0,h.cn)(null),oe=(0,h.cn)(null,(function(e,t){var n=e(W);if(!(n<0)){var r=e(H)[n];r&&t(I,r)}})),ae=(0,h.cn)(null,(function(e,t,n){var r=e(T),i=e(A),o=e(W);switch(n.key){case"ArrowDown":n.preventDefault();var a=o+1;return t(W,a<i?a:0),void t(T,!0);case"ArrowUp":n.preventDefault();var l=o-1;return void t(W,Math.max(-1,l));case"Home":if(!r)return;return n.preventDefault(),void t(W,i?0:-1);case"End":if(!r)return;return n.preventDefault(),void t(W,i?i-1:-1);case"Escape":if(!e(N))return;if(n.preventDefault(),t(ne,""),t(F,""),e(D))return;return void t(T,!1);case"Enter":if(!r)return;return n.preventDefault(),void t(oe);case"PageUp":case"PageDown":if(!r)return;n.preventDefault();var s="PageUp"===n.key?-10:10;return void t(W,(function(e){return Math.max(Math.min(e+s,i-1),0)}))}}));function le(e){var t=S(I),n=(0,f.useRef)(null),r=function(e){return L((0,m.Z)((function(){return(0,h.cn)((function(t){return t(W)===e}))}),[e]))}(e);return L((0,m.Z)((function(){return(0,h.cn)((function(i){var o=i(H)[e],a={id:B(e),role:"option","aria-selected":r};return{onClick:function(){t(o)},active:r,ref:n,ariaAttrs:a}}))}),[e,r,t]))}function se(){var e=S(ie),t=L(O),n=(0,c.Z)(function(){var e=L(N),t=S(ne),n=S(F),r=(0,m.Z)((function(){return g()(n,100)}),[n]);return[e,(0,f.useCallback)((function(e){var n="string"===typeof e?e:e.currentTarget.value;t(n),r(n)}),[t,r])]}(),2),r=n[0],i=n[1],o=S(W),a=L(W),l=L(P),s=_();return{onBlur:function(){return o(-1)},onChange:i,placeholder:t,value:r,ref:e,ariaAttrs:{id:l.input,role:"combobox",autoComplete:"off","aria-autocomplete":"list","aria-activedescendant":a>-1?B(a):"","aria-controls":l.menu,"aria-expanded":s,"aria-labelledby":l.label}}}function ce(e){var t=S(te),n=(0,m.Z)((function(){return Array.isArray(e)?e:[e]}),[e]),r=(0,m.Z)((function(){return function(e){var t=e.initialPath,n=e.partialUpdateTimeout,r=e.onUpdate,i=function(e){a&&clearTimeout(a);var t=++l,i=0,s=[],c=o[o.length-1];c.commands?(void 0!==n&&(a=setTimeout((function(){s.length&&r({items:(0,u.Z)(s).sort(Z),partial:!0,path:o})}),n)),function n(c,d,p){if(i++,!c.commands)throw new Error("Expected commands");var f=(0,u.Z)(d).concat([c]),h=f.length===o.length;Promise.resolve(c.commands({active:h,search:e,path:f})).then((function(c){t===l?(i--,c.forEach((function(t,r){var i=(0,u.Z)(f).concat([t]),o=(0,u.Z)(p).concat([r]),a=t.match?t.match({search:e,data:t.data,path:i,active:h}):null;a&&s.push({path:i,data:t.data,match:a,indexPath:o}),t.commands&&n(t,f,o)})),i>0||(a&&clearTimeout(a),r({items:(0,u.Z)(s).sort(Z),path:o}))):a&&clearTimeout(a)}))}(c,o.slice(0,o.length-1),[])):r({items:s,path:o})},o=t,a=null,l=0;return{search:i,setPath:function(e){o=e,i(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")},getPath:function(){return o}}}({initialPath:n,partialUpdateTimeout:100,onUpdate:t})}),[n,t]),i=L(F),o=S(V);return(0,f.useEffect)((function(){o(i),r.search(i)}),[r,i,o]),r}var ue=n(8941),de={root:(0,a.iv)([o.l0.reset.button,o.l0.viewStyle,o.l0.rowWithGap(4),o.l0.align.center,o.l0.borderRadius(0),o.l0.px(4),o.l0.cursor.pointer,o.l0.color.foregroundDimmer,{"&:hover":{color:o.TV.foregroundDefault}}]),text:(0,a.iv)([o.l0.truncate,o.l0.flex.shrink(1),{fontSize:o.TV.fontSizeDefault}])};function pe(e){if("group"===e.command.data.type)return null;var t=e.command.data,n=t.label,r=t.icon;return(0,i.BX)("button",{css:de.root,onClick:e.onClick,children:[(0,f.cloneElement)(r,{size:16}),e.iconOnly?null:(0,i.tZ)(o.G7,{css:de.text,children:n}),(0,i.tZ)(ue.Z,{size:12})]})}function fe(e){return(0,i.tZ)(i.HY,{children:e.path.map((function(t,n){if("group"===t.data.type)return null;if(!t.match)return null;var r=t.data.label+n;return(0,i.tZ)(pe,{command:t,onClick:function(){return e.onClick(n)},iconOnly:e.iconOnly},r)}))})}var he=n(67629),me=n(77365),ve=(0,a.iv)([o.l0.reset.button,o.l0.viewStyle,o.l0.center,o.l0.height("100%"),o.l0.px(4),o.l0.cursor.pointer,o.l0.color.foregroundDimmest,{"&:hover":{color:o.TV.foregroundDefault}}]);function ge(e){return(0,i.tZ)("button",{css:ve,onClick:e.onClick,title:e.isLoading?"Loading":"Clear",children:e.isLoading?(0,i.tZ)(me.Z,{}):(0,i.tZ)(he.Z,{})})}var Ze=n(52875),be=n(30077),ye=n(27178),xe=n(10919),we=n(33279),Ce=n(51911),ke=n(3309),Le=(0,a.iv)({transitionDuration:l.H.duration,transitionTimingFunction:l.H.timingFunction}),Se={background:(0,a.iv)([Le,{transitionProperty:"background-color"}]),opacity:(0,a.iv)([Le,{transitionProperty:"opacity"}]),color:(0,a.iv)([Le,{transitionProperty:"color"}])},Be=(0,a.iv)([o.l0.p(8),Se.background]),Ee={root:(0,a.iv)([Be,o.l0.align.center,o.l0.rowWithGap(8)]),iconSurface:(0,a.iv)([o.l0.p(8),o.l0.borderRadius(8),o.l0.position.relative,Se.background])},Te={root:(0,a.iv)([Se.opacity,{opacity:.7}]),active:(0,a.iv)({opacity:1})};function _e(e){var t=e.pane,n=e.active,r=e.highlight,a=(0,ye.Se)(),l=a.Icon({pane:t,size:16}),s=a.getTitle(t),c=(0,Ce.b)({paneType:t.type});return(0,i.BX)(o.Tg,{elevated:n,css:Ee.root,children:[(0,i.tZ)(o.Tg,{elevated:!0,css:Ee.iconSurface,children:(0,i.BX)(o.G7,{css:[Te.root,e.active&&Te.active],children:[l,c?(0,i.tZ)(ke.B,{}):null]})}),(0,i.tZ)(xe.x,{dimmed:!n,text:s,highlight:r})]})}function Re(e){return(0,i.tZ)(o.Tg,{elevated:e.active,css:Se.background,children:e.children})}var De={root:(0,a.iv)([Be,o.l0.rowWithGap(8),o.l0.align.center]),iconText:(0,a.iv)([o.l0.rowWithGap(8),o.l0.align.center]),description:(0,a.iv)([o.l0.truncate,o.l0.flex.growAndShrink(1),{fontSize:o.TV.fontSizeSmall}]),shortcut:(0,a.iv)({justifySelf:"end",marginLeft:"auto"})};function Ge(e){return(0,i.BX)(o.Tg,{elevated:e.active,css:De.root,children:[(0,i.BX)(o.G7,{css:[De.iconText],children:[(0,i.tZ)(o.G7,{css:[Te.root,e.active&&Te.active],children:(0,f.cloneElement)(e.icon)}),(0,i.tZ)(xe.x,{dimmed:!e.active,text:e.text,highlight:e.highlight})]}),e.description?(0,i.tZ)(o.G7,{style:{color:e.active?o.TV.foregroundDimmer:o.TV.foregroundDimmest},css:De.description,children:e.description}):null,e.shortcut?(0,i.tZ)(o.G7,{css:De.shortcut,children:(0,i.tZ)(we.Z,{shortcut:e.shortcut,small:!0})}):null,e.hasChildren?(0,i.tZ)(o.G7,{css:De.shortcut,children:(0,i.tZ)(ue.Z,{size:12})}):null]})}function Ie(e){var t=e.data,n="openPane"===t.type?t.pane:void 0;return n&&!(0,ye.Ur)(n)?n:null}function je(e){var t=e.item,n=e.active,r=t.data;if("group"===r.type)return null;var o=t.match.render,a=o&&"content"in o?o.content:void 0,l=o&&"ranges"in o?o.ranges:void 0;if(a)return(0,i.tZ)(Re,{active:n,children:(0,f.cloneElement)(a,{active:n})});var s=Ie(t),c=r.label,u=r.icon;return s?(0,i.tZ)(_e,{active:n,pane:s,highlight:l}):(0,i.tZ)(Ge,{active:n,icon:u,text:c,highlight:l,description:r.description,shortcut:r.keyboardShortcut,hasChildren:"context"===t.data.type})}var Me=[o.l0.position.absolute,o.l0.top(0),o.l0.left(0),o.l0.width("100%")],Pe=(0,o.Xb)({item:[Me,{cursor:"pointer","&:hover > div":{backgroundColor:"var(".concat(o.dj.interactiveBackground,")")}}],divider:[Me,o.l0.justify.center,o.l0.px(8)]}),Ne=(0,f.memo)((function(e){var t=J(e.index);if(!t)return null;var n={height:e.height,transform:"translateY(".concat(e.y,"px)")};return"section"===t.type?(0,i.tZ)(We,{path:t.path,style:n,border:e.index>0}):(0,i.tZ)(Fe,{index:t.index,item:t.item,style:n})})),Fe=(0,f.memo)((function(e){var t=le(e.index),n=t.ref,a=t.active,l=t.onClick,s=t.ariaAttrs;return(0,i.tZ)(o.G7,(0,Ze.Z)((0,r.Z)({innerRef:n,css:Pe.item,style:e.style,onClick:l},s),{children:(0,i.tZ)(je,{item:e.item,active:a})}))})),Ve=(0,o.Xb)({borderHeaderWrap:[Me,o.l0.p(8),o.l0.pt(8),o.l0.pb(4),o.l0.colWithGap(0),o.l0.justify.spaceBetween],borderWrap:[Me,o.l0.justify.center,o.l0.px(8)],headerWrap:[Me,o.l0.justify.end,o.l0.pb(4),o.l0.px(8)],header:[o.l0.rowWithGap(4),o.l0.align.center],text:[o.l0.flex.shrink(1),o.l0.color.foregroundDimmest,o.l0.truncate,{fontSize:o.TV.fontSizeSmall}],border:[o.l0.height(1),o.l0.width("100%")]}),We=(0,f.memo)((function(e){var t=Y(),n=p(e.path,t),r=(0,i.tZ)(o.Tg,{elevated:!0,css:Ve.border}),a=0===n.length;if(e.border&&a)return(0,i.tZ)(o.G7,{css:Ve.borderWrap,style:e.style,children:r});var l=(0,i.tZ)(o.G7,{css:Ve.header,children:n.map((function(e,t){return(0,i.BX)(f.Fragment,{children:[t>0?(0,i.tZ)(ue.Z,{size:12,color:o.TV.foregroundDimmest}):null,(0,i.tZ)(o.G7,{css:Ve.text,children:e})]},e+t)}))});return e.border||a?(0,i.BX)(o.G7,{css:Ve.borderHeaderWrap,style:e.style,children:[r,l]}):(0,i.tZ)(o.G7,{css:Ve.headerWrap,style:e.style,children:l})})),ze=(0,o.Xb)({root:[o.l0.flex.shrink(1),o.l0.overflow("hidden")],scrollParent:[o.l0.height("100%"),o.l0.overflowY("auto"),o.l0.flex.growAndShrink(1)]}),Xe=(0,f.memo)((function(e){var t,n=function(){var e=L(X),t=_(),n=(0,f.useRef)(null),r=Y(),i=L(P);return{rows:e,isOpen:t,scrollRef:n,currentPathIndex:r,ariaAttrs:{id:i.menu,"aria-labelledby":i.label,role:"listbox"}}}(),a=n.rows,l=n.isOpen,s=n.scrollRef,c=n.currentPathIndex,u=n.ariaAttrs,h=(0,be.MG)({count:a.length,overscan:null!==(t=e.overscan)&&void 0!==t?t:1,getScrollElement:function(){return s.current},getItemKey:function(e){var t=a[e];return t?"section"===t.type?t.key:(0,d.Nv)(t.item.path):""},estimateSize:function(e){var t=a[e];return t?function(e){var t=e.row,n=e.currentPathIndex,r=e.isFirst;if("section"===t.type){var i=p(t.path,n).length?24:0;return r?i:i+16}var o,a=t.item.match.render;return a&&"content"in a?null!==(o=a.height)&&void 0!==o?o:32:Ie(t.item)?48:32}({row:t,currentPathIndex:c,isFirst:0===e}):0}}),m={borderBottomLeftRadius:e.hasFooter?void 0:o.TV.space8,borderBottomRightRadius:e.hasFooter?void 0:o.TV.space8,display:l?void 0:"none"},v=h.scrollToIndex,g=L(z);return(0,f.useEffect)((function(){var e=g;e<0||(1===e&&(e=0),v(e,{behavior:"smooth"}))}),[v,g]),(0,i.tZ)(o.G7,(0,Ze.Z)((0,r.Z)({css:ze.root},u),{children:(0,i.tZ)(o.G7,{innerRef:s,css:ze.scrollParent,style:m,children:(0,i.tZ)(o.G7,{style:{height:"".concat(h.getTotalSize(),"px"),position:"relative"},children:l?h.getVirtualItems().map((function(e){return(0,i.tZ)(Ne,{index:e.index,height:e.size,y:e.start},e.key)})):null})})}))})),He=(0,o.Xb)({root:[o.l0.flex.shrink(1),o.l0.height("100%")],footer:[o.l0.pt(8)],inputBarSurface:s.surface,input:s.input,menuWrap:[o.l0.flex.shrink(1)],row:[o.l0.position.absolute,o.l0.top(0),o.l0.left(0),o.l0.width("100%")],menu:[o.l0.flex.shrink(1),o.l0.overflow("auto")]}),Ae=(0,o.Xb)({root:[s.input,o.l0.px(8)]}),Ue=(0,f.memo)((function(e){var t=se();return(0,i.tZ)("input",(0,r.Z)({autoFocus:e.autoFocus,onKeyDown:e.onKeyDown,css:Ae.root,placeholder:t.placeholder,value:t.value,onChange:t.onChange,ref:t.ref,onBlur:t.onBlur},t.ariaAttrs))})),Oe=(0,o.Xb)({container:[s.container],surface:[s.surface,{"& > button + input":{paddingLeft:0}}]});function qe(e){return(0,i.tZ)(o.G7,{css:Oe.container,children:(0,i.tZ)(o.G7,{css:Oe.surface,children:e.children})})}var $e=(0,f.memo)((function(e){var t={iconOnly:L(G),path:L(Q)},n=t.path,r=t.iconOnly;return(0,i.tZ)(fe,{iconOnly:r,path:n,onClick:e.onClick})})),Ye=(0,f.memo)((function(e){var t=L(K),n=L(q);return t?(0,i.tZ)(ge,{onClick:e.onClick,isLoading:n}):null}));function Ke(e){!function(e){var t=S(G);(0,f.useEffect)((function(){t(Boolean(e.iconBreadcrumbs))}),[t,e.iconBreadcrumbs]);var n=S(R);(0,f.useEffect)((function(){n(Boolean(e.openOnInput))}),[n,e.openOnInput])}({iconBreadcrumbs:e.iconBreadcrumbs,openOnInput:e.openOnInput});var t=function(e){var t=e.command,n=e.onSelect,r=_(),i=L(K),o=L(N),a=S(W),l=L(I),s=L(M),c=S(re),u=S(ae),d=L(j),p=(0,y.Z)({completer:ce(t),input:L(ie),onSelect:n}),h=(0,m.Z)((function(){return function(){var e,t;return null===(e=p.current)||void 0===e||null===(t=e.input)||void 0===t?void 0:t.focus()}}),[p]),v=(0,m.Z)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=p.current.completer.getPath().slice(0,e+1);a(-1),c(t),p.current.completer.setPath(t),h()}}),[c,a,h,p]),g=(0,m.Z)((function(){return function(e){if("Backspace"!==e.key||e.currentTarget.value)return u(e);v()}}),[v,u]);return(0,f.useEffect)((function(){if(l){if("context"===l.data.type){var e,t=l.path;return c(t),a(0),p.current.completer.setPath(t),void(null===(e=p.current.input)||void 0===e||e.focus())}v(),p.current.onSelect(l)}}),[p,l,c,a,v]),{focus:h,reset:v,onKeyDown:g,inputValue:o,isOpen:r,isClearable:i,noResults:s,hasHighlightedItem:d}}({command:e.command,onSelect:e.onSelect}),n=t.isOpen,r=t.focus,a=t.reset,l=t.isClearable,s=t.onKeyDown,c=t.inputValue,u=t.noResults,d=t.hasHighlightedItem,p=(0,y.Z)({inputValue:c,noResults:u,hasHighlightedItem:d,onSubmit:e.onSubmit,onKeyDown:e.onKeyDown}),h=(0,m.Z)((function(){return function(e){var t,n=p.current;null===(t=n.onKeyDown)||void 0===t||t.call(n,e,{inputValue:n.inputValue,noResults:n.noResults,hasHighlightedItem:n.hasHighlightedItem}),e.defaultPrevented||("Enter"===e.key&&n.inputValue&&n.noResults&&n.onSubmit?n.onSubmit(n.inputValue):s(e))}}),[p,s]),v=e.focusRef;(0,f.useEffect)((function(){v&&(v.current=r)}),[r,v]);var g=L(P);return(0,i.BX)(o.G7,{css:He.root,children:[(0,i.tZ)("label",{id:g.label,htmlFor:g.input,css:o.l0.visuallyHidden,children:"Commands"}),(0,i.BX)(qe,{children:[(0,i.tZ)($e,{onClick:a}),(0,i.tZ)(Ue,{autoFocus:Boolean(e.autoFocus),onKeyDown:h}),(0,i.tZ)(Ye,{onClick:function(){return a()}}),e.keyboardShortcut&&!l?(0,i.tZ)(we.Z,{shortcut:e.keyboardShortcut,hideBorder:!0,small:!0}):null]}),n?(0,i.BX)(i.HY,{children:[(0,i.tZ)(Xe,{overscan:e.overscan,hasFooter:Boolean(e.footer)}),e.footer?(0,i.tZ)(o.G7,{css:He.footer,children:e.footer}):null]}):null]})}function Je(e){var t=function(e){var t={label:(0,x.D)(),input:(0,x.D)(),menu:(0,x.D)()};return(0,f.useState)((function(){var n,r=(0,h.MT)();r.set(P,t),r.set(G,Boolean(e.iconBreadcrumbs)),r.set(R,Boolean(e.openOnInput)),r.set(T,!e.openOnInput);var i=Array.isArray(e.command)&&e.command.filter((function(e){return e.match})).length>0;r.set(W,i?0:-1);var o,a=Array.isArray(e.command)?e.command[0]:e.command,l=null!==(o=null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.description)&&void 0!==o?o:null;return l&&r.set(E,(function(e){return(0,b.ZP)(e,(function(e){e.placeholder=l}))})),r}))[0]}({iconBreadcrumbs:e.iconBreadcrumbs,command:e.command,openOnInput:e.openOnInput});return(0,i.tZ)(C.Provider,{value:t,children:(0,i.tZ)(Ke,{overscan:e.overscan,onSelect:e.onSelect,onSubmit:e.onSubmit,command:e.command,autoFocus:Boolean(e.autoFocus),focusRef:e.focusRef,keyboardShortcut:e.keyboardShortcut,openOnInput:e.openOnInput,onKeyDown:e.onKeyDown,footer:e.footer,iconBreadcrumbs:e.iconBreadcrumbs})})}},10919:function(e,t,n){n.d(t,{x:function(){return d}});var r=n(35944),i=n(70917),o=n(59641),a=n(57263);function l(e,t){var n=0,r=[];return t.forEach((function(t){var i=t.from,o=t.to,a=e.slice(n,i);a&&r.push({text:a,match:!1});var l=e.slice(i,o);l&&r.push({text:l,match:!0}),n=o})),n<e.length&&r.push({text:e.slice(n),match:!1}),r}var s=(0,i.iv)({transitionProperty:"color",transitionDuration:a.H.duration,transitionTimingFunction:a.H.timingFunction}),c=(0,i.iv)([o.l0.flex.shrink(1),o.l0.truncate,s]),u={normal:{matched:o.TV.foregroundDefault,unmatched:o.TV.foregroundDimmer},dimmed:{matched:o.TV.foregroundDimmer,unmatched:o.TV.foregroundDimmest}};function d(e){var t,n=null===(t=e.highlight)||void 0===t?void 0:t.filter((function(e){return e.to>0})),i=e.dimmed?u.dimmed:u.normal;return(null===n||void 0===n?void 0:n.length)?(0,r.tZ)(o.G7,{css:c,children:l(e.text,n).map((function(e,t){return(0,r.tZ)("span",{css:s,style:{fontWeight:e.match?o.TV.fontWeightBold:o.TV.fontWeightRegular,color:e.match?i.matched:i.unmatched},children:e.text},e.text+t)}))}):(0,r.tZ)(o.G7,{style:{color:i.matched},css:[c,s],children:e.text})}},4977:function(e,t,n){n.d(t,{T:function(){return o}});var r=n(99408),i=n(68122);function o(){var e=(0,r.Z)().toolchain;return(0,i.Z)(e.configs)}},8121:function(e,t,n){n.d(t,{HM:function(){return x},JT:function(){return g},Y8:function(){return m},fS:function(){return b}});var r=n(14251),i=n(32692),o=n(31230),a=n(37887),l=n(50319);function s(){var e=(0,i.Z)(["\n  fragment MultiplayerUser on User {\n    id\n    image\n    username\n  }\n"]);return s=function(){return e},e}function c(){var e=(0,i.Z)(["\n  fragment MultiplayerReplPermission on ReplPermission {\n    id\n    type\n    user {\n      id\n      ...MultiplayerUser\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function u(){var e=(0,i.Z)(["\n  query MultiplayerManageTeamMultiplayers($replId: String!) {\n    currentUser {\n      id\n    }\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isOwner\n        permissions {\n          id\n          ...MultiplayerReplPermission\n        }\n        currentUserPermissions {\n          editMultiplayers\n          inviteGuests\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n        owner {\n          ... on User {\n            id\n          }\n          ... on Team {\n            id\n            members {\n              id\n              permissions\n              user {\n                id\n                ...MultiplayerUser\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  mutation MultiplayerManageTeamMultiplayersAddMultiplayerUser(\n    $replId: String!\n    $username: String!\n    $type: String!\n  ) {\n    addMultiplayerUser(replId: $replId, username: $username, type: $type) {\n      id\n      type\n      user {\n        id\n        ...MultiplayerUser\n      }\n      repl {\n        id\n        permissions {\n          id\n          ...MultiplayerReplPermission\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  mutation MultiplayerManageTeamMultiplayersRemoveMultiplayerUser(\n    $replId: String!\n    $username: String!\n  ) {\n    removeMultiplayerUser(replId: $replId, username: $username) {\n      id\n      user {\n        id\n        ...MultiplayerUser\n      }\n      repl {\n        id\n        permissions {\n          id\n          ...MultiplayerReplPermission\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}var f={},h=(0,o.Ps)(s()),m=(0,o.Ps)(c(),h),v=(0,o.Ps)(u(),m,h);function g(e){var t=(0,r.Z)({},f,e);return a.a(v,t)}var Z=(0,o.Ps)(d(),h,m);function b(e){var t=(0,r.Z)({},f,e);return l.D(Z,t)}var y=(0,o.Ps)(p(),h,m);function x(e){var t=(0,r.Z)({},f,e);return l.D(y,t)}},62881:function(e,t,n){n.d(t,{Ej:function(){return _},Gk:function(){return S},L1:function(){return y},QN:function(){return k},Sv:function(){return E},X6:function(){return w}});var r=n(14251),i=n(32692),o=n(31230),a=n(8121),l=n(37887),s=n(50319);function c(){var e=(0,i.Z)(["\n  fragment MultiplayerControlUser on User {\n    id\n    image\n    username\n    url\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,i.Z)(["\n  fragment MultiplayerControlReplPermission on ReplPermission {\n    id\n    type\n    user {\n      id\n      ...MultiplayerControlUser\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  fragment MultiplayerControlEmailInviteReplPermission on ReplPermission {\n    id\n    type\n    user {\n      id\n      image\n      username\n      url\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  query MultiplayerControl($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isOwner\n        permissions {\n          id\n          ...MultiplayerReplPermission\n        }\n        currentUserPermissions {\n          editMultiplayers\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n      }\n    }\n    currentUser {\n      id\n      isSubscribed\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  mutation MultiplayerControlAddMultiplayerUser(\n    $replId: String!\n    $username: String!\n    $type: String!\n  ) {\n    addMultiplayerUser(replId: $replId, username: $username, type: $type) {\n      id\n      type\n      user {\n        id\n        ...MultiplayerControlUser\n      }\n      repl {\n        id\n        permissions {\n          id\n          ...MultiplayerControlReplPermission\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  mutation MultiplayerControlRemoveMultiplayerUser(\n    $replId: String!\n    $username: String!\n  ) {\n    removeMultiplayerUser(replId: $replId, username: $username) {\n      id\n      user {\n        id\n        ...MultiplayerControlUser\n      }\n      repl {\n        id\n        permissions {\n          id\n          ...MultiplayerControlReplPermission\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return h=function(){return e},e}function m(){var e=(0,i.Z)(["\n  mutation MultiplayerControlCreateMultiplayerInvite(\n    $replId: String!\n    $email: String!\n    $type: String!\n  ) {\n    createMultiplayerInvite2(replId: $replId, email: $email, type: $type) {\n      ... on MultiplayerInvite {\n        email\n        repl {\n          id\n          permissions {\n            id\n            ...MultiplayerReplPermission\n          }\n          multiplayerInvites {\n            email\n            type\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on ReplPermission {\n        id\n        ...MultiplayerControlEmailInviteReplPermission\n      }\n    }\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}function v(){var e=(0,i.Z)(["\n  mutation MultiplayerControlDeleteMultiplayerInvite(\n    $replId: String!\n    $email: String!\n  ) {\n    deleteMultiplayerInvite(replId: $replId, email: $email) {\n      ... on MultiplayerInvite {\n        email\n        type\n        repl {\n          id\n          permissions {\n            id\n            ...MultiplayerReplPermission\n          }\n          multiplayerInvites {\n            email\n            type\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var g={},Z=(0,o.Ps)(c()),b=(0,o.Ps)(u(),Z),y=(0,o.Ps)(d()),x=(0,o.Ps)(p(),a.Y8);function w(e){var t=(0,r.Z)({},g,e);return l.a(x,t)}var C=(0,o.Ps)(f(),Z,b);function k(e){var t=(0,r.Z)({},g,e);return s.D(C,t)}var L=(0,o.Ps)(h(),Z,b);function S(e){var t=(0,r.Z)({},g,e);return s.D(L,t)}var B=(0,o.Ps)(m(),a.Y8,y);function E(e){var t=(0,r.Z)({},g,e);return s.D(B,t)}var T=(0,o.Ps)(v(),a.Y8);function _(e){var t=(0,r.Z)({},g,e);return s.D(T,t)}},59233:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(9941),i=n(69779),o=n(35944),a=n(28898),l=n(93058),s=n(15902),c=n(34847),u=n(60977),d=n(59641),p=n(67629),f=n(4158),h=n(50700),m=n(54969),v=n(11163),g=n(67294),Z=n(22093),b=n(62881),y=n(69049);function x(e){var t=e.replId,n=(0,v.useRouter)(),x=(0,s.Vg)(n),w=(0,b.X6)({variables:{replId:t},pollInterval:8e3}),C=w.data,k=w.loading,L=(0,l.Z)(),S=L.showConfirm,B=L.showError,E=(0,r.Z)(g.useState(!1),2),T=E[0],_=E[1],R=(0,r.Z)((0,b.QN)({onCompleted:function(e){var n,r=null===(n=e.addMultiplayerUser.user)||void 0===n?void 0:n.username;r&&((0,u.j)(u.U3.MULTIPLAYER_INVITED,{replId:t,inviteMethod:"username"}),S("Added @".concat(r)))}}),2),D=R[0],G=R[1],I=(0,r.Z)((0,b.Gk)({onError:function(e){return B(e.message)},onCompleted:function(e){var t,n=null===(t=e.removeMultiplayerUser.user)||void 0===t?void 0:t.username;n&&S("".concat(n," removed"))}}),2),j=I[0],M=I[1],P=(0,r.Z)((0,b.Sv)({update:function(e,n){var r,o=null===(r=n.data)||void 0===r?void 0:r.createMultiplayerInvite2;if(o)if("UserError"!==o.__typename){if("MultiplayerInvite"===o.__typename){var a=o.email;return(0,u.j)(u.U3.MULTIPLAYER_INVITED,{replId:t,inviteMethod:"email"}),void S("Invited ".concat(a," via email"))}if("ReplPermission"===o.__typename){var l;e.modify({id:e.identify({__typename:"Repl",id:t}),fields:{permissions:function(t){var n=e.writeFragment({data:o,fragment:b.L1});return(0,i.Z)(t).concat([n])}}});var s=null===(l=o.user)||void 0===l?void 0:l.username;if(!s)return;(0,u.j)(u.U3.MULTIPLAYER_INVITED,{replId:t,inviteMethod:"email"}),S("Invited @".concat(s))}}else B(o.message)}}),2),N=P[0],F=P[1],V=(0,r.Z)((0,b.Ej)({onError:function(e){return B(e.message)},onCompleted:function(e){if("UserError"!==e.deleteMultiplayerInvite.__typename){if("MultiplayerInvite"===e.deleteMultiplayerInvite.__typename){var t=e.deleteMultiplayerInvite.email;S("invite for ".concat(t," deleted"))}}else B(e.deleteMultiplayerInvite.message)}}),2),W=V[0],z=V[1];g.useEffect((function(){var e=G.error||F.error;e&&(e.message.includes("reached the limit")?x?B("You have reached the invite limit for a free account, visit https://replit.com/pricing to upgrade."):_(!0):B(e.message))}),[G.error,F.error,B,x]);var X="Repl"===(null===C||void 0===C?void 0:C.repl.__typename)?C.repl:null,H=null===C||void 0===C?void 0:C.currentUser,A=null===X||void 0===X?void 0:X.permissions.reduce((function(e,t){return t.user?(0,i.Z)(e).concat([t.user.username]):e}),[]),U=null===X||void 0===X?void 0:X.currentUserPermissions.editMultiplayers,O=Boolean(X&&!X.permissions.length&&!X.multiplayerInvites.length),q=(null===X||void 0===X?void 0:X.permissions)?X.permissions.length:null;return(0,o.BX)(d.Tg,{background:"default",css:{color:d.TV.foregroundDefault},children:[(0,o.BX)(d.G7,{css:[d.l0.flex.column,d.l0.colWithGap(8),d.l0.align.stretch],children:[U&&A&&X?(0,o.tZ)(d.G7,{children:(0,o.tZ)(y.Z,{existingUsernames:A,onSubmit:function(e){!!!e.match(/.+@.+/)||F.loading?G.loading||D({variables:{username:e,replId:X.id,type:"rw"}}):N({variables:{email:e,replId:X.id,type:"rw"}})}})}):null,(0,o.BX)(d.G7,{css:[d.l0.flex.row,d.l0.rowWithGap(4),d.l0.align.center],children:[(0,o.BX)(d.xv,{variant:"subheadDefault",children:[null!==q&&(null===H||void 0===H?void 0:H.isSubscribed)?"".concat((0,c.Z)("multiplayer",q,!0)):null,null===q||(null===H||void 0===H?void 0:H.isSubscribed)?null:"".concat(q,"/").concat(Z.z," ").concat((0,c.Z)("multiplayer",q))," "]}),k||(null===H||void 0===H?void 0:H.isSubscribed)||x?null:(0,o.tZ)(d.hU,{alt:"Click to upgrade for unlimited invites",onClick:function(){return _(!0)},children:(0,o.tZ)(f.Z,{})}),k?(0,o.tZ)(d.xv,{children:"Loading..."}):null]}),O?(0,o.BX)(d.G7,{css:[d.l0.flex.row,d.l0.rowWithGap(8),d.l0.center,d.l0.borderRadius(8),{maxHeight:200,border:"solid 1px ".concat(d.TV.outlineDimmest)}],children:[(0,o.tZ)(d.xv,{children:"No one else is here"}),(0,o.tZ)("img",{src:"/public/images/rainy-computer.png",alt:"raindrops falling onto an open laptop",style:{height:200}})]}):(0,o.BX)(d.G7,{css:[d.l0.backgroundColor.backgroundDefault,d.l0.borderRadius(8),d.l0.p(8),d.l0.flex.column,d.l0.colWithGap(8),{border:"solid 1px ".concat(d.TV.outlineDimmest),maxHeight:200,overflowY:"auto"}],children:[null===X||void 0===X?void 0:X.permissions.map((function(e){var n=e.user,r=e.type;return n?(0,o.BX)(d.G7,{css:[d.l0.flex.row,d.l0.rowWithGap(8),d.l0.align.center],children:[(0,o.tZ)(a.Z,{size:"s",url:n.image}),(0,o.BX)(d.xv,{children:[n.username," "]}),(0,o.tZ)(d.xv,{color:"dimmest",children:r===m.aQ.Rw?" (can edit)":null}),(0,o.tZ)(d.G7,{css:[d.l0.flex.grow(1)]}),X.currentUserPermissions.editMultiplayers?(0,o.tZ)(d.hU,{alt:"Remove member",onClick:function(){M.loading||j({variables:{replId:t,username:n.username}})},children:(0,o.tZ)(p.Z,{size:12})}):null]},n.id):null})),null===X||void 0===X?void 0:X.multiplayerInvites.map((function(e){return(0,o.BX)(d.G7,{css:[d.l0.flex.row,d.l0.rowWithGap(8),d.l0.align.center],children:[(0,o.tZ)(a.Z,{size:"s"}),(0,o.BX)(d.xv,{children:[e.email," "]}),(0,o.tZ)(d.xv,{color:"dimmest",children:" (pending)"}),(0,o.tZ)(d.G7,{css:[d.l0.flex.grow(1)]}),U?(0,o.tZ)(d.hU,{alt:"Remove member",onClick:function(){z.loading||W({variables:{replId:t,email:e.email}})},children:(0,o.tZ)(p.Z,{})}):null]},e.email)}))]})]}),(0,o.tZ)(h.Z,{isOpen:T,initialTab:"plans",context:"workspace_multiplayer_header",onRequestClose:function(){_(!1)}})]})}},14452:function(e,t,n){n.d(t,{sk:function(){return p},zq:function(){return u}});var r=n(14251),i=n(32692),o=n(31230),a=n(37887);function l(){var e=(0,i.Z)(["\n  fragment MultiplayerUsernameSearchUser on User {\n    id\n    firstName\n    lastName\n    username\n    image\n  }\n"]);return l=function(){return e},e}function s(){var e=(0,i.Z)(["\n  query MultiplayerUsernameSearch($query: String!, $limit: Int) {\n    usernameSearch(query: $query, limit: $limit) {\n      id\n      ...MultiplayerUsernameSearchUser\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var c={},u=(0,o.Ps)(l()),d=(0,o.Ps)(s(),u);function p(e){var t=(0,r.Z)({},c,e);return a.a(d,t)}},69049:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(14251),i=n(52875),o=n(9941),a=n(35944),l=n(60357),s=n.n(l),c=n(67294),u=n(94184),d=n.n(u),p=n(96594),f=n(27206),h=n(59641),m=n(24351),v=n(14452),g=n(93058),Z=n(19526),b=n(88075),y=n(28898);function x(e){var t=e.onSubmit,n=e.existingUsernames,l=e.isDisabled,u=e.onChange,x=e.placeholder,w=(0,o.Z)(c.useState(""),2),C=w[0],k=w[1],L=!!C.match(/.+@.+/),S=(0,m.Z)(C.trim().replace(/^@/,""),250),B=(0,v.sk)({skip:!S||L,variables:{query:S,limit:6}}),E=B.data,T=B.loading,_=B.error,R=(0,g.Z)().showError;c.useEffect((function(){_&&R(_.message)}),[_,R]);var D=null===E||void 0===E?void 0:E.usernameSearch;return(0,a.BX)("form",{onSubmit:function(e){e.preventDefault(),t(C),k("")},className:"jsx-d408485a86637a91",children:[(0,a.BX)("div",{className:"jsx-d408485a86637a91 form-content",children:[(0,a.tZ)(p.ZP,{onChange:function(e){e&&k(e.username)},itemToString:function(e){return(null===e||void 0===e?void 0:e.username)||""},initialHighlightedIndex:0,defaultHighlightedIndex:0,children:function(e){var o=e.getInputProps,l=e.getItemProps,s=e.getMenuProps,c=e.isOpen,p=e.highlightedIndex;return(0,a.BX)("div",{className:"jsx-d408485a86637a91 dropdown",children:[(0,a.tZ)(f.ZP,(0,r.Z)({},o({ref:null,value:C,onChange:function(e){k(e.currentTarget.value),null===u||void 0===u||u(e.currentTarget.value)},placeholder:null!==x&&void 0!==x?x:"Search by username or invite by email",autoComplete:"off",onKeyDown:function(e){"Enter"===e.key&&C.match(/.+@.+/)&&(t(C),k(""),e.currentTarget.blur())}}))),(0,a.BX)("div",(0,i.Z)((0,r.Z)({},s()),{className:"jsx-d408485a86637a91",children:[c&&D&&D.length?(0,a.tZ)("div",{className:"jsx-d408485a86637a91 dropdown-menu",children:D.map((function(e,t){return(0,a.tZ)("div",(0,i.Z)((0,r.Z)({},l({item:e,index:t})),{className:"jsx-d408485a86637a91 "+(d()("result",{"is-active":p===t})||""),children:(0,a.BX)(Z.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(y.Z,{size:"s",url:e.image}),(0,a.tZ)("div",{className:"jsx-d408485a86637a91",children:e.username}),n.includes(e.username)?(0,a.tZ)("div",{className:"jsx-d408485a86637a91 check-icon",children:(0,a.tZ)(b.Z,{})}):null]})}),e.username)}))}):null,c&&T?(0,a.tZ)("div",{className:"jsx-d408485a86637a91 dropdown-menu is-loading",children:"loading..."}):null,c&&D&&0===D.length?(0,a.BX)("div",{className:"jsx-d408485a86637a91 dropdown-menu is-empty",children:['no results found for "',C,'"']}):null]}))]})}}),(0,a.tZ)("div",{className:"jsx-d408485a86637a91",children:(0,a.tZ)(h.zx,{colorway:"primary",type:"submit",disabled:l||!C,text:"Invite"})})]}),(0,a.tZ)(s(),{id:"d408485a86637a91",children:".form-content.jsx-d408485a86637a91{display:grid;position:relative;width:100%;grid-template-columns:1fr auto;grid-column-gap:var(--space-8);-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.dropdown.jsx-d408485a86637a91{position:relative;z-index:5}.dropdown-menu.jsx-d408485a86637a91{position:absolute;z-index:1;top:100%;left:0;width:100%;background-color:var(--background-default);border:1px solid var(--foreground-dimmest);border-top:0 none;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);max-height:300px;overflow:auto}.dropdown-menu.is-loading.jsx-d408485a86637a91,.dropdown-menu.is-empty.jsx-d408485a86637a91{color:var(--foreground-dimmer);padding:var(--space-8)}.dropdown.jsx-d408485a86637a91:focus-within .dropdown-menu.jsx-d408485a86637a91{border-color:var(--accent-primary-default)}.spacer.jsx-d408485a86637a91{width:var(--space-8);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.result.jsx-d408485a86637a91{cursor:pointer;padding:var(--space-8)var(--space-16)}.result.jsx-d408485a86637a91:hover,.is-active.jsx-d408485a86637a91{background-color:var(--accent-primary-dimmer)}.check-icon.jsx-d408485a86637a91{margin-left:auto;color:var(--accent-positive-default)}"})]})}},51911:function(e,t,n){n.d(t,{C:function(){return c},b:function(){return s}});var r=n(7182),i=n(21131),o=n(18172),a=(0,r.cn)({chat:"unread"}),l=(0,r.cn)(null,(function(e,t,n){t(a,(function(e){return(0,o.ZP)(e,(function(e){n.indicatorType?e[n.paneType]=n.indicatorType:delete e[n.paneType]}))}))}));function s(e){var t=e.paneType,n=(0,i.Z)((function(){return(0,r.cn)((function(e){return t?e(a)[t]:void 0}))}),[t]);return(0,r.Dv)(n)}function c(){return(0,r.b9)(l)}},65915:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(7182),i=n(63309);function o(){return(0,r.Dv)(i.Md)}},73825:function(e,t,n){n.d(t,{g:function(){return o}});var r=n(35944),i=n(70917);function o(){return(0,r.tZ)(i.xB,{styles:[{body:{overflow:"hidden"}}]})}},61668:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(35944),i=n(60357),o=n.n(i),a=(n(67294),n(44781));function l(e){var t=e.label;return(0,r.BX)(a.Z,{size:"xsmall",children:[(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":t,className:"jsx-b2b24242521d2288 help",children:"?"}),(0,r.tZ)(o(),{id:"b2b24242521d2288",children:".help.jsx-b2b24242521d2288{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;border:1px solid var(--background-higher);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;width:var(--space-16);height:var(--space-16);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}"})]})}},45435:function(e,t,n){n.d(t,{Sj:function(){return s},Th:function(){return a},UB:function(){return c},a0:function(){return u},ot:function(){return l}});var r=n(14251),i=n(52875),o=n(7182);var a=(0,o.cn)([]),l=(0,o.cn)({regexp:null,direction:"",highlightOnly:!0}),s=(0,o.cn)((function(e){return function(e,t){if(!t.regexp&&!t.direction)return e.map((function(e){return(0,i.Z)((0,r.Z)({},e),{highlighted:!1})}));var n=function(e){var n=e.dir,r=e.cmd;return(!t.direction||n===t.direction)&&!(t.regexp&&t.regexp.test&&!t.regexp.test(JSON.stringify(r)))};return t.highlightOnly?e.map((function(e){return n(e)?(0,i.Z)((0,r.Z)({},e),{highlighted:!0}):e})):e.filter(n)}(e(a),e(l))})),c=(0,o.cn)(null,(function(e,t){t(a,[])})),u=(0,o.cn)(!1)},13897:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(9941),i=n(69779),o=n(99408),a=n(7182),l=n(11163),s=n(67294),c=n(45435);function u(){var e=(0,l.useRouter)(),t=(0,o.Z)().container,n=(0,r.Z)((0,a.KO)(c.a0),2),u=n[0],d=n[1],p=(0,a.b9)(c.Th);(0,s.useEffect)((function(){e.query.debug&&d(!0)}),[d,e.query.debug]),(0,s.useEffect)((function(){if(u)return t.client().onDebugLog((function(e){"log"===e.type&&p((function(t){return(0,i.Z)(t).concat([{index:t[t.length-1]?t[t.length-1].index+1:0,dir:e.log.direction,cmd:e.log.cmd,timestamp:window.performance.now()}])}))}))}),[u,p,t])}},42325:function(e,t,n){n.d(t,{AA:function(){return k},CH:function(){return Z},Gg:function(){return v},Ne:function(){return S},pV:function(){return w},vk:function(){return y}});var r=n(14251),i=n(32692),o=n(31230),a=n(64576),l=n(37887),s=n(50319);function c(){var e=(0,i.Z)(["\n  fragment AutograderTest on ReplTemplateTest {\n    id\n    name\n    input\n    output\n    name\n    type\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,i.Z)(["\n  query Autograder($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        currentUserPermissions {\n          writeTests\n        }\n        template {\n          id\n        }\n        ioTests {\n          id\n          ...AutograderTest\n        }\n        unitTests {\n          meta {\n            id\n            ...UnitTestsReplUnitTestMeta\n          }\n          tests {\n            id\n            ...UnitTestsReplUnitTest\n            lastRun(replId: $replId) {\n              ... on ReplUnitTestLastRun {\n                status\n              }\n              ... on UserError {\n                message\n              }\n            }\n          }\n        }\n        isProject\n        isProjectFork\n        owner {\n          ... on Team {\n            id\n            isAdmin\n          }\n          ... on User {\n            id\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  mutation SaveIOTestResults(\n    $teamId: Int!\n    $replId: String!\n    $results: [IOTestResultInput!]!\n  ) {\n    saveIOTestResults(teamId: $teamId, replId: $replId, results: $results) {\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  mutation CreateAutograderTest($input: CreateTemplateTestInput!) {\n    createTemplateTest(input: $input) {\n      ... on ReplTemplateTest {\n        id\n        ...AutograderTest\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  mutation UpdateAutograderTest($input: UpdateTemplateTestInput!) {\n    updateTemplateTest(input: $input) {\n      ... on ReplTemplateTest {\n        id\n        ...AutograderTest\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  mutation DeleteAutograderTest($testId: Int!) {\n    deleteTemplateTest(testId: $testId) {\n      ... on ReplTemplate {\n        id\n        tests {\n          id\n          ...AutograderTest\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}var m={},v=(0,o.Ps)(c()),g=(0,o.Ps)(u(),v,a.aA,a.Rb);function Z(e){var t=(0,r.Z)({},m,e);return l.a(g,t)}var b=(0,o.Ps)(d());function y(e){var t=(0,r.Z)({},m,e);return s.D(b,t)}var x=(0,o.Ps)(p(),v);function w(e){var t=(0,r.Z)({},m,e);return s.D(x,t)}var C=(0,o.Ps)(f(),v);function k(e){var t=(0,r.Z)({},m,e);return s.D(C,t)}var L=(0,o.Ps)(h(),v);function S(e){var t=(0,r.Z)({},m,e);return s.D(L,t)}},80420:function(e,t,n){n.d(t,{z:function(){return d}});var r=n(35944),i=n(10919),o=n(59641),a=n(63736),l=n(73604),s=n(3218),c=(0,o.Xb)({root:[o.l0.rowWithGap(8),o.l0.align.center,o.l0.flex.growAndShrink(1),o.l0.px(8)],header:[{fontSize:o.TV.fontSizeSmall,opacity:.6},o.l0.color.foregroundDimmest,o.l0.truncate],result:[o.l0.colWithGap(0)],fileName:[o.l0.truncate,o.l0.flex.row]});function u(e){var t=e.parentPath?e.parentPath.length+1:0,n=e.fileName.length,l=[],s=[];if(e.highlight){var u=!0,d=!1,p=void 0;try{for(var f,h=e.highlight[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value;m.from<t&&l.push({from:m.from,to:Math.min(t,m.to)}),m.to>=t&&s.push({from:Math.max(0,m.from-t),to:Math.min(n,m.to-t)})}}catch(v){d=!0,p=v}finally{try{u||null==h.return||h.return()}finally{if(d)throw p}}}return(0,r.BX)(o.G7,{css:c.root,style:{height:e.height},children:[(0,r.tZ)(a.Z,{path:e.fileName,size:16}),(0,r.BX)(o.G7,{css:c.result,children:[e.parentPath?(0,r.BX)(o.G7,{css:c.header,children:[(0,r.tZ)(i.x,{text:e.parentPath,highlight:l,dimmed:!e.active}),"/"]}):null,(0,r.tZ)(o.G7,{css:c.fileName,children:(0,r.tZ)(i.x,{text:e.fileName,highlight:s,dimmed:!e.active})})]})]})}function d(e){var t=e.path,n=e.defaultScore,i=void 0===n?1:n,o=e.scoreMultiplier,a=void 0===o?1:o;return function(e){var n=e.search,o=e.active;if("group"===e.data.type)return null;var c=(0,l.Il)(t),d=(0,l.UO)(t),p=c?44:32;if(!n&&o)return{score:i,render:{height:p,content:(0,r.tZ)(u,{parentPath:c,fileName:d,height:p})}};var f=function(e){var t=e.path,n=e.search,r=(0,l.UO)(t),i=s.Z.match(n,r);if(i){var o=t.length-r.length;return{type:"file",score:i.score,ranges:i.ranges.map((function(e){return{from:e.from+o,to:e.to+o}}))}}var a=s.Z.match(n,t);return a?{type:"path",ranges:a.ranges,score:.9*a.score}:null}({path:t,search:n});return f?{score:f.score*a,render:{height:p,content:(0,r.tZ)(u,{parentPath:c,fileName:d,highlight:f.ranges,height:p})}}:null}}},91550:function(e,t,n){n.d(t,{i:function(){return v},q:function(){return h}});var r=n(34727),i=n(70655),o=n(35944),a=(n(67294),n(3218)),l=n(24888),s=n(88961),c=n(39715),u=n(63736),d=n(59641),p=n(93449),f=n(80420),h={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"P"};function m(){return(0,o.BX)(d.G7,{css:[d.l0.rowWithGap(8)],children:[(0,o.tZ)(s.Z,{}),(0,o.tZ)(d.xv,{color:"dimmest",children:"Something went wrong searching your Repl's files. Please try again."})]})}function v(e){return(0,c.fA)({type:"context",label:"Files",description:"Find a file",icon:(0,o.tZ)(l.Z,{}),keyboardShortcut:e.keyboardShortcut?h:void 0},{match:(0,c.zf)({defaultScore:3}),commands:function(){var t=(0,r.Z)((function(t){var n,l,d,h,v,g,Z,b;return(0,i.__generator)(this,(function(y){switch(y.label){case 0:return n=e.fs,l=e.shouldHideFile,(d=t.search?t.search.toLowerCase():void 0)||t.active&&!e.lazyLoad?[4,e.getRecentFiles()]:[2,[]];case 1:return h=y.sent(),v=new Set(h),d||t.active?[4,n.listFiles()]:[3,3];case 2:if((g=y.sent()).error)return[2,[{data:{type:"error",label:g.error,icon:(0,o.tZ)(s.Z,{})},match:function(){return{score:1,render:{content:(0,o.tZ)(m,{})}}}}]];if(!g.files)throw new Error("Expected files");g.files.forEach((function(e){v.has(e)||v.add(e)})),y.label=3;case 3:return Z=[],v.forEach((function(e){if(!l(e)){var t=h.includes(e),n={type:"openFile",label:e,icon:(0,o.tZ)(u.Z,{path:e}),deeplink:{path:e}};if(d)a.Z.match(d,e)&&Z.push((0,c.fA)(n,{match:(0,f.z)({path:e,scoreMultiplier:t?2:1})}));else Z.push((0,c.fA)(n,{match:(0,f.z)({path:e})}))}})),0===Z.length&&t.active&&(b=t.search,Z.push({data:{label:b,description:"Create a new file",icon:(0,o.tZ)(u.Z,{path:b}),type:"action",run:(0,r.Z)((function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,n.writeFile(b,p.Z.from(""))];case 1:return t.sent(),e.openFile({path:b}),[2]}}))}))},match:function(){return{score:1}}})),[2,Z]}}))}));return function(e){return t.apply(this,arguments)}}()})}},39715:function(e,t,n){n.d(t,{Nv:function(){return l},fA:function(){return i},pl:function(){return a},zf:function(){return o}});var r=n(3218);function i(e,t){var n=t.commands;return{data:e,match:t.match,commands:n}}function o(e){var t=e.defaultScore,n=void 0===t?1:t;return function(e){var t=e.search,i=e.data,o=e.active;if("group"===i.type)return null;if(!t&&o)return{score:n};if(!t)return{score:n};var a=r.Z.match(t,i.label);return a?{score:a.score,render:{ranges:a.ranges}}:null}}var a=o({defaultScore:1});function l(e){return e.map((function(e){return"group"===e.data.type?e.data.key:e.data.key||e.data.label})).join(":")}},72654:function(e,t,n){n.d(t,{F:function(){return C},q:function(){return w}});var r=n(34727),i=n(9941),o=n(70655),a=n(35944),l=(n(67294),n(3218)),s=n(91296),c=n.n(s),u=n(39715),d=n(50009),p=n(87653),f=n(88961),h=n(46806),m=n(59641),v=n(63736),g=(0,m.Xb)({root:[m.l0.colWithGap(4),m.l0.align.start,m.l0.flex.growAndShrink(1),m.l0.p(8)],header:[m.l0.rowWithGap(4)],singleLine:[{whiteSpace:"nowrap",fontFamily:m.TV.fontFamilyCode},m.l0.truncate,m.l0.color.foregroundDimmest]});function Z(e){var t=e.path,n=e.line,r=e.singleLine;return(0,a.BX)(m.G7,{css:g.root,children:[(0,a.BX)(m.G7,{css:g.header,children:[(0,a.tZ)(v.Z,{path:t,size:12}),(0,a.BX)(m.xv,{variant:"small",color:"dimmest",children:[t,":",n.lineNumber]})]}),(0,a.tZ)(m.G7,{css:r&&g.singleLine,children:(0,a.tZ)(d.xK,{source:n.content,matches:n.matches})})]})}function b(){return(0,a.BX)(m.G7,{css:[m.l0.rowWithGap(8)],children:[(0,a.tZ)(f.Z,{}),(0,a.tZ)(m.xv,{color:"dimmest",children:"Something went wrong searching your Repl's contents. Please try again."})]})}function y(){return(0,a.BX)(m.G7,{css:[m.l0.rowWithGap(8),m.l0.p(8),m.l0.align.center],children:[(0,a.tZ)(f.Z,{}),(0,a.tZ)(m.xv,{color:"dimmest",children:"Displaying only part of the results, try being more specific with your search."})]})}function x(){return(0,a.tZ)(m.G7,{css:[m.l0.rowWithGap(8),m.l0.p(8),m.l0.align.center],children:(0,a.tZ)(m.xv,{color:"dimmest",children:"Nothing came up searching your Repl's content."})})}var w={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"F"};function C(e){var t,n=c()((function(e,t,n){(0,h.C)(e).then(t).catch(n)}),200);return(0,u.fA)({type:"context",description:"Search through your files",label:"Search",icon:(0,a.tZ)(p.Z,{}),keyboardShortcut:e.keyboardShortcut?w:void 0},{match:(0,u.zf)({defaultScore:2}),commands:function(){var s=(0,r.Z)((function(r){var s,c,d,p,h,g,w,C,k,L,S,B;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r.search?!r.active&&e.activeOnly?[2,[]]:(s=Math.random(),t=s,[4,new Promise((function(t,i){n({query:r.search,container:e.container},t,i)}))]):[2,[]];case 1:if(c=o.sent(),d=c.results,p=c.error,h=c.isPartialResult,s!==t)return[2,[]];if(null!==p)return r.active?[2,[{data:{type:"error",label:"error",icon:(0,a.tZ)(f.Z,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(b,{})}}}}]]:[2,[]];g=[],w=!0,C=!1,k=void 0;try{for(L=function(){var t=(0,i.Z)(B.value,2),n=t[0];t[1].forEach((function(t){var i=t.matches[0].column;g.push((0,u.fA)({type:"openFile",label:n,icon:(0,a.tZ)(v.Z,{path:n}),key:[n,t.lineNumber,i].join(":"),deeplink:{path:n,line:t.lineNumber,col:i}},{match:function(){var i=l.Z.match(r.search,t.content);return{score:(null===i||void 0===i?void 0:i.score)||1,render:{height:60,content:(0,a.tZ)(Z,{path:n,line:t,singleLine:e.singleLineMatch})}}}}))}))},S=Object.entries(d)[Symbol.iterator]();!(w=(B=S.next()).done);w=!0)L()}catch(E){C=!0,k=E}finally{try{w||null==S.return||S.return()}finally{if(C)throw k}}if(0===g.length&&r.active)return[2,[{data:{type:"output",label:"",icon:(0,a.tZ)(m.G7,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(x,{})}}}}]];if(r.active){if(0===g.length)return[2,[{data:{type:"output",label:"",icon:(0,a.tZ)(m.G7,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(x,{})}}}}]];h&&g.push({data:{type:"error",label:"error",icon:(0,a.tZ)(f.Z,{})},match:function(){return{score:1/0,render:{content:(0,a.tZ)(y,{})}}}})}return[2,g]}}))}));return function(e){return s.apply(this,arguments)}}()})}},30803:function(e,t,n){n.d(t,{O5:function(){return s},k2:function(){return l},yT:function(){return a}});var r=n(35944),i=(n(67294),n(59641)),o=n(27178),a=function(e){var t=e.children;return(0,r.tZ)(i.G7,{css:[i.l0.height("100%"),i.l0.overflowY("auto")],children:(0,r.tZ)(i.G7,{css:[i.l0.colWithGap(8),i.l0.flex.grow(1)],children:(0,r.tZ)(i.G7,{css:[i.l0.flex.grow(1),i.l0.position.relative],children:t})})})},l=function(e){var t=e.children,n=e.css;return(0,r.tZ)(i.G7,{css:[o.F3,i.l0.px(8),i.l0.my(12),n],children:t})},s=function(e){var t=e.children;return(0,r.tZ)(i.G7,{css:[i.l0.mb(0),{borderBottom:"1px solid ".concat(i.TV.outlineDimmest)}],children:t})}},794:function(e,t,n){n.d(t,{u:function(){return d},w:function(){return p}});var r=n(9941),i=n(35944),o=n(67294),a=n(37424),l=n(59641),s=n(4158),c=n(70804),u=l.KD.div,d=function(e){var t=e.id,n=e.title,d=e.information,p=e.optional,f=void 0!==p&&p,h=e.children,m=(0,a.H)()(t),v=(0,r.Z)(o.useState(!1),2),g=v[0],Z=v[1],b=(0,r.Z)(o.useState(!1),2),y=b[0],x=b[1],w=o.useRef(!1);return o.useEffect((function(){w.current=!0;var e=setTimeout((function(){x(g)}),200);return function(){clearTimeout(e)}}),[g]),(0,i.BX)(l.G7,{css:[l.l0.colWithGap(8)],children:[(0,i.BX)(l.G7,{tag:"label",htmlFor:m,css:[l.l0.flex.row,l.l0.flex.grow(1),l.l0.justify.spaceBetween,l.l0.align.baseline],children:[(0,i.BX)(l.G7,{css:[l.l0.rowWithGap(8),l.l0.justify.start,l.l0.color.greyStronger],onMouseEnter:function(){return Z(!0)},onMouseLeave:function(){return Z(!1)},children:[(0,i.tZ)(l.xv,{children:n}),(0,i.BX)(c.Z,{isOpen:y,onClickOutside:function(){return x(!1)},padding:8,children:[(0,i.tZ)(u,{children:(0,i.tZ)(s.Z,{})}),(0,i.tZ)(l.G7,{css:[l.l0.maxWidth(240)],children:(0,i.tZ)(l.xv,{multiline:!0,children:d})})]})]}),f?(0,i.tZ)(l.xv,{variant:"small",css:l.l0.color.greyDimmer,children:"optional"}):null]}),h]})},p=function(e){var t=e.label,n=e.children;return(0,i.BX)(l.G7,{css:[l.l0.flex.row,l.l0.align.baseline,l.l0.mb(12)],children:[(0,i.tZ)(l.G7,{css:l.l0.minWidth(100),children:(0,i.tZ)(l.xv,{css:[l.l0.color.greyStronger],children:t})}),n]})}},95137:function(e,t,n){n.d(t,{Y:function(){return m},_:function(){return h}});var r,i=n(35944),o=(n(67294),n(7055)),a=n(59641),l=n(8236),s=n(67573),c=n(54969),u=(r={},(0,s.Z)(r,c.Fe.Building,{title:"Building",color:a.TV.orangeStronger}),(0,s.Z)(r,c.Fe.Failed,{title:"Failed",color:a.TV.accentNegativeDefault}),(0,s.Z)(r,c.Fe.Success,{title:"Success",color:a.TV.accentPositiveDefault}),r),d=function(e){var t=e.status,n=t in u?u[t]:{title:"",color:a.TV.greyDefault},r=n.title,o=n.color;return(0,i.BX)(a.G7,{css:[a.l0.align.center,a.l0.rowWithGap(8),{textTransform:"capitalize"}],children:[(0,i.tZ)(a.G7,{as:"span",css:[a.l0.width("8px"),a.l0.height("8px"),a.l0.borderRadius("full"),{backgroundColor:o,boxShadow:"0 0 12px ".concat(o)}]}),(0,i.tZ)("div",{className:"always-on-indicator","aria-label":r,"data-microtip-position":"bottom",role:"tooltip"}),(0,i.tZ)(a.xv,{children:r})]})},p=n(794),f=n(30803),h=function(e){var t=e.currentBuild;return(0,i.BX)(a.G7,{css:[a.l0.colWithGap(12)],children:[(0,i.BX)(p.w,{label:"Deployed",children:[(0,o.Z)(new Date(t.timeCreated),Date.now(),{addSuffix:!0})," ","by ",t.user.displayName]}),(0,i.tZ)(p.w,{label:"Status",children:(0,i.tZ)(d,{status:t.status})}),(0,i.tZ)(p.w,{label:"Resources",children:l.Cw[t.repl.guaranteedProvisioningSku]})]})},m=function(e){var t=e.currentBuild;return(0,i.tZ)(f.O5,{children:(0,i.tZ)(f.k2,{children:(0,i.tZ)(h,{currentBuild:t})})})}},11936:function(e,t,n){n.d(t,{Bc:function(){return L},Fe:function(){return B},KL:function(){return x},MX:function(){return b},bL:function(){return R},d7:function(){return C},hU:function(){return T}});var r=n(14251),i=n(32692),o=n(31230),a=n(37887),l=n(50319),s=n(75436);function c(){var e=(0,i.Z)(["\n  fragment ReplDomain2 on Domain {\n    hosting_deployment_id\n    domain\n    state\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,i.Z)(["\n  fragment CurrentBuild2 on HostingBuild {\n    id\n    description\n    status\n    timeCreated\n    repl {\n      id\n      guaranteedProvisioningSku\n    }\n    user {\n      id\n      displayName\n    }\n  }\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  query HostingDeployment2($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        domains {\n          ... on Domain {\n            ...ReplDomain2\n          }\n        }\n        hostingDeployment {\n          ... on HostingDeployment {\n            id\n            currentBuild {\n              ...CurrentBuild2\n            }\n            inProgressBuild {\n              ...CurrentBuild2\n            }\n          }\n          ... on NotFoundError {\n            message\n          }\n          ... on UnauthorizedError {\n            message\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  mutation DeployHostingBuild2($input: DeployHostingBuild2Input!) {\n    deployHostingBuild2(input: $input) {\n      ... on DeployHostingBuild2Result {\n        build {\n          ...CurrentBuild2\n        }\n        targetDeployment {\n          id\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  mutation FailHostingBuild2($input: FailHostingBuildInput!) {\n    failHostingBuild(input: $input) {\n      ... on FailHostingBuildResult {\n        build {\n          ...CurrentBuild2\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  subscription HostingDeployStatusUpdates(\n    $input: HostingBuildDeployStatusUpdatesInput!\n  ) {\n    hostingBuildDeployStatusUpdates(input: $input) {\n      status\n      message\n    }\n  }\n"]);return h=function(){return e},e}function m(){var e=(0,i.Z)(["\n  subscription HostingDeployLogUpdates(\n    $input: HostingBuildDeployLogUpdatesInput!\n  ) {\n    hostingBuildDeployLogUpdates(input: $input) {\n      log\n    }\n  }\n"]);return m=function(){return e},e}function v(){var e=(0,i.Z)(["\n  query HostingDeployLogHistory($input: HostingBuildDeployLogHistoryInput!) {\n    hostingBuildDeployLogHistory(input: $input) {\n      ... on HostingBuildDeployLogHistoryResults {\n        logs\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return v=function(){return e},e}var g={},Z=(0,o.Ps)(c()),b=(0,o.Ps)(u()),y=(0,o.Ps)(d(),Z,b);function x(e){var t=(0,r.Z)({},g,e);return a.a(y,t)}var w=(0,o.Ps)(p(),b);function C(e){var t=(0,r.Z)({},g,e);return l.D(w,t)}var k=(0,o.Ps)(f(),b);function L(e){var t=(0,r.Z)({},g,e);return l.D(k,t)}var S=(0,o.Ps)(h());function B(e){var t=(0,r.Z)({},g,e);return s.m(S,t)}var E=(0,o.Ps)(m());function T(e){var t=(0,r.Z)({},g,e);return s.m(E,t)}var _=(0,o.Ps)(v());function R(e){var t=(0,r.Z)({},g,e);return a.a(_,t)}},93803:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return createEvalJet}});var _swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(34727),_swc_helpers_src_ts_generator_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70655);function createEvalJet(param){var services=param.services,log=param.log;return{eval:function(){var _ref=(0,_swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_0__.Z)((function(code){var res;return(0,_swc_helpers_src_ts_generator_mjs__WEBPACK_IMPORTED_MODULE_1__.__generator)(this,(function(_state){return log.warn("Extension is using eval, this is a security risk",{code:code}),res=eval("(function(services) {".concat(code,"})"))(services),[2,res]}))}));return function(e){return _ref.apply(this,arguments)}}()}}},87138:function(e,t,n){n.d(t,{bD:function(){return u},lg:function(){return p}});var r=n(14251),i=n(32692),o=n(31230),a=n(37887);function l(){var e=(0,i.Z)(["\n  query WorkspaceHistory2Users($ids: [Int!]!) {\n    currentUser {\n      id\n      username\n      image\n    }\n    usersByIds(ids: $ids) {\n      id\n      username\n      image\n    }\n  }\n"]);return l=function(){return e},e}function s(){var e=(0,i.Z)(["\n  query WorkspaceHistory2CurrentUserDate {\n    currentUser {\n      id\n      timeCreated\n    }\n  }\n"]);return s=function(){return e},e}var c={},u=(0,o.Ps)(l());var d=(0,o.Ps)(s());function p(e){var t=(0,r.Z)({},c,e);return a.a(d,t)}},72466:function(e,t,n){n.d(t,{Z:function(){return he}});var r=n(9941),i=n(35944),o=n(67294),a=n(19526),l=n(46702),s=n(24291),c=n(6951),u=n(92350),d=n(59641),p=n(99408),f=n(33773),h=n(64080),m=n(60357),v=n.n(m),g=n(30019);var Z=function(e){var t=e.title,n=e.sub,r=void 0!==n&&n,o=e.actions,l=void 0===o?[]:o;return(0,i.BX)(a.Ug,{justify:"space-between",align:"center",children:[(0,i.tZ)(v(),{id:"fd8117a15303f4ca",children:".header-action.jsx-fd8117a15303f4ca{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:var(--space-24);height:var(--space-24);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);color:var(--foreground-dimmer)}.header-action.jsx-fd8117a15303f4ca:hover{background:var(--background-higher);cursor:pointer}"}),(0,i.tZ)(g.Z,{level:r?5:4,children:t}),(0,i.tZ)(a.Ug,{spacing:"4px",align:"center",children:l?l.map((function(e,t){return(0,i.tZ)("div",{onClick:e.action,className:"jsx-fd8117a15303f4ca header-action",children:e.icon},t)})):null})]})},b=n(69779),y=n(94184),x=n.n(y);var w=function(e){var t=e.fileDrag,n=e.children,a=(0,r.Z)(o.useState(!1),2),l=a[0],s=a[1],c=o.useRef(0);return(0,i.BX)("div",{onDragEnter:function(e){if(t){e.preventDefault(),e.stopPropagation();var n=!0;if(e.dataTransfer.items&&e.dataTransfer.items.length>0){if(t.accept)for(var r=e.dataTransfer.items,i=0;i<r.length;i++){var o=r[i];t.accept.includes(o.type)||(n=!1)}n&&(s(!0),c.current++)}}},onDragLeave:function(e){t&&(e.preventDefault(),e.stopPropagation(),c.current--,0===c.current&&s(!1))},onDrop:function(e){t&&(e.preventDefault(),e.stopPropagation(),c.current=0,s(!1),(0,b.Z)(e.dataTransfer.files).filter((function(e){return t.accept.includes(e.type)})).forEach(t.onDrop))},className:"jsx-68ea6c6d36b196a3 section",children:[(0,i.tZ)(v(),{id:"68ea6c6d36b196a3",children:".section.jsx-68ea6c6d36b196a3{position:relative;width:100%}.dragfilter.jsx-68ea6c6d36b196a3{position:absolute;width:100%;height:100%;top:0;left:0;background:var(--accent-primary-default);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);opacity:.2}.dragfilter.hidden.jsx-68ea6c6d36b196a3{display:none!important}"}),n,(0,i.tZ)("div",{className:"jsx-68ea6c6d36b196a3 "+(x()("dragfilter",{hidden:!l})||"")})]})};var C=function(){var e=(0,p.Z)().session,t=(0,r.Z)(o.useState(!1),2),n=t[0],l=t[1];return(0,i.BX)(w,{children:[(0,i.tZ)(Z,{title:"Kaboom",actions:[{icon:(0,i.tZ)(f.Z,{rotate:n?0:-90}),action:function(){return l(!n)}}]}),n?(0,i.BX)(a.gC,{spacing:1,children:[(0,i.tZ)("div",{}),(0,i.tZ)(c.Z,{Icon:h.Z,size:"small",onClick:function(){return e.openFile("template.html")},children:"Edit HTML Template"})]}):null]})},k=n(92002),L=n(42941),S=n(27206),B=n(67573),E=n(14251),T=n(52875);var _,R=n(37432),D=n(17556),G=n(93449),I=n(73604),j=n(93058),M=n(40381),P=n(89224),N=n(1879),F=n(7835);function V(e){return function(t){for(var n in e)t.key===n&&e[n](t)}}function W(e,t){_||(_=document.createElement("input")).setAttribute("type","file"),_.setAttribute("accept",t.join(","));var n=function(){_.files&&((0,b.Z)(_.files).forEach(e),_.removeEventListener("change",n))};_.addEventListener("change",n),_.click()}var z=n(10982);var X=function(e){var t=e.isActive,n=e.name,l=e.icon,s=e.options,c=e.onClick,u=e.onRename,d=(0,r.Z)(o.useState(!1),2),p=d[0],f=d[1],h=(0,r.Z)(o.useState(null),2),m=h[0],g=h[1],Z=(0,D.Z)((function(){f(!1)}),[]),b=(0,D.Z)((function(){g(null)}),[]);return o.useEffect((function(){b.current&&null!==m&&b.current.focus()}),[b,m]),(0,i.BX)("div",{onClick:c,className:"jsx-103c0085cc983ea1 "+(x()("entry",{active:t&&null===m})||""),children:[(0,i.BX)(a.Ug,{spacing:1,align:"center",children:[l,null===m?(0,i.tZ)("p",{className:"jsx-103c0085cc983ea1",children:n}):(0,i.tZ)(S.ZP,{ref:b,value:m,onChange:function(e){g(e.currentTarget.value)},onKeyDown:V({Escape:function(){g(null)},Enter:function(){u&&m&&u(m),g(null)}})})]}),s&&s.length>0?(0,i.tZ)("div",{onClick:function(e){e.stopPropagation(),f(!p)},className:"jsx-103c0085cc983ea1 "+(x()("options-icon",{active:t})||""),children:(0,i.tZ)(z.MoreVertical,{})}):null,s&&s.length>0&&p?(0,i.tZ)("div",{ref:Z,onKeyDown:V({Escape:function(){f(!1)}}),className:"jsx-103c0085cc983ea1 options-box",children:s.map((function(e){return e?(0,i.tZ)("div",{onClick:function(t){t.stopPropagation(),f(!1),e.action(),"Rename"===e.name&&g(n)},className:"jsx-103c0085cc983ea1 "+(x()("option",{danger:e.danger})||""),children:e.name},e.name):null}))}):null,(0,i.tZ)(v(),{id:"103c0085cc983ea1",children:".entry.jsx-103c0085cc983ea1{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8);color:var(--foreground-dimmer);position:relative}.entry.active.jsx-103c0085cc983ea1{background:var(--accent-primary-default)!important;color:var(--white)!important;font-weight:var(--font-weight-medium)!important}.entry.jsx-103c0085cc983ea1:hover{color:var(--foreground-default);background:var(--background-higher);cursor:pointer}.options-icon.jsx-103c0085cc983ea1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:var(--space-16);height:var(--space-16);opacity:0;color:var(--foreground-dimmest)}.options-icon.jsx-103c0085cc983ea1:hover{color:var(--foreground-dimmest)}.options-icon.active.jsx-103c0085cc983ea1{opacity:1!important;color:var(--white)!important}.entry.jsx-103c0085cc983ea1:hover .options-icon.jsx-103c0085cc983ea1{opacity:1}.options-box.jsx-103c0085cc983ea1{position:absolute;top:var(--space-32);right:var(--space-16);padding:var(--space-4);background:var(--background-default);border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-subhead-default);font-weight:var(--font-weight-regular)!important;z-index:500}.option.jsx-103c0085cc983ea1{padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);color:var(--foreground-default)}.option.danger.jsx-103c0085cc983ea1{color:var(--accent-negative-default)}.option.jsx-103c0085cc983ea1:hover{background:var(--background-higher)}.option.danger.jsx-103c0085cc983ea1:hover{background:var(--accent-negative-default);color:var(--white)}"})]})},H=n(57704);function A(e){var t=e.close,n=e.entries,a=(0,p.Z)(),l=a.fs,s=a.session,c=(0,D.Z)(t,[]),u=(0,j.Z)().showError,d=(0,r.Z)(function(e){var t=(0,r.Z)(o.useState(e),2),n=t[0],i=t[1];return[n,i,function(e){var t=null;switch(e.currentTarget.type){case"checkbox":t=e.currentTarget.checked;break;case"number":case"range":t=Number(e.currentTarget.value);break;default:t=e.currentTarget.value}i((0,T.Z)((0,E.Z)({},n),(0,B.Z)({},e.currentTarget.name,t)))}]}({name:""}),3),f=d[0],h=d[2];return o.useEffect((function(){c.current&&c.current.focus()}),[c]),(0,i.tZ)(S.ZP,{ref:c,name:"name",onChange:h,onKeyDown:V({Escape:t,Enter:function(){var e="".concat(f.name,".js"),r="code/".concat(e);n.includes(e)?u("file '".concat(f.name,"' already exists")):(l.writeFile(r,G.Z.from("")).then((function(){s.openFile(r)})),t())}})})}var U=function(e){var t=e.onFileOpen,n=(0,p.Z)().fs,a=(0,M.Z)(),l=(0,r.Z)(o.useState(!1),2),s=l[0],c=l[1],u=(0,j.Z)().showError,d=(0,r.Z)(o.useState(null),2),f=d[0],h=d[1],m=((0,R.Z)({path:"code",initialExpanded:!0,fs:n}).children||[]).filter((function(e){return e.type===P.Tv.File})).map((function(e){return e.filename})).sort();return(0,i.BX)(w,{fileDrag:{accept:["text/javascript"],onDrop:function(e){var t="code/".concat(e.name);m.includes(t)?u("scene '".concat((0,I.eb)(e.name),"' already exists")):e.text().then((function(e){n.writeFile(t,G.Z.from(e))}))}},children:[(0,i.tZ)(Z,{sub:!0,title:"Code",actions:[{icon:(0,i.tZ)(k.Z,{}),action:function(){return c(!0)}}]}),(0,i.tZ)(L.Z,{height:"4px"}),(0,i.tZ)("div",{children:m.map((function(e){var r="code/".concat(e),o=(0,I.eb)(e),l=[{name:"Rename",action:function(){}}];return"main"!==o&&l.push({name:"Delete",action:function(){return h(r)},danger:!0}),(0,i.tZ)(X,{isActive:r===a,onClick:function(){return t(r)},onRename:function(e){n.moveFile(r,"code/".concat(e,".js")).then((function(e){e.error&&u("failed to rename")}))},name:o,options:l},o)}))}),s?(0,i.tZ)(A,{entries:m,close:function(){return c(!1)}}):null,f?(0,i.tZ)(N.u,{isOpen:Boolean(f),onRequestClose:function(){return h(null)},children:(0,i.tZ)(F.Z,{danger:!0,prompt:"Delete scene '".concat((0,I.eb)(f),"' ?"),desc:"Are you sure you want to delete this scene? This action cannot be undone.",onCancel:function(){return h(null)},confirmText:"Yes, delete this scene",icon:(0,i.tZ)(H.Z,{}),onConfirm:function(){n.deleteFile(f),h(null)}})}):null]})},O=n(27668),q=n(49619),$=n(21128),Y=n(91513),K=n(54098),J=n.n(K),Q=n(44781);var ee=function(e){var t=e.kind,n=e.renderItem,l=e.onRequestClose,s=e.onAdd,u=function(e){var n="".concat(C,"/").concat(e);J()(n).then((function(e){return e.arrayBuffer()})).then((function(r){var i="".concat(t,"/").concat(e);f.writeFile(i,G.Z.from(r)).then((function(t){if(t.error)throw new Error(t.error);h.openFile(i),s&&s(e,n)})),l()})).catch((function(){return k("Failed to fetch ".concat(e))}))},d=(0,p.Z)(),f=d.fs,h=d.session,m=(0,r.Z)(o.useState([]),2),Z=m[0],b=m[1],y=(0,r.Z)(o.useState(""),2),x=y[0],w=y[1],C="https://kaboomjs.com/".concat(t),k=(0,j.Z)().showError;return o.useEffect((function(){J()("https://kaboomjs.com/api/assets/".concat(t)).then((function(e){return e.json()})).then((function(e){return b(e)})).catch((function(){return k("Failed to fetch assets lib listing")}))}),[b,k,C]),(0,i.BX)("div",{className:"jsx-d616aed56d26af98 assets",children:[(0,i.BX)(a.gC,{spacing:2,children:[(0,i.tZ)(g.Z,{level:3,children:"Assets Lib (beta)"}),0===Z.length?(0,i.tZ)(Q.Z,{foreground:2,children:"Loading..."}):(0,i.BX)(i.HY,{children:[(0,i.tZ)(S.ZP,{large:!0,label:"Search",onChange:function(e){w(e.target.value)}}),(0,i.tZ)("div",{className:"jsx-d616aed56d26af98 box",children:Z.filter((function(e){return!x||e.includes(x)})).map((function(e){return(0,i.tZ)(o.Fragment,{children:n({name:e,url:"".concat(C,"/").concat(e),add:function(){return u(e)}})},e)}))}),(0,i.tZ)(c.Z,{size:"small",onClick:function(){Z.length>0&&u(Z[Math.floor(Math.random()*Z.length)])},children:"I\u2019m Feeling Lucky"})]})]}),(0,i.tZ)(v(),{id:"d616aed56d26af98",children:".assets.jsx-d616aed56d26af98{padding:var(--space-24)}.box.jsx-d616aed56d26af98{width:100%;height:320px;overflow-x:hidden;overflow-y:scroll}"})]})},te=n(37424);function ne(e){var t=e.url,n=e.add;return(0,i.BX)(i.HY,{children:[(0,i.tZ)("img",{src:t,loading:"lazy",onClick:n,alt:"sprite asset",className:"jsx-4ad892a0258c4ced entry"}),(0,i.tZ)(v(),{id:"4ad892a0258c4ced",children:".entry.jsx-4ad892a0258c4ced{padding:var(--space-16);height:120px;-ms-interpolation-mode:nearest-neighbor;image-rendering:-webkit-optimize-contrast;image-rendering:-moz-crisp-edges;image-rendering:-o-pixelated;image-rendering:pixelated;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.entry.jsx-4ad892a0258c4ced:hover{cursor:pointer;background:var(--background-root)}"})]})}function re(e){var t=e.close,n=e.entries,a=e.onFileOpen,l=(0,p.Z)().fs,s=(0,D.Z)(t,[]),c=o.useRef(null),u=(0,j.Z)().showError,f=(0,r.Z)(o.useState({name:"",width:32,height:32}),2),h=f[0],m=f[1];o.useEffect((function(){c.current&&c.current.focus()}),[c]);var v=function(){if(0!==h.name.length){var e=h.width,r=h.height;if(isNaN(e)||isNaN(r)||e<=0||r<=0)u("invalid width / height!");else if(e>256||r>256)u("only supports sprites smaller than 256x256 yet");else{var i="".concat(h.name,".pedit"),o="sprites/".concat(i);n.includes(i)?u("sprite '".concat(h.name,"' already exists")):(l.writeFile(o,G.Z.from(JSON.stringify({fromKaboom:!0,width:h.width,height:h.height}))).then((function(){a(o)})),t())}}else u("invalid 'name'")},g=(0,te.H)();return(0,i.tZ)("div",{ref:s,className:"dialog",onKeyDown:V({Escape:t,Enter:v}),children:(0,i.tZ)(d.Tg,{elevated:!0,css:[d.l0.borderRadius(8),d.l0.p(8),d.l0.mt(8)],children:(0,i.BX)(d.G7,{css:[d.l0.colWithGap(16)],children:[(0,i.BX)(d.G7,{css:[d.l0.colWithGap(4)],children:[(0,i.tZ)("label",{htmlFor:g("name"),children:(0,i.tZ)(d.xv,{color:"dimmer",variant:"small",children:"Name"})}),(0,i.tZ)(d.II,{id:g("name"),ref:c,value:h.name,onChange:function(e){m((0,T.Z)((0,E.Z)({},h),{name:e.target.value}))}})]}),(0,i.BX)(d.G7,{css:[d.l0.rowWithGap(8)],children:[(0,i.BX)(d.G7,{css:[d.l0.colWithGap(4),{flex:"1 1 0px"}],children:[(0,i.tZ)("label",{htmlFor:g("width"),children:(0,i.tZ)(d.xv,{color:"dimmer",variant:"small",children:"Width"})}),(0,i.tZ)(d.II,{id:g("width"),value:"".concat(h.width),onChange:function(e){return m((0,T.Z)((0,E.Z)({},h),{width:parseInt(e.target.value,10)||0}))}})]}),(0,i.BX)(d.G7,{css:[d.l0.colWithGap(4),{flex:"1 1 0px"}],children:[(0,i.tZ)("label",{htmlFor:g("height"),children:(0,i.tZ)(d.xv,{color:"dimmer",variant:"small",children:"Height"})}),(0,i.tZ)(d.II,{id:g("height"),value:"".concat(h.height),onChange:function(e){return m((0,T.Z)((0,E.Z)({},h),{height:parseInt(e.target.value,10)||0}))}})]})]}),(0,i.BX)(d.G7,{css:[d.l0.rowWithGap(12),d.l0.justify.end],children:[(0,i.tZ)(d.zx,{onClick:t,text:"Cancel"}),(0,i.tZ)(d.zx,{colorway:"primary",onClick:v,text:"Create",iconLeft:(0,i.tZ)(k.Z,{})})]})]})})})}var ie=function(e){var t=e.onFileOpen,n=(0,p.Z)().fs,a=(0,j.Z)().showError,l=(0,M.Z)(),s=(0,r.Z)(o.useState(!1),2),c=s[0],u=s[1],f=(0,r.Z)(o.useState(!1),2),h=f[0],m=f[1],g=(0,r.Z)(o.useState(null),2),y=g[0],x=g[1],C=(0,Y.Z)(l),S=(0,$.Z)({fs:n,onContentProcess:function(e,t){if(t.endsWith("pedit")){var n=JSON.parse(e.toString());if(!n.fromKaboom)return n.frames[0]}else{var r=(0,I.yC)(t);if(r)return"data:".concat(r,";base64,").concat(e.toString("base64"))}return""}}),B=((0,R.Z)({path:"sprites",initialExpanded:!0,fs:n}).children||[]).filter((function(e){return e.type===P.Tv.File})).map((function(e){return e.filename})).sort(),E=["image/png","image/jpeg",".pedit"],T=function(e){var t="sprites/".concat(e.name);if(B.includes(t))return a("sprite '".concat((0,I.eb)(e.name),"' already exists"));e.arrayBuffer().then((function(e){n.writeFile(t,G.Z.from(e))}))},_=[{icon:(0,i.tZ)(O.Z,{}),action:function(){return m(!0)}},{icon:(0,i.tZ)(q.Z,{}),action:function(){return W(T,E)}},{icon:(0,i.tZ)(k.Z,{}),action:function(){return u(!0)}}];return(0,i.BX)(w,{fileDrag:{accept:E,onDrop:T},children:[(0,i.tZ)(Z,{sub:!0,title:"Sprites",actions:_}),(0,i.tZ)(L.Z,{height:"4px"}),(0,i.tZ)("div",{className:"jsx-286709118fe5858",children:B.map((function(e){var r="sprites/".concat(e),o=(0,I.r6)(e),s=(0,I.eb)(e),c=S(r),u=C?[{name:"Insert load code",action:function(){var e="".concat("pedit"===o?"loadPedit":"loadSprite","(").concat(JSON.stringify(s),", ").concat(JSON.stringify(r),");");C({code:e})}}]:[];return(0,i.tZ)(X,{isActive:r===l,onClick:function(){return t(r)},onRename:function(e){n.moveFile(r,"sprites/".concat(e,".").concat(o)).then((function(e){e.error&&a("failed to rename")}))},icon:(0,i.tZ)("div",{className:"jsx-286709118fe5858 preview-img",children:c.state===$.j.Ready&&(0,i.tZ)("img",{src:c.content,alt:"",className:"jsx-286709118fe5858"})}),name:s,options:(0,b.Z)(u).concat([{name:"Rename",action:function(){}},{name:"Delete",action:function(){return x(r)},danger:!0}])},s)}))}),c?(0,i.tZ)(re,{entries:B,close:function(){return u(!1)},onFileOpen:t}):null,y?(0,i.tZ)(d.u_,{isOpen:Boolean(y),onRequestClose:function(){return x(null)},children:(0,i.tZ)(F.Z,{danger:!0,prompt:"Delete sprite '".concat((0,I.eb)(y),"' ?"),desc:"Are you sure you want to delete this sprite? This action cannot be undone.",confirmText:"Yes, delete this sprite",icon:(0,i.tZ)(H.Z,{}),onCancel:function(){return x(null)},onConfirm:function(){n.deleteFile(y),x(null)}})}):null,(0,i.tZ)(d.u_,{isOpen:h,onRequestClose:function(){return m(!1)},maxWidth:872,children:(0,i.tZ)(ee,{kind:"sprites",renderItem:ne,onRequestClose:function(){return m(!1)}})}),(0,i.tZ)(v(),{id:"286709118fe5858",children:".preview-img.jsx-286709118fe5858{width:var(--space-32);height:var(--space-32);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden}.preview-img.jsx-286709118fe5858 img.jsx-286709118fe5858{width:100%;-ms-interpolation-mode:nearest-neighbor;image-rendering:-webkit-optimize-contrast;image-rendering:-moz-crisp-edges;image-rendering:-o-pixelated;image-rendering:pixelated;image-rendering:-webkit-optimize-contrast;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges}"})]})};function oe(e){var t=e.name,n=e.url,r=e.add;return(0,i.BX)(a.Ug,{justify:"space-between",align:"center",children:[(0,i.BX)(a.gC,{spacing:1,children:[(0,i.tZ)(Q.Z,{children:t}),(0,i.tZ)("audio",{src:n,controls:!0})]}),(0,i.tZ)(c.Z,{onClick:r,children:"Import"})]})}var ae=function(e){var t=e.onFileOpen,n=(0,p.Z)().fs,a=(0,M.Z)(),l=(0,j.Z)().showError,s=(0,r.Z)(o.useState(null),2),c=s[0],u=s[1],d=(0,r.Z)(o.useState(!1),2),f=d[0],h=d[1],m=(0,Y.Z)(a),v=((0,R.Z)({path:"sounds",initialExpanded:!0,fs:n}).children||[]).filter((function(e){return e.type===P.Tv.File})).map((function(e){return e.filename})).sort(),g=["audio/ogg","audio/mpeg","audio/wav"],y=function(e){var t="sounds/".concat(e.name);if(v.includes(t))return l("sound '".concat((0,I.eb)(e.name),"' already exists"));e.arrayBuffer().then((function(e){n.writeFile(t,G.Z.from(e))}))},x=[{icon:(0,i.tZ)(O.Z,{}),action:function(){return h(!0)}},{icon:(0,i.tZ)(q.Z,{}),action:function(){return W(y,g)}}];return(0,i.BX)(w,{fileDrag:{accept:g,onDrop:y},children:[(0,i.tZ)(Z,{sub:!0,title:"Sounds",actions:x}),(0,i.tZ)(L.Z,{height:"4px"}),(0,i.tZ)("div",{children:v.map((function(e){var r=(0,I.eb)(e),o="sounds/".concat(e),s=m?[{name:"Insert load code",action:function(){return m({code:"loadSound(".concat(JSON.stringify(r),", ").concat(JSON.stringify(o),");")})}}]:[];return(0,i.tZ)(X,{isActive:o===a,onClick:function(){return t(o)},onRename:function(t){n.moveFile(o,"sounds/".concat(t,".").concat((0,I.r6)(e))).then((function(e){e.error&&l("failed to rename")}))},name:r,options:(0,b.Z)(s).concat([{name:"Rename",action:function(){}},{name:"Delete",action:function(){return u(o)},danger:!0}])},r)}))}),c?(0,i.tZ)(N.u,{isOpen:Boolean(c),onRequestClose:function(){return u(null)},children:(0,i.tZ)(F.Z,{danger:!0,prompt:"Delete sound '".concat((0,I.eb)(c),"' ?"),desc:"Are you sure you want to delete this sound? This action cannot be undone.",confirmText:"Yes, delete this sound",icon:(0,i.tZ)(H.Z,{}),onCancel:function(){return u(null)},onConfirm:function(){n.deleteFile(c),u(null)}})}):null,(0,i.tZ)(N.u,{isOpen:f,onRequestClose:function(){return h(!1)},maxWidth:872,children:(0,i.tZ)(ee,{kind:"sounds",renderItem:oe,onRequestClose:function(){return h(!1)},onAdd:function(e,t){return new window.Audio(t).play()}})})]})},le=n(87514),se=n(43530),ce=n(65915),ue=n(63309),de=n(60482);function pe(e){var t=e.file,n=e.name,r=(0,ce.Z)()===t,o=(0,de.dK)(),l=(0,ue.Op)();return(0,i.BX)("div",{onClick:function(){l(t),o({type:"markdown",data:{path:t}})},className:"jsx-148e6ca45d3ccd5a entry",children:[(0,i.BX)(a.Ug,{spacing:1,align:"center",children:[r?(0,i.tZ)(le.Z,{}):(0,i.tZ)(se.Z,{}),(0,i.tZ)(Q.Z,{foreground:r?1:2,fontWeight:r?"medium":"regular",children:null!==n&&void 0!==n?n:(0,I.eb)(t)})]}),(0,i.tZ)(v(),{id:"148e6ca45d3ccd5a",children:".entry.jsx-148e6ca45d3ccd5a{cursor:pointer}"})]})}var fe=function(){var e=(0,r.Z)(o.useState(!0),2),t=e[0],n=e[1],l=(0,r.Z)(o.useState(!1),2),s=l[0],c=l[1],u=(0,p.Z)().fs,d=(0,R.Z)({path:"learn",initialExpanded:!0,fs:u});o.useEffect((function(){var e=!1;return u.stat("README.md").then((function(t){e||t.exists&&c(!0)})),function(){e=!0}}),[u]);var h=(d.children||[]).filter((function(e){return e.type===P.Tv.File&&(0,I.gK)(e.filename)})).map((function(e){return e.filename})).sort();return(0,i.BX)(w,{children:[(0,i.tZ)(Z,{sub:!0,title:"Learn",actions:[{icon:(0,i.tZ)(f.Z,{rotate:t?0:-90}),action:function(){return n(!t)}}]}),t?(0,i.BX)(a.gC,{spacing:1,children:[(0,i.tZ)("div",{}),s?(0,i.tZ)(pe,{name:"Intro",file:"README.md"}):null,h.map((function(e){return(0,i.tZ)(pe,{file:"learn/".concat(e)},e)}))]}):null]})};function he(e){var t=e.onFileOpen,n=(0,r.Z)(o.useState(!1),2),p=n[0],f=n[1];return(0,i.BX)(d.G7,{css:[d.l0.p(8),d.l0.flex.growAndShrink(1),d.l0.overflow("scroll"),{userSelect:"none"}],children:[(0,i.BX)(a.gC,{spacing:1,children:[(0,i.tZ)(C,{}),(0,i.tZ)(U,{onFileOpen:t}),(0,i.tZ)(ie,{onFileOpen:t}),(0,i.tZ)(ae,{onFileOpen:t}),(0,i.tZ)(fe,{}),(0,i.tZ)("div",{}),(0,i.tZ)(c.Z,{Icon:l.Z,size:"small",onClick:function(){return window.open("https://kaboomjs.com")},children:"Docs"}),(0,i.tZ)(c.Z,{Icon:l.Z,size:"small",onClick:function(){return window.open("https://kaboomjs.com/play")},children:"Examples"}),(0,i.tZ)(c.Z,{Icon:s.Z,size:"small",onClick:function(){return f(!0)},children:"What\u2019s new"})]}),(0,i.tZ)(d.u_,{isOpen:p,onRequestClose:function(){return f(!1)},maxWidth:872,children:(0,i.tZ)(d.G7,{css:[d.l0.colWithGap(16),d.l0.p(32)],children:(0,i.tZ)(u.ZP,{children:'\n# New Kaboom Workspace\n\n- **No weird delay when run after editing.** Just press Cmd + S to refresh webview and quickly iterate!\n- **Helpful error reporting.** No need to go into browser console every time. The kaboom console displays your errors nicely.\n- **Support NPM packages and typescript by default.** Kaboom dev server builds your code with esbuild on the fly.\n- **Replit DB and Auth integration.** Make a score board even multiplayer with DB and Auth!\n- **In editor tutorial.** The template comes with a nice intro tutorial which you can learn and code along.\n- **Autocomplete.** Updated kaboom lib comes with detailed jsdoc for every function. No need to pull your hair out to figure out how certain functions work!\n- **HTML template.** Easily customize the html for your game.\n- **Total control over which version of Kaboom you use.** it\'s managed by NPM.\n- **Assets Library** Grab some quick assets to test out a game idea.\n- **Transparent dev server.** The dev server scripts are just in the Repl, customize them or toss them out if you want to. Or turn it into a multiplayer game server!\n- **New library version** The template comes with kaboom2000 (beta), with bunch of [new stuff and improvements](https://github.com/replit/kaboom/blob/master/CHANGELOG.md)\n\n## Migration Guide\n\n- The kaboom template now will not generate the initializing and assets loading code (`kaboom()`, `loadSprite()` etc.) for you, allowing more customized setup, and making it more portable with using kaboom outside replit.\n\n```js\nimport kaboom from "kaboom";\n\n// initialize context\nkaboom();\n\n// load assets\nloadSprite("bean", "sprites/bean.png");\nloadSound("coin", "sounds/coin.mp3");\n\n// the rest is the same\nconst player = add([\n\tsprite("bean"),\n\tarea(),\n]);\n```\n\nFor easier assets loading, use the "Insert load code" option in the asset entry option menu.\n\n- The template by default is running `kaboom@next`, which is currently the beta version of kaboom2000. It contains breaking changes, all listed in [CHANGELOG.md](https://github.com/replit/kaboom/blob/master/CHANGELOG.md). If you don\'t feel like migrating now, you can always `npm install kaboom@5.1`\n'})})})]})}},92069:function(e,t,n){n.d(t,{m:function(){return p}});var r=n(35944),i=(n(67294),n(70917)),o=n(59641),a=n(73092),l=n(197),s=n(27668),c=n(30052),u=(0,i.F4)("0%,100%{opacity:1;}50%{opacity:0.25;}"),d={root:(0,i.iv)([o.l0.height(20),o.l0.width(20),o.l0.center]),pulse:(0,i.iv)({animation:"".concat(u," 2s infinite")})};function p(){var e=(0,a.Z)(),t=e.isSaving;return e.isOffline?(0,r.tZ)(o.u,{tooltip:"Reconnecting, changes will be synced when you\u2019re online",placement:"right",children:(0,r.tZ)(o.G7,{css:d.root,children:(0,r.tZ)(l.Z,{size:16,color:o.TV.redDefault})})}):t?(0,r.tZ)(o.u,{tooltip:"Saving",placement:"right",children:(0,r.tZ)(o.G7,{css:[d.root,d.pulse],children:(0,r.tZ)(s.Z,{size:16,color:o.TV.foregroundDimmest})})}):(0,r.tZ)(o.u,{tooltip:"Saved",placement:"right",children:(0,r.tZ)(o.G7,{css:d.root,children:(0,r.tZ)(c.Z,{size:16,color:o.TV.foregroundDimmest})})})}},3309:function(e,t,n){n.d(t,{B:function(){return l}});var r=n(35944),i=n(70917),o=n(59641),a=(0,i.iv)([o.l0.borderRadius("full"),o.l0.position.absolute,o.l0.top(-3),o.l0.right(-3)]);function l(e){var t=e.color,n=void 0===t?o.TV.redStronger:t,i=e.small?6:8;return(0,r.tZ)(o.G7,{style:{backgroundColor:n,width:i,height:i},css:a})}},22371:function(e,t,n){n.d(t,{V:function(){return B},Z:function(){return E}});var r=n(34727),i=n(9941),o=n(70655),a=n(35944),l=n(67294),s=n(66681),c=n(59641),u=n(77365),d=n(79652),p=n(67629),f=n(48505),h=n(8941),m=n(73604),v=n(99408),g=n(89224),Z=n(63377),b=n(35642);var y,x=n(77352),w=n(34385),C=n(36126),k=n(88080),L=n(51995),S=n(56724),B=".tutorial";function E(){var e,t=(0,v.Z)().fs,n=(0,k.yR)(),E=(0,w.Z)(C.y.Sidepane),_=(0,i.Z)(l.useState([]),2),R=_[0],D=_[1],G=(0,i.Z)(l.useState(y.Loading),2),I=G[0],j=G[1],M=(0,Z.Z)(),P=(0,i.Z)(function(e,t){var n,r=(0,l.useState)((function(){return null!==(n=b.Z.get(e))&&void 0!==n?n:t})),i=r[0],o=r[1];return(0,l.useEffect)((function(){b.Z.set(e,i)}),[e,i]),[i,o]}("tutorialProgress--".concat(M),0),2),N=P[0],F=P[1],V=(0,i.Z)(l.useState(!1),2),W=V[0],z=V[1],X=l.useRef(null),H=(0,S.d)(),A=H?H.toString():"",U=(0,x.jJ)(A,M),O=U?(0,a.tZ)(x.gC,{challenge:U}):null,q=l.useCallback((function(){X.current&&(X.current.scrollTop=0)}),[X]);return l.useEffect((function(){var e=!1,n=function(){var n=(0,r.Z)((function(){var n,r,a,l,s,c,u,d,p,f,h,v,Z,b,x;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return j(y.Loading),[4,t.readDir(B)];case 1:return n=o.sent(),e?[2]:n.error?(j(y.Error),[2]):(r=[],[4,Promise.all(n.children.filter((function(e){return e.type===g.Tv.File&&"md"===(0,m.r6)(e.filename)})).map((function(e){var n="".concat(B,"/").concat(e.filename);return Promise.all([n,t.readFile(n)])})))]);case 2:if(a=o.sent(),e)return[2];l=!0,s=!1,c=void 0;try{for(u=a[Symbol.iterator]();!(l=(d=u.next()).done);l=!0)p=(0,i.Z)(d.value,2),f=p[0],(h=p[1]).error?j(y.Error):(Z=h.content.toString(),b=RegExp("^#\\s(?<title>.*)"),x=b.exec(Z),r.push({title:null===x||void 0===x||null===(v=x.groups)||void 0===v?void 0:v.title,content:Z,path:f}))}catch(w){s=!0,c=w}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}return D(r),j(y.Ready),[2]}}))}));return function(){return n.apply(this,arguments)}}();return n(),function(){e=!0}}),[t]),l.useEffect((function(){R[N]||F(0)}),[N,F,R]),I===y.Loading?(0,a.tZ)(c.G7,{css:[c.l0.flex.growAndShrink(1),c.l0.center],children:(0,a.tZ)(u.Z,{})}):I===y.Error?(0,a.tZ)(c.G7,{css:[c.l0.flex.growAndShrink(1),c.l0.center],children:(0,a.BX)(c.G7,{css:[c.l0.center,c.l0.colWithGap(4)],children:[(0,a.tZ)(p.Z,{color:c.TV.accentNegativeDefault}),(0,a.tZ)(c.xv,{color:"dimmer",children:"Failed to load tutorial"})]})}):0===R.length?(0,a.tZ)(c.G7,{css:[c.l0.flex.growAndShrink(1),c.l0.center],children:(0,a.BX)(c.G7,{css:[c.l0.center,c.l0.colWithGap(4)],children:[(0,a.tZ)(p.Z,{color:c.TV.accentNegativeDefault}),(0,a.tZ)(c.xv,{color:"dimmer",children:"No tutorials found!"})]})}):W?(0,a.BX)(c.G7,{css:[c.l0.overflowY("scroll"),c.l0.flex.growAndShrink(1),c.l0.p(8),c.l0.colWithGap(16)],children:[(0,a.tZ)(c.xv,{variant:"headerDefault",children:"Table of Contents"}),(0,a.tZ)(c.G7,{css:[c.l0.flex.growAndShrink(1),c.l0.colWithGap(8)],children:R.map((function(e,t){return(0,a.BX)(c.G7,{css:[c.l0.p(8),N===t?c.l0.backgroundColor.backgroundHighest:c.l0.backgroundColor.backgroundHigher,c.l0.borderRadius(4),c.l0.rowWithGap(8),c.l0.align.center,c.l0.cursor.pointer,N===t?{outline:"solid 2px var(--outline-dimmest)"}:{},{":hover":{outline:"solid 2px var(--outline-dimmest)"}}],onClick:function(){F(t),z(!1)},children:[(0,a.tZ)(c.G7,{css:[c.l0.backgroundColor.backgroundHighest,c.l0.width(20),c.l0.height(20),c.l0.borderRadius("full"),c.l0.center,{outline:"solid 1px var(--outline-dimmest)"}],children:(0,a.tZ)(c.xv,{variant:"small",color:"dimmest",children:t+1})}),(0,a.tZ)(c.xv,{css:[c.l0.maxWidth("80%")],children:e.title})]},e.title)}))})]}):(0,a.tZ)(c.G7,{innerRef:E,css:[c.l0.height("100%")],children:(0,a.BX)(c.G7,{dataCy:"tutorial-viewer-content",innerRef:X,css:[c.l0.overflowY("scroll"),c.l0.flex.growAndShrink(1),c.l0.p(16),c.l0.pb(48),c.l0.colWithGap(16)],children:[n?(0,a.tZ)(c.zx,{text:"Show tutorial video",iconLeft:(0,a.tZ)(L.Z,{}),onClick:function(){return n()}}):null,O,R.length>1&&(0,a.tZ)(c.zx,{text:"Table of Contents",iconLeft:(0,a.tZ)(d.Z,{}),onClick:function(){return z(!0)}}),(0,a.tZ)(s.Z,{fs:t,path:R[N].path,source:R[N].content,sourcePos:!1}),R.length>1&&(0,a.BX)(c.G7,{css:[c.l0.position.absolute,c.l0.width("100%"),c.l0.left(0),c.l0.bottom(0),c.l0.overflow("hidden")],children:[(0,a.tZ)(T,{progress:(N+1)/R.length}),(0,a.BX)(c.G7,{css:[c.l0.width("100%"),c.l0.height(40),c.l0.align.center,c.l0.flex.row],children:[(0,a.tZ)(c.G7,{tag:"button",css:[c.l0.justify.center,c.l0.p(8),c.l0.backgroundColor.backgroundHigher,c.l0.cursor.pointer,c.l0.width(40),c.l0.height("100%")],onClick:function(){N>0&&(F((function(e){return e-1})),q())},children:N>0&&(0,a.tZ)(f.Z,{size:24})}),(0,a.tZ)(c.G7,{tag:"button",css:[c.l0.rowWithGap(8),c.l0.flex.growAndShrink(1),c.l0.height("100%"),c.l0.justify.spaceBetween,c.l0.backgroundColor.backgroundHighest,c.l0.align.center,c.l0.p(8),c.l0.cursor.pointer,{userSelect:"none"}],onClick:function(){N<R.length-1&&(F((function(e){return e+1})),q())},children:N<R.length-1&&(0,a.BX)(a.HY,{children:[(0,a.BX)(c.xv,{css:[c.l0.flex.growAndShrink(1),c.l0.textAlign.left,c.l0.fontSize(c.TV.fontSizeSubheadDefault)],children:[(0,a.BX)("span",{css:[c.l0.color.foregroundDimmer],children:["Next",R[N+1].title?": ":" page"]}),(0,a.tZ)("b",{children:null!==(e=R[N+1].title)&&void 0!==e?e:""})]}),(0,a.tZ)(h.Z,{size:24})]})})]})]})]})})}!function(e){e.Ready="READY",e.Loading="LOADING",e.Error="ERROR"}(y||(y={}));var T=function(e){var t=e.progress;return(0,a.tZ)(c.u,{tooltip:"Progress: ".concat(Math.round(100*t*10)/10,"%"),children:(0,a.tZ)(c.G7,{css:[c.l0.width("100%"),c.l0.height(4),c.l0.backgroundColor.backgroundHigher],children:(0,a.tZ)(c.G7,{css:[c.l0.width("".concat(100*t,"%")),c.l0.height("100%"),c.l0.backgroundColor.purpleDefault]})})})}},54168:function(e,t,n){n.d(t,{x:function(){return B},y:function(){return S}});var r=n(34727),i=n(69779),o=n(70655),a=n(64487),l=n(60977),s=n(75815),c=function(){function e(t){(0,s.Z)(this,e),this.code="",this.currentIndent=0,this.lib=t}var t=e.prototype;return t.indent=function(){this.currentIndent+=1},t.dedent=function(){if(0===this.currentIndent)throw new Error("indent at zero");this.currentIndent-=1},t.addIndents=function(){for(var e=0;e<this.currentIndent;e++)this.code+="  "},t.push=function(e){var t=e.split("\n"),n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this.addIndents(),this.code+=l,this.newLine()}}catch(s){r=!0,i=s}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},t.newLine=function(){this.code+="\n"},t.closeCurly=function(){this.addIndents(),this.code+=this.lib.getClosingBrackets()},t.toString=function(){return this.code},e}(),u=n(83160),d={testRunnerName:function(){return"TestRunner"},testSuiteName:function(){return"TestSuite"},defaultImports:function(){return"import org.junit.Before;\nimport org.junit.After;\nimport org.junit.Test;\nimport static org.junit.Assert.*;"},classIntro:function(){return"public class ".concat((0,u.Og)(d.testSuiteName())," {")},classConstructorName:function(){return(0,u.Og)(d.testSuiteName())},setupIntro:function(){return"@Before\npublic void setUp() {"},tearDownIntro:function(){return"@After\npublic void tearDown() {"},testIntro:function(e){return"".concat(d.testIntroPreName()).concat(e).concat(d.testIntroPostName())},testIntroPreName:function(){return"@Test\npublic void "},testIntroPostName:function(){return"() {"},getProperTestName:function(e){return e},parseTestResultName:function(e){return e.replace("(".concat((0,u.Og)(d.testSuiteName()),")"),"")},buildSuite:function(e){var t=e.tests,n=e.meta,r=new c(d);r.push(d.defaultImports()),n&&n.imports&&r.push(n.imports),r.newLine(),r.push(d.classIntro()),r.newLine(),r.indent(),n&&(n.initialization&&(r.push(n.initialization),r.newLine()),n.setup&&(r.push(d.setupIntro()),r.indent(),r.push(n.setup),r.dedent(),r.closeCurly(),r.newLine(),r.newLine()),n.tearDown&&(r.push(d.tearDownIntro()),r.indent(),r.push(n.tearDown),r.dedent(),r.closeCurly(),r.newLine(),r.newLine()));var i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;u.code&&(r.push(d.testIntro(u.name)),r.indent(),r.push(u.code),r.dedent(),r.closeCurly(),r.newLine(),r.newLine())}}catch(p){o=!0,a=p}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return r.dedent(),r.closeCurly(),r.toString()},runSuite:function(e){return m.apply(this,arguments)},buildAndRunTests:function(e){var t=e.container,n=e.fs,r=e.packager,i=e.logger,o=e.tests,a=e.meta,l=d.buildSuite({tests:o,meta:a});return d.runSuite({container:t,fs:n,packager:r,logger:i,suiteCode:l})},hasClosingBrackets:function(){return!0},getClosingBrackets:function(){return"}"},hasSemicolon:function(){return!0},getCommentChar:function(){return"//"},getHelpText:function(){return"no react in this bitch either"},captureSetupError:function(e){var t=e.tag,n=e.raw;a.$e((function(e){e.setTag("unitTestLib","true"),e.setExtra("raw",n),e.setExtra("language","java10"),a.Tb(t)}))},exampleTest:{id:-1,failureMessage:"An Adder class should have an add method that adds two ints and returns the result",name:"add",code:"Adder adder = new Adder();\nint result = adder.add(1, 2);\nassertEquals(3, result);\n"}},p="__UNIT_TEST_RESULT_START__",f="__UNIT_TEST_RESULT_END__",h="import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.junit.runner.JUnitCore;\nimport org.junit.runner.Result;\nimport org.junit.runner.notification.Failure;\n\npublic class ".concat((0,u.Og)(d.testRunnerName())," {\n    public static void main(String[] args) {\n      Result result = JUnitCore.runClasses(").concat((0,u.Og)(d.testSuiteName()),'.class);\n      JSONArray failures = new JSONArray();\n\n        for (Failure failure : result.getFailures()) {\n            JSONObject obj = new JSONObject();\n            obj.put("name", failure.getTestHeader());\n            obj.put("stack", failure.getTrace());\n            failures.add(obj);\n        }\n        JSONObject out = new JSONObject();\n        out.put("passed", result.wasSuccessful());\n        out.put("failures", failures);\n        System.out.println();\n        System.out.println("').concat(p,'");\n        System.out.println(out);\n        System.out.println("').concat(f,'");\n    }\n}');function m(){return(m=(0,r.Z)((function(e){var t,n,r,a,s,c,m,v,g,Z,b,y,x,w,C,k,L,S,B,E,T,_,R,D;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=e.container,n=e.fs,r=e.packager,a=e.logger,s=e.suiteCode,m=a.startLogSpinner("Setting up the environment"),[4,(0,u.WT)(n)];case 1:return o.sent(),m("Creating your test files 1/2"),[4,(0,u.e3)({fs:n,code:s,filename:"".concat(d.testSuiteName(),".java")})];case 2:return v=o.sent(),(g=v.error)?("Failed to create suite code file",d.captureSetupError({tag:"Failed to create suite code file",raw:g}),[2,{error:"There was an error creating a test file, if this happens again, please contact support."}]):(m("Creating your test files 2/2"),[4,(0,u.e3)({fs:n,code:h,filename:"".concat(d.testRunnerName(),".java")})]);case 3:return Z=o.sent(),(b=Z.error)?("Failed to create test runner file",d.captureSetupError({tag:"Failed to create test runner file",raw:b}),[2,{error:"There was an error creating a test file, if this happens again, please contact support."}]):(a.stopLogSpinner(),a.clearLine(),a.logMessage("Installing imported packages\r\n"),[4,r.addPackages([{name:"junit:junit",version:"4.12"},{name:"com.googlecode.json-simple:json-simple",version:"1.1.1"},{name:"org.hamcrest:hamcrest-core",version:"1.3"}])]);case 4:return o.sent(),[4,r.installPackages()];case 5:return o.sent()?(a.clearLogs(),m=a.startLogSpinner("Compiling your files"),[4,t.exec("find",".","-type","f","-name","*.java","-print0")]):[2,{error:"Failed to install packages\r\n"}];case 6:if(y=o.sent(),x=y.output,w=y.error)return C="Failed to fetch working directory java files",d.captureSetupError({tag:C,raw:w}),[2,{error:"".concat(C,"\r\n\r\n")+(null===x||void 0===x?void 0:x.replace(/\n/g,"\n\r"))+"\r\n\r\n"+w}];if("string"!==typeof x)throw new Error("expected working directory files to be a string");return k=x.slice(0,-1).split("\0"),L=".:./target/dependency/*",[4,(c=t).exec.apply(c,["javac","-classpath",L,"-d","."].concat((0,i.Z)(k)))];case 7:return S=o.sent(),B=S.output,(E=S.error)?(T="Failed to compile test runner file",d.captureSetupError({tag:T,raw:E}),[2,{error:"".concat(T,"\r\n\r\n")+(null===B||void 0===B?void 0:B.replace(/\n/g,"\n\r"))+"\r\n\r\n"+E}]):(m("Running your tests"),[4,t.exec("java","-classpath",L,(0,u.Og)(d.testRunnerName()))]);case 8:if(_=o.sent(),R=_.output,D=_.error)return(0,l.j)(l.U3.REPL_UNIT_TEST_CONSTRUCTION_ERROR_INTERNAL),[2,{error:"Running tests failed\r\n\r\n"+(null===R||void 0===R?void 0:R.replace(/\n/g,"\n\r"))+"\r\n\r\n"+D}];if("string"!==typeof R)throw new Error("expected runOutput to be a string");return[2,{result:JSON.parse(R.slice(R.indexOf(p)+p.length,R.lastIndexOf(f))),error:null}]}}))}))).apply(this,arguments)}var v=d,g=function(e){return!!e&&e.trim().length>0&&e.split("\n").some((function(e){return!(e.trim().startsWith("#")||""===e.trim())}))},Z={testRunnerName:function(){return"test_runner"},testSuiteName:function(){return"test_suite"},defaultImports:function(){return"import unittest\nfrom main import *\n"},classIntro:function(){return"class UnitTests(unittest.TestCase):"},classConstructorName:function(){return"__init__"},setupIntro:function(){return"def setUp(self):"},tearDownIntro:function(){return"def tearDown(self):"},testIntro:function(e){return Z.testIntroPreName()+e+Z.testIntroPostName()},testIntroPreName:function(){return"def test_"},testIntroPostName:function(){return"(self):"},getProperTestName:function(e){return"test_".concat(e)},parseTestResultName:function(e){return e},buildSuite:function(e){var t=e.tests,n=e.meta,r=new c(Z);r.push(Z.defaultImports()),n&&n.imports&&r.push(n.imports),r.newLine(),r.push(Z.classIntro()),r.newLine(),r.indent(),n&&(n.initialization&&(r.push(n.initialization),r.newLine()),g(n.setup)&&(r.push(Z.setupIntro()),r.indent(),r.push(n.setup),r.dedent(),r.newLine()),g(n.tearDown)&&(r.push(Z.tearDownIntro()),r.indent(),r.push(n.tearDown),r.dedent(),r.newLine()));var i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;r.push(Z.testIntro(u.name)),r.indent(),r.push(u.code||"pass"),r.dedent(),r.newLine()}}catch(d){o=!0,a=d}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return r.toString()},runSuite:function(e){return w.apply(this,arguments)},buildAndRunTests:function(e){var t=e.container,n=e.fs,r=e.packager,i=e.logger,o=e.tests,a=e.meta,l=Z.buildSuite({tests:o,meta:a});return Z.runSuite({container:t,fs:n,packager:r,logger:i,suiteCode:l})},hasClosingBrackets:function(){return!1},getClosingBrackets:function(){throw new Error("This language does not have closing brackets, check `hasClosingBrackets` first")},hasSemicolon:function(){return!1},getCommentChar:function(){return"#"},getHelpText:function(){return"no react in this bitch"},captureSetupError:function(e){var t=e.tag,n=e.raw;a.$e((function(e){e.setTag("unitTestLib","true"),e.setExtra("raw",n),e.setExtra("language","python3"),a.Tb(t)}))},exampleTest:{id:-1,failureMessage:"In main.py you should have an add functions that adds two numbers and returns the result",name:"add",code:"self.assertEquals(add(1, 2), 3)"}},b="__UNIT_TEST_RESULT_START__",y="__UNIT_TEST_RESULT_END__",x="import unittest\nimport ".concat((0,u.Og)(Z.testSuiteName()),"\nimport os\nimport json\nfrom time import sleep\n\nsuite = unittest.TestLoader().loadTestsFromTestCase(\n  ").concat((0,u.Og)(Z.testSuiteName()),'.UnitTests)\nf = open(os.devnull,"w")\ntest_res = unittest.TextTestRunner(stream=f).run(suite)\n\n# Merge errors and failures and normalize to {name, stack}\nfailures = [\n    {\n        "name": r[0]._testMethodName,\n        "stack": r[1],\n    } for r in test_res.errors + test_res.failures\n]\nprint()\nprint(\'').concat(b,'\')\nsleep(1)\nprint(json.dumps({\n    "passed": test_res.wasSuccessful(),\n    "failures": failures,\n}))\nprint()\nprint(\'').concat(y,"');");function w(){return(w=(0,r.Z)((function(e){var t,n,r,i,a,s,c,d,p,f,h,m,v;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=e.container,n=e.fs,r=e.packager,i=e.logger,a=e.suiteCode,s=i.startLogSpinner("Setting up the environment"),[4,(0,u.WT)(n)];case 1:return o.sent(),s("Creating your test files 1/2"),[4,(0,u.e3)({fs:n,code:a,filename:"".concat(Z.testSuiteName(),".py")})];case 2:return c=o.sent(),(d=c.error)?("Failed to create suite code file",Z.captureSetupError({tag:"Failed to create suite code file",raw:d}),[2,{error:"There was an error creating a test file, if this happens again, please contact support."}]):(s("Creating your test files 2/2"),[4,(0,u.e3)({fs:n,code:x,filename:"".concat(Z.testRunnerName(),".py")})]);case 3:return p=o.sent(),(f=p.error)?("Failed to create test runner file",Z.captureSetupError({tag:"Failed to create test runner file",raw:f}),[2,{error:"There was an error creating a test file, if this happens again, please contact support."}]):(i.stopLogSpinner(),i.clearLine(),i.logMessage("Installing imported packages\r\n"),[4,r.installPackages()]);case 4:return o.sent()?(i.clearLogs(),i.startLogSpinner("Running your tests"),[4,t.exec("python","-B",(0,u.Og)("".concat(Z.testRunnerName(),".py")))]):[2,{error:"Failed to install packages\r\n"}];case 5:if(h=o.sent(),m=h.output,v=h.error)return(0,l.j)(l.U3.REPL_UNIT_TEST_CONSTRUCTION_ERROR_INTERNAL),[2,{error:"Running tests failed\r\n\r\n"+(null===m||void 0===m?void 0:m.replace(/\n/g,"\n\r"))+"\r\n"+v}];if("string"!==typeof m)throw new Error("expected runoutput to be a string");return[2,{result:JSON.parse(m.slice(m.indexOf(b)+b.length,m.lastIndexOf(y))),error:null}]}}))}))).apply(this,arguments)}var C={testRunnerName:function(){throw new Error("Node test runner uses jest directly")},testSuiteName:function(){return"test_suite"},defaultImports:function(){return"const index = require('./index.js');"},classIntro:function(){return'describe("UnitTests", function() {'},classConstructorName:function(){return null},setupIntro:function(){return"beforeAll(async function() {"},tearDownIntro:function(){return"afterAll(async function() {"},testIntro:function(e){return C.testIntroPreName()+e+C.testIntroPostName()},testIntroPreName:function(){return'test("'},testIntroPostName:function(){return'", async function() {'},getProperTestName:function(e){return e},parseTestResultName:function(e){return e},buildSuite:function(e){var t=e.tests,n=e.meta,r=new c(C);r.push(C.defaultImports()),n&&n.imports&&r.push(n.imports),r.newLine(),r.push(C.classIntro()),r.newLine(),r.indent(),n&&(n.initialization&&(r.push(n.initialization),r.newLine()),n.setup&&(r.push(C.setupIntro()),r.indent(),r.push(n.setup),r.dedent(),r.closeCurly(),r.newLine(),r.newLine()),n.tearDown&&(r.push(C.tearDownIntro()),r.indent(),r.push(n.tearDown),r.dedent(),r.closeCurly(),r.newLine(),r.newLine()));var i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;u.code&&(r.push(C.testIntro(u.name)),r.indent(),r.push(u.code),r.dedent(),r.closeCurly(),r.newLine(),r.newLine())}}catch(d){o=!0,a=d}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return r.dedent(),r.closeCurly(),r.toString()},runSuite:function(e){return k.apply(this,arguments)},buildAndRunTests:function(e){var t=e.container,n=e.fs,r=e.packager,i=e.logger,o=e.tests,a=e.meta,l=C.buildSuite({tests:o,meta:a});return C.runSuite({container:t,fs:n,packager:r,logger:i,suiteCode:l})},hasClosingBrackets:function(){return!0},getClosingBrackets:function(){return"});"},hasSemicolon:function(){return!0},getCommentChar:function(){return"//"},getHelpText:function(){return"no react yet"},captureSetupError:function(e){var t=e.tag,n=e.raw;a.$e((function(e){e.setTag("unitTestLib","true"),e.setExtra("raw",n),e.setExtra("language","nodejs"),a.Tb(t)}))},exampleTest:{id:-1,failureMessage:"",name:"add",code:"expect(index.add(1, 2)).toBe(3);"}};function k(){return(k=(0,r.Z)((function(e){var t,n,r,i,a,s,c,d,p,f,h,m,v,g,Z,b,y,x,w,k,L,S;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=e.container,n=e.fs,r=e.packager,i=e.logger,a=e.suiteCode,s=i.startLogSpinner("Setting up the environment"),[4,(0,u.WT)(n)];case 1:return o.sent(),s("Creating your test files 1/2"),[4,(0,u.e3)({fs:n,code:a,filename:"".concat(C.testSuiteName(),".js")})];case 2:return c=o.sent(),(d=c.error)?("Failed to create suite code file",C.captureSetupError({tag:"Failed to create suite code file",raw:d}),[2,{error:"There was an error creating a test file, if this happens again, please contact support."}]):(s("Creating your test files 2/2"),p=69,f="jest.config.json",h={testRegex:(0,u.Og)("".concat(C.testSuiteName(),".js")),testEnvironment:"node",testFailureExitCode:p},[4,(0,u.e3)({fs:n,code:JSON.stringify(h),filename:f})]);case 3:return m=o.sent(),(v=m.error)?("Failed to create config file",C.captureSetupError({tag:"Failed to create config file",raw:v}),[2,{error:"There was an error creating a test file, if this happens again, please contact support."}]):(i.stopLogSpinner(),i.clearLine(),i.logMessage("Installing imported packages\r\n"),[4,r.installPackages()]);case 4:return o.sent()?(i.clearLogs(),s=i.startLogSpinner("Running your tests"),g=(0,u.Og)("output.json"),[4,t.exec("jest","--json","--outputFile",g,"--config",(0,u.Og)(f),"--forceExit","--passWithNoTests")]):[2,{error:"Failed to install packages\r\n"}];case 5:return Z=o.sent(),b=Z.output,(y=Z.error)&&!y.endsWith(p.toString())?((0,l.j)(l.U3.REPL_UNIT_TEST_CONSTRUCTION_ERROR_INTERNAL),[2,{error:"Running tests failed\r\n\r\n"+(null===b||void 0===b?void 0:b.replace(/\n/g,"\n\r"))+"\r\n"+y}]):(s("Parsing your test results"),[4,n.readFile(g)]);case 6:return(x=o.sent()).error?("Error reading test results",C.captureSetupError({tag:"Error reading test results",raw:x.error}),[2,{error:"There was an error getting test results, if this happens please contact support."}]):(w=x.content.toString(),(k=JSON.parse(w)).success?[2,{error:null,result:{passed:!0,failures:[]}}]:(L=k.testResults[0],(S=L.assertionResults.filter((function(e){return"passed"!==e.status})).map((function(e){return{name:e.title,stack:e.failureMessages[0]}}))).length?[2,{error:null,result:{passed:!1,failures:S}}]:[2,{error:L.message.replace(/\n/g,"\r\n")}]))}}))}))).apply(this,arguments)}var L={java10:v,java10_beta:v,java:v,python3:Z,python3_beta:Z,python:Z,nodejs:C,javascript:C,nodejs_beta:C};function S(e){return e in L}function B(e){if(!S(e))throw new Error("".concat(e," is not a supported unit testing language, it has to be one of ").concat(Object.keys(L)));return L[e]}},83160:function(e,t,n){n.d(t,{Og:function(){return u},WT:function(){return f},e3:function(){return d}});var r=n(34727),i=n(70655),o=n(64487),a=n(83569),l=n(89224),s=n(93449),c="_test_runner";function u(e){return c+e}function d(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)((function(e){var t,n,r,o,a;return(0,i.__generator)(this,(function(i){return t=e.fs,n=e.code,r=e.filename,o=u(r),a=s.Z.from(n,"utf8"),[2,t.writeFile(o,a)]}))}))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((function(e){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,e.readDir(a.Ql)];case 1:return(t=r.sent()).error?[2]:[4,Promise.all(t.children.map((function(t){return t.filename.startsWith(c)?t.type===l.Tv.File?e.deleteFile(t.filename):e.deleteDir(t.filename):Promise.resolve(null)})))];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o.$e((function(e){e.setTag("unitTestLib","true"),o.Tb(n)})),[3,4];case 4:return[2]}}))}))).apply(this,arguments)}},64576:function(e,t,n){n.d(t,{AF:function(){return x},Hd:function(){return C},IV:function(){return B},Rb:function(){return g},aA:function(){return v},kO:function(){return L},lQ:function(){return T},rU:function(){return b}});var r=n(14251),i=n(32692),o=n(31230),a=n(50319);function l(){var e=(0,i.Z)(["\n  fragment UnitTestsReplUnitTestMeta on ReplUnitTestMeta {\n    id\n    imports\n    initialization\n    setup\n    tearDown\n  }\n"]);return l=function(){return e},e}function s(){var e=(0,i.Z)(["\n  fragment UnitTestsReplUnitTest on ReplUnitTest {\n    id\n    name\n    code\n    failureMessage\n  }\n"]);return s=function(){return e},e}function c(){var e=(0,i.Z)(["\n  mutation createUnitTestMeta($input: CreateReplUnitTestMetaInput!) {\n    createReplUnitTestMeta(input: $input) {\n      ... on ReplUnitTestMeta {\n        id\n        ...UnitTestsReplUnitTestMeta\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function u(){var e=(0,i.Z)(["\n  mutation updateUnitTestMeta($input: UpdateReplUnitTestMetaInput!) {\n    updateReplUnitTestMeta(input: $input) {\n      ... on ReplUnitTestMeta {\n        id\n        ...UnitTestsReplUnitTestMeta\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  mutation createUnitTest($input: CreateReplUnitTestInput!) {\n    createReplUnitTest(input: $input) {\n      ... on ReplUnitTest {\n        id\n        ...UnitTestsReplUnitTest\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  mutation updateUnitTest($input: UpdateReplUnitTestInput!) {\n    updateReplUnitTest(input: $input) {\n      ... on ReplUnitTest {\n        id\n        ...UnitTestsReplUnitTest\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  mutation deleteUnitTest($testId: Int!) {\n    deleteReplUnitTest(testId: $testId) {\n      ... on ReplUnitTest {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  mutation updateReplUnitTestLastRun(\n    $input: UpdateReplUnitTestLastRunInput!\n    $replId: String!\n  ) {\n    updateReplUnitTestLastRun(input: $input) {\n      ... on UpdateReplUnitTestLastRunUpdatedTests {\n        __typename\n        updatedTests {\n          ... on ReplUnitTest {\n            id\n            __typename\n            lastRun(replId: $replId) {\n              ... on ReplUnitTestLastRun {\n                __typename\n                status\n              }\n              ... on UserError {\n                __typename\n                message\n              }\n            }\n          }\n          ... on UserError {\n            __typename\n            message\n          }\n        }\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return h=function(){return e},e}var m={},v=(0,o.Ps)(l()),g=(0,o.Ps)(s()),Z=(0,o.Ps)(c(),v);function b(e){var t=(0,r.Z)({},m,e);return a.D(Z,t)}var y=(0,o.Ps)(u(),v);function x(e){var t=(0,r.Z)({},m,e);return a.D(y,t)}var w=(0,o.Ps)(d(),g);function C(e){var t=(0,r.Z)({},m,e);return a.D(w,t)}var k=(0,o.Ps)(p(),g);function L(e){var t=(0,r.Z)({},m,e);return a.D(k,t)}var S=(0,o.Ps)(f());function B(e){var t=(0,r.Z)({},m,e);return a.D(S,t)}var E=(0,o.Ps)(h());function T(e){var t=(0,r.Z)({},m,e);return a.D(E,t)}},69128:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(2916),i=n(67034),o=n(99408),a=n(67294),l=n(54168);function s(){var e=(0,r.Z)(),t=(0,o.Z)().dotReplit,n=null===e||void 0===e?void 0:e.language,s=(0,a.useState)(null),c=s[0],u=s[1],d=(0,a.useState)(!0),p=d[0],f=d[1];return(0,a.useEffect)((function(){if(n){if((0,l.y)(n))return u(n),void f(!1);var e=!1,r=t.watch((function(t){var n,r;if(e||(e=!0,f(!1)),t.error)t.error===i.Yt.NotFound&&u(null);else{var o=null===(n=t.config.unitTest)||void 0===n||null===(r=n.language)||void 0===r?void 0:r.toLowerCase();o&&(0,l.y)(o)?u(o):u(null)}}));return function(){r()}}}),[n,t]),{language:c,isLoading:p}}},47886:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(67294);function i(e){var t=e.container,n=e.runner,i=e.refreshWebView;(0,r.useEffect)((function(){var e,r=[];return"shellrunner"===n.mode&&r.push(n.onOutput((function(t){t&&t.includes("exit status 1")&&(e=Date.now())}))),r.push(t.onPortOpened((function(t){if(!t.isVnc){var n=Date.now();void 0!==e&&n-e<1e3||i()}}))),function(){return r.forEach((function(e){return e()}))}}),[t,i,n])}},56483:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(67294),i=n(48920);function o(e){var t=e.runner,n=e.refreshWebView;(0,r.useEffect)((function(){if("html"===t.mode)return t.onStateChanged((function(e){e===i.A.RUNNING&&n()}))}),[t,n])}},98814:function(e,t,n){n.d(t,{AR:function(){return g},R9:function(){return m},Ve:function(){return Z},aq:function(){return b},gp:function(){return v},jF:function(){return y}});var r=n(32692),i=n(31230);function o(){var e=(0,r.Z)(["\n  fragment TopLevelExtensionUser on User {\n    __typename\n    id\n    username\n    displayName\n    image\n  }\n"]);return o=function(){return e},e}function a(){var e=(0,r.Z)(["\n  fragment TopLevelExtensionManifest on ExtensionManifest {\n    __typename\n    name\n    description\n    version\n    icon\n    tags\n    fileHandlers {\n      glob\n      handler\n      name\n      icon\n    }\n  }\n"]);return a=function(){return e},e}function l(){var e=(0,r.Z)(["\n  fragment TopLevelExtension on Extension {\n    __typename\n    id\n    url\n    name\n    description\n    user {\n      id\n      ...TopLevelExtensionUser\n    }\n    manifest {\n      ... on ExtensionManifest {\n        ...TopLevelExtensionManifest\n      }\n      ... on ExtensionManifestError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return l=function(){return e},e}function s(){var e=(0,r.Z)(["\n  fragment TopLevelExtensionInstallation on ExtensionInstallation {\n    __typename\n    id\n    repl {\n      id\n    }\n    user {\n      id\n    }\n    extension {\n      id\n      ...TopLevelExtension\n    }\n    installer {\n      id\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function c(){var e=(0,r.Z)(["\n  query ExtensionInstallationById($installationId: String!) {\n    extensionInstallationById(id: $installationId) {\n      __typename\n      ... on ExtensionInstallation {\n        ...TopLevelExtensionInstallation\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function u(){var e=(0,r.Z)(["\n  query ExtensionInstallationsInRepl($replId: String!) {\n    extensionInstallations(replId: $replId) {\n      __typename\n      ... on ExtensionInstallationList {\n        installations {\n          ...TopLevelExtensionInstallation\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,r.Z)(["\n  mutation InstallExtension($extensionId: String!, $replId: String!) {\n    installExtension(extensionId: $extensionId, replId: $replId) {\n      __typename\n      ... on ExtensionInstallation {\n        ...TopLevelExtensionInstallation\n        extension {\n          id\n          installation(replId: $replId) {\n            ...TopLevelExtensionInstallation\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,r.Z)(["\n  mutation UninstallExtension($installationId: String!, $replId: String!) {\n    uninstallExtension(installationId: $installationId) {\n      __typename\n      ... on ExtensionInstallation {\n        ...TopLevelExtensionInstallation\n        extension {\n          id\n          installation(replId: $replId) {\n            ...TopLevelExtensionInstallation\n          }\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var f=(0,i.Ps)(o()),h=(0,i.Ps)(a()),m=(0,i.Ps)(l(),f,h),v=(0,i.Ps)(s(),m),g=(0,i.Ps)(c(),v);var Z=(0,i.Ps)(u(),v);var b=(0,i.Ps)(d(),v);var y=(0,i.Ps)(p(),v)},77848:function(e,t,n){n.d(t,{Mu:function(){return x.Mu},td:function(){return B},WF:function(){return L},ot:function(){return k},L4:function(){return T},EO:function(){return E},LM:function(){return S}});var r=n(34727),i=n(70655),o=n(21603),a=n(60977),l=n(73321),s=n(7182),c=n(67294),u=n(43546),d=n(81516),p=n(98814);function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((function(e){var t,n,r,o,a,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=e.extensionId,n=e.replId,d.l?[4,d.l.mutate({mutation:p.aq,variables:{extensionId:t,replId:n}})]:[2,{error:new Error("expected apolloClient to be initialized"),result:null}];case 1:return(o=i.sent()).errors&&o.errors.length>0?(a=o.errors.map((function(e){return e.message})).join(", "),[2,{error:new Error("Error when installing extension: "+a),result:null}]):(l=null===(r=o.data)||void 0===r?void 0:r.installExtension)?"UnauthorizedError"===(null===l||void 0===l?void 0:l.__typename)||"UserError"===(null===l||void 0===l?void 0:l.__typename)?[2,{error:new Error("Error when installing extension: "+l.message),result:null}]:l.extension?l.extension.url?[2,{result:l,error:null}]:[2,{error:new Error("Error when installing extension: Extension does not have a URL and cannot be installed"),result:null}]:[2,{error:new Error("Error when installing extension: expected extension to be set"),result:null}]:[2,{error:new Error("Error when installing extension: expected result"),result:null}]}}))}))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)((function(e){var t,n,r,o,a,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=e.installationId,n=e.replId,d.l?[4,d.l.mutate({mutation:p.jF,variables:{installationId:t,replId:n}})]:[2,{error:new Error("expected apolloClient to be initialized"),result:null}];case 1:return(o=i.sent()).errors&&o.errors.length>0?(a=o.errors.map((function(e){return e.message})).join(", "),[2,{error:new Error("Error when uninstalling extension: "+a),result:null}]):(l=null===(r=o.data)||void 0===r?void 0:r.uninstallExtension)?"NotFoundError"===(null===l||void 0===l?void 0:l.__typename)||"UserError"===(null===l||void 0===l?void 0:l.__typename)?[2,{error:new Error("Error when uninstalling extension: "+l.message),result:null}]:[2,{result:l,error:null}]:[2,{error:new Error("Error when uninstalling extension: expected result"),result:null}]}}))}))).apply(this,arguments)}function g(e){return Z.apply(this,arguments)}function Z(){return Z=(0,r.Z)((function(e){var t,n,r,o=arguments;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=o.length>1&&void 0!==o[1]&&o[1],d.l?[4,d.l.query({query:p.AR,variables:{installationId:e},fetchPolicy:t?"network-only":"cache-first"})]:[2,{error:new Error("expected apolloClient to be initialized"),result:null}];case 1:return n=i.sent(),"ExtensionInstallation"!==(r=n.data.extensionInstallationById).__typename?[2,{error:new Error("Expected to find extension installation"),result:null}]:r.extension?[2,{result:r,error:null}]:[2,{error:new Error("Expected installation.extension"),result:null}]}}))})),Z.apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)((function(e){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return d.l?[4,d.l.query({query:p.Ve,variables:{replId:e}})]:[2,{error:new Error("expected apolloClient to be initialized"),result:null}];case 1:return t=r.sent(),"ExtensionInstallationList"!==(n=t.data.extensionInstallations).__typename?[2,{error:new Error("Expected to find ExtensionInstallationList"),result:null}]:[2,{result:n.installations,error:null}]}}))}))).apply(this,arguments)}var x=n(20897),w=n(76521);function C(){var e=(0,w.E4)(x.We);return c.useCallback(function(){var t=(0,r.Z)((function(t){return(0,i.__generator)(this,(function(n){return e({installationId:t}),[2]}))}));return function(e){return t.apply(this,arguments)}}(),[e])}function k(){var e=D(),t=e.throwSystemError,n=e.throwExtensionError,o=(0,w.E4)(x.nk);return c.useCallback(function(){var e=(0,r.Z)((function(e){var r,a,l,s,c=arguments;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=!(c.length>1&&void 0!==c[1])||c[1],[4,g(e,r)];case 1:return(a=i.sent()).error?(t({friendlyMessage:"Something went wrong while downloading an extension",error:a.error}),[2]):(l=a.result)?(s=l.extension)?s.manifest?"ExtensionManifestError"===s.manifest.__typename?(n({extensionId:s.id,extensionError:{friendlyMessage:"An error occurred while loading the extension manifest: ".concat(s.manifest.message),error:new Error(s.manifest.message)}}),[2]):s.manifest&&"ExtensionManifest"===s.manifest.__typename?(o({extensionId:s.id,installationId:l.id,manifest:s.manifest,baseUrl:(0,u.BY)(s.url),error:null}),[2,l]):(n({extensionId:s.id,extensionError:{friendlyMessage:"An error occurred while loading the extension manifest",error:new Error("Expected extension manifest to be defined")}}),[2]):(n({extensionId:s.id,extensionError:{friendlyMessage:"Extension failed to install",error:new Error("Expected extension manifest to be defined")}}),[2]):(t({friendlyMessage:"Extension failed to install",error:new Error("Expected extension to be defined")}),[2]):(t({friendlyMessage:"Extension failed to install",error:new Error("Expected installation to be defined")}),[2])}}))}));return function(t){return e.apply(this,arguments)}}(),[o,n,t])}function L(){var e=k(),t=D().throwExtensionError;return c.useCallback(function(){var n=(0,r.Z)((function(n){var r,o,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=n.extension,o=n.replId,(0,a.j)(a.U3.EXTENSION_INSTALLED,{name:r.name,extensionId:r.id}),[4,f({extensionId:r.id,replId:o})];case 1:return(l=i.sent()).error?(t({extensionError:{friendlyMessage:"Something went wrong while installing an extension",error:l.error},extensionId:r.id}),[2]):[4,e(l.result.id)];case 2:return i.sent(),[2,l.result]}}))}));return function(e){return n.apply(this,arguments)}}(),[e,t])}function S(){var e=C(),t=(0,w.Ld)(),n=D().throwSystemError;return c.useCallback(function(){var o=(0,r.Z)((function(r){var o,l,s,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return o=r.installationId,l=r.replId,s=t.get(x._t),(c=s.find((function(e){return e.installationId===o})))?c.installationId&&c.extensionId?((0,a.j)(a.U3.EXTENSION_UNINSTALLED,{name:c.manifest.name,extensionId:c.extensionId}),[4,m({installationId:c.installationId,replId:l})]):(n({friendlyMessage:"Failed to uninstall extension",error:new Error("Expected installationId to be defined")}),[2]):(n({friendlyMessage:"Extension appears to be already uninstalled",error:new Error("Expected extension to be defined")}),[2]);case 1:return i.sent(),[4,e(c.installationId)];case 2:return i.sent(),[2]}}))}));return function(e){return o.apply(this,arguments)}}(),[e,t,n])}function B(){var e=(0,s.b9)(l.g2);return c.useCallback((function(t){e({panes:[{type:"extension",data:t}],makeActive:!0,placement:"rightOf"})}),[e])}function E(){var e=C(),t=k();return c.useCallback(function(){var n=(0,r.Z)((function(n){return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,e(n)];case 1:return r.sent(),[4,t(n,!0)];case 2:return r.sent(),[2]}}))}));return function(e){return n.apply(this,arguments)}}(),[e,t])}function T(){var e=k(),t=D().throwSystemError;return c.useCallback(function(){var n=(0,r.Z)((function(n){var r,a,l,s,c,u,d,p,f;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,b(n)];case 1:if((r=i.sent()).error)return t({friendlyMessage:"Failed to load installed extensions",error:r.error}),[2];a=!0,l=!1,s=void 0,i.label=2;case 2:i.trys.push([2,9,10,11]),c=r.result[Symbol.iterator](),i.label=3;case 3:if(a=(u=c.next()).done)return[3,8];d=u.value,i.label=4;case 4:return i.trys.push([4,6,,7]),[4,e(d.id,!1)];case 5:return i.sent(),[3,7];case 6:return p=i.sent(),o.kg.error("Error when loading extension",{extension:!0,errors:p.message}),[3,7];case 7:return a=!0,[3,3];case 8:return[3,11];case 9:return f=i.sent(),l=!0,s=f,[3,11];case 10:try{a||null==c.return||c.return()}finally{if(l)throw s}return[7];case 11:return[2]}}))}));return function(e){return n.apply(this,arguments)}}(),[e,t])}var _=(0,s.cn)(null,(function(e,t,n){t(x.wQ,n),o.kg.error("Extension System Error",{extension:!0,extensionSystem:!0,originalError:n.error.message,friendlyMessage:n.friendlyMessage})})),R=(0,s.cn)(null,(function(e,t,n){e(x._t).find((function(e){return e.extensionId===n.extensionId}))?(t(x.f4,{extensionId:n.extensionId,extensionError:n.extensionError}),o.kg.error("Extension Error",{extension:!0,extensionId:n.extensionId,originalError:n.extensionError.error.message,friendlyMessage:n.extensionError.friendlyMessage})):t(x.nk,{extensionId:n.extensionId,installationId:null,manifest:(0,u.fF)({name:n.extensionId}),error:n.extensionError,baseUrl:""})}));function D(){return{throwSystemError:(0,w.E4)(_),throwExtensionError:(0,w.E4)(R)}}},20897:function(e,t,n){n.d(t,{Mu:function(){return v},We:function(){return f},_t:function(){return u},c_:function(){return g},f4:function(){return h},nk:function(){return p},wQ:function(){return d}});var r=n(34727),i=n(14251),o=n(52875),a=n(70655),l=n(7182),s=n(18172),c=n(76521),u=(0,l.cn)([]),d=(0,l.cn)(null),p=(0,l.cn)(null,function(){var e=(0,r.Z)((function(e,t,n){return(0,a.__generator)(this,(function(r){if(e(u).find((function(e){return e.extensionId===n.extensionId})))throw new Error("Extension already loaded");return t(u,(function(e){return(0,s.ZP)(e,(function(e){e.push(n)}))})),[2]}))}));return function(t,n,r){return e.apply(this,arguments)}}()),f=(0,l.cn)(null,function(){var e=(0,r.Z)((function(e,t,n){return(0,a.__generator)(this,(function(e){return t(u,(function(e){return(0,s.ZP)(e,(function(e){var t=e.findIndex((function(e){return"extensionId"in n?e.extensionId===n.extensionId:e.installationId===n.installationId}));-1!==t&&e.splice(t,1)}))})),[2]}))}));return function(t,n,r){return e.apply(this,arguments)}}()),h=(0,l.cn)(null,(function(e,t,n){t(u,(function(e){return(0,s.ZP)(e,(function(e){var t=e.findIndex((function(e){return e.extensionId===n.extensionId}));if(-1===t)throw new Error("Extension not found");e[t].error=n.extensionError}))}))})),m=(0,l.cn)((function(e){return e(u).map((function(e){var t;return null===(t=e.manifest.fileHandlers)||void 0===t?void 0:t.map((function(t){return(0,o.Z)((0,i.Z)({},t),{extension:e})}))})).flat().filter((function(e){return!!e}))}));function v(){return(0,c.ZC)(u)}function g(){return(0,c.ZC)(m)}},76521:function(e,t,n){n.d(t,{E4:function(){return d},Ld:function(){return c},Wv:function(){return p},ZC:function(){return u}});var r=n(9941),i=n(35944),o=n(81032),a=n(88750),l=n(67294),s=(0,l.createContext)(null);function c(){return function(){var e=(0,l.useContext)(s);if(!e)throw new Error("Expected extensions context");return e}().store}function u(e){var t=c();return(0,a.Dv)(e,{store:t})}var d=function(e){var t=c();return(0,a.b9)(e,{store:t})};function p(e){var t=e.children,n=(0,r.Z)(l.useState((function(){return(0,o.MT)()})),1)[0];return(0,i.tZ)(s.Provider,{value:{store:n},children:t})}},59586:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(34727),i=n(69779),o=n(70655),a=n(67294),l=n(41709),s=n(60977),c=n(14251),u=n(32692),d=n(31230),p=n(37887);function f(){var e=(0,u.Z)(["\n  query ContentsDiverged {\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n"]);return f=function(){return e},e}var h={},m=(0,d.Ps)(f());var v=n(83569),g=n(40381),Z=n(99408),b=n(37806),y=n(73604),x=n(41671);function w(e){var t,n=e.moveOrDeleteFile,u=(0,Z.Z)().fs,d=(0,x.K)(),f=(0,a.useRef)(new Map),w=(0,g.Z)(),C=(0,a.useState)(!1),k=C[0],L=C[1],S=(0,a.useState)(!1),B=S[0],E=S[1],T=(0,a.useState)([]),_=T[0],R=T[1],D=function(e){var t=(0,c.Z)({},h,e);return p.a(m,t)}().data,G=(null===D||void 0===D||null===(t=D.currentUser)||void 0===t?void 0:t.isAdmin)||window.location.search.includes("debug=1"),I=(0,b.uV)(),j=_.map((function(e){return e.path})).map((function(e){return{title:e,path:e}})),M=(0,a.useState)(),P=M[0],N=M[1];(0,a.useEffect)((function(){if(w&&!f.current.has(w)&&w!==v.rq){var e=function(e){n&&n(e),f.current.delete(w),R((function(e){return e.filter((function(e){return e.path!==w}))}))};(0,y.Mb)(w)?u.watchTextFile(w,{onMoveOrDelete:e,onError:function(e,t){e.code||(u.flush(),u.persist({skipDebounce:!0}),I({error:e,extras:t,tags:{ot:!0},origin:"useContentsDiverged: fs.watchTextFile"}))},onReconnectFail:function(e,t){R((function(n){return(0,i.Z)(n.filter((function(e){return e.path!==w}))||[]).concat([{path:w,prompt:t,cb:e}])})),d("user:ot:diverged",{path:w,divergence:t}),L(!0),P||N(w)}}):u.watchFile(w,{onChange:function(){},onMoveOrDelete:e}),f.current.set(w,!0)}}),[w,u,I,n,P,d]);var F,V,W=function(){var e=(0,r.Z)((function(e){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return(0,s.j)(s.U3.FILE_RECONNECT_FALLBACK_CHOSEN,{choice:e}),(0,s.j)(s.U3.CONTENTS_DIVERGED_ACTION,{action:"local"===e?"client":"server"}),E(!0),[4,Promise.all(_.map((function(t){return R((function(e){var n=e.filter((function(e){return e.path!==t.path}));return 0===n.length?L(!1):N(n[0].path),n})),t.cb(e)})))];case 1:return t.sent(),E(!1),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),z=P?_.find((function(e){return e.path===P})):null,X=null===z||void 0===z?void 0:z.prompt,H=P,A=(0,l.J)({left:{code:null!==(F=null===X||void 0===X?void 0:X.localContent)&&void 0!==F?F:"",filePath:H},right:{code:null!==(V=null===X||void 0===X?void 0:X.remoteContent)&&void 0!==V?V:"",filePath:H}}),U=A.left,O=A.right;return{isConverging:B,didContentsDiverge:k,showMoreDetail:G,failedFiles:_,failedFilesOptions:j,selectedFile:P,setSelectedFile:N,reviewingPrompt:X,onChoice:W,local:U,remote:O}}},88729:function(e,t,n){n.d(t,{T:function(){return d}});var r=n(63377),i=n(14251),o=n(32692),a=n(31230),l=n(37887);function s(){var e=(0,o.Z)(["\n  query WorkspaceEduPaneEnabled($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isModelSolution\n        isProject\n        isProjectFork\n        owner {\n          __typename\n          ... on Team {\n            id\n            isAdmin\n          }\n          ... on User {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return s=function(){return e},e}var c={},u=(0,a.Ps)(s());function d(){var e,t=function(e){var t=(0,i.Z)({},c,e);return l.a(u,t)}({variables:{replId:(0,r.Z)()}}).data,n="Repl"===(null===t||void 0===t||null===(e=t.repl)||void 0===e?void 0:e.__typename)?null===t||void 0===t?void 0:t.repl:null;if(!n)return!1;var o=n.owner;return!!o&&(n.isProjectFork&&!n.isModelSolution&&"Team"===o.__typename&&o.isAdmin)}},2520:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(67294),i=n(99408),o=n(22371),a=n(89224);function l(){var e=(0,i.Z)().fs,t=(0,r.useState)({isLoading:!0,isTutorial:!1}),n=t[0],l=t[1];return(0,r.useEffect)((function(){e.watchDir(".",{onChange:function(e){l({isLoading:!1,isTutorial:e.some((function(e){return e.type===a.Tv.Directory&&e.filename===o.V}))})},onMoveOrDelete:function(){l({isLoading:!1,isTutorial:!1})},onError:function(){l({isLoading:!1,isTutorial:!1})}})}),[e]),n}},36774:function(e,t,n){n.d(t,{ZP:function(){return S},dv:function(){return k},Ln:function(){return L}});var r=n(34727),i=n(70655),o=n(67294),a=n(7182),l=n(99408),s=n(64487),c=n(63377),u=n(38492),d=n(11887),p=n(45528),f=n(46896),h=n(46679),m=n(14251),v=n(32692),g=n(31230),Z=n(9523),b=n(37887);function y(){var e=(0,v.Z)(["\n  query ReplEnvironmentDesktopLoadCurriculum($id: String!) {\n    currentUser {\n      id\n      isTeacher: hasRole(role: TEACHER)\n      ...CrosisContextCurrentUser\n    }\n    repl(id: $id) {\n      ... on Repl {\n        id\n        isProject\n        isProjectFork\n        isModelSolution\n        isModelSolutionFork\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        language\n        origin {\n          id\n          ...CrosisContextRepl\n          origin {\n            id\n            ...CrosisContextRepl\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return y=function(){return e},e}var x={},w=(0,g.Ps)(y(),Z.D,Z.C);var C=n(25108),k=(0,a.cn)(!1);function L(){return(0,a.Dv)(k)}function S(){var e,t,n=(0,c.Z)(),v=(0,l.Z)().fs,g=function(e){var t=(0,m.Z)({},x,e);return b.a(w,t)}({variables:{id:n}}).data,Z=(0,a.b9)(k),y="Repl"===(null===g||void 0===g?void 0:g.repl.__typename)?g.repl:null,L="CurrentUser"===(null===g||void 0===g||null===(e=g.currentUser)||void 0===e?void 0:e.__typename)?g.currentUser:null,S="Repl"===(null===g||void 0===g?void 0:g.repl.__typename)&&g.repl.isModelSolutionFork,B=S?y&&(null===(t=y.origin)||void 0===t?void 0:t.origin):y&&y.origin||null,E=(0,p.b)("Repl"===(null===B||void 0===B?void 0:B.__typename)?{repl:B,currentUser:L||void 0}:null);o.useEffect((function(){y&&L&&y.isProject&&v.stat(".lesson").then((function(e){e.exists||v.createDir(".lesson")}))}),[v,L,y]),o.useEffect((function(){if(y&&(y.isProjectFork||S)&&B&&E){var e=(0,d.ZP)({onUnrecoverableError:function(e){C.error(e),s.$e((function(t){t.setTag("curriculum-authoring",!0),t.setExtra("originId",B.id),s.Tb(e)}))}}),t=(0,h.Z)({container:e});e.connect({context:E,fetchConnectionMetadata:function(){return(0,u.Z)({url:"/data/repls/".concat(y.id,"/get_repl_origin_guest_connection_metadata")})}});var n=e.onConnectionStateChanged(function(){var o=(0,r.Z)((function(r){var o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(r!==f.e.CONNECTED)return[3,8];n(),i.label=1;case 1:return i.trys.push([1,6,7,8]),[4,v.copyDirFromRemote(".lesson",".lesson",t)];case 2:return(o=i.sent()).error?(s.$e((function(e){e.setTag("curriculum-authoring",!0),e.setExtra("originId",B.id),s.Tb(new Error("Error copying lesson: ".concat(o.error)))})),[3,5]):[3,3];case 3:return[4,v.stat(".lesson/instructions.md")];case 4:i.sent().exists&&Z(!0),i.label=5;case 5:return[3,8];case 6:return a=i.sent(),s.$e((function(e){e.setTag("curriculum-authoring",!0),s.Tb(a)})),[3,8];case 7:return e.destroy(),[7];case 8:return[2]}}))}));return function(e){return o.apply(this,arguments)}}());return function(){return e.destroy()}}}),[v,E,y,B,S,Z])}},76832:function(e,t,n){n.d(t,{Z:function(){return l},f:function(){return a}});var r=n(67294),i=n(7182),o=n(16965),a=(0,i.cn)({current:null});function l(){var e=(0,o.Z)((0,i.Dv)(a));return(0,r.useCallback)((function(){var t,n;null===(t=e.current)||void 0===t||null===(n=t.current)||void 0===n||n.refresh()}),[e])}},31838:function(e,t,n){n.d(t,{B:function(){return E}});var r=n(9941),i=n(2520),o=n(40705),a=n(69128),l=n(88729),s=n(21131),c=n(63377),u=n(14251),d=n(32692),p=n(31230),f=n(37887);function h(){var e=(0,d.Z)(["\n  fragment WorkspaceToolPanesRepl on Repl {\n    isProjectFork\n    isModelSolution\n    isProject\n    isProjectFork\n    owner {\n      __typename\n      ... on Team {\n        id\n        isAdmin\n      }\n      ... on User {\n        id\n      }\n    }\n    currentUserPermissions {\n      containerWrite\n      editMultiplayers\n    }\n    lang {\n      id\n      key\n      engine\n      supportsGit\n      hasLibSearch\n      supportsPackager3\n      hasDAP\n    }\n    config {\n      isServer\n      isVnc\n    }\n  }\n"]);return h=function(){return e},e}function m(){var e=(0,d.Z)(["\n  query WorkspaceToolPanes($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        ...WorkspaceToolPanesRepl\n      }\n    }\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var v={},g=(0,p.Ps)(h()),Z=(0,p.Ps)(m(),g);var b=n(11163),y=n(23384),x=n(36774),w=n(15902),C=n(4977),k=n(41302);function L(){var e,t=function(e){var t=(0,u.Z)({},v,e);return f.a(Z,t)}({variables:{replId:(0,c.Z)()}}).data,n="Repl"===(null===t||void 0===t||null===(e=t.repl)||void 0===e?void 0:e.__typename)?null===t||void 0===t?void 0:t.repl:null;return n?{repl:n,currentUser:(null===t||void 0===t?void 0:t.currentUser)||null}:{repl:null,currentUser:null}}var S=["ghostwriterChat","education","tutorial","instructions","docs","chat","threadInbox","packager","git","debugger","shell","runnerOutput","envEditor","webview","vnc","database","neon","replAuth","markdown","autograder","unitTests","preferences","adminPanel","deployments","sshConfigurator","extensionStore"],B=["shell","git","packager","envEditor","database","neon","ghostwriterChat","unitTests","preferences","multiplayer","adminPanel"];function E(){var e=L(),t=e.repl,n=e.currentUser,c=(0,b.useRouter)(),u=(0,w.T3)(),d=(0,y.D)({controlName:"flag-neon-databases"}),p=(0,y.D)({controlName:"flag-postgres-db-god-mode"}),f=(0,y.D)({controlName:"flag-deployments"}),h=(0,y.D)({controlName:"flag-repl-auth-sidebar"}),m=(0,y.D)({controlName:"flag-series-of-tubes"}),v=(0,k.d)(),g=(0,y.D)({controlName:"flag-extensions",default:!1,type:"boolean"}),Z=(0,y.D)({controlName:"flag-nix-modules-tool"}),E=(0,a.Z)().language,T=(0,l.T)(),_=(0,x.Ln)(),R=(0,i.Z)().isTutorial,D=(0,o.x)(),G=(0,C.T)(),I=(null===G||void 0===G?void 0:G.debuggers)&&(null===G||void 0===G?void 0:G.debuggers.length)>0||!1,j=(null===n||void 0===n?void 0:n.isAdmin)||Boolean(c.query.debug);return(0,s.Z)((function(){var e=u&&(null===t||void 0===t?void 0:t.currentUserPermissions.editMultiplayers)?[{type:"multiplayer"}]:[];if(!t||!n)return e;var i=Boolean(t.config.isServer),o=Boolean(t.config.isVnc),a=t.lang.supportsGit,l=t.lang.key.startsWith("html"),s="nix"===t.lang.key,c=!l,b=Boolean(null===D||void 0===D?void 0:D.packageSearch),y=t.isProject||t.isProjectFork,x=!l,w=!l&&m,C=Boolean(h&&D),k=[[{type:"shell"},!0],[{type:"instructions"},_],[{type:"markdown",data:{path:""}},!0],[{type:"threadInbox"},!0],[{type:"chat"},!0],[{type:"docs"},!0],[{type:"webview"},i||l],[{type:"vnc"},o],[{type:"runnerOutput"},!l],[{type:"git"},a],[{type:"packager"},b],[{type:"envEditor"},c],[{type:"debugger"},I],[{type:"tutorial"},R],[{type:"database"},x],[{type:"neon"},p||s&&d],[{type:"replAuth"},C],[{type:"autograder"},y],[{type:"unitTests"},!y&&null!==E],[{type:"education"},Boolean(T)],[{type:"preferences"},!0],[{type:"adminPanel"},j],[{type:"deployments"},f],[{type:"sshConfigurator"},w],[{type:"ghostwriterChat"},v],[{type:"extensionStore",data:{page:"store"}},g],[{type:"modules"},Z]],L=!0,G=!1,M=void 0;try{for(var P,N=k[Symbol.iterator]();!(L=(P=N.next()).done);L=!0){var F=(0,r.Z)(P.value,2),V=F[0];F[1]&&(u&&!B.includes(V.type)||e.push(V))}}catch(W){G=!0,M=W}finally{try{L||null==N.return||N.return()}finally{if(G)throw M}}return function(e,t){return e.sort((function(e,n){return t.indexOf(e.type)-t.indexOf(n.type)}))}(e,u?B:S)}),[t,n,d,f,h,m,v,E,T,_,R,D,I,j,u,p,g])}},28497:function(e,t,n){function r(e){var t=document.createElement("canvas"),n=t.getContext("2d");if(t.width=e.width,t.height=e.height,!n)throw new Error("failed to get canvas ctx");return{version:"1",width:e.width,height:e.height,palette:[[0,0,0,255],[255,255,255,255],[255,255,128,255],[255,128,255,255],[0,128,128,255],[128,0,255,255],[255,0,128,255],[0,255,255,255]],anims:{},frames:e.frames.map((function(r){var i=new window.ImageData(new Uint8ClampedArray(r.pixels),e.width,e.height);return n.putImageData(i,0,0),t.toDataURL()}))}}function i(e){return new Promise((function(t,n){var r=new window.Image;r.src=e,r.onload=function(){t(r)},r.onerror=n}))}function o(e){return new Promise((function(t,n){Promise.all(e.frames.map(i)).then((function(r){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var o=i.getContext("2d");if(o){var a=r.map((function(t){return o.drawImage(t,0,0),{pixels:Array.from(o.getImageData(0,0,e.width,e.height).data),width:e.width,height:e.height}}));t({frames:a,preview:e.frames[0],width:e.width,height:e.height})}else n(new Error("failed to get canvas ctx"))})).catch(n)}))}n.d(t,{C:function(){return r},u:function(){return o}})},15606:function(e,t,n){n.d(t,{T:function(){return c}});var r=n(35944),i=(n(67294),n(10982)),o=n(59641),a=n(59233),l=n(75474),s=n(63377),c={Content:function(){var e=(0,s.Z)();return(0,r.BX)(o.G7,{css:[o.l0.py(32),o.l0.px(16)],children:[(0,r.tZ)(a.Z,{replId:e}),(0,r.tZ)(l.Z,{replId:e})]})},Icon:function(e){var t=e.size;return(0,r.tZ)(i.UserAdd,{size:t})},getTitle:function(){return"Multiplayer"}}},82947:function(e,t,n){n.d(t,{R:function(){return p},b:function(){return f}});var r=n(35944),i=n(9117),o=n(99408),a=n(34467),l=n(63177),s=n(7182),c=n(76832),u=n(47886),d=n(56483),p={Content:function(e){var t=e.options.isHidden,n=(0,o.Z)(),a=n.container,p=n.fs,h=n.session,m=n.runner,v=(0,s.Dv)(c.f),g=(0,c.Z)();return(0,u.Z)({container:a,runner:m,refreshWebView:g}),(0,d.Z)({runner:m,refreshWebView:g}),(0,i.x)(f,{run:function(){g()}}),(0,r.tZ)(l.Z,{fs:p,session:h,ref:v,isVisible:!t})},Icon:function(e){var t=e.size;return(0,r.tZ)(a.Z,{size:t})},getTitle:function(){return"Webview"}},f={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"S"}},52869:function(e,t,n){n.d(t,{U:function(){return dx}});var r=n(35944),i=n(67294),o=n(67573),a=n(9941),l=n(57263),s=n(18757),c=n(60357),u=n.n(c),d=n(24561),p=n(32027),f=n(59641);function h(e){var t=e.preventHighlightBorder,n=(0,p.Z)();return(0,r.BX)("div",{className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])+" loader",children:[(0,r.tZ)("div",{className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])+" wrap",children:(0,r.BX)(d.ZP,{backgroundColor:f.TV.backgroundHighest,foregroundColor:f.TV.backgroundHigher,uniqueKey:"editorLoader",children:[(0,r.tZ)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"15",y:"80",rx:"3",ry:"3",width:"70",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"95",y:"80",rx:"3",ry:"3",width:"60",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"165",y:"80",rx:"3",ry:"3",width:"30",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"15",y:"100",rx:"3",ry:"3",width:"110",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"135",y:"100",rx:"3",ry:"3",width:"100",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"70",height:"10",className:u().dynamic([["b8bdeb39d1178985",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])})]})}),(0,r.tZ)(u(),{id:"b8bdeb39d1178985",dynamic:[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"],children:".loader.__jsx-style-dynamic-selector{z-index:3;height:100%;width:100%;background-color:var(--background-default);overflow:hidden;padding:var(--space-16);-webkit-border-bottom-right-radius:var(--border-radius-4);-moz-border-radius-bottomright:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4);-webkit-border-bottom-left-radius:var(--border-radius-4);-moz-border-radius-bottomleft:var(--border-radius-4);border-bottom-left-radius:var(--border-radius-4);-webkit-box-shadow:".concat(n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)",";-moz-box-shadow:").concat(n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)",";box-shadow:").concat(n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)","}.wrap.__jsx-style-dynamic-selector{overflow:hidden}.wrap.__jsx-style-dynamic-selector>svg{max-width:640px;min-width:500px;height:auto}@media screen and (min-width:900px){.loader.__jsx-style-dynamic-selector{padding:30px}}")})]})}var m=n(65915),v=n(99408);n(24351);function g(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,v.Z)().session,n=(0,a.Z)(i.useState(t.getCursorPosition()),2),r=n[0],o=n[1];return i.useEffect((function(){if(!e)return o(t.getCursorPosition()),t.onCursorPositionChanged(o)}),[t,e]),r}var Z=n(96189),b=n(93096),y=n.n(b),x=n(73604),w=n(66681),C=n(89224),k=n(40381),L=n(11163),S=n.n(L),B=n(15902),E=y()((function(e){e.scrollIntoView({behavior:"smooth",block:"center"})}),100),T=i.memo(w.Z);function _(){var e=(0,v.Z)().fs,t=(0,v.Z)().session,n=(0,a.Z)(i.useState(!1),2),s=n[0],c=n[1],u=(0,k.Z)(),d=(0,m.Z)(),p=(0,L.useRouter)(),b=g(u!==d||(0,B.Vg)(p)),y=i.useRef(null),w=(0,Z.Z)((function(){c(!0),y.current&&clearTimeout(y.current),y.current=setTimeout((function(){c(!1)}),150)}),{type:"throttle",wait:37.5});i.useLayoutEffect((function(){if(!s&&u===d){var e=document.querySelectorAll(".rendered-markdown [data-sourcepos]"),t=Array.from(e).reverse();if(t){var n=b.lineNumber,r=b.column,i=!0,o=!1,l=void 0;try{for(var c,p=t[Symbol.iterator]();!(i=(c=p.next()).done);i=!0){var f=c.value,h=f.dataset.sourcepos;if(!h)throw new Error("Expected data source pos on selected element");var m=(0,a.Z)(h.split("-"),2),v=m[0],g=m[1],Z=(0,a.Z)(v.split(":").map(Number),2),y=Z[0],x=Z[1],w=(0,a.Z)(g.split(":").map(Number),2),C=w[0],k=w[1];if(n>=y&&r>=x&&(n<C||n===C&&r<=k))return void E(f)}}catch(L){o=!0,l=L}finally{try{i||null==p.return||p.return()}finally{if(o)throw l}}}}}),[b,s,u,d]);var S=(0,a.Z)(i.useState(null),2),_=S[0],D=S[1];return i.useEffect((function(){if(D(null),d&&(0,x.Mb)(d))return e.watchTextFile(d,{onReady:function(e){var t=e.initialContent;D(t.toString())},onChange:function(e){var t=e.latestContent;D(t)},onMoveOrDelete:function(e){e.eventType===C.kS.Delete&&t.setPreviewedFile(null)}})}),[d,e,t]),d?null===_?(0,r.tZ)(h,{preventHighlightBorder:!0}):(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.height("100%"),f.l0.width("100%"),f.l0.overflow("auto"),f.l0.backgroundColor.backgroundDefault,f.l0.zIndex(2),f.l0.align.center,f.l0.py(16),f.l0.px(16),(0,o.Z)({borderBottomLeftRadius:f.TV.space8,borderBottomRightRadius:f.TV.space8,margin:"0 auto"},"@media only screen and (min-width: ".concat(l.j.tabletMin,"px)"),f.l0.px(32))],innerRef:w,children:[(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(0),f.l0.height(30),f.l0.width("100%"),f.l0.justify.spaceBetween,f.l0.align.center,f.l0.backgroundColor.backgroundDefault],children:(0,r.tZ)(R,{})}),(0,r.tZ)(f.G7,{css:[f.l0.width("100%"),{"& .rendered-markdown":[f.l0.flex.column,f.l0.center],"& .rendered-markdown > *":[f.l0.maxWidth(840),f.l0.width("100%")],"& .rendered-markdown > table":f.l0.maxWidth("100%")}],children:(0,r.tZ)(T,{path:d,source:_,fs:e,sourcePos:!0})})]}):(0,r.tZ)(f.G7,{css:[f.l0.height("100%"),f.l0.width("100%"),f.l0.center],children:(0,r.tZ)(f.xv,{children:"No previewed file"})})}var R=function(){var e=(0,m.Z)();return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(2),f.l0.color.foregroundDimmer,f.l0.width("calc(100% - ".concat(f.TV.space16,")")),f.l0.align.center],children:[(0,r.tZ)(s.Z,{}),(0,r.BX)(f.xv,{css:f.l0.m(4),color:"dimmer",children:["Preview of ",(0,r.tZ)("a",{href:"#".concat(e),children:e})]})]})},D=n(34079),G={Content:function(){return(0,r.tZ)(_,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(D.Z,{fill:"currentColor",size:t})},getTitle:function(){return"Markdown"}},I=n(26451),j=n(81815),M=n(53426),P={Content:function(){return(0,r.tZ)(N,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(I.Z,{size:t})},getTitle:function(){return"Files"}};function N(){var e=(0,M.p)();return(0,r.tZ)(j.Z,{filetreeApi:e})}var F=n(14251),V=n(52875),W=n(63736),z=function(){return Boolean(S().query.embed||S().query.lite)},X=n(7182),H=n(67681),A=n(2581),U=n(55183),O=n(27178),q=n(18455),$=n(21131),Y=n(77365),K=n(79652),J=n(9117),Q=n(14456),ee=n(78120),te=n(51059);var ne={Content:function(e){var t=e.pane,n=e.options;return(0,r.tZ)(ie,(0,V.Z)((0,F.Z)({},t.data),{isHidden:n.isHidden,isActive:n.isActive,replacePane:n.replacePane,commitPane:n.commitPane}))},Icon:function(e){var t=e.pane,n=e.size;return(0,r.tZ)(W.Z,{path:t.data.path||"",size:n})},getTitle:function(e){return e.data.path?(0,x.UO)(e.data.path):"No file open"}};function re(e){var t=e.path,n=e.isActive,o=e.commitPane,a=(0,A.uN)(),l=(0,q.Gb)({filePath:t});!function(e){var t=e.view,n=e.onUpdate,r=(0,i.useRef)(0);(0,te.M)((function(){return n?Q.tk.updateListener.of((function(e){var t=!0,i=!1,o=void 0;try{for(var a,l=e.transactions[Symbol.iterator]();!(t=(a=l.next()).done);t=!0){var s=a.value;if(!(r.current>0)&&!s.annotation(ee.YW.remote)&&(s.isUserEvent("input")||s.isUserEvent("delete")))return void(n&&(r.current+=1,n()))}}catch(c){i=!0,o=c}finally{try{t||null==l.return||l.return()}finally{if(i)throw o}}})):null}),[n],t)}({view:a,onUpdate:o}),(0,J.x)(q.kq,{enabled:Boolean(n&&l),run:function(){null===l||void 0===l||l.format()}});var s=(0,$.Z)((function(){return l?l.isFormatting?{type:"action",icon:(0,r.tZ)(Y.Z,{}),label:"Formatting...",run:function(){}}:{type:"action",icon:(0,r.tZ)(K.Z,{}),label:"Format "+(0,x.UO)(t),run:function(){l.format()}}:null}),[l,t]);return(0,O.L5)((function(){if(a)return{actions:s?[s]:void 0,focus:function(){a.focus()}}}),[a,s]),null}function ie(e){var t=e.path,n=e.line,i=e.col,o=e.isActive,a=e.replacePane,l=e.commitPane,s=(0,U.EI)(t,a),c=(0,L.useRouter)(),u=!z()&&!(0,B.Vg)(c);return t?(0,r.tZ)(X.zt,{scope:A.d8,children:(0,r.BX)(U.ox.Provider,{value:s,children:[(0,r.tZ)(H.Z,{filePath:t,autoFocus:u,deeplink:{line:n,col:i},hideMobileKeyboardToolbar:!0,replacePane:a},t),(0,r.tZ)(re,{path:t,isActive:o,commitPane:l})]})}):null}var oe=n(39348),ae=n(71530),le=n(68122),se=n(63805),ce=n(41671),ue={Content:function(e){var t=e.options;return(0,r.tZ)(de,{visible:!t.isHidden})},Icon:function(e){var t=e.size;return(0,r.tZ)(ae.Z,{size:t})},getTitle:function(){return"Console"}};function de(e){var t=e.visible,n=(0,v.Z)(),o=n.session,a=n.runner,l=n.packager,s=n.container,c=n.debuggest,u=i.useRef(null),d=(0,le.Z)(c.mainClient),p=(0,ce.K)();return i.useEffect((function(){if(d)return d.onOutput((function(e){u.current&&u.current.write(e)}))}),[d]),i.useEffect((function(){var e=o.onTerminalClear((function(){u.current&&u.current.clear()})),t=o.onTerminalWrite((function(e){u.current&&u.current.write(e)}));return function(){e(),t()}}),[o]),i.useEffect((function(){t&&u.current&&u.current.focus()}),[t]),i.useEffect((function(){if(!(0,se.isMobile)())return a.onLocalRun((function(){var e,t;null===(e=u.current)||void 0===e||e.clear(),null===(t=u.current)||void 0===t||t.focus()}))}),[a]),(0,O.L5)((function(){return{focus:u.current?function(){var e;return null===(e=u.current)||void 0===e?void 0:e.focus()}:void 0}}),[]),"html"===a.mode?null:(0,r.tZ)(oe.Z,{tracker:p,runner:a,debugClient:d,packager:l,ref:u,onBootStatus:s.client().onBootStatus})}var pe=n(79985),fe=n(30019),he=n(87514);function me(e){var t=e.children;return(0,r.tZ)(f.G7,{css:[f.l0.height("100%"),f.l0.overflowY("auto"),O.F3],children:(0,r.BX)(f.G7,{css:[f.l0.p(8),f.l0.colWithGap(8),f.l0.flex.grow(1)],children:[(0,r.BX)(f.G7,{css:f.l0.colWithGap(4),children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.flex.wrap],children:[(0,r.tZ)(fe.Z,{truncate:!0,level:4,children:"Secrets"}),(0,r.tZ)(f.ZP,{iconLeft:(0,r.tZ)(he.Z,{}),href:"https://docs.replit.com/programming-ide/storing-sensitive-information-environment-variables",small:!0,text:"Docs",target:"_blank"})]}),(0,r.tZ)(f.xv,{variant:"small",color:"dimmer",children:"System environment variables."})]}),(0,r.tZ)(f.G7,{css:[f.l0.flex.grow(1),f.l0.py(8),f.l0.position.relative],children:t})]})})}var ve=n(82893),ge={Content:function(){return(0,r.tZ)(Ze,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(ve.Z,{size:t})},getTitle:function(){return"Secrets"}};function Ze(){var e=(0,v.Z)().fs,t=(0,k.Z)();return(0,r.tZ)(me,{children:(0,r.tZ)(pe.Z,{readRawEnv:function(){return e.readFile(".env")},writeRawEnv:function(t){return e.writeFile(".env",t)},activeFile:t})})}var be=n(26799),ye=n(42844),xe={Content:function(){return(0,r.BX)(f.G7,{css:[f.l0.overflow("auto"),O.F3],children:[(0,r.tZ)(f.h4,{variant:"subheadBig",level:3,css:[f.l0.p(8)],children:"Settings"}),(0,r.tZ)(be.Z,{css:[{backgroundColor:"transparent"}]})]})},Icon:function(e){var t=e.size;return(0,r.tZ)(ye.Z,{size:t})},getTitle:function(){return"Settings"}},we=n(76696),Ce=n(62944),ke=(0,f.Xb)({self:[f.l0.p(8),f.l0.colWithGap(8),O.F3],packagerWrapper:f.l0.mt(8)}),Le={Content:function(){return(0,r.BX)(f.G7,{css:ke.self,children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadBig",children:"Packages"}),(0,r.tZ)(f.G7,{css:ke.packagerWrapper,children:(0,r.tZ)(we.Z,{})})]})},Icon:function(e){var t=e.size;return(0,r.tZ)(Ce.Z,{size:t})},getTitle:function(){return"Packages"}},Se=n(1557),Be=n(69779),Ee=n(26473),Te=n(32692),_e=n(31230),Re=n(37887);function De(){var e=(0,Te.Z)(["\n  fragment DatabaseUsage on Database {\n    id\n    keysCount\n    sizeMB\n  }\n"]);return De=function(){return e},e}function Ge(){var e=(0,Te.Z)(["\n  query Database($replID: String!) {\n    repl(id: $replID) {\n      ... on Repl {\n        id\n        database {\n          id\n          ...DatabaseUsage\n        }\n      }\n    }\n    currentUser {\n      id\n      isLoggedIn\n    }\n  }\n  ","\n"]);return Ge=function(){return e},e}var Ie={},je=(0,_e.Ps)(De()),Me=(0,_e.Ps)(Ge(),je);var Pe=n(79500),Ne=n(63377),Fe=n(91513),Ve=n(41034),We=n(9517);function ze(e){var t,n,i,o,a=e.activeFile,l=function(e){var t=(0,F.Z)({},Ie,e);return Re.a(Me,t)}({variables:{replID:(0,Ne.Z)()},pollInterval:1e4}),s=l.data,c=l.error,u=l.loading;s&&("Repl"===s.repl.__typename?i=null===s||void 0===s||null===(o=s.repl)||void 0===o?void 0:o.database:n="Could not fetch Database info");c&&("GraphQL error: You don't have access to this database"===c.message?i=null:n=c.message);var d=null===s||void 0===s||null===(t=s.currentUser)||void 0===t?void 0:t.isLoggedIn;return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16),f.l0.backgroundColor.backgroundDefault,f.l0.p(8),f.l0.borderRadius(0,4,4,0),O.F3],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadBig",children:"Database"}),(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(16),{overflowY:"auto",width:"100%",flex:"1"}],children:d?(0,r.BX)(r.HY,{children:[(0,r.BX)(f.xv,{multiline:!0,children:[(0,r.tZ)("a",{href:"https://docs.replit.com/hosting/databases/replit-database",target:"_blank",rel:"noopener",css:[f.l0.color.accentPrimaryStronger,f.l0.pr(4)],children:"Replit Database"}),"is an easy to use key-value store."]}),n&&(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.color.accentNegativeStronger],children:n}),(i||u)&&(0,r.tZ)(f.G7,{css:[f.l0.pb(16)],children:(0,r.tZ)(Xe,{database:i,loading:u})}),!u&&(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(f.xv,{variant:"small",css:{textTransform:"uppercase",fontWeight:f.TV.fontWeightMedium},children:"commands"}),(0,r.tZ)(He,{activeFile:a})]})]}):(0,r.tZ)(Qe,{})})]})}var Xe=function(e){var t=e.database;if(e.loading)return(0,r.tZ)(Y.Z,{style:{margin:"10px auto",width:"35px",height:"35px"}});if(!t)return null;var n=t.sizeMB||0,i="MB";return n<1&&(n*=1e3,i="KB"),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(f.xv,{variant:"small",css:{textTransform:"uppercase",fontWeight:f.TV.fontWeightMedium},children:"storage"}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4)],children:[(0,r.BX)(f.xv,{color:"dimmer",children:[n.toFixed(2)," ",i]}),(0,r.tZ)(f.xv,{color:"dimmer",children:"|"}),(0,r.tZ)(f.xv,{color:"dimmer",children:"".concat(t.keysCount||0," ").concat(1===t.keysCount?"key":"keys")})]})]})},He=function(e){var t=e.activeFile,n=(0,r.tZ)(Je,{activeFile:t});if(t)switch((0,x.r6)(t)){case"go":n=(0,r.tZ)(Ke,{examples:$e,activeFile:t});break;case"js":case"ts":case"tsx":case"jsx":case"mjs":n=(0,r.tZ)(Ke,{examples:Ye,activeFile:t});break;case"py":n=(0,r.tZ)(Ke,{examples:qe,activeFile:t})}return(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8)],children:n})},Ae=function(e){var t=e.title,n=e.content,o=e.activeFile,l=(0,a.Z)(i.useState(n),2),s=l[0],c=l[1],u=(0,a.Z)(function(){var e=t.split(" ");return[e[0],e.slice(1).join(" ")]}(),2),d=u[0],p=u[1];return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(4)],children:[(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4)],children:[(0,r.tZ)(f.xv,{css:{fontWeight:f.TV.fontWeightMedium},children:d}),(0,r.tZ)(f.xv,{color:"dimmer",children:p})]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(4),{width:"fit-content"}],children:[(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.backgroundColor.backgroundRoot,f.l0.borderRadius(4),f.l0.p(4),f.l0.align.center],children:n.map((function(e,n){return"input"===e.type?(0,r.tZ)(f.II,{onChange:function(e){var t=(0,Be.Z)(s);t[n].value=e.target.value,c(t)},placeholder:e.placeholder,value:e.value||"",css:[f.l0.width(64),f.l0.height(24),f.l0.zIndex(1)]},"".concat(t,"-").concat(n)):(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(4),f.l0.backgroundColor.backgroundRoot],children:(0,r.tZ)(f.xv,{css:[f.l0.font.code,f.l0.color.greyStronger,f.l0.p(4)],children:e.value})},"".concat(t,"-").concat(n))}))}),(0,r.tZ)(Ue,{code:s.reduce((function(e,t){return"input"===t.type?e+(t.value||t.placeholder):e+t.value}),""),activeFile:o})]})]})},Ue=function(e){var t=e.code,n=e.activeFile,i=(0,Fe.Z)(n);return i?(0,r.tZ)(f.Tg,{background:"default",children:(0,r.tZ)(f.zx,{small:!0,outlined:!0,onClick:function(){i({code:t})},text:"Insert",iconRight:(0,r.tZ)(We.Z,{}),css:{width:"fit-content"}})}):(0,r.tZ)(f.Tg,{background:"default",children:(0,r.tZ)(f.zx,{small:!0,outlined:!0,onClick:function(){return(0,Pe.Z)(t)},text:"Copy",iconLeft:(0,r.tZ)(Ve.Z,{}),css:{width:"fit-content"}})})},Oe=[{title:"Set a key to a value",content:[{type:"code",value:"curl $REPLIT_DB_URL -d '"},{type:"input",placeholder:"key"},{type:"code",value:"="},{type:"input",placeholder:"value"},{type:"code",value:"'"}]},{title:"Get a key's value",content:[{type:"code",value:"curl $REPLIT_DB_URL/"},{type:"input",placeholder:"key"}]},{title:"Delete a key",content:[{type:"code",value:"curl -XDELETE $REPLIT_DB_URL/"},{type:"input",placeholder:"key"}]},{title:"List all keys",content:[{type:"code",value:'curl "$REPLIT_DB_URL?prefix='},{type:"input",placeholder:"key"},{type:"code",value:'"'}]}],qe=[{title:"Import the database",content:[{type:"code",value:"from replit import db"}]},{title:"Set a key to a value",content:[{type:"code",value:'db["'},{type:"input",placeholder:"key"},{type:"code",value:'"] = "'},{type:"input",placeholder:"value"},{type:"code",value:'"'}]},{title:"Get a key's value",content:[{type:"code",value:'value = db["'},{type:"input",placeholder:"key"},{type:"code",value:'"]'}]},{title:"Delete a key",content:[{type:"code",value:'del db["'},{type:"input",placeholder:"key"},{type:"code",value:'"]'}]},{title:"List all keys",content:[{type:"code",value:"keys = db.keys()"}]},{title:"List keys with a prefix",content:[{type:"code",value:'matches = db.prefix("'},{type:"input",placeholder:"prefix"},{type:"code",value:'")'}]}],$e=[{title:"Import the database",content:[{type:"code",value:'import "github.com/replit/database-go"'}]},{title:"Set a key to a value",content:[{type:"code",value:'database.Set("'},{type:"input",placeholder:"key"},{type:"code",value:'", "'},{type:"input",placeholder:"value"},{type:"code",value:'")'}]},{title:"Get a key's value",content:[{type:"code",value:'value, _ := database.Get("'},{type:"input",placeholder:"key"},{type:"code",value:'")'}]},{title:"Delete a key",content:[{type:"code",value:'database.Delete("'},{type:"input",placeholder:"key"},{type:"code",value:'")'}]},{title:"List all keys",content:[{type:"code",value:'keys, _ := database.ListKeys("")'}]},{title:"List keys with a prefix",content:[{type:"code",value:"matches, _ := database.ListKeys("},{type:"input",placeholder:"prefix"},{type:"code",value:'")'}]}],Ye=[{title:"Import the database",content:[{type:"code",value:'const Database = require("@replit/database")'}]},{title:"Create a new database",content:[{type:"code",value:"const db = new Database()"}]},{title:"Set a key to a value",content:[{type:"code",value:'db.set("'},{type:"input",placeholder:"key"},{type:"code",value:'", "'},{type:"input",placeholder:"value"},{type:"code",value:'").then(() => {});'}]},{title:"Get a key's value",content:[{type:"code",value:'db.get("'},{type:"input",placeholder:"key"},{type:"code",value:'").then(value => {});'}]},{title:"Delete a key",content:[{type:"code",value:'db.delete("'},{type:"input",placeholder:"key"},{type:"code",value:'").then(() => {});'}]},{title:"List all keys",content:[{type:"code",value:"db.list().then(keys => {});"}]},{title:"List keys with a prefix",content:[{type:"code",value:'db.list("'},{type:"input",placeholder:"prefix"},{type:"code",value:'").then(matches => {});'}]}],Ke=function(e){var t=e.examples,n=e.activeFile;return(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(24)],children:t.map((function(e,t){return(0,r.tZ)(Ae,{title:e.title,content:e.content,activeFile:n},t)}))})},Je=function(e){var t=e.activeFile;return(0,r.tZ)(r.HY,{children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(24)],children:[(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),{flexWrap:"wrap"}],children:[(0,r.tZ)(f.xv,{color:"dimmer",multiline:!0,children:"We\u2019ve set an environment variable called"}),(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(4),f.l0.backgroundColor.backgroundRoot],children:(0,r.tZ)(f.xv,{css:[f.l0.font.code,f.l0.color.greyStronger,f.l0.p(4)],children:"REPLIT_DB_URL"})}),(0,r.tZ)(f.xv,{color:"dimmer",multiline:!0,children:"in your Repl."})]}),Oe.map((function(e,n){return(0,r.tZ)(Ae,{title:e.title,content:e.content,activeFile:t},n)})),(0,r.tZ)(f.xv,{color:"dimmer",multiline:!0,children:"You can use the Database from any Repl by making HTTP requests similar to those above. We have language clients for Python, Go, and Node, switch to a file that uses that language to see how to use the client."})]})})},Qe=function(){return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16)],children:[(0,r.BX)(f.xv,{multiline:!0,children:[(0,r.tZ)("a",{href:"https://docs.replit.com/hosting/database-faq",target:"_blank",rel:"noopener",css:[f.l0.color.accentPrimaryStronger,f.l0.pr(4)],children:"Replit Database"}),"is the fastest and easiest way to store data from your Repl. Try it out by logging in or signing up."]}),(0,r.tZ)(f.ZP,{href:"/signup",colorway:"primary",text:"Sign up",iconLeft:(0,r.tZ)(Ee.Z,{})})]})},et={Content:function(){var e=(0,k.Z)();return(0,r.tZ)(ze,{activeFile:e})},Icon:function(e){var t=e.size;return(0,r.tZ)(Se.Z,{size:t})},getTitle:function(){return"Database"}},tt=n(34727),nt=n(70655),rt=n(50319);function it(){var e=(0,Te.Z)(["\n  mutation CreateNeonDatabase($input: CreateNeonDatabaseInput!) {\n    createNeonDatabase(input: $input) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on CreateNeonDatabaseResult {\n        databaseId\n        databaseName\n        projectId\n        connectionString\n        isFrozen\n      }\n    }\n  }\n"]);return it=function(){return e},e}function ot(){var e=(0,Te.Z)(["\n  mutation DeleteNeonDatabase($input: DeleteNeonDatabaseInput!) {\n    deleteNeonDatabase(input: $input) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on DeleteNeonDatabaseResult {\n        success\n      }\n    }\n  }\n"]);return ot=function(){return e},e}function at(){var e=(0,Te.Z)(["\n  query GetNeonDatabases($input: GetNeonDatabasesInput!) {\n    getNeonDatabases(input: $input) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on GetNeonDatabasesResult {\n        databases {\n          databaseId\n          databaseName\n          projectId\n          connectionString\n          isFrozen\n        }\n      }\n    }\n  }\n"]);return at=function(){return e},e}function lt(){var e=(0,Te.Z)(["\n  mutation UnfreezeNeonDatabase($input: UnfreezeNeonDatabaseInput!) {\n    unfreezeNeonDatabase(input: $input) {\n      ... on UnfreezeNeonDatabaseResult {\n        success\n      }\n    }\n  }\n"]);return lt=function(){return e},e}var st={},ct=(0,_e.Ps)(it());var ut=(0,_e.Ps)(ot());var dt=(0,_e.Ps)(at());var pt=(0,_e.Ps)(lt());var ft=n(93058),ht=n(57704),mt=n(70917),vt=n(70806),gt=n(88075),Zt=n(73935),bt=n(59006),yt=n(69355),xt=n(21390),wt=n(92125),Ct=n(30551),kt=n(83952),Lt=n(65812),St={"td,th":{border:"1px solid "+f.TV.outlineDefault}},Bt={"td,th":{paddingLeft:8,paddingTop:8,paddingBottom:8,paddingRight:8,whiteSpace:"nowrap"},"td:first-of-type,th:first-of-type":{paddingLeft:8}},Et={outline:"2px solid ".concat(f.TV.accentPrimaryDefault),outlineOffset:"-2px"},Tt=(0,mt.iv)({":focus:focus-visible":Et}),_t=(0,mt.iv)(Et),Rt=(0,mt.iv)([Bt,St,Tt]),Dt=(0,mt.iv)([f.l0.fontWeight.medium,Bt,St,Tt]),Gt=(0,mt.iv)({"tbody > tr:hover":{backgroundColor:f.TV.backgroundHigher,cursor:"pointer"}});function It(e){var t=e.type,n=e.style,i=e.children,o=(0,wt.LA)().rowGroupProps;return(0,r.tZ)(t,(0,V.Z)((0,F.Z)({},o),{style:n,children:i}))}function jt(e){var t=e.item,n=e.state,o=e.children,a=(0,i.useRef)(null),l=(0,wt.Qm)({node:t},n,a).rowProps;return(0,r.tZ)("tr",(0,V.Z)((0,F.Z)({css:Dt},l),{ref:a,children:o}))}function Mt(e){var t,n=e.column,o=e.state,a=(0,i.useRef)(null),l=(0,wt.WY)({node:n},o,a).columnHeaderProps,s=(0,Ct.Fx)(),c=s.isFocusVisible,u=s.focusProps;return(0,r.tZ)("th",(0,V.Z)((0,F.Z)({},(0,kt.dG)(l,u)),{css:[c&&_t,Tt],colSpan:n.colspan,style:{textAlign:(null!==(t=n.colspan)&&void 0!==t?t:1)>1?"center":"left"},ref:a,children:n.rendered}))}function Pt(e){var t=e.item,n=e.children,o=e.state,a=(0,i.useRef)(null),l=(0,wt.U)({node:t},o,a).rowProps,s=(0,Ct.Fx)(),c=s.isFocusVisible,u=s.focusProps;return(0,r.tZ)("tr",(0,V.Z)((0,F.Z)({css:[c&&_t,Rt]},(0,kt.dG)(l,u)),{ref:a,children:n}))}function Nt(e){var t=e.cell,n=e.state,o=(0,i.useRef)(null),a=(0,wt.fs)({node:t},n,o).gridCellProps,l=(0,Ct.Fx)(),s=l.isFocusVisible,c=l.focusProps;return(0,r.tZ)("td",(0,V.Z)((0,F.Z)({},(0,kt.dG)(a,c)),{css:[s&&_t,Tt],ref:o,children:t.rendered}))}function Ft(e){var t=e.selectionMode,n=e.selectionBehavior,o=(0,Lt.oy)((0,V.Z)((0,F.Z)({},e),{showSelectionCheckboxes:"multiple"===t&&"replace"!==n})),a=(0,i.useRef)(null),l=o.collection,s=(0,wt.x6)(e,o,a).gridProps;return(0,r.BX)("table",(0,V.Z)((0,F.Z)({},s),{ref:a,css:[(null===e||void 0===e?void 0:e.onRowAction)&&Gt],style:{borderCollapse:"collapse"},children:[(0,r.tZ)(It,{type:"thead",children:l.headerRows.map((function(e){return(0,r.tZ)(jt,{item:e,state:o,children:(0,Be.Z)(e.childNodes).map((function(e){return(0,r.tZ)(Mt,{column:e,state:o},e.key)}))},e.key)}))}),(0,r.tZ)(It,{type:"tbody",children:(0,Be.Z)(l.body.childNodes).map((function(e){return(0,r.tZ)(Pt,{item:e,state:o,children:(0,Be.Z)(e.childNodes).map((function(e){return(0,r.tZ)(Nt,{cell:e,state:o},e.key)}))},e.key)}))})]}))}var Vt=function(e){var t=e.ariaTableProps,n=e.rows,i=e.columns;return(0,r.BX)(Ft,(0,V.Z)((0,F.Z)({},t),{children:[(0,r.tZ)(Lt.xD,{columns:i,children:function(e){return(0,r.tZ)(Lt.sg,{children:e.value})}}),(0,r.tZ)(Lt.RM,{items:n,children:function(e){return(0,r.tZ)(Lt.X2,{children:function(t){return(0,r.tZ)(Lt.bL,{children:e[t]})}})}})]}))};function Wt(e){var t=e.headerColumns,n=e.bodyData,i=e.ariaLabel,o=void 0===i?"Database Table":i,a=e.scrollRef,l=e.onRowAction,s=t.map((function(e,t){return{key:"string"===typeof e?e:"".concat(t),value:e}})),c=n.map((function(e,n){for(var r={id:n},i=0;i<e.length;i++){var o=t[i];r["string"===typeof o?o:"".concat(i)]=e[i]}return r}));return(0,r.tZ)(Vt,{ariaTableProps:{selectionMode:"none","aria-label":o,onRowAction:l,scrollRef:a},columns:s,rows:c})}var zt=function(e,t){var n=(0,v.Z)().psql,r=(0,a.Z)(i.useState(),2),o=r[0],l=r[1],s=(0,a.Z)(i.useState(!1),2),c=s[0],u=s[1],d=i.useCallback(function(){var r=(0,tt.Z)((function(){var r;return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:if(!e)return[2];i.label=1;case 1:return i.trys.push([1,,3,4]),u(!0),[4,n.run({query:e,connectionString:t})];case 2:return r=i.sent(),l(r),[3,4];case 3:return u(!1),[7];case 4:return[2]}}))}));return function(){return r.apply(this,arguments)}}(),[t,n,e]);return i.useEffect((function(){d()}),[t,n,e,d]),{data:o,loading:c,refetch:d}},Xt=function(e){var t=e.rows,n=e.columns;return!Array.isArray(t)||t.length<1?null:{headerColumns:null!==n&&void 0!==n?n:[],bodyData:t.map((function(e){return Object.values(e)}))}},Ht=function(e){var t=e.connectionString;return zt("SELECT n.nspname as \"Schema\",\n  c.relname as \"Name\",\n  CASE c.relkind WHEN 'r' THEN 'table' WHEN 'v' THEN 'view' WHEN 'm' THEN 'materialized view' WHEN 'i' THEN 'index' WHEN 'S' THEN 'sequence' WHEN 's' THEN 'special' WHEN 'f' THEN 'foreign table' WHEN 'p' THEN 'partitioned table' WHEN 'I' THEN 'partitioned index' END as \"Type\",\n  pg_catalog.pg_get_userbyid(c.relowner) as \"Owner\",\n  pg_catalog.pg_size_pretty(pg_catalog.pg_total_relation_size(c.oid)) as \"Size\",\n  pg_catalog.obj_description(c.oid, 'pg_class') as \"Description\"\nFROM pg_catalog.pg_class c\n     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace\nWHERE c.relkind IN ('r','p','v','m','S','f','')\n      AND n.nspname <> 'pg_catalog'\n      AND n.nspname <> 'information_schema'\n      AND n.nspname !~ '^pg_toast'\n  AND pg_catalog.pg_table_is_visible(c.oid)\nORDER BY 1,2;",t)},At=(0,X.cn)(void 0),Ut=(0,X.cn)((function(e){var t=e(At);return null===t||void 0===t?void 0:t.rows.reduce((function(e,t){var n=t.table_name,r=t.column_name;return e[n]||(e[n]=[]),e[n].push(r),e}),{})})),Ot=n(40403),qt=n(38630),$t=function(e){var t=e.headerTitle,n=e.onGoBack,i=e.children;return(0,r.BX)(f.G7,{css:[f.l0.flex.column,f.l0.height("100%")],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.py(16),f.l0.px(8),f.l0.align.center],children:[(0,r.tZ)(f.hU,{alt:"Go back",size:28,type:"button",onClick:n,children:(0,r.tZ)(qt.Z,{})}),(0,r.tZ)(f.xv,{css:[f.l0.fontSize(16),f.l0.ml(8)],children:t})]}),(0,r.tZ)(f.G7,{css:[f.l0.overflow("auto"),f.l0.height("calc(100% - 60px)")],children:i})]})},Yt=n(60977),Kt=function(e){(0,Yt.j)(Yt.U3.DATABASE_USED,(0,F.Z)({type:"PostgreSQL",provider:"neon"},e))},Jt=(0,X.cn)(["databaseManager"]),Qt=(0,X.cn)(null,(function(e,t,n){var r=e(Jt);t(Jt,(0,Be.Z)(r).concat([n])),Kt({action:"pageNav",databasePage:n})})),en=(0,X.cn)(null,(function(e,t){var n=e(Jt);t(Jt,n.slice(0,n.length-1))})),tn=(0,X.cn)((function(e){var t=e(Jt);return t[t.length-1]})),nn=function(){return(0,X.b9)(Qt)},rn=function(){return(0,X.b9)(en)},on=n(86503),an=n(90160),ln=(0,X.cn)(""),sn=(0,X.cn)(null),cn=(0,X.cn)(null,(function(e,t,n){var r=n.query;r&&t(ln,r);var i=e(sn);i&&i.dispatch({changes:{from:0,to:i.state.doc.length,insert:r}})})),un=n(71171),dn=n.n(un),pn=n(18172),fn=n(80086),hn=(0,fn.O4)("replDatabasesQueryHistory",[]),mn=function(e,t){return!e.isPinned&&t.isPinned?1:e.isPinned&&!t.isPinned?-1:"number"===typeof e.pinnedTimestamp&&"number"===typeof t.pinnedTimestamp?e.pinnedTimestamp-t.pinnedTimestamp:t.timestamp-e.timestamp},vn=function(){return(0,fn.lV)(i.useCallback((function(e,t,n){if(n){var r={id:dn()(),data:n,timestamp:Date.now()},i=e(hn),o=(0,pn.ZP)(i,(function(e){!function(e,t){var n=e.findIndex((function(e){return!e.isPinned&&e.data===t.data}));-1!==n?e.splice(n,1,t):e.push(t),e.sort(mn);var r=e.filter((function(e){return!e.isPinned})).length;if(r>=5){var i=r-5;e.splice(e.length-i,i)}}(e,r)}));t(hn,o)}}),[]))},gn=n(7756),Zn=n(44796),bn=n(43476),yn=function(e){var t=e.id,n=e.data,o=e.isPinned,a=function(e){return(0,fn.lV)(i.useCallback((function(t,n){var r=t(hn).find((function(t){return t.id===e})),i=(null===r||void 0===r?void 0:r.data)||"";i&&(n(cn,{query:i}),Kt({action:"queryHistoryItemSelected"}))}),[e]))}(t),l=function(e){return(0,fn.lV)(i.useCallback((function(t,n){var r=t(hn),i=(0,pn.ZP)(r,(function(t){var n=t.find((function(t){return t.id===e}));n&&(n.isPinned=!n.isPinned,n.isPinned?n.pinnedTimestamp=Date.now():n.pinnedTimestamp=void 0),t.sort(mn)}));n(hn,i),Kt({action:"queryHistoryItemPinned"})}),[e]))}(t);return(0,r.BX)(f.G7,{css:[{borderTop:"1px solid ".concat(f.TV.outlineDefault),":hover":{background:f.TV.backgroundHigher}},f.l0.flex.row,f.l0.p(8),f.l0.color.foregroundDimmer,f.l0.align.center,f.l0.cursor.pointer],onClick:a,children:[(0,r.tZ)(f.xv,{css:[f.l0.flex.growAndShrink(1)],children:n}),(0,r.tZ)(f.hU,{alt:"Pin query",onClick:l,children:o?(0,r.tZ)(bn.Z,{fill:f.TV.accentPrimaryDefault}):(0,r.tZ)(an.Z,{})})]})},xn=function(e){var t=e.onExpand,n=(0,X.Dv)(hn);return(0,r.tZ)(f.Qd,{onClick:t,headerContent:(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center,f.l0.p(2)],children:[(0,r.tZ)(Ot.Z,{}),(0,r.tZ)(f.xv,{css:[f.l0.color.foregroundDimmest],children:"Query History"})]}),children:(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8),f.l0.height("100%")],children:0===n.length?(0,r.tZ)(f.G7,{css:[f.l0.p(8)],children:(0,r.tZ)(f.xv,{css:[f.l0.color.foregroundDimmer],children:"No query history"})}):(0,r.tZ)(f.G7,{children:n.map((function(e){return(0,r.tZ)(yn,(0,F.Z)({},e),e.id)}))})})})},wn=function(e){var t=e.queryResult,n=e.scrollRef;if(null===t||void 0===t?void 0:t.error)return(0,r.tZ)(f.G7,{css:f.l0.px(8),children:(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.color.accentNegativeDefault],children:null===t||void 0===t?void 0:t.error})});if(!(null===t||void 0===t?void 0:t.rows))return null;var i=Xt(t);if(!i)return(0,r.tZ)(f.G7,{css:f.l0.px(8),children:(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.color.accentPositiveDefault],children:"Query successful, no rows returned"})});var o=i.headerColumns,a=i.bodyData;return(0,r.tZ)(f.G7,{css:f.l0.px(8),children:(0,r.tZ)(Wt,{headerColumns:o,bodyData:a,scrollRef:n})})},Cn=(0,mt.iv)([f.l0.height("100%"),f.l0.position.relative,f.l0.overflow("auto")]),kn=(0,mt.iv)([f.l0.position.sticky,f.l0.top(0),f.l0.left(0),f.l0.zIndex(1),f.l0.backgroundColor.backgroundDefault]),Ln=function(e){var t=e.connectionString,n=(0,a.Z)((0,X.KO)(ln),2),o=n[0],l=n[1],s=(0,vt.Z)({initialDoc:o}),c=s.view,u=s.ref,d=(0,a.Z)(i.useState(!1),2),p=d[0],h=d[1];i.useEffect((function(){return function(){var e;l(null!==(e=null===c||void 0===c?void 0:c.state.doc.toString())&&void 0!==e?e:"")}}),[l,null===c||void 0===c?void 0:c.state.doc]);var m=(0,X.b9)(sn);i.useEffect((function(){m(c)}),[m,c]);var g=function(e){var t=e.view,n=(0,bt.Z)({view:t}),o=i.useRef(null);return i.useEffect((function(){if(t){var e=document.createElement("div");return o.current=Zt.createPortal((0,r.tZ)("div",{css:[{fontFamily:f.TV.fontFamilyCode},f.l0.color.foregroundDimmest],children:"Type PostgreSQL queries here to use the database."}),e),t.dispatch({effects:n.reconfigure((0,Q.W$)(e))}),function(){t.dispatch({effects:n.reconfigure([])}),o.current=null}}}),[t,n]),o.current}({view:c});(0,yt.Z)({view:c}),function(e){var t=e.connectionString,n=zt("SELECT table_name, column_name, data_type FROM information_schema.columns WHERE table_schema = 'public';",t).data,r=(0,X.b9)(At);i.useEffect((function(){r(n)}),[n,r])}({connectionString:t});var Z=(0,X.Dv)(Ut);!function(e){var t=e.view,n=e.config,r=(0,bt.Z)({view:t});i.useEffect((function(){if(t)return t.dispatch({effects:r.reconfigure([ee.Wl.high((0,xt.sql)((0,F.Z)({dialect:xt.PostgreSQL},n)))])}),function(){t.dispatch({effects:r.reconfigure([])})}}),[t,r,n])}({view:c,config:{schema:Z}});var b=(0,gn.Lh)();(0,Zn.Z)({view:c,filePath:"mark.sql",decorations:b});var y=(0,v.Z)().psql,x=(0,a.Z)(i.useState(),2),w=x[0],C=x[1],k=(0,a.Z)(i.useState(!1),2),L=k[0],S=k[1],B=vn(),E=i.useCallback((function(){function e(){return(e=(0,tt.Z)((function(){var e,n;return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:if(!c)return[2];r.label=1;case 1:return r.trys.push([1,,3,4]),S(!0),e=null===c||void 0===c?void 0:c.state.doc.toString(),B(e),[4,y.run({query:e,connectionString:t})];case 2:return n=r.sent(),C(n),Kt({action:"queryRan"}),[3,4];case 3:return S(!1),[7];case 4:return[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,y,B,c]),T=nn(),_=i.useCallback((function(){T("databaseManager")}),[T]),R=i.useCallback((function(){T("tableSchemas")}),[T]),D=i.useRef(null);return(0,r.tZ)($t,{headerTitle:"Database Contents",onGoBack:_,children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),Cn],innerRef:D,children:[(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.px(8),f.l0.pb(8),p?null:kn],children:[(0,r.BX)(f.G7,{css:[{border:"1px solid ".concat(f.TV.outlineDefault)},f.l0.borderRadius(2)],children:[(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.borderRadius(8),f.l0.overflow("auto"),f.l0.maxHeight(300),{".cm-panel":{zIndex:1}}],innerRef:u}),g,(0,r.tZ)(xn,{expanded:p,onExpand:function(){h((function(e){return!e}))}})]}),(0,r.tZ)(f.zx,{text:"Run Query",iconLeft:L?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(gt.Z,{}),onClick:E,disabled:L})]}),(0,r.tZ)(wn,{queryResult:w,scrollRef:D}),(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8),f.l0.px(8),f.l0.py(8)],children:(0,r.tZ)(f.zx,{css:f.l0.backgroundColor.backgroundDefault,text:"Show All Contents",iconLeft:(0,r.tZ)(on.Z,{}),onClick:R})})]})})},Sn=n(8527),Bn=n(34296),En=n(93449),Tn=n(37424),_n="DATABASE_URL",Rn="PGDATABASE",Dn="PGHOST",Gn="PGPORT",In="5432",jn="PGUSER",Mn="PGPASSWORD",Pn=function(e){var t=e.envVarKey,n=e.envVarValue,o=e.isSecret,l=(0,Tn.H)()("db-env-var-".concat(t)),c=(0,a.Z)(i.useState(!1),2),u=c[0],d=c[1],p=!o||u?"text":"password";return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.flex.wrap,f.l0.align.end,f.l0.pb(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),{flexBasis:250},f.l0.flex.grow(0),f.l0.flex.shrink(1)],children:[(0,r.tZ)("label",{css:f.l0.color.foregroundDimmer,htmlFor:l,children:t}),(0,r.tZ)(f.II,{id:l,type:p,readOnly:!0,value:n})]}),(0,r.tZ)(f.zx,{text:"Copy",iconLeft:(0,r.tZ)(Sn.Z,{}),onClick:function(){(0,Pe.Z)(n),Kt({action:"envVarCopied",envVarKey:t,envVarType:"value"})}}),o?(0,r.tZ)(f.zx,{text:"View",iconLeft:(0,r.tZ)(s.Z,{}),onClick:function(){return d((function(e){return!e}))}}):null]})},Nn=function(e){var t,n=e.connectionString,r=e.databaseName,i=new URL(n.replace("postgres://","https://")),a=i.host,l=i.username,s=i.password;return t={},(0,o.Z)(t,_n,n),(0,o.Z)(t,Rn,r),(0,o.Z)(t,Dn,a),(0,o.Z)(t,Gn,In),(0,o.Z)(t,jn,l),(0,o.Z)(t,Mn,s),t},Fn=function(){var e=(0,v.Z)().fs;return i.useCallback((function(t){var n=t.connectionString,r=t.databaseName,i=Nn({connectionString:n,databaseName:r});function o(){return o=(0,tt.Z)((function(){var t,n,r,o,l,s,c,u,d,p,f,h,m,v;return(0,nt.__generator)(this,(function(g){switch(g.label){case 0:return[4,e.readFile(".env")];case 1:if(t=g.sent(),n="",t.error){if(t.error!==C.Df.NotFound)throw new Error("Error getting .env");n=""}else n=t.content;r=Bn.Z.parse(n.toString()),o=!1,l=(0,F.Z)({},r),s=!0,c=!1,u=void 0;try{for(d=Object.entries(i)[Symbol.iterator]();!(s=(p=d.next()).done);s=!0)f=(0,a.Z)(p.value,2),h=f[0],m=f[1],l[h]!==m&&(o=!0,l[h]=m)}catch(Z){c=!0,u=Z}finally{try{s||null==d.return||d.return()}finally{if(c)throw u}}return o?(v=Bn.Z.serialize(l),[4,e.writeFile(".env",En.Z.from(v))]):[2];case 2:return g.sent(),[2]}}))})),o.apply(this,arguments)}!function(){o.apply(this,arguments)}()}),[e])},Vn=function(e){var t=e.connectionString,n=e.databaseName,o=(0,$.Z)((function(){return Nn({connectionString:t,databaseName:n})}),[t,n]),a=o.PGHOST,l=o.PGUSER,s=o.PGPASSWORD,c=Fn();return i.useEffect((function(){c({connectionString:t,databaseName:n})}),[t,n,c]),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(Pn,{envVarKey:_n,envVarValue:t,isSecret:!0}),(0,r.tZ)(Pn,{envVarKey:Rn,envVarValue:n}),(0,r.tZ)(Pn,{envVarKey:Dn,envVarValue:a}),(0,r.tZ)(Pn,{envVarKey:Gn,envVarValue:In}),(0,r.tZ)(Pn,{envVarKey:jn,envVarValue:l}),(0,r.tZ)(Pn,{envVarKey:Mn,envVarValue:s,isSecret:!0})]})},Wn=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],zn=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];function Xn(e,t){var n,r=t||{},i=r.signed,o=void 0!==i&&i,a=r.digitsNumber,l=void 0===a?2:a,s=r.isKib,c=void 0===s||s,u=r.isKibNotation,d=void 0!==u&&u;if(n=o?e<0?"-":"+":"",0===e)return"".concat(n,"0B");var p=c?1024:1e3,f=d?Wn:zn,h=Math.floor(Math.log(Math.abs(e))/Math.log(p));return"".concat(n).concat(parseFloat(Math.abs(e/Math.pow(p,h)).toFixed(l))).concat(f[h])}var Hn=n(92732),An=n(83117),Un=function(e){var t=e.tableData,n=e.scrollRef,o=t.headerColumns,a=t.bodyData,l=nn(),s=i.useCallback((function(e){var t=parseInt(String(e),10);if(!isNaN(t)){var n=a[t][o.indexOf("Name")];l("table/".concat(n))}}),[l,o,a]);return(0,r.tZ)(Wt,{headerColumns:o,bodyData:a,onRowAction:s,scrollRef:n})},On=function(e){var t=e.psqlQueryResult,n=e.scrollRef,i=t.data;if(t.loading)return(0,r.tZ)(f.G7,{css:[f.l0.flex.row,f.l0.justify.center,f.l0.p(32)],children:(0,r.tZ)(Y.Z,{})});if(null===i||void 0===i?void 0:i.error)return(0,r.tZ)(f.G7,{css:[f.l0.flex.row,f.l0.justify.center,f.l0.p(32)],children:(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.color.accentNegativeDefault,f.l0.maxWidth("100%")],children:null===i||void 0===i?void 0:i.error})});var o=i?Xt(i):null;return o?(0,r.tZ)(Un,{tableData:o,scrollRef:n}):(0,r.tZ)(f.G7,{css:[f.l0.flex.row,f.l0.justify.center,f.l0.p(32)],children:(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.color.accentPositiveDefault,f.l0.maxWidth("100%")],children:"No tables found"})})},qn=function(e){var t=e.connectionString,n=rn(),o=i.useRef(null),a=Ht({connectionString:t}),l=a.refetch;return(0,r.BX)(f.G7,{css:[f.l0.flex.column,f.l0.height("100%")],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.py(16),f.l0.px(8),f.l0.align.center],children:[(0,r.tZ)(f.hU,{alt:"Go back",size:28,type:"button",onClick:n,children:(0,r.tZ)(qt.Z,{})}),(0,r.tZ)(f.G7,{css:[f.l0.flex.growAndShrink(1)],children:(0,r.tZ)(f.xv,{css:[f.l0.fontSize(16),f.l0.ml(8)],children:"All tables"})}),(0,r.tZ)(f.hU,{alt:"Refresh",size:24,type:"button",onClick:l,children:(0,r.tZ)(An.Z,{})})]}),(0,r.tZ)(f.G7,{css:[f.l0.flex.growAndShrink(1),f.l0.overflow("auto"),f.l0.px(8)],innerRef:o,children:(0,r.tZ)(On,{psqlQueryResult:a,scrollRef:o})})]})},$n="1px solid "+f.TV.outlineDefault,Yn=(0,mt.iv)([f.l0.p(8),f.l0.backgroundColor.backgroundDefault,f.l0.align.center,f.l0.borderRadius(0),{borderLeft:$n,borderRight:$n,borderBottom:$n},{":not([disabled])":{":focus":{boxShadow:"none",outline:"2px solid ".concat(f.TV.accentPrimaryDefault),outlineOffset:"-2px"},":hover":{backgroundColor:f.TV.backgroundHigher}}}]),Kn=function(e){var t=e.connectionString,n=Ht({connectionString:t}),o=n.data,l=n.loading,s=(0,a.Z)(i.useState(!1),2),c=s[0],u=s[1],d=i.useCallback((function(){u(!0)}),[]),p=o?Xt(o):null,h=i.useRef(null);if(!p||l)return null;var m=p.bodyData.length,v=p.headerColumns,g=p.bodyData,Z=m-5>0&&!c;return(0,r.tZ)(r.HY,{children:(0,r.BX)(f.G7,{css:[f.l0.overflow("auto"),f.l0.display.grid],innerRef:h,children:[(0,r.tZ)(Un,{tableData:{headerColumns:v,bodyData:c?g:g.slice(0,5)},scrollRef:h}),Z?(0,r.tZ)(f.zx,{text:"".concat(m-5," more"),css:Yn,onClick:d}):null]})})},Jn=n(59247),Qn=10*Math.pow(1024,3),er=Jn.z4["neon-database-preview"],tr=(0,Jn.qJ)(er),nr="".concat(er.toLocaleString()," Cycles (").concat(tr,") / day"),rr="https://docs.replit.com/hosting/databases/postgresql-on-replit",ir=function(e){var t=e.dbSize,n=e.totalSize,i=t,o=n,a=Xn(t),l=Xn(n),s=(0,$.Z)((function(){return(0,X.cn)(i)}),[i]),c=(0,$.Z)((function(){return(0,X.cn)(o)}),[o]);return(0,r.BX)(r.HY,{children:[(0,r.BX)(f.xv,{css:f.l0.color.foregroundDimmer,children:[a,"/",l]}),(0,r.tZ)(Hn.hF,{totalAtom:c,currentAtom:s,limitText:"".concat(a," / ").concat(l),inactive:!1,measure:"MB"})]})},or=function(e){var t,n,i=e.connectionString,o=zt("SELECT sum(pg_database_size(datname)) FROM pg_database;",i),a=o.data,l=o.loading,s=zt("SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' ORDER BY table_name;",i),c=s.data,u=s.loading,d=parseInt(null!==(n=null===(t=null===a||void 0===a?void 0:a.rows[0])||void 0===t?void 0:t.sum)&&void 0!==n?n:"0",10),p=null===c||void 0===c?void 0:c.rows.length;return(0,r.BX)(f.G7,{css:f.l0.rowWithGap(8),children:[u?null:(0,r.BX)(f.xv,{children:[p," ",1===p?"table":"tables"]}),l?null:(0,r.tZ)(ir,{dbSize:d,totalSize:Qn})]})},ar=function(e){var t=e.connectionString,n=e.onOpenDatabaseViewerClick;return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(or,{connectionString:t}),(0,r.tZ)(Kn,{connectionString:t}),(0,r.tZ)(f.zx,{text:"See Database Contents",iconLeft:(0,r.tZ)(on.Z,{}),onClick:n})]})},lr=n(81183),sr=function(e){var t=e.size,n=void 0===t?16:t;return(0,r.BX)("svg",{viewBox:"0 0 128 36",preserveAspectRatio:"xMidYMin",height:n,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6.207A6.207 6.207 0 0 1 6.207 0h23.586A6.207 6.207 0 0 1 36 6.207v20.06c0 3.546-4.488 5.085-6.664 2.286l-6.805-8.754v10.615A5.586 5.586 0 0 1 16.945 36H6.207A6.207 6.207 0 0 1 0 29.793V6.207Zm6.207-1.241c-.686 0-1.241.555-1.241 1.24v23.587c0 .686.555 1.242 1.24 1.242h10.925c.343 0 .434-.278.434-.621V16.18c0-3.547 4.488-5.086 6.665-2.286l6.805 8.753V6.207c0-.686.064-1.241-.621-1.241H6.207Z",fill:"#12FFF7"}),(0,r.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6.207A6.207 6.207 0 0 1 6.207 0h23.586A6.207 6.207 0 0 1 36 6.207v20.06c0 3.546-4.488 5.085-6.664 2.286l-6.805-8.754v10.615A5.586 5.586 0 0 1 16.945 36H6.207A6.207 6.207 0 0 1 0 29.793V6.207Zm6.207-1.241c-.686 0-1.241.555-1.241 1.24v23.587c0 .686.555 1.242 1.24 1.242h10.925c.343 0 .434-.278.434-.621V16.18c0-3.547 4.488-5.086 6.665-2.286l6.805 8.753V6.207c0-.686.064-1.241-.621-1.241H6.207Z",fill:"url(#a)"}),(0,r.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6.207A6.207 6.207 0 0 1 6.207 0h23.586A6.207 6.207 0 0 1 36 6.207v20.06c0 3.546-4.488 5.085-6.664 2.286l-6.805-8.754v10.615A5.586 5.586 0 0 1 16.945 36H6.207A6.207 6.207 0 0 1 0 29.793V6.207Zm6.207-1.241c-.686 0-1.241.555-1.241 1.24v23.587c0 .686.555 1.242 1.24 1.242h10.925c.343 0 .434-.278.434-.621V16.18c0-3.547 4.488-5.086 6.665-2.286l6.805 8.753V6.207c0-.686.064-1.241-.621-1.241H6.207Z",fill:"url(#b)"}),(0,r.tZ)("path",{d:"M29.793 0A6.207 6.207 0 0 1 36 6.207v20.06c0 3.546-4.488 5.085-6.664 2.286l-6.805-8.754v10.615A5.586 5.586 0 0 1 16.945 36a.62.62 0 0 0 .62-.62v-19.2c0-3.547 4.488-5.086 6.665-2.286l6.805 8.753V1.241C31.035.556 30.479 0 29.793 0Z",fill:"#B9FFB3"}),(0,r.tZ)("path",{d:"M60.686 10.6v9.416l-9.13-9.416h-4.752V26h4.334V15.88L61.082 26h3.938V10.6h-4.334ZM73.054 22.568V19.84h9.702v-3.278h-9.702v-2.53h11.77V10.6H68.632V26h16.434v-3.432H73.054ZM96.583 26.506c6.094 0 10.054-2.992 10.054-8.206 0-5.214-3.96-8.206-10.054-8.206S86.551 13.086 86.551 18.3c0 5.214 3.938 8.206 10.032 8.206Zm0-3.652c-3.388 0-5.478-1.65-5.478-4.554 0-2.904 2.112-4.554 5.478-4.554 3.388 0 5.478 1.65 5.478 4.554 0 2.904-2.09 4.554-5.478 4.554ZM123.249 10.6v9.416l-9.13-9.416h-4.752V26h4.334V15.88L123.645 26h3.938V10.6h-4.334Z",fill:"currentColor"}),(0,r.BX)("defs",{children:[(0,r.BX)("linearGradient",{id:"a",x1:"36",y1:"36",x2:"4.345",y2:"0",gradientUnits:"userSpaceOnUse",children:[(0,r.tZ)("stop",{stopColor:"#B9FFB3"}),(0,r.tZ)("stop",{offset:"1",stopColor:"#B9FFB3",stopOpacity:"0"})]}),(0,r.BX)("linearGradient",{id:"b",x1:"36",y1:"36",x2:"14.617",y2:"27.683",gradientUnits:"userSpaceOnUse",children:[(0,r.tZ)("stop",{stopColor:"#1A1A1A",stopOpacity:".9"}),(0,r.tZ)("stop",{offset:"1",stopColor:"#1A1A1A",stopOpacity:"0"})]})]})]})},cr=(0,mt.iv)([f.l0.color.foregroundDimmest,{textDecoration:"underline"}]),ur=function(){return(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8),f.l0.py(8),f.l0.width("100%")],children:(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center,f.l0.justify.spaceBetween],children:[(0,r.tZ)("a",{target:"_blank",href:rr,css:cr,children:"Docs"}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.xv,{css:[f.l0.fontSize(14)],children:"Powered by"}),(0,r.tZ)(sr,{})]})]})})},dr=n(88961),pr=function(e){var t=e.psqlQueryResult,n=e.tableName,i=e.connectionString,o=e.scrollRef,a=t.data,l=t.loading,s=function(e){var t=e.tableName,n=e.connectionString,r=zt(function(e){return"SELECT table_name, column_name, data_type FROM information_schema.columns WHERE table_schema = 'public' AND table_name = '".concat(e.replace(/"/g,'""'),"';")}(t),n).data;return r}({tableName:n,connectionString:i});if(l)return(0,r.tZ)(f.G7,{css:[f.l0.flex.row,f.l0.justify.center,f.l0.p(32)],children:(0,r.tZ)(Y.Z,{})});if(null===a||void 0===a?void 0:a.error)return(0,r.tZ)(f.G7,{css:[f.l0.flex.row,f.l0.justify.center,f.l0.p(32)],children:(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.color.accentNegativeDefault,f.l0.maxWidth("100%")],children:null===a||void 0===a?void 0:a.error})});var c=a?Xt(a):null;if(!c)return(0,r.tZ)(f.G7,{css:[f.l0.flex.row,f.l0.justify.center,f.l0.p(32)],children:(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.color.accentPositiveDefault,f.l0.maxWidth("100%")],children:"No rows"})});var u=c.headerColumns,d=c.bodyData;return(0,r.tZ)(Wt,{headerColumns:u.map((function(e,t){var n,i=null===s||void 0===s||null===(n=s.rows)||void 0===n?void 0:n.find((function(t){return t.column_name===e})),o=null===i||void 0===i?void 0:i.data_type,a=o?(0,r.tZ)(f.DR,{text:o}):null;return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.xv,{children:e}),a]},t)})),bodyData:d,scrollRef:o})},fr=function(e){var t=e.tableName,n=e.connectionString,o=rn(),a=i.useRef(null),l=zt('SELECT * FROM "'.concat(t.replace(/"/g,'""'),'" LIMIT ').concat(500),n),s=l.refetch;return(0,r.BX)(f.G7,{css:[f.l0.flex.column,f.l0.height("100%")],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.py(16),f.l0.px(8),f.l0.align.center],children:[(0,r.tZ)(f.hU,{alt:"Go back",size:28,type:"button",onClick:o,children:(0,r.tZ)(qt.Z,{})}),(0,r.tZ)(f.G7,{css:[f.l0.flex.growAndShrink(1)],children:(0,r.tZ)(f.xv,{css:[f.l0.fontSize(16),f.l0.ml(8)],children:t})}),(0,r.tZ)(f.hU,{alt:"Refresh",size:24,type:"button",onClick:s,children:(0,r.tZ)(An.Z,{})})]}),(0,r.tZ)(f.G7,{css:[f.l0.flex.growAndShrink(1),f.l0.overflow("auto"),f.l0.px(8)],innerRef:a,children:(0,r.tZ)(pr,{psqlQueryResult:l,tableName:t,connectionString:n,scrollRef:a})})]})},hr=function(e){var t=e.cyclesLow;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.fontSize(12),f.l0.color.foregroundDimmest],children:"You\u2019re paying ".concat(nr)}),t?(0,r.tZ)(f.G7,{children:(0,r.tZ)(f.E_,{icon:(0,r.tZ)(dr.Z,{}),colorway:"warning",text:"If your database use continues, you will be out of\n Cycles in [X] days and access to your database will be paused. \n Buy more Cycles or add a recurring Cycles subscription to prevent that from happening."})}):null]})},mr=n(92002),vr=n(34383),gr=n(50700),Zr=n(20861),br=n(51995),yr=n(35621);var xr=n(4914),wr=n(92350),Cr=(0,X.cn)(null),kr=(0,X.cn)(null),Lr=function(e){var t=e.title,n=e.children,i=e.isAccordion,o=e.sectionStyles;return(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8),f.l0.pt(8),{borderTopWidth:1,borderTopStyle:"solid",borderTopColor:f.TV.outlineDefault},o],children:i?(0,r.tZ)(f.Qd,{headerContent:(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:(0,r.tZ)(f.xv,{variant:"subheadDefault",children:t})}),children:(0,r.tZ)(f.G7,{css:[f.l0.p(12),f.l0.colWithGap(8),f.l0.height("100%")],children:n})}):(0,r.BX)(r.HY,{children:[(0,r.tZ)(f.xv,{css:[f.l0.fontSize(f.TV.fontSizeSubheadDefault),f.l0.fontWeight.medium],children:t}),n]})})},Sr=function(e){var t,n=e.neonDatabases,o=e.onDatabaseDeleted,l=e.onDatabaseUnfreezed,s=n[0],c=(0,ft.Z)().showError,u=(0,Ne.Z)(),d=function(){var e=i.useContext(yr.Z);if(!e)throw new Error("Expected Repl info to be in context");return e.slug}(),p=(0,X.Dv)(tn),h=nn(),m=i.useCallback((function(){h("queryEditor")}),[h]),v=(0,a.Z)(function(e){var t=(0,F.Z)({},st,e);return rt.D(ut,t)}(),2),g=v[0],Z=v[1].loading,b=i.useCallback((function(){B(!0)}),[]),y=(0,Zr.Z)({forceFetch:!1}),x=y.cycles,w=y.formattedBalanceValue,C="number"===typeof x&&x>er,k=i.useCallback((0,tt.Z)((function(){var e,t,n;return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:return[4,g({variables:{input:{replId:u,databaseId:s.databaseId}}})];case 1:return e=r.sent(),t=e.data,n=e.errors,B(!1),n&&n.length>0?(c("Error when deleting Neon database: ".concat(null===n||void 0===n?void 0:n.join())),Kt({action:"removed",success:!1}),[2]):"DeleteNeonDatabaseResult"!==(null===t||void 0===t?void 0:t.deleteNeonDatabase.__typename)?(c("Error: ".concat(null===t||void 0===t?void 0:t.deleteNeonDatabase.message)),Kt({action:"removed",success:!1}),[2]):((null===t||void 0===t?void 0:t.deleteNeonDatabase.success)?(o(),Kt({action:"removed",success:!0})):(c("Error: Delete Neon Database failed."),Kt({action:"removed",success:!1})),[2])}}))})),[g,s.databaseId,o,u,c]),L=(0,a.Z)(i.useState(!1),2),S=L[0],B=L[1],E=i.useCallback((function(){B(!1)}),[]),T=(0,a.Z)(i.useState(!1),2),_=T[0],R=T[1],D=i.useCallback((function(){R(!0)}),[]),G=(0,a.Z)(function(e){var t=(0,F.Z)({},st,e);return rt.D(pt,t)}(),2),I=G[0],j=G[1].loading,M=i.useCallback((0,tt.Z)((function(){var e,t,n;return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:return[4,I({variables:{input:{neonProjectId:s.projectId,replId:u}}})];case 1:return e=r.sent(),t=e.data,(n=e.errors)&&n.length>0?(c("Error when unfreezing Neon database: ".concat(null===n||void 0===n?void 0:n.join())),Kt({action:"unfreeze",success:!1}),[2]):"UnfreezeNeonDatabaseResult"!==(null===t||void 0===t?void 0:t.unfreezeNeonDatabase.__typename)?(c("Error: Unfreezes Neon Database failed."),Kt({action:"unfreeze",success:!1}),[2]):((null===t||void 0===t?void 0:t.unfreezeNeonDatabase.success)?(l(),Kt({action:"unfreeze",success:!0})):(c("Error: Unfreezes Neon Database failed."),Kt({action:"unfreeze",success:!1})),[2])}}))})),[s.projectId,l,u,c,I]),P=(0,X.Dv)(kr),N=P||"".concat(s.connectionString,"/").concat(s.databaseName,"?sslmode=require&options=project%3D").concat(s.projectId);if("queryEditor"===p)return(0,r.tZ)(Ln,{connectionString:N});if("tableSchemas"===p)return(0,r.tZ)(qn,{connectionString:N});if(p.startsWith("table/")){var V=p.slice(p.indexOf("/")+1);return(0,r.tZ)(fr,{tableName:V,connectionString:N})}return t=s.isFrozen?(0,r.BX)(r.HY,{children:[(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.G7,{css:[f.l0.width(8),f.l0.height(8),f.l0.backgroundColor.foregroundDimmer,f.l0.borderRadius("full")]}),(0,r.tZ)(f.xv,{css:[f.l0.color.foregroundDimmest],children:"Database paused"})]}),(0,r.BX)(f.xv,{multiline:!0,css:[f.l0.fontSize(12),f.l0.color.foregroundDimmest],children:["Databases cost ",nr]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.align.center],children:[(0,r.tZ)(ve.Z,{size:32,fill:f.TV.foregroundDimmest,css:f.l0.mt(32)}),(0,r.BX)(f.xv,{variant:"subheadDefault",css:[f.l0.my(16)],children:["Your Database is paused. You have ",w," cycles."]}),(0,r.BX)(f.xv,{multiline:!0,children:["Access to your databases will be paused until you"," ",C?"use cycles to resume database":"refill your Cycles balance","."]}),C?(0,r.tZ)(f.zx,{css:f.l0.pt(8),iconLeft:(0,r.tZ)(br.Z,{}),onClick:M,disabled:j,text:"Unpause Database",colorway:"primary"}):null,(0,r.tZ)(f.zx,{css:f.l0.pt(8),iconLeft:(0,r.tZ)(mr.Z,{}),onClick:D,text:C?"Buy more cycles":"Buy Cycles"})]}),(0,r.tZ)(gr.Z,{noPadding:!0,isOpen:_,maxWidth:vr.Wx,onRequestClose:function(){return R(!1)},fitContent:!0,replTitle:d,uponPurchaseGoTo:"workspace",context:"workspace_postgresql_pane",initialTab:"cycles"})]}):(0,r.BX)(r.HY,{children:[(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.G7,{css:[f.l0.width(8),f.l0.height(8),f.l0.backgroundColor.accentPositiveStronger,f.l0.borderRadius("full")]}),(0,r.tZ)(f.xv,{css:[f.l0.color.accentPositiveStrongest],children:"Database connected"})]}),(0,r.tZ)(hr,{}),(0,r.tZ)(Lr,{title:"Database Info",children:(0,r.tZ)(ar,{connectionString:N,onOpenDatabaseViewerClick:m})}),(0,r.tZ)(Lr,{title:"Using the database",isAccordion:!0,children:(0,r.tZ)(wr.ZP,{css:[xr.Z,f.l0.maxWidth("100%")],children:"\nPostgreSQL is a powerful open source relational database system that is widely used in web applications and other software development projects. You can easily create a production-ready PostgreSQL database directly within Replit. For more information on PostgreSQL, visit the [official documentation](https://www.postgresql.org/docs/). Repls use PostgreSQL version 15.\n\nHere is some information to help you get started:\n\n1. Replit databases are backed by [Neon](https://neon.tech/). The [Neon documentation](https://neon.tech/docs/connect/connect-from-any-app#connection-examples) provides guides on how to connect various frameworks, such as Django, to your PostgreSQL database.\n\n1. Environment Variables: We provided environment variables `DATABASE_URL`, `PGDATABASE`, `PGHOST`, `PGHOST`, `PGPORT`, `PGUSER`, `PGPASSWORD`. Provide these values to your framework of choice to connect to your database.\n\n1. Connection pooling: If you need to enable connection pooling for any reason, contact us at support@repl.it.\n\n1. Compute lifecycle: Neon databases go to sleep after 5 minutes of inactivity. You may experience disconnects or reconnects depending on your client.\n"})}),(0,r.tZ)(Lr,{title:"Environment variables",isAccordion:!0,children:(0,r.tZ)(Vn,{connectionString:N,databaseName:s.databaseName})})]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(0),f.l0.height("100%"),f.l0.p(8)],children:[(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(16),f.l0.flex.grow(1),f.l0.flex.shrink(0)],children:t}),(0,r.tZ)(f.G7,{css:[f.l0.pt(16)],children:S||Z?(0,r.BX)(f.Tg,{css:[f.l0.p(8),f.l0.colWithGap(8)],elevated:!0,children:[(0,r.tZ)(f.xv,{multiline:!0,children:"Removing this database will remove access to the data for this Repl, and remove the daily Cycles subscription of ".concat(nr,".")}),(0,r.tZ)(f.E_,{icon:(0,r.tZ)(dr.Z,{}),colorway:"warning",text:"This action cannot be undone."}),(0,r.tZ)(f.zx,{text:"Yes, Remove Database",colorway:"negative",disabled:Z,iconLeft:(0,r.tZ)(ht.Z,{}),onClick:k}),(0,r.tZ)(f.zx,{text:"Cancel",disabled:Z,onClick:E})]}):(0,r.tZ)(f.zx,{css:[f.l0.py(8)],text:"Remove Database",disabled:Z,iconLeft:(0,r.tZ)(ht.Z,{}),onClick:b})}),(0,r.tZ)(ur,{})]})},Br=n(3660),Er=n(4158),Tr=n(62913),_r=n(46702),Rr="Buy Cycles & Create a DB",Dr="Use Cycles to create a DB",Gr='Press "'.concat(Rr,'" to initiate a daily Cycles subscription and activate a Neon Database. You will be redirected to our payment processor.\n'),Ir='Press "'.concat(Dr,'" to initiate a daily Cycles subscription and activate a Neon Database.'),jr=function(e){var t=e.onDatabaseCreated,n=(0,Ne.Z)(),o=(0,ft.Z)().showError,l=(0,a.Z)(function(e){var t=(0,F.Z)({},st,e);return rt.D(ct,t)}(),2),s=l[0],c=l[1].loading,u=(0,Zr.Z)({forceFetch:!0}),d=u.cycles,p=u.loading,h=null!=d&&d>=er,m=p?"Loading Cycles Balance":h?Dr:Rr,v=h?Ir:Gr,g=i.useCallback((0,tt.Z)((function(){var e,r,i,a,l,c,u,d,p;return(0,nt.__generator)(this,(function(f){switch(f.label){case 0:return[4,s({variables:{input:{replId:n}}})];case 1:return e=f.sent(),r=e.data,(i=e.errors)&&i.length>0?(o("Error when creating Neon database: ".concat(null===i||void 0===i?void 0:i.join())),Kt({action:"created",success:!1}),[2]):"CreateNeonDatabaseResult"!==(null===r||void 0===r?void 0:r.createNeonDatabase.__typename)?(o("Error: ".concat(null===r||void 0===r?void 0:r.createNeonDatabase.message)),Kt({action:"created",success:!1}),[2]):(a=r.createNeonDatabase,l=a.databaseId,c=a.databaseName,u=a.connectionString,d=a.projectId,p=a.isFrozen,t({databaseId:l,databaseName:c,connectionString:u,projectId:d,isFrozen:p}),Kt({action:"created",success:!0}),[2])}}))})),[s,n,o,t]),Z=(0,a.Z)(i.useState(!1),2),b=Z[0],y=Z[1],x=i.useCallback((0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){return y(!0),[2]}))})),[]),w=i.useCallback((0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){return y(!1),[2]}))})),[]),C=i.useCallback((0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return[4,g()];case 1:return e.sent(),y(!1),[2]}}))})),[g]);return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(0),f.l0.height("100%"),f.l0.align.center,f.l0.p(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16),f.l0.flex.grow(1),f.l0.flex.shrink(0),f.l0.maxWidth(600)],children:[(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.G7,{css:[f.l0.p(16)],children:(0,r.tZ)(Tr.Z,{src:"/public/images/db_illustration.png",width:"144px",height:"144px",alt:"FPO visual"})}),(0,r.tZ)(f.xv,{css:[f.l0.fontSize(16),f.l0.fontWeight.bold],children:"Fully-managed PostgreSQL database"}),(0,r.tZ)(f.xv,{css:[f.l0.fontSize(14)],children:"10GB of fast read/write storage"}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.xv,{css:[f.l0.fontSize(14)],children:nr}),(0,r.tZ)(f.hU,{alt:v,size:24,children:(0,r.tZ)(Er.Z,{})})]})]}),(0,r.BX)(f.Tg,{css:[f.l0.colWithGap(8),f.l0.mb(8)],background:"default",children:[(0,r.tZ)(f.zx,{text:m,colorway:"primary",iconLeft:(0,r.tZ)(Se.Z,{}),disabled:p||c,onClick:x}),(0,r.tZ)(f.ZP,{outlined:!0,href:rr,target:"_blank",text:"Learn More",iconRight:(0,r.tZ)(_r.Z,{})})]}),(0,r.tZ)("hr",{css:[f.l0.my(16),{borderColor:f.TV.outlineDefault}]}),(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.fontSize(12),f.l0.color.foregroundDimmest],children:v}),(0,r.tZ)(Br.Z,{isOpen:b,onRequestClose:w,onRequestPowerUp:C,uponPurchaseGoTo:"workspace",context:"workspace_postgresql_pane",powerUp:"neon-database-preview"})]}),(0,r.tZ)(ur,{})]})},Mr=(0,X.cn)([]),Pr=function(){var e=(0,Ne.Z)(),t=(0,ft.Z)().showError,n=(0,v.Z)().psql,o=function(e){var t=(0,F.Z)({},st,e);return Re.a(dt,t)}({variables:{input:{replId:e}},fetchPolicy:"no-cache"}),l=o.data,s=o.loading,c=o.refetch,u=(0,a.Z)((0,X.KO)(Mr),2),d=u[0],p=u[1],h=Fn();i.useEffect((function(){"GetNeonDatabasesResult"===(null===l||void 0===l?void 0:l.getNeonDatabases.__typename)&&p(l.getNeonDatabases.databases),"UnauthorizedError"!==(null===l||void 0===l?void 0:l.getNeonDatabases.__typename)&&"UserError"!==(null===l||void 0===l?void 0:l.getNeonDatabases.__typename)||t("Error: ".concat(null===l||void 0===l?void 0:l.getNeonDatabases.message))}),[null===l||void 0===l?void 0:l.getNeonDatabases,p,t]);var m=i.useCallback(function(){var e=(0,tt.Z)((function(e){var r,i,o;return(0,nt.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,n.ensureNixPsqlPackageInstalled(!0)];case 1:return a.sent(),p([e]),r=e.connectionString,i=e.databaseName,h({connectionString:r,databaseName:i}),[3,3];case 2:return o=a.sent(),t("Error: ".concat(o.message)),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[n,h,p,t]),g=i.useCallback((function(){p([])}),[p]),Z=i.useCallback((function(){c()}),[c]),b=(0,X.Dv)(Cr);return b?(0,r.tZ)(Sr,{neonDatabases:[b],onDatabaseDeleted:g,onDatabaseUnfreezed:Z}):s?(0,r.tZ)(f.G7,{css:[f.l0.flex.row,f.l0.justify.center,f.l0.p(32)],children:(0,r.tZ)(Y.Z,{})}):d.length>0?(0,r.tZ)(Sr,{neonDatabases:d,onDatabaseDeleted:g,onDatabaseUnfreezed:Z}):(0,r.tZ)(jr,{onDatabaseCreated:m})},Nr=n(10982),Fr={Content:function(){return(0,r.tZ)(Pr,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(Nr.PostgresUi,{size:t})},getTitle:function(){return"PostgreSQL"}};function Vr(){var e=(0,Te.Z)(["\n  query ReplAuth($replID: String!) {\n    repl(id: $replID) {\n      ... on Repl {\n        id\n        config {\n          isServer\n        }\n      }\n    }\n    currentUser {\n      id\n      isLoggedIn\n    }\n  }\n"]);return Vr=function(){return e},e}var Wr={},zr=(0,_e.Ps)(Vr());var Xr=n(6625),Hr=n(58523),Ar=n(40705),Ur=n(38863),Or="Import HTML package",qr=[{title:"Get user info",content:[{type:"code",value:'<script type="module">const user = await getUserInfo() <\/script>'}]}],$r=[{title:Or,content:[{type:"code",value:'<script src="https://replit.com/public/js/repl-auth-v2.js"><\/script>'}]}],Yr=[{title:"Insert custom button",content:[{type:"code",value:'<button onclick="LoginWithReplit()"> Login </button>'}]}],Kr="Import Node package",Jr=[{title:"Get user info",content:[{type:"code",value:"const user = getUserInfo("},{type:"input",placeholder:"req"},{type:"code",value:")"}]}],Qr=[{title:Kr,content:[{type:"code",value:'const { getUserInfo } = require("@replit/repl-auth")'}]}],ei=function(e){var t=e.title,n=e.content,o=e.activeFile,l=(0,a.Z)(i.useState(n),2),s=l[0],c=l[1];return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(4)],children:[(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.align.center],children:[(0,r.tZ)(f.xv,{css:{fontWeight:f.TV.fontWeightMedium},multiline:!0,children:t}),"Get user info"===t&&(0,r.BX)(f.u,{tooltip:"User object contains 'id', 'name', 'roles', and 'teams'",placement:"top",children:[" ",(0,r.tZ)(Er.Z,{})]})]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(4),{width:"fit-content",wordBreak:"break-word"}],children:[(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.backgroundColor.backgroundRoot,f.l0.borderRadius(4),f.l0.p(4),f.l0.align.center],children:n.map((function(e,n){return"input"===e.type?(0,r.tZ)(f.II,{onChange:function(e){var t=(0,Be.Z)(s);t[n].value=e.target.value,c(t)},placeholder:e.placeholder,value:e.value||"",css:[f.l0.width(64),f.l0.height(24),f.l0.zIndex(1)]},"".concat(t,"-").concat(n)):(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(4),f.l0.backgroundColor.backgroundRoot],children:(0,r.tZ)(f.xv,{css:[f.l0.font.code,f.l0.color.greyStronger,f.l0.pb(4),f.l0.pt(4)],children:e.value})},"".concat(t,"-").concat(n))}))}),(0,r.tZ)(ti,{code:s.reduce((function(e,t){return"input"===t.type?e+(t.value||t.placeholder):e+t.value}),""),activeFile:o,packageImport:t===Kr||t===Or})]})]})},ti=function(e){var t=e.code,n=e.activeFile,i=e.packageImport,o=(0,Fe.Z)(n),a=(0,v.Z)().fs;return o?(0,r.tZ)(f.Tg,{background:"default",children:(0,r.tZ)(f.zx,{small:!0,outlined:!0,onClick:function(){if(i&&n&&a)return"html"!==(0,x.r6)(n)?void o({code:t,insertAt:0}):void a.readFile(n).then((function(e){if(e.error)throw e.error;var n=En.Z.from(e.content).toString(),r=n.indexOf("</head>")-1;-1===r&&(r=n.indexOf("<script")),-1===r&&(r=n.indexOf("</body>")),-1===r&&(r=n.length),o({code:t,insertAt:r})}));o({code:t})},text:i?"Auto add":"Insert",iconRight:(0,r.tZ)(We.Z,{}),css:{width:"fit-content"}})}):(0,r.tZ)(f.Tg,{background:"default",children:(0,r.tZ)(f.zx,{small:!0,outlined:!0,onClick:function(){return(0,Pe.Z)(t)},text:"Copy",iconLeft:(0,r.tZ)(Ve.Z,{}),css:{width:"fit-content"}})})},ni=function(e){var t=e.examples,n=e.activeFile;return(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(16)],children:t.map((function(e,t){return(0,r.tZ)(ei,{title:e.title,content:e.content,activeFile:n},t)}))})},ri=function(e){var t=e.activeFile,n=null;switch(e.langKey){case"html":n=$r;break;case"nodejs":n=Qr}return n?(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8)],children:(0,r.tZ)(ni,{examples:n,activeFile:t})}):null},ii=n(76832),oi=[{title:"Fetch from client",content:[{type:"code",value:"CURL /__replauthuser"}]},{title:"Or access server request headers",content:[{type:"code",value:"X-Replit-User-Id"}]},{title:"",content:[{type:"code",value:"X-Replit-User-Name"}]},{title:"",content:[{type:"code",value:"X-Replit-User-Teams"}]},{title:"",content:[{type:"code",value:"X-Replit-User-Roles"}]}],ai=function(){var e=(0,k.Z)();return(0,r.tZ)(r.HY,{children:(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(16)],children:oi.map((function(t,n){return(0,r.tZ)(ei,{title:t.title,content:t.content,activeFile:e},n)}))})})},li=function(e){var t=e.activeFile,n=e.langKey,i=(0,r.tZ)(ai,{});switch(n){case"html":i=(0,r.tZ)(ni,{examples:qr,activeFile:t});break;case"nodejs":i=(0,r.tZ)(ni,{examples:Jr,activeFile:t})}return(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8)],children:i})},si=function(e){var t=e.activeFile,n=e.langKey;return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[" ","html"!==n&&(0,r.tZ)(ni,{examples:$r,activeFile:t}),(0,r.tZ)(ni,{examples:Yr,activeFile:t})]})},ci=n(67034),ui=n(49012);function di(){var e,t,n,o,l,s=(0,Ne.Z)(),c=(0,v.Z)(),u=c.dotReplit,d=c.fs,p=(0,k.Z)(),h=(0,Ar.x)(),m=(0,Xr.Z)(),g=(0,ii.Z)(),Z=(0,ft.Z)().showError,b=(0,a.Z)(i.useState(!1),2),y=b[0],w=b[1],C=(0,a.Z)(i.useState(!1),2),L=C[0],S=C[1],B=(0,a.Z)(i.useState(!0),2),E=B[0],T=B[1],_=(0,a.Z)(i.useState(!0),2),R=_[0],D=_[1],G=(0,a.Z)(i.useState(null!==(o=null===h||void 0===h?void 0:h.language)&&void 0!==o?o:""),2),I=G[0],j=G[1],M=p?(0,x.r6)(p):null,P=function(e){var t=(0,F.Z)({},Wr,e);return Re.a(zr,t)}({variables:{replID:s}}),N=P.data,V=P.error,W=P.loading,z="Repl"===(null===N||void 0===N?void 0:N.repl.__typename)&&(null===N||void 0===N||null===(e=N.repl)||void 0===e||null===(t=e.config)||void 0===t?void 0:t.isServer);V&&(l="Couldn't load auth data");var X=null===N||void 0===N||null===(n=N.currentUser)||void 0===n?void 0:n.isLoggedIn,H=y||L,A=i.useCallback((0,tt.Z)((function(){var e,t,n,r,i,o,a,l,s=arguments;return(0,nt.__generator)(this,(function(c){switch(c.label){case 0:if(e=s.length>0&&void 0!==s[0]&&s[0],!m)return[2];T(!0),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,u.getConfig({bypassCache:!0})];case 2:if((l=c.sent()).error){if(l.error===ci.Yt.NotFound)return D(!1),T(!1),[2];throw Z("Couldn't load auth data"),T(!1),new Error(l.errorMessage)}return e&&(null===l||void 0===l||null===(t=l.config)||void 0===t||null===(n=t.auth)||void 0===n?void 0:n.pageEnabled)!==L&&g(),w(Boolean(null===l||void 0===l||null===(r=l.config)||void 0===r||null===(i=r.auth)||void 0===i?void 0:i.buttonEnabled)),S(Boolean(null===l||void 0===l||null===(o=l.config)||void 0===o||null===(a=o.auth)||void 0===a?void 0:a.pageEnabled)),T(!1),[3,4];case 3:return c.sent(),Z("Couldn't load auth data"),T(!1),[3,4];case 4:return[2]}}))})),[m,u,Z,g]);function U(){return O.apply(this,arguments)}function O(){return(O=(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return T(!0),(0,Yt.j)(Yt.U3.AUTH_SIDEBAR_USED,{action:"Login Page Enabled"}),[4,u.updateDotReplit([(0,Hr.$0)(!0),(0,Hr.Jk)(!1)])];case 1:return e.sent().error&&m&&(Z("Couldn't enable login page, please try again"),T(!1)),[2]}}))}))).apply(this,arguments)}function q(){return $.apply(this,arguments)}function $(){return($=(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return T(!0),(0,Yt.j)(Yt.U3.AUTH_SIDEBAR_USED,{action:"Login Button Enabled"}),[4,u.updateDotReplit([(0,Hr.$0)(!1),(0,Hr.Jk)(!0)])];case 1:return e.sent().error&&m&&(Z("Couldn't enable login button, please try again"),T(!1)),[2]}}))}))).apply(this,arguments)}function K(){return J.apply(this,arguments)}function J(){return(J=(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return T(!0),(0,Yt.j)(Yt.U3.AUTH_SIDEBAR_USED,{action:"Repl auth disabled"}),[4,u.updateDotReplit([(0,Hr.$0)(!1),(0,Hr.Jk)(!1)])];case 1:return e.sent().error&&(Z("Couldn't disable Log in with Replit, please try again"),T(!1)),[2]}}))}))).apply(this,arguments)}i.useEffect((function(){var e=function(){var e=(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return d&&m?[4,A()]:[2];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[d,m,A]),i.useEffect((function(){if(d&&m){var e=d.watchTextFile(Ur.l,{onChange:(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return m?[4,A(!0)]:[2];case 1:return e.sent(),[2]}}))}))});return function(){e(),m&&(S(!1),w(!1),T(!1))}}}),[m,d,S,A]),i.useEffect((function(){"react"!==I&&("jsx"!==M&&"tsx"!==M?h&&j(h.language):j("react"))}),[M,I,j,h]);var Q=function(){var e="html"===I||"nodejs"===I,t=(0,r.tZ)(f.xv,{multiline:!0,color:"dimmer",children:"You can use Log in with Replit with all web Repls. We have language clients for Nodejs and HTML - switch to a Repl that uses that language to see how to use it."});return y?(0,r.BX)(r.HY,{children:[(0,r.BX)(f.xv,{multiline:!0,color:"dimmer",children:["Your users can log in to your Repl using a custom button. Start by importing the package below"," ",(0,r.BX)("span",{onClick:U,css:[f.l0.color.blueStronger,f.l0.cursor.pointer],onKeyDown:U,role:"button",tabIndex:0,children:[" ","or use a prebuilt login page."]})]}),!e&&t]}):L?(0,r.BX)(r.HY,{children:[(0,r.BX)(f.xv,{multiline:!0,color:"dimmer",children:["Your Repl will automatically direct users to a prebuilt login page. Start by importing the package below"," ",(0,r.BX)("span",{onClick:q,css:[f.l0.color.blueStronger,f.l0.cursor.pointer],onKeyDown:q,role:"button",tabIndex:0,children:[" ","or use your own custom button."]})]})," ",!e&&t]}):(0,r.BX)(f.xv,{multiline:!0,css:[f.l0.mb(32),f.l0.pl(8),f.l0.pr(8)],children:["Let users log in to your Repl. Use a prebuilt login page or customize your own button."," ",(0,r.tZ)("a",{href:"https://docs.replit.com/hosting/repl-auth-sidebar",target:"_blank",rel:"noopener",css:[f.l0.color.accentPrimaryStronger,f.l0.pr(4)],children:"Learn more"})]})},ee=function(){return E||W?(0,r.tZ)(f.G7,{css:[f.l0.align.center],children:(0,r.tZ)(Y.Z,{})}):X?l?(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.color.accentNegativeStronger],children:l}):R?"html"===I||z?H?(0,r.BX)(f.G7,{children:[(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.pl(8),f.l0.pr(8)],children:[(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8)]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:["nodejs"===I&&y?null:(0,r.tZ)(ri,{activeFile:p,langKey:I}),y?(0,r.tZ)(si,{activeFile:p,langKey:I}):null]})]}),(0,r.BX)(f.G7,{css:[f.l0.pl(8),f.l0.pr(8)],children:[(0,r.tZ)(f.xv,{variant:"small",css:[f.l0.mb(8),f.l0.mt(24),{textTransform:"uppercase",fontWeight:f.TV.fontWeightMedium}],children:"Usage"}),(0,r.tZ)(f.RX,{css:[f.l0.backgroundColor.backgroundHigher]}),(0,r.tZ)(f.G7,{css:[f.l0.mt(16)],children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[" ","nodejs"===I&&y?(0,r.tZ)(ri,{activeFile:p,langKey:I}):null,(0,r.tZ)(li,{activeFile:p,langKey:I})]})})," "]}),(0,r.tZ)(f.G7,{css:[f.l0.pr(8),f.l0.pl(8),f.l0.mt(24),f.l0.mb(8)],children:(0,r.tZ)(f.zx,{onClick:K,text:"Disable Auth",colorway:"negative",outlined:!0})})]}):(0,r.BX)(f.G7,{css:[f.l0.pr(8),f.l0.pl(8)],children:[(0,r.tZ)(f.zx,{colorway:"primary",onClick:U,text:"Enable Login Page",iconLeft:(0,r.tZ)(ui.Z,{})}),(0,r.BX)(f.xv,{multiline:!0,css:[f.l0.textAlign.center,f.l0.mt(8),f.l0.fontSize(12),f.l0.color],children:["Automatically redirect users to a prebuilt login page"," ",(0,r.tZ)("span",{onClick:q,css:[f.l0.color.blueStronger,f.l0.cursor.pointer],onKeyDown:q,role:"button",tabIndex:0,children:"or use your own custom button."})]})]}):(0,r.BX)(f.G7,{css:[f.l0.textAlign.center],children:[(0,r.tZ)(f.E_,{colorway:"warning",text:"Please start your web app to use Log in with Replit"}),(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.mt(4)],children:(0,r.tZ)("a",{href:"https://docs.replit.com/hosting/deploying-http-servers",target:"_blank",rel:"noopener",children:"Learn how to start a web app"})})]}):(0,r.BX)(f.G7,{css:[f.l0.textAlign.center],children:[(0,r.tZ)(f.E_,{colorway:"warning",text:"Please create a .replit file to use Log in with Replit"}),(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.mt(4)],children:(0,r.tZ)("a",{href:"https://docs.replit.com/programming-ide/configuring-repl#replit",target:"_blank",rel:"noopener",children:"Learn more about the .replit file"})})]}):(0,r.tZ)(f.G7,{css:[f.l0.align.center],children:(0,r.tZ)(pi,{})})};return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16),f.l0.backgroundColor.backgroundDefault,f.l0.p(8),f.l0.borderRadius(0,4,4,0)],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadBig",children:"Log in with Replit"}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16),{overflowY:"auto",width:"100%",flex:"1"}],children:[(0,r.tZ)(Q,{}),(0,r.tZ)(ee,{})]})]})}var pi=function(){return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16)],children:[(0,r.BX)(f.xv,{multiline:!0,children:[(0,r.tZ)("a",{href:"https://docs.replit.com/hosting/repl-auth-sidebar",target:"_blank",rel:"noopener",css:[f.l0.color.accentPrimaryStronger,f.l0.pr(4)],children:"Replit Authentication"}),"is the fastest and easiest way to set up authentication in your Repl. Try it out by logging in or signing up."]}),(0,r.tZ)(f.ZP,{href:"/signup",colorway:"primary",text:"Sign up",iconLeft:(0,r.tZ)(Ee.Z,{})})]})},fi={Content:function(){return(0,r.tZ)(f.G7,{css:[f.l0.height("100%"),f.l0.overflowY("auto"),O.F3],children:(0,r.tZ)(di,{})})},Icon:function(e){var t=e.size;return(0,r.tZ)(ui.Z,{size:t})},getTitle:function(){return"Authentication"}},hi=n(82947),mi={Content:function(){return null},Icon:function(){return null},getTitle:function(){return""}},vi=n(34467),gi=n(24337),Zi={Content:function(){return(0,r.tZ)(bi,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(vi.Z,{size:t})},getTitle:function(){return"Output"}};function bi(){var e=(0,v.Z)(),t=e.fs,n=e.container;return(0,r.tZ)(f.G7,{css:[f.l0.flex.growAndShrink(1)],children:(0,r.tZ)(gi.Z,{fs:t,container:n})})}var yi=n(72092),xi=n(34054),wi={Content:function(e){var t=e.options;return(0,r.tZ)(Ci,{autoFocus:!t.isHidden})},Icon:function(e){var t=e.size;return(0,r.tZ)(xi.Z,{size:t})},getTitle:function(){return"Shell"}};function Ci(e){var t=e.autoFocus,n=(0,v.Z)().container,i=(0,a.Z)((0,yi.S)({container:n,autoFocus:t}),2),o=i[0],l=i[1];return(0,O.L5)((function(){if(o)return{focus:function(){return o.focus()}}}),[o]),(0,r.tZ)(yi.N,{shell:o,shellRef:l})}var ki=n(58979),Li=n(64080),Si=n(29830),Bi={Content:function(e){var t=e.pane,n=e.options.replacePane;return(0,r.tZ)(Ei,{path:t.data.path,replacePane:n})},Icon:function(e){var t=e.size;return(0,r.tZ)(Li.Z,{size:t})},getTitle:function(e){return(0,x.UO)(e.data.path)}};function Ei(e){var t=e.path,n=e.replacePane,i=(0,v.Z)(),o=i.fs,a=i.broadcast,l=i.presence;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(Si.HK,{path:t,replacePane:n}),(0,r.tZ)(Si.VY,{children:(0,r.tZ)(ki.Z,{fs:o,broadcast:a,presence:l,filePath:t})})]})}var Ti=n(63872),_i={Content:function(e){var t=e.pane,n=e.options;return(0,r.tZ)(Ri,{path:t.data.path,replacePane:n.replacePane})},Icon:function(e){var t=e.pane,n=e.size;return(0,r.tZ)(W.Z,{path:t.data.path,size:n})},getTitle:function(e){return(0,x.UO)(e.data.path)}};function Ri(e){var t=e.path,n=e.replacePane,i=(0,v.Z)().fs;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(Si.HK,{path:t,replacePane:n}),(0,r.tZ)(Si.VY,{centered:!0,children:(0,r.tZ)(Ti.Z,{filePath:t,fs:i})})]})}var Di=n(83074),Gi=n(92467),Ii=n(16965),ji=n(23053),Mi=n(64063),Pi=n.n(Mi);function Ni(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,i.useState)(null),l=a[0],s=a[1],c=(0,Ii.Z)(l),u=null===(n=null!==(t=o.keepStaleResult)&&void 0!==t?t:o.refresh)||void 0===n||n,d=(0,i.useCallback)((function(e){Pi()(e,c.current)||s(e)}),[c]),p=(0,$.Z)((function(){return e}),(0,Be.Z)(r)),f=(0,v.Z)().git,h=(0,i.useRef)(null),m=(0,i.useCallback)((function(){h.current?h.current():u||d(null);var e=!1;p(f).then((function(t){e||(d(t),h.current=null)})).catch((function(){if(!e){var t={error:ji.aq.UNKNOWN};d(t),h.current=null}})),h.current=function(){e=!0,h.current=null,u||d(null)}}),[d,p,f,u]);return(0,i.useEffect)((function(){return m()}),[m]),(0,i.useEffect)((function(){var e;if(null===(e=o.refresh)||void 0===e||e)return f.onRefresh(m)}),[f,m,o.refresh]),l}var Fi=n(79803),Vi=n(48505),Wi=n(34288),zi=n(87653);function Xi(){var e=(0,i.useState)(!1),t=e[0],n=e[1],o=(0,v.Z)().git,a=function(){var e=(0,i.useState)(!1),t=e[0],n=e[1],r=(0,v.Z)().git;return(0,i.useEffect)((function(){return r.onBusyChange(n)}),[r]),t}(),l=Ni(function(){var e=(0,tt.Z)((function(e){var t;return(0,nt.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.getRemotes()];case 1:return(t=n.sent()).error?[2,t]:[2,{hasRemotes:t.remotes.size>0,error:null}]}}))}));return function(t){return e.apply(this,arguments)}}());if(null===l||void 0===l?void 0:l.error)return null;var s=!!l&&l.hasRemotes,c=a||t||null===l;function u(){return(u=(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return o.isBusy()||c?[2]:(n(!0),s?[4,o.fetch()]:[3,2]);case 1:e.sent(),e.label=2;case 2:return o.forceRefresh(),setTimeout((function(){return n(!1)}),500),[2]}}))}))).apply(this,arguments)}var d=s?"Refresh and Fetch":"Refresh";return(0,r.tZ)(f.hU,{alt:d,size:24,onClick:function(){return u.apply(this,arguments)},disabled:c,children:c?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(An.Z,{})})}var Hi=n(1439),Ai=n(99086),Ui=n(67536),Oi=f.l0.fontWeight.medium,qi=f.l0.color.foregroundDimmest,$i=(0,mt.iv)({fontSize:f.TV.fontSizeSmall}),Yi=(0,mt.iv)({fontSize:f.TV.fontSizeDefault});function Ki(e){var t=e.text,n=e.className;return(0,r.tZ)("span",{className:n,css:[f.l0.color.orangeStronger,Oi],children:t})}function Ji(e){var t=e.text,n=e.className;return(0,r.tZ)("span",{className:n,css:[f.l0.color.purpleStronger,Oi],children:t})}function Qi(e){var t,n=e.id,i=e.hash,o=void 0===i||i,a=e.className;return t=o?"string"===typeof n&&n.startsWith("#")?n:"#".concat(n):"string"===typeof n&&n.startsWith("#")?n.slice(1):"".concat(n),(0,r.tZ)("span",{className:a,css:Oi,children:t})}function eo(e){var t=e.hash,n=e.length,i=void 0===n?8:n,o=e.className;return(0,r.tZ)("span",{className:o,css:Oi,children:t.slice(0,i+1)})}function to(e){var t=e.subject,n=e.quoted,i=void 0!==n&&n,o=e.className;return(0,r.tZ)("span",{className:o,children:i?'"'.concat(t,'"'):t})}var no=(0,mt.iv)({whiteSpace:"pre-wrap"},f.l0.font.code,$i);function ro(e){var t=e.body,n=e.className;return(0,r.tZ)("pre",{className:n,css:no,children:t})}function io(e){var t=e.name,n=e.remote,i=e.current,o=void 0!==i&&i,a=e.heading,l=void 0!==a&&a,s=e.icon,c=void 0!==s&&s,u=e.onClick,d=e.className,p=null;if(c){var h=l?16:12;p=o?(0,r.tZ)(Ai.Z,{size:h}):(0,r.tZ)(Hi.Z,{size:h})}return l?(0,r.BX)(f.xv,{css:[f.l0.rowWithGap(8),f.l0.align.baseline,f.l0.flex.shrink(1)],variant:"subheadDefault",children:[p,(0,r.BX)("span",{css:[f.l0.rowWithGap(4),f.l0.align.baseline,f.l0.flex.shrink(1)],children:[n?(0,r.BX)(r.HY,{children:[(0,r.tZ)("span",{css:qi,children:n}),(0,r.tZ)("span",{css:qi,children:"/"})]}):null,u?(0,r.tZ)(so,{label:"View branch",onClick:u,children:t}):(0,r.tZ)("span",{children:t})]}),o?(0,r.BX)(r.HY,{children:[(0,r.tZ)("span",{css:[qi,Yi],children:"\u2022"}),(0,r.tZ)("span",{css:[qi,Yi],children:"Current"})]}):null]}):(0,r.BX)("span",{className:d,css:[f.l0.rowWithGap(4),f.l0.align.baseline,f.l0.flex.shrink(1),Oi],children:[p,n?(0,r.tZ)("span",{css:[qi,$i],children:n}):null,u?(0,r.tZ)(so,{label:"View branch",onClick:u,children:t}):(0,r.tZ)("span",{children:t}),o?(0,r.BX)(r.HY,{children:[(0,r.tZ)("span",{css:[qi,$i],children:"\u2022"}),(0,r.tZ)("span",{css:[qi,$i],children:"Current"})]}):null]})}function oo(e){var t=e.path,n=e.clickable,i=void 0!==n&&n,o=e.className,a=(0,Ui.F)(),l=(0,x.UO)(t);return i?(0,r.tZ)(so,{label:"Open ".concat(l),onClick:function(){return a(t,{})},className:o,children:(0,r.tZ)(f.u,{tooltip:t,children:l})}):(0,r.tZ)("span",{className:o,children:l})}var ao,lo=(0,mt.iv)({cursor:"pointer","&:hover":{textDecoration:"underline"}});function so(e){var t=e.label,n=e.onClick,i=e.className,o=e.children;return(0,r.tZ)("span",{className:i,css:lo,role:"button",tabIndex:-1,"aria-label":t,onClick:n,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||null===n||void 0===n||n()},children:o})}function co(e){var t=e.mode,n=e.branch,o=e.current,a=e.switchMode,l=e.onSearchOpen,s=e.onSearchClose,c=e.onSearchChange,u=(0,i.useState)(!1),d=u[0],p=u[1],h=(0,i.useCallback)((function(){p(!0),null===l||void 0===l||l()}),[l]),m=(0,i.useCallback)((function(){p(!1),null===s||void 0===s||s()}),[s]),v=null,g=null;if(d)v=(0,r.tZ)(ho,{mode:t,onSearchChange:c,closeSearch:m}),g=(0,r.tZ)(fo,{closeSearch:m});else switch(t){case ao.DASHBOARD:v=(0,r.BX)(r.HY,{children:[(0,r.tZ)(Wi.Z,{size:16}),(0,r.tZ)(f.xv,{variant:"subheadDefault",children:"Repository"})]}),g=(0,r.BX)(r.HY,{children:[(0,r.tZ)(po,{openSearch:h}),(0,r.tZ)(Xi,{})]});break;case ao.BRANCH:if(null===n)throw new Error("Tried to show branch in header, but branch is null");v=(0,r.BX)(r.HY,{children:[(0,r.tZ)(uo,{switchMode:a}),(0,r.tZ)(io,{name:n.name,remote:n.type===Fi.H.REMOTE?n.remote:null,current:o,heading:!0})]}),g=(0,r.BX)(r.HY,{children:[(0,r.tZ)(po,{openSearch:h}),(0,r.tZ)(Xi,{})]})}return(0,r.BX)(f.G7,{css:[f.l0.px(8),f.l0.py(4),f.l0.rowWithGap(8),f.l0.backgroundColor.backgroundDefault,f.l0.align.center,f.l0.justify.spaceBetween,f.l0.zIndex(1),{borderBottom:"1px solid ".concat(f.TV.outlineDimmer)}],children:[(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center,f.l0.flex.growAndShrink(1)],children:v}),(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:g})]})}function uo(e){var t=e.switchMode;return(0,r.tZ)(f.hU,{alt:"Back to dashboard",size:18,onClick:function(){t({mode:ao.DASHBOARD})},children:(0,r.tZ)(Vi.Z,{})})}function po(e){var t=e.openSearch;return(0,r.tZ)(f.hU,{alt:"Start search (coming soon)",size:24,onClick:t,disabled:!0,children:(0,r.tZ)(zi.Z,{})})}function fo(e){var t=e.closeSearch;return(0,r.tZ)(f.zx,{css:[f.l0.p(4),{background:"none"}],text:"Cancel",onClick:t})}function ho(e){var t=e.mode,n=e.onSearchChange,i=e.closeSearch,o=t===ao.DASHBOARD?"Search for branches...":"Search for commits...";return(0,r.BX)("div",{css:[f.l0.position.relative,f.l0.flex.grow(1)],children:[(0,r.tZ)(zi.Z,{css:[f.l0.position.absolute,f.l0.left(8),f.l0.top(8)],color:f.TV.foregroundDimmest}),(0,r.tZ)(f.II,{css:[f.l0.width("100%"),f.l0.pl(32),f.l0.py(4),f.l0.borderRadius(4),{border:"none"}],autoFocus:!0,placeholder:o,onBlur:function(e){e.target.value.trim()||i()},onChange:function(e){return t=e.target.value,void(null===n||void 0===n||n(t));var t},onKeyDown:function(e){"Escape"===e.key&&i()}})]})}!function(e){e.DASHBOARD="DASHBOARD",e.BRANCH="BRANCH"}(ao||(ao={}));var mo=n(44747),vo=/\s\(#(\d+)\)$/,go=/^Revert "(.+)"/,Zo=/^This reverts commit ([a-f0-9]+)(?:, reversing changes made to ([a-f0-9]+))?\./;function bo(e){var t=go.exec(e.subject),n=Zo.exec(e.body);if(t&&n){var r,i=n[1],o=t[1],a=vo.exec(o);return a&&(r=parseInt(a[1],10)),{hash:i,subject:o,pr:r}}return null}var yo=/\B#\d+\b/g,xo=/^Merged? pull request (#\d+\b)/,wo=/^Merge branch '(.+)'/,Co=/into (.+)$/;var ko=n(88512),Lo=n(75444),So=20,Bo=(0,mt.iv)({minHeight:So,minWidth:So,display:"flex",alignItems:"center",justifyContent:"center"});function Eo(e){var t=e.type,n=e.count,i=function(e,t){switch(e){case"none":default:return null;case"commit":return(0,r.tZ)(_o,{});case"revert":return(0,r.tZ)(Do,{});case"merge":return(0,r.tZ)(No,{});case"boundary":return(0,r.tZ)(Vo,{});case"collapsed":return(0,r.tZ)(Ho,{});case"count":return(0,r.tZ)(Uo,{count:t})}}(t,void 0===n?0:n);return i?(0,r.tZ)("div",{css:Bo,children:i}):null}var To=(0,mt.iv)({height:4,width:4,backgroundColor:f.TV.foregroundDefault,borderRadius:"50%"});function _o(){return(0,r.tZ)("div",{css:To})}var Ro=(0,mt.iv)({display:"flex",height:So,width:So,backgroundColor:f.TV.orangeDimmest,borderRadius:"50%",alignItems:"center",justifyContent:"center"});function Do(){return(0,r.tZ)("div",{css:Ro,children:(0,r.tZ)(Lo.Z,{size:12,color:f.TV.orangeStrongest})})}var Go=(0,mt.iv)({display:"flex",height:So,width:So,backgroundColor:f.TV.purpleDimmest,borderRadius:"50%",alignItems:"center",justifyContent:"center"}),Io=(0,mt.iv)({position:"relative",height:9,width:13}),jo={position:"absolute",top:0,height:9,width:9,border:"1px solid ".concat(f.TV.purpleStrongest),borderRadius:"50%"},Mo=(0,mt.iv)((0,V.Z)((0,F.Z)({},jo),{left:0})),Po=(0,mt.iv)((0,V.Z)((0,F.Z)({},jo),{right:0}));function No(){return(0,r.tZ)("div",{css:Go,children:(0,r.BX)("div",{css:Io,children:[(0,r.tZ)("div",{css:Mo}),(0,r.tZ)("div",{css:Po})]})})}var Fo=(0,mt.iv)({height:6,width:6,backgroundColor:f.TV.backgroundDefault,border:"1px solid ".concat(f.TV.backgroundHighest),borderRadius:"50%"});function Vo(){return(0,r.tZ)("div",{css:Fo})}var Wo=(0,mt.iv)({display:"flex",height:So,width:So,backgroundColor:f.TV.backgroundHighest,borderRadius:"50%",alignItems:"center",justifyContent:"center"}),zo=(0,mt.iv)({display:"flex",alignItems:"center",justifyContent:"center","div + div":{marginLeft:1}}),Xo=(0,mt.iv)({width:3,height:3,backgroundColor:f.TV.foregroundDimmer,borderRadius:"50%"});function Ho(){return(0,r.tZ)("div",{css:Wo,children:(0,r.BX)("div",{css:zo,children:[(0,r.tZ)("div",{css:Xo}),(0,r.tZ)("div",{css:Xo}),(0,r.tZ)("div",{css:Xo})]})})}var Ao=(0,mt.iv)({display:"flex",height:So,minWidth:So,paddingLeft:8,paddingRight:8,borderRadius:10,alignItems:"center",justifyContent:"center"});function Uo(e){var t=e.count,n=t>0?f.l0.backgroundColor.accentPrimaryDefault:f.l0.backgroundColor.greyDimmest;return(0,r.tZ)("div",{css:[Ao,n],children:(0,r.tZ)(f.xv,{css:f.l0.fontWeight.medium,variant:"small",children:t})})}var Oo=n(48869),qo=n(56124);function $o(e){var t=e.boundaryTop,n=void 0!==t&&t,i=e.boundaryBottom,o=void 0!==i&&i,a=e.joint,l=void 0===a?"top":a,s=e.hideTop,c=void 0!==s&&s,u=e.hideBottom,d=void 0!==u&&u;if(c&&d)return null;if(n===o&&!c&&!d)return(0,r.tZ)(ea,{top:0,bottom:0,dashed:n&&o});var p=c?null:(0,r.tZ)(Yo,{start:"top",joint:l,dashed:n}),f=d?null:(0,r.tZ)(Yo,{start:"bottom",joint:l,dashed:o});return(0,r.BX)(r.HY,{children:[p,f]})}function Yo(e){var t,n,i=e.start,a=e.joint,l=e.dashed,s=void 0!==l&&l,c="center"===a?(t={},(0,o.Z)(t,i,0),(0,o.Z)(t,"height","50%"),t):(n={},(0,o.Z)(n,i,0),(0,o.Z)(n,i===a?"height":a,8),n);return(0,r.tZ)(ea,(0,V.Z)((0,F.Z)({},c),{dashed:s}))}var Ko=(0,mt.iv)({position:"absolute",left:0,width:18}),Jo=(0,mt.iv)({borderRight:"1px solid ".concat(f.TV.outlineDimmest)}),Qo=(0,mt.iv)({borderRight:"1px dashed ".concat(f.TV.outlineDimmest)});function ea(e){var t=e.top,n=e.bottom,i=e.height,o=e.dashed,a=void 0!==o&&o;return(0,r.tZ)("div",{css:[Ko,a?Qo:Jo,{top:t,bottom:n,height:i}]})}var ta=(0,mt.iv)({position:"absolute",top:4,right:8,zIndex:1}),na=(0,mt.iv)({position:"relative",paddingTop:8,paddingBottom:8,paddingRight:8},f.l0.colWithGap(4)),ra=(0,mt.iv)({display:"block",marginLeft:36,height:So}),ia=(0,mt.iv)({marginLeft:36}),oa=(0,mt.iv)({marginLeft:36,marginRight:8,overflowX:"hidden"},f.l0.mb(8),f.l0.p(8),f.l0.borderRadius(8)),aa=(0,mt.iv)(f.l0.position.relative);function la(e){var t=e.boundaryTop,n=void 0!==t&&t,o=e.boundaryBottom,a=void 0!==o&&o,l=e.hideConnectorTop,s=void 0!==l&&l,c=e.hideConnectorBottom,u=void 0!==c&&c,d=e.joint,p=void 0===d?"top":d,h=e.marker,m=e.header,v=e.unfoldedContent,g=e.children,Z=e.className,b=(0,i.useState)(!0),y=b[0],x=b[1];return(0,r.BX)(f.G7,{className:Z,css:f.l0.position.relative,children:[(0,r.tZ)($o,{boundaryTop:n,boundaryBottom:a,joint:p,hideTop:s,hideBottom:u}),h?(0,r.tZ)(ua,{joint:p,children:h}):null,v?(0,r.tZ)("div",{css:ta,children:(0,r.tZ)(da,{folded:y,toggle:function(){return x(!y)}})}):null,(0,r.BX)(f.G7,{css:na,children:[m?(0,r.tZ)(f.G7,{css:ra,children:m}):null,g?(0,r.tZ)(f.G7,{css:ia,children:g}):null]}),!v||y?null:(0,r.BX)(f.G7,{css:aa,children:[u?null:(0,r.tZ)(ea,{top:0,bottom:0,dashed:a}),(0,r.tZ)(f.Tg,{css:oa,elevated:!0,children:v})]})]})}var sa=(0,mt.iv)({position:"absolute",left:18,transform:"translateX(-50%)"}),ca={top:(0,mt.iv)({top:8}),bottom:(0,mt.iv)({bottom:8}),center:(0,mt.iv)({top:"50%",transform:"translateX(-50%) translateY(-50%)"})};function ua(e){var t=e.joint,n=void 0===t?"top":t,i=e.children;return(0,r.tZ)("div",{css:[sa,ca[n]],children:i})}function da(e){var t=e.folded,n=e.toggle;return(0,r.tZ)(f.hU,{alt:t?"View details":"Hide details",onClick:n,children:t?(0,r.tZ)(Oo.Z,{}):(0,r.tZ)(qo.Z,{})})}var pa=(0,mt.iv)(f.l0.rowWithGap(8),f.l0.align.center,f.l0.justify.spaceBetween,f.l0.height("100%")),fa=(0,mt.iv)(f.l0.rowWithGap(4),f.l0.center),ha=(0,mt.iv)(f.l0.flex.shrink(0));function ma(e){var t=e.text,n=(0,mo.Z)(e,["text"]);return(0,r.tZ)(la,(0,F.Z)({marker:(0,r.tZ)(Eo,{type:"boundary"}),joint:"center",header:(0,r.BX)(f.G7,{css:pa,children:[(0,r.tZ)(f.RX,{}),(0,r.BX)(f.G7,{css:fa,children:[(0,r.tZ)(ko.Z,{size:12,color:f.TV.foregroundDimmest}),(0,r.tZ)(f.xv,{css:ha,variant:"small",color:"dimmest",children:t})]}),(0,r.tZ)(f.RX,{})]})},n))}function va(e){var t=e.name,n=e.avatar,i=void 0===n?null:n,o=e.allowPlaceholderAvatar,a=void 0!==o&&o,l=e.color,s=void 0===l?"default":l,c=e.small,u=void 0!==c&&c,d=e.flip,p=void 0!==d&&d;return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.align.baseline,p?f.l0.flex.rowReverse:f.l0.flex.row,f.l0.flex.shrink(1)],children:[(0,r.tZ)(ga,{name:t,avatar:i,enablePlaceholder:a,small:u}),(0,r.tZ)(f.xv,{css:[f.l0.fontWeight.medium],color:s,variant:u?"small":"text",children:t})]})}function ga(e){var t=e.name,n=e.avatar,i=void 0===n?null:n,o=e.enablePlaceholder,a=void 0!==o&&o,l=e.small,s=void 0!==l&&l;return null===i?a?(0,r.tZ)(ui.Z,{css:{alignSelf:"center"},size:s?12:16}):null:(0,r.tZ)(f.qE,{css:{alignSelf:"center"},username:t,src:i,size:s?12:16})}function Za(e){var t=e.commit,n=(0,mo.Z)(e,["commit"]);return(0,r.tZ)(la,(0,V.Z)((0,F.Z)({marker:(0,r.tZ)(Eo,{type:"commit"}),header:(0,r.tZ)(f.xv,{css:f.l0.fontWeight.medium,children:(0,r.tZ)(to,{subject:t.subject})}),unfoldedContent:t.body?(0,r.tZ)(f.xv,{multiline:!0,children:(0,r.tZ)(ro,{body:t.body})}):null},n),{children:(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.baseline],children:[(0,r.tZ)(va,{name:t.author.name,email:t.author.email,color:"dimmer",allowPlaceholderAvatar:!0,small:!0}),(0,r.tZ)(f.EK,{date:t.author.date,textColor:"dimmest",textVariant:"small"})]})}))}var ba=n(52162);function ya(e){var t,n=e.commit,i=e.info,o=(0,mo.Z)(e,["commit","info"]);return"branch"!==i.type&&(t="pull-request"===i.type&&i.subject?i.subject:n.subject),(0,r.tZ)(la,(0,V.Z)((0,F.Z)({marker:(0,r.tZ)(Eo,{type:"merge"}),header:(0,r.BX)(f.xv,{css:[f.l0.rowWithGap(4),f.l0.align.baseline],children:[(0,r.tZ)(Ji,{text:"merged"}),(0,r.tZ)(xa,{info:i,hash:n.hash,subject:n.subject})]}),unfoldedContent:!n.body||"pull-request"===i.type&&i.subject?null:(0,r.tZ)(f.xv,{multiline:!0,children:(0,r.tZ)(ro,{body:n.body})})},o),{children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[t?(0,r.tZ)(f.xv,{color:"dimmer",variant:"small",children:(0,r.tZ)(to,{subject:t})}):null,(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.baseline,f.l0.flex.shrink(1)],children:[(0,r.tZ)(va,{name:n.author.name,email:n.author.email,color:"dimmer",allowPlaceholderAvatar:!0,small:!0}),(0,r.tZ)(f.EK,{date:n.author.date,textColor:"dimmest",textVariant:"small"})]})]})}))}function xa(e){var t=e.info,n=e.hash,i=e.subject,o=(0,r.tZ)("span",{css:f.l0.fontWeight.medium,children:i});switch(t.type){case"pull-request":return(0,r.BX)(r.HY,{children:[(0,r.tZ)("span",{children:"pull request"}),(0,r.tZ)(Qi,{id:t.id}),t.reverts&&t.reverts.pr?(0,r.BX)(r.HY,{children:[(0,r.tZ)("span",{children:"-"}),(0,r.tZ)(Ki,{text:"reverts"}),(0,r.tZ)(Qi,{id:t.reverts.pr})]}):null]});case"branch":return t.target?(0,r.BX)(r.HY,{children:[(0,r.tZ)(io,{name:t.source}),(0,r.tZ)("span",{children:"into"}),(0,r.tZ)(io,{name:t.target})]}):(0,r.BX)(r.HY,{children:[(0,r.tZ)("span",{children:"branch"}),(0,r.tZ)(io,{name:t.source})]});case"simple":return(0,r.BX)(r.HY,{children:[(0,r.tZ)(eo,{hash:t.a}),(0,r.tZ)(ba.Z,{css:{alignSelf:"center"},size:12}),(0,r.tZ)(eo,{hash:t.b})]});case"octopus":return(0,r.BX)(r.HY,{children:[(0,r.tZ)("span",{children:"commit"}),(0,r.tZ)(eo,{hash:n}),(0,r.BX)("span",{children:["(",t.parents.length," parents)"]})]});default:return o}}var wa=n(34847),Ca=n(93456),ka=n(16449),La=n(1855),Sa=(0,mt.iv)(f.l0.p(8),f.l0.colWithGap(12),f.l0.borderRadius(0,0,8,8)),Ba=(0,mt.iv)({borderBottom:"1px solid ".concat(f.TV.outlineDimmer)},f.l0.fontWeight.medium,f.l0.borderRadius(8,8,0,0),f.l0.justify.spaceBetween),Ea=(0,mt.iv)(f.l0.display.inlineFlex,f.l0.rowWithGap(4));function Ta(e){var t=e.message,n=e.disabled,o=void 0!==n&&n,a=e.onMessageChange,l=e.onCommitShortcut,s=function(e,t){e=e.replaceAll("\n"," "),a(e+(t?"\n\n"+t:""))},c=(0,i.useState)(!0),u=c[0],d=c[1],p=(0,i.useState)(!1),h=p[0],m=p[1],v=(0,i.useRef)(null),g=(0,i.useRef)(null),Z=(0,Ca.Z)(t.split("\n\n")),b=Z[0],y=void 0===b?"":b,x=Z.slice(1).join("\n\n");return(0,r.BX)(f.G7,{children:[(0,r.tZ)(f.zx,{css:Ba,text:(0,r.BX)("span",{css:Ea,children:[(0,r.tZ)("span",{children:"Commit Message"}),u?(0,r.tZ)(Wa,{}):null]}),onClick:function(){return d((function(e){return!e}))},iconRight:u?(0,r.tZ)(Oo.Z,{}):(0,r.tZ)(qo.Z,{})}),(0,r.BX)(f.Tg,{css:Sa,elevated:!0,children:[(0,r.tZ)(Pa,{ref:v,value:y,compact:u,disabled:o,onChange:function(e){s(e,x)},onNewline:function(){if(u)d(!1),m(!0);else{if(!g.current)return;g.current.focus(),g.current.setSelectionRange(0,0)}},onCommitShortcut:l}),u&&!x?null:(0,r.tZ)(Fa,{ref:g,value:x,compact:u,disabled:o,onChange:function(e){var t;(s(y,e),u&&!e)?null===(t=v.current)||void 0===t||t.focus():u&&d(!1)},onBackspaceWhenEmpty:function(){v.current&&v.current.focus()},onCommitShortcut:l,onFocus:function(){h&&m(!1)},autoFocus:h})]})]})}var _a=(0,mt.iv)(f.l0.colWithGap(8)),Ra=(0,mt.iv)(f.l0.colWithGap(8)),Da=(0,mt.iv)({height:32,width:"100%",resize:"none",border:"none"}),Ga=(0,mt.iv)({width:"100%",resize:"none",border:"none"}),Ia=(0,mt.iv)(Da,{opacity:.5}),ja=(0,mt.iv)(Ga,{opacity:.5});function Ma(e,t){var n=e.value,i=e.compact,o=void 0!==i&&i,a=e.disabled,l=void 0!==a&&a,s=e.onChange,c=e.onNewline,u=e.onCommitShortcut;return(0,r.BX)(f.G7,{css:_a,children:[o?null:(0,r.tZ)(f.xv,{variant:"small",color:"dimmer",children:(0,r.BX)("span",{css:Ea,children:[(0,r.tZ)("span",{children:"Summary"}),(0,r.tZ)(Wa,{})]})}),(0,r.tZ)(f.B,{ref:t,css:l?Ia:Da,placeholder:"Summary of your commit (Ctrl+Enter to commit)",value:n,disabled:l,onChange:function(e){return null===s||void 0===s?void 0:s(e.currentTarget.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),e.ctrlKey?null===u||void 0===u||u():null===c||void 0===c||c())}})]})}var Pa=(0,i.forwardRef)(Ma);function Na(e,t){var n=e.value,i=e.compact,o=void 0!==i&&i,a=e.disabled,l=void 0!==a&&a,s=e.autoFocus,c=void 0!==s&&s,u=e.onChange,d=e.onBackspaceWhenEmpty,p=e.onCommitShortcut,h=e.onFocus,m=(0,ka.Z)().ref;return(0,r.BX)(f.G7,{css:Ra,children:[o?null:(0,r.tZ)(f.xv,{variant:"small",color:"dimmer",children:"Description"}),(0,r.tZ)(f.B,{ref:o?t:(0,La.l)(t,m),css:l?ja:Ga,placeholder:"Description of your commit (Ctrl+Enter to commit)",value:n,disabled:l,onChange:function(e){return null===u||void 0===u?void 0:u(e.currentTarget.value)},onKeyDown:function(e){"Enter"===e.key&&e.ctrlKey?(e.preventDefault(),e.stopPropagation(),null===p||void 0===p||p()):"Backspace"===e.key&&""===n&&(e.preventDefault(),e.stopPropagation(),null===d||void 0===d||d())},onFocus:h,autoFocus:c})]})}var Fa=(0,i.forwardRef)(Na),Va=(0,mt.iv)(f.l0.color.accentNegativeStronger);function Wa(){return(0,r.tZ)(f.u,{tooltip:"This field is required.",placement:"top",children:(0,r.tZ)("span",{css:Va,children:"*"})})}var za=n(16047),Xa=(0,mt.iv)({border:"1px solid ".concat(f.TV.outlineDimmer)},f.l0.fontWeight.medium,f.l0.justify.spaceBetween,f.l0.flex.grow(1)),Ha=(0,mt.iv)({border:"1px solid ".concat(f.TV.outlineDimmer)},f.l0.flex.grow(1),f.l0.borderRadius(8)),Aa=(0,mt.iv)({borderBottom:"1px solid ".concat(f.TV.outlineDimmer)},f.l0.fontWeight.medium,f.l0.borderRadius(8,8,0,0),f.l0.justify.spaceBetween),Ua=(0,mt.iv)(f.l0.p(8),f.l0.colWithGap(8)),Oa=(0,mt.iv)({opacity:.5},f.l0.p(8),f.l0.colWithGap(8));function qa(e){var t=e.status,n=e.pendingCount,o=e.stageFiles,a=e.disabled,l=(0,i.useState)(!1),s=l[0],c=l[1];return s?(0,r.tZ)(f.zx,{css:Xa,text:"Staging Area",onClick:function(){return c(!1)},iconRight:(0,r.tZ)(Oo.Z,{})}):(0,r.BX)(f.G7,{css:Ha,children:[(0,r.tZ)(f.zx,{css:Aa,text:"Staging Area",onClick:function(){return c(!0)},iconRight:(0,r.tZ)(qo.Z,{})}),(0,r.BX)(f.Tg,{css:a?Oa:Ua,elevated:!0,children:[(0,r.tZ)(Ka,{status:t,stageFiles:o,disabled:a||n>0}),t.changes.map((function(e){return(0,r.tZ)(tl,{file:e,stageFiles:o,disabled:a},e.path)}))]})]})}var $a=(0,mt.iv)(f.l0.display.flex,f.l0.flex.row,f.l0.align.center,f.l0.justify.spaceBetween),Ya=(0,mt.iv)(f.l0.rowWithGap(8),f.l0.align.center);function Ka(e){var t=e.status,n=e.stageFiles,o=e.disabled,a=(0,i.useState)(!1),l=a[0],s=a[1],c=t.changes.length,u=t.changes.filter((function(e){return e.staged})).length,d=(0,Tn.D)();function p(){return(p=(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return l?[2]:(s(!0),[4,n({all:u!==c})]);case 1:return e.sent(),s(!1),[2]}}))}))).apply(this,arguments)}return(0,r.BX)(f.G7,{css:$a,children:[(0,r.BX)(f.xv,{color:"dimmer",children:[c," changed ",(0,wa.Z)("file",c)]}),(0,r.BX)(f.G7,{css:Ya,tag:"label",children:[(0,r.tZ)(f.xv,{color:"dimmer",children:"Staged"}),l?(0,r.tZ)(Y.Z,{size:20}):(0,r.tZ)(f.XZ,{id:d,checked:u===c,onChange:function(){return p.apply(this,arguments)},disabled:o})]})]})}var Ja=(0,mt.iv)(f.l0.display.flex,f.l0.flex.row,f.l0.align.center,f.l0.justify.spaceBetween),Qa=(0,mt.iv)(f.l0.rowWithGap(4),f.l0.align.center),el=(0,mt.iv)(f.l0.rowWithGap(8),f.l0.align.center);function tl(e){var t=e.file,n=e.stageFiles,o=e.disabled,a=(0,i.useState)(!1),l=a[0],s=a[1],c=(0,Tn.D)();function u(){return(u=(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return s(!0),t.staged?[4,n({reset:[t.path]})]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,n({add:[t.path]})];case 3:e.sent(),e.label=4;case 4:return s(!1),[2]}}))}))).apply(this,arguments)}return(0,r.BX)(f.G7,{css:Ja,children:[(0,r.BX)(f.G7,{css:Qa,children:[(0,r.tZ)(W.Z,{path:t.path}),(0,r.tZ)(f.xv,{children:(0,r.tZ)(oo,{path:t.path,clickable:!0})})]}),(0,r.BX)(f.G7,{css:el,children:[(0,r.tZ)(il,{type:t.type}),l?(0,r.tZ)(Y.Z,{size:20}):(0,r.tZ)(f.XZ,{id:c,onChange:function(){return u.apply(this,arguments)},checked:t.staged,disabled:o})]})]})}var nl=(0,mt.iv)({width:52,height:20},f.l0.display.flex,f.l0.center,f.l0.borderRadius(4)),rl=(0,mt.iv)({fontSize:10});function il(e){var t,n,i,o=e.type;switch(o.index===za.h.UNMODIFIED||o.index===za.h.UNTRACKED?o.worktree:o.index){case za.h.ADDED:case za.h.UNTRACKED:t="Added",n=f.l0.backgroundColor.greenDimmest,i=f.l0.color.greenStrongest;break;case za.h.MODIFIED:t="Modified",n=f.l0.backgroundColor.yellowDimmest,i=f.l0.color.yellowStrongest;break;case za.h.DELETED:t="Deleted",n=f.l0.backgroundColor.redDimmest,i=f.l0.color.redStrongest;break;case za.h.RENAMED:t="Renamed",n=f.l0.backgroundColor.tealDimmest,i=f.l0.color.tealStrongest;break;case za.h.COPIED:t="Copy",n=f.l0.backgroundColor.purpleDimmest,i=f.l0.color.purpleStrongest;break;default:return null}return(0,r.tZ)(f.G7,{css:[nl,n],children:(0,r.tZ)(f.xv,{css:[rl,i],children:t})})}var ol=(0,mt.iv)(f.l0.flex.grow(1),f.l0.colWithGap(8));function al(e){var t=e.status,n=(0,i.useState)(t),o=n[0],a=n[1],l=(0,i.useState)(""),s=l[0],c=l[1],u=(0,i.useState)(0),d=u[0],p=u[1],h=(0,i.useState)(!1),m=h[0],g=h[1];(0,i.useEffect)((function(){return a(t)}),[t]);var Z=(0,v.Z)().git,b=o.changes.length,y=o.changes.filter((function(e){return e.staged})).length;function x(){return(x=(0,tt.Z)((function(e){var t;return(0,nt.__generator)(this,(function(n){switch(n.label){case 0:return m?[2]:(p((function(e){return e+1})),[4,Z.stageFiles(e)]);case 1:return n.sent().error?[3,3]:[4,Z.status()];case 2:(t=n.sent()).error||a(t),Z.forceRefresh(),n.label=3;case 3:return p((function(e){return e-1})),[2]}}))}))).apply(this,arguments)}function w(){return C.apply(this,arguments)}function C(){return(C=(0,tt.Z)((function(){var e;return(0,nt.__generator)(this,(function(t){switch(t.label){case 0:return m||0===b||d>0?[2]:(g(!0),0!==y?[3,2]:[4,Z.stageFiles({all:!0})]);case 1:t.sent(),t.label=2;case 2:return[4,Z.commit({message:s})];case 3:return t.sent().error?(g(!1),[3,6]):[3,4];case 4:return[4,Z.status()];case 5:(e=t.sent()).error||Z.forceRefresh(),(e.error||0!==e.changes.length)&&(c(""),g(!1),e.error||a(e)),t.label=6;case 6:return[2]}}))}))).apply(this,arguments)}var k="Nothing to commit";if(m)k="Committing...";else if(y>0){var L=(0,wa.Z)("change",y);k="Commit ".concat(y," staged ").concat(L)}else b>0&&0===y&&(k="Stage and commit all changes");var S=!s||0===b||d>0||m;return(0,r.BX)(f.G7,{css:ol,children:[(0,r.tZ)(f.zx,{text:k,onClick:w,disabled:S,loading:m,colorway:"primary",iconLeft:(0,r.tZ)(gt.Z,{}),stretch:!0}),(0,r.tZ)(Ta,{message:s,disabled:m,onMessageChange:c,onCommitShortcut:w}),(0,r.tZ)(qa,{status:o,pendingCount:d,stageFiles:function(e){return x.apply(this,arguments)},disabled:m})]})}function ll(e){var t=e.status,n=(0,mo.Z)(e,["status"]),o=(0,i.useState)(!0),a=o[0],l=o[1];return 0===t.changes.length?(0,r.tZ)(la,(0,F.Z)({marker:(0,r.tZ)(Eo,{type:"count",count:0}),header:(0,r.tZ)(f.xv,{css:{verticalAlign:"bottom"},color:"dimmer",children:"No changes need review"})},n)):a?(0,r.tZ)(la,(0,V.Z)((0,F.Z)({marker:(0,r.tZ)(Eo,{type:"count",count:t.changes.length}),joint:"center"},n),{children:(0,r.tZ)(f.zx,{css:[f.l0.fontWeight.medium,f.l0.justify.spaceBetween],text:"Review Changes",colorway:"primary",onClick:function(){return l(!1)},iconRight:(0,r.tZ)(Oo.Z,{}),stretch:!0})})):(0,r.tZ)(la,(0,V.Z)((0,F.Z)({marker:(0,r.tZ)(Eo,{type:"count",count:t.changes.length}),header:(0,r.BX)(f.G7,{css:[f.l0.display.flex,f.l0.flex.row,f.l0.justify.spaceBetween],children:[(0,r.tZ)(f.xv,{variant:"subheadDefault",children:"Review Changes"}),(0,r.tZ)(f.hU,{alt:"Hide changes",onClick:function(){return l(!0)},children:(0,r.tZ)(qo.Z,{})})]})},n),{children:(0,r.tZ)(al,{status:t})}))}function sl(e){var t=e.commit,n=e.info,i=(0,mo.Z)(e,["commit","info"]);return(0,r.tZ)(la,(0,V.Z)((0,F.Z)({marker:(0,r.tZ)(Eo,{type:"revert"}),header:(0,r.BX)(f.xv,{css:[f.l0.rowWithGap(4),f.l0.align.baseline],children:[(0,r.tZ)(Ki,{text:"reverted"}),(0,r.tZ)(eo,{hash:n.hash}),(0,r.tZ)(to,{subject:n.subject,quoted:!0})]})},i),{children:(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.baseline],children:[(0,r.tZ)(va,{name:t.author.name,email:t.author.email,color:"dimmer",allowPlaceholderAvatar:!0,small:!0}),(0,r.tZ)(f.EK,{date:t.author.date,textColor:"dimmest",textVariant:"small"})]})}))}function cl(e){var t=e.button,n=(0,mo.Z)(e,["button"]);return(0,r.tZ)(la,(0,V.Z)((0,F.Z)({marker:(0,r.tZ)(Eo,{type:"boundary"}),joint:"center"},n),{children:(0,r.tZ)(f.G7,{children:t})}))}function ul(e){var t=e.items;return(0,r.tZ)(f.G7,{children:t.map((function(e,n){return function(e,t){var n=e[t],i=0===t,o=t===e.length-1;if("boundary"===n.type)return(0,r.tZ)(ma,{text:n.text,hideConnectorTop:i,hideConnectorBottom:o,boundaryTop:!0,boundaryBottom:!0},n.text);if("modified"===n.type)return(0,r.tZ)(ll,{status:n.status,hideConnectorTop:i,hideConnectorBottom:o,boundaryTop:!0,boundaryBottom:!0},"modified");if("button"===n.type)return(0,r.tZ)(cl,{button:n.button,hideConnectorTop:i,hideConnectorBottom:o,boundaryTop:!0,boundaryBottom:!0},n.key);var a=e[t-1]?e[t-1].type:null,l=e[t+1]?e[t+1].type:null,s="commit"!==a,c="commit"!==l;return(0,r.tZ)(dl,{commit:n.commit,hideConnectorTop:i,hideConnectorBottom:o,boundaryTop:s,boundaryBottom:c},n.commit.hash)}(t,n)}))})}function dl(e){var t=e.commit,n=(0,mo.Z)(e,["commit"]),i=function(e){if("GitHub"===e.committer.name&&"noreply@github.com"===e.committer.email){var t=e.subject.match(yo);if(t){var n,r=parseInt(t[t.length-1].slice(1),10);if(r)return vo.test(e.subject)&&(n=e.subject.replace(vo,"").trim()),!n&&xo.test(e.subject)&&e.body&&-1===e.body.indexOf("\n")&&(n=e.body),{type:"pull-request",id:r,subject:n,reverts:bo(e)}}}if(xo.test(e.subject)){var i,o=xo.exec(e.subject);if(o)return e.body&&-1===e.body.indexOf("\n")&&(i=e.body),{type:"pull-request",id:parseInt(o[1].slice(1),10),subject:i,reverts:bo(e)}}if(wo.test(e.subject)){var a=wo.exec(e.subject);if(a){var l=Co.exec(e.subject);return{type:"branch",source:a[1],target:l?l[1]:null}}}return e.parents&&e.parents.length>2?{type:"octopus",parents:e.parents}:e.parents&&e.parents.length>1?{type:"simple",a:e.parents[0],b:e.parents[1]}:null}(t);if(i)return(0,r.tZ)(ya,(0,F.Z)({info:i,commit:t},n));var o=bo(t);return o?(0,r.tZ)(sl,(0,F.Z)({info:o,commit:t},n)):(0,r.tZ)(Za,(0,F.Z)({commit:t},n))}var pl=(0,mt.F4)({from:{opacity:0},to:{opacity:1}}),fl=(0,mt.iv)({animation:"".concat(pl," 0.125s 0.25s linear backwards")},f.l0.flex.grow(1),f.l0.display.flex,f.l0.center);function hl(){return(0,r.tZ)(f.G7,{css:fl,children:(0,r.tZ)(Y.Z,{size:48})})}var ml=n(53014),vl=n(6148);function gl(e){var t,n,o,a,l,s,c=e.status,u=(0,i.useState)(!1),d=u[0],p=u[1],h=(0,v.Z)().git,m=c.branch,g=null!==(a=null===(t=c.upstream)||void 0===t?void 0:t.branch)&&void 0!==a?a:null,Z=null!==(l=null===(n=c.upstream)||void 0===n?void 0:n.behind)&&void 0!==l?l:0,b=null!==(s=null===(o=c.upstream)||void 0===o?void 0:o.ahead)&&void 0!==s?s:0,y=c.changes.length>0,x=Ni(function(){var e=(0,tt.Z)((function(e){var t;return(0,nt.__generator)(this,(function(n){switch(n.label){case 0:return m&&g&&Z&&!y?[4,e.canMergeBranches(m,g)]:[2,{canPull:!1,error:null}];case 1:return(t=n.sent()).error?[2,t]:[2,{canPull:t.canMerge,error:null}]}}))}));return function(t){return e.apply(this,arguments)}}(),[m,g,Z,y],{keepStaleResult:!1});if(null===x||void 0===x?void 0:x.error)return null;var w,C,k=null===x,L=null!==(w=null===x||void 0===x?void 0:x.canPull)&&void 0!==w&&w;function S(){return(S=(0,tt.Z)((function(){var e;return(0,nt.__generator)(this,(function(t){switch(t.label){case 0:return d?[2]:(p(!0),[4,h.pull({mode:ml.T.REBASE})]);case 1:return e=t.sent(),h.forceRefresh(),e.error&&p(!1),[2]}}))}))).apply(this,arguments)}return d?C="Pulling...":m?y?C="Cannot pull with uncommitted changes":0===Z?C="Nothing to pull":k?C="Checking for merge conflicts\u2026":L?(C="Pull ".concat(Z," ").concat((0,wa.Z)("commit",Z)),b>0&&(C+=" with rebase")):C="Cannot pull due to merge conflict":C="Cannot pull - the HEAD is detached",(0,r.tZ)(f.zx,{text:C,iconLeft:k||d?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(vl.Z,{}),onClick:function(){return S.apply(this,arguments)},loading:k||d,disabled:!L})}var Zl=n(49619);function bl(e){var t,n,o,a,l,s=e.status,c=(0,i.useState)(!1),u=c[0],d=c[1],p=(0,v.Z)().git,h=null===s.branch,m=null!==(o=null===(t=s.upstream)||void 0===t?void 0:t.behind)&&void 0!==o?o:0,g=null!==(a=null===(n=s.upstream)||void 0===n?void 0:n.ahead)&&void 0!==a?a:0,Z=h||m>0||0===g;function b(){return(b=(0,tt.Z)((function(){var e;return(0,nt.__generator)(this,(function(t){switch(t.label){case 0:return Z||u?[2]:(d(!0),[4,p.push()]);case 1:return e=t.sent(),p.forceRefresh(),e.error&&d(!1),[2]}}))}))).apply(this,arguments)}return l=u?"Pushing...":h?"Cannot push - the HEAD is detached":0===g?"Nothing to push":m>0?"Cannot push due to unpulled changes":"Push ".concat(g," ").concat((0,wa.Z)("commit",g)),(0,r.tZ)(f.zx,{text:l,iconLeft:u?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(Zl.Z,{}),onClick:function(){return b.apply(this,arguments)},disabled:Z,loading:u})}function yl(e){var t=e.branch,n=e.switchMode,o=(0,i.useState)(!1),a=o[0],l=o[1],s=(0,v.Z)().git;function c(){return(c=(0,tt.Z)((function(){var e;return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:return a?[2]:(l(!0),e=t.type===Fi.H.REMOTE?"refs/remotes/".concat(t.remote,"/").concat(t.name):"refs/heads/".concat(t.name),[4,s.switchBranch(e)]);case 1:return r.sent().error?l(!1):(s.forceRefresh(),t.type===Fi.H.REMOTE&&n({mode:ao.DASHBOARD})),[2]}}))}))).apply(this,arguments)}(0,i.useEffect)((function(){return l(!1)}),[t]);var u=t.type===Fi.H.REMOTE?"Switch to remote branch":"Switch to local branch";return a&&(u="Switching to branch..."),(0,r.tZ)(f.zx,{text:u,onClick:function(){return c.apply(this,arguments)},iconLeft:a?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(Hi.Z,{}),loading:a})}var xl=n(27668);function wl(e){var t=e.branch,n=e.switchMode,o=(0,i.useState)(!1),a=o[0],l=o[1],s=(0,v.Z)().git,c=Ni(function(){var e=(0,tt.Z)((function(e){var t,n,r;return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.getRemotes()];case 1:return(t=i.sent()).error?[2,t]:(n=t.remotes,r="",(null===n||void 0===n?void 0:n.size)&&(r=n.has("origin")?"origin":n.keys().next().value),[2,{remote:r,error:null}])}}))}));return function(t){return e.apply(this,arguments)}}(),[],{keepStaleResult:!1});if(null===c||void 0===c?void 0:c.error)return null;var u,d=c?c.remote:null,p=null===d,h=t.type!==Fi.H.LOCAL||!d;function m(){return(m=(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return!d||a?[2]:(l(!0),[4,s.push({publish:{remote:d}})]);case 1:return e.sent().error?l(!1):(s.forceRefresh(),n({mode:ao.DASHBOARD})),[2]}}))}))).apply(this,arguments)}return u=a?"Publishing...":t.type!==Fi.H.LOCAL?"Branch has already been published":p?"Checking if branch can be published...":d?"Publish branch as '".concat(d,"/").concat(t.name,"'"):"No remotes to publish to",(0,r.tZ)(f.zx,{text:u,iconLeft:p||a?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(xl.Z,{}),onClick:function(){return m.apply(this,arguments)},loading:p||a,disabled:h})}var Cl=(0,mt.iv)(f.l0.py(8),f.l0.px(4),f.l0.colWithGap(8));function kl(e){var t,n,o=e.status,l=e.branch,s=e.current,c=e.switchMode,u=function(e,t,n){var r=Ni(function(){var r=(0,tt.Z)((function(r){var i,o,l,s,c,u,d,p,f;return(0,nt.__generator)(this,(function(h){switch(h.label){case 0:return e?!e.tracking||0===t&&0===n?(i=e.type===Fi.H.REMOTE?"".concat(e.remote,"/").concat(e.name):e.name,[4,r.log({max:100,revRange:i})]):[3,2]:[2,{error:null}];case 1:return(o=h.sent()).error?[2,o]:[2,{log:o.commits,error:null}];case 2:return l="".concat(e.remote,"/").concat(e.name),[4,Promise.all([r.log({max:100,revRange:e.name}),r.log({max:100,revRange:"".concat(e.name,"..").concat(l)}),r.log({max:100,revRange:"".concat(l,"..").concat(e.name)})])];case 3:return s=h.sent(),c=(0,a.Z)(s,3),u=c[0],d=c[1],p=c[2],(f=u.error||d.error||p.error)?[2,{error:f}]:[2,{log:u.commits,onlyRemote:d.commits,onlyLocal:p.commits,error:null}]}}))}));return function(e){return r.apply(this,arguments)}}(),[e,t,n]);return(0,i.useMemo)((function(){if(!r)return null;if(r.error)return{error:r.error};var e=r.log,t=r.onlyRemote,n=r.onlyLocal;if(!t&&!n)return{log:e,error:null};if(e){var i=new Set;if(t){var o=!0,a=!1,l=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;i.add(u.hash)}}catch(g){a=!0,l=g}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}}if(n){var d=!0,p=!1,f=void 0;try{for(var h,m=n[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value;i.add(v.hash)}}catch(g){p=!0,f=g}finally{try{d||null==m.return||m.return()}finally{if(p)throw f}}}e=e.filter((function(e){return!i.has(e.hash)}))}return{log:e,onlyRemote:t,onlyLocal:n,error:null}}),[r])}(l,s?null===o||void 0===o||null===(t=o.upstream)||void 0===t?void 0:t.behind:void 0,s?null===o||void 0===o||null===(n=o.upstream)||void 0===n?void 0:n.ahead:void 0),d=(0,i.useMemo)((function(){if(!u||u.error)return[];var e,t,n,i=[],a=u.log,l=void 0===a?[]:a,c=u.onlyRemote,d=void 0===c?[]:c,p=u.onlyLocal,f=void 0===p?[]:p,h=l.length>0,m=d.length>0,v=f.length>0;m&&(i.push({type:"boundary",text:"Not pulled from remote"}),s&&o&&i.push({type:"button",key:"pull-button",button:(0,r.tZ)(gl,{status:o})}),(e=i).push.apply(e,(0,Be.Z)(Bl(d))));v&&(i.push({type:"boundary",text:"Not pushed to remote"}),s&&o&&i.push({type:"button",key:"push-button",button:(0,r.tZ)(bl,{status:o})}),(t=i).push.apply(t,(0,Be.Z)(Bl(f))));h&&((m||v)&&i.push({type:"boundary",text:"Up to date with remote"}),(n=i).push.apply(n,(0,Be.Z)(Bl(l))));return s&&o&&i.unshift({type:"modified",status:o}),i}),[u,o,s]);return l?u?u.error?(0,r.tZ)("div",{children:u.error}):(0,r.BX)(f.G7,{css:Cl,children:[(0,r.tZ)(Sl,{branch:l,current:s,switchMode:c}),(0,r.tZ)(ul,{items:d})]}):(0,r.tZ)(hl,{}):(0,r.tZ)("div",{children:"No branch"})}var Ll=(0,mt.iv)({borderBottom:"1px solid ".concat(f.TV.outlineDimmer)},f.l0.pt(8),f.l0.pb(16),f.l0.px(4),f.l0.colWithGap(8));function Sl(e){var t=e.branch,n=e.current,i=e.switchMode;return t?n&&t.type!==Fi.H.LOCAL?null:(0,r.BX)(f.G7,{css:Ll,children:[n?null:(0,r.tZ)(yl,{branch:t,switchMode:i}),t.type!==Fi.H.LOCAL?null:(0,r.tZ)(wl,{branch:t,switchMode:i})]}):null}function Bl(e){return e.map((function(e){return{type:"commit",commit:e}}))}var El=(0,mt.iv)(f.gU.nofill,f.l0.py(12),f.l0.px(8),f.l0.colWithGap(4),f.l0.justify.center,f.l0.borderRadius(8),f.l0.flex.shrink(1));function Tl(e){var t=e.branch,n=e.current,i=void 0!==n&&n,o=e.onPreview;return(0,r.BX)(f.G7,{css:El,tabIndex:0,role:"button","aria-label":"Preview branch ".concat(t.name),onClick:o,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||null===o||void 0===o||o()},children:[(0,r.tZ)(f.xv,{children:(0,r.tZ)(io,{name:t.name,remote:t.type===Fi.H.REMOTE?t.remote:null,current:i,onClick:o,icon:!0})}),(0,r.tZ)(Rl,{branch:t})]})}var _l=(0,mt.iv)(f.l0.rowWithGap(8),f.l0.align.baseline,f.l0.flex.shrink(1));function Rl(e){var t=e.branch;return(0,r.BX)(f.G7,{css:_l,children:[(0,r.tZ)(va,{name:t.commit.author.name,email:t.commit.author.email,color:"dimmest",allowPlaceholderAvatar:!0,small:!0}),(0,r.tZ)(f.EK,{date:t.commit.author.date,textColor:"dimmest",textVariant:"small"})]})}var Dl=(0,mt.iv)({verticalAlign:"middle"},f.l0.justify.spaceBetween),Gl=(0,mt.iv)(f.l0.display.flex),Il=(0,mt.iv)(f.l0.p(4),f.l0.flex.row,f.l0.align.center,f.l0.justify.spaceBetween),jl=(0,mt.iv)(f.l0.p(4),f.l0.flex.row,f.l0.align.center,f.l0.justify.spaceBetween,f.gU.nofill),Ml=(0,mt.iv)(f.l0.borderRadius(8));function Pl(e){var t=e.name,n=e.branches,o=e.current,a=void 0===o?null:o,l=e.switchMode,s=e.foldable,c=void 0!==s&&s,u=e.folded,d=void 0!==u&&u,p=(0,i.useState)(!!c&&d),h=p[0],m=p[1],v=(0,i.useMemo)((function(){return n.map((function(e){return(0,r.tZ)(Tl,{branch:e,current:null!==a&&e.name===a.name,onPreview:function(){return l({mode:ao.BRANCH,branch:e})}},e.name)}))}),[n,a,l]);return h?(0,r.tZ)(f.zx,{css:Dl,text:(0,r.tZ)(f.xv,{variant:"subheadDefault",children:t}),iconRight:(0,r.tZ)(Oo.Z,{}),onClick:function(){return m(!1)}}):(0,r.BX)(f.G7,{css:Gl,children:[(0,r.BX)(f.G7,{alt:c&&!h?"Hide List":void 0,css:c?jl:Il,onClick:function(){c&&m(!0)},children:[(0,r.tZ)(f.xv,{variant:"subheadDefault",children:t}),c?(0,r.tZ)(qo.Z,{}):null]}),(0,r.tZ)(f.Tg,{css:Ml,elevated:!0,children:v})]})}var Nl=n(64375),Fl={provider:ji.rG.GITHUB,username:"GitHub Account",email:"Your GitHub Account is not connected.",selected:!1,imageUrl:"",connected:!1},Vl=n(93373),Wl=(0,mt.iv)(f.l0.borderRadius(8),f.l0.m(8),f.l0.backgroundColor.orangeDimmest,f.l0.border({color:f.TV.orangeDimmer})),zl=(0,mt.iv)(f.l0.m(8)),Xl=(0,mt.iv)(f.l0.flex.row,f.l0.pb(8)),Hl=(0,mt.iv)(f.l0.mr(8)),Al=(0,mt.iv)(f.l0.flex.growAndShrink(1)),Ul=(0,mt.iv)({color:f.TV.orangeStrongest},f.l0.flex.shrink(1),f.l0.align.baseline),Ol=(0,mt.iv)({color:f.TV.orangeStrongest},f.l0.flex.wrap,f.l0.align.baseline);function ql(e){return(0,r.tZ)(f.G7,{css:Wl,children:(0,r.BX)(f.G7,{css:zl,children:[(0,r.BX)(f.G7,{css:Xl,children:[(0,r.tZ)(Nr.Warning,{css:Hl,color:f.TV.orangeStrongest,size:16}),(0,r.BX)(f.G7,{css:Al,children:[(0,r.tZ)(f.xv,{variant:"subheadDefault",css:Ul,children:"Can't pull or push to GitHub"}),(0,r.tZ)(f.xv,{variant:"text",css:Ol,maxLines:3,children:"This Repl has a GitHub repository as a remote, but you are not connected to GitHub."})]})]}),(0,r.tZ)(f.zx,{onClick:e.onClick,colorway:"warning",text:"Connect to GitHub",iconLeft:(0,r.tZ)(Vl.Z,{})})]})})}var $l=n(28898),Yl=(0,mt.iv)(f.l0.rowWithGap(8),f.l0.align.center);function Kl(e){return(0,r.BX)(f.G7,{css:Yl,children:[(0,r.tZ)($l.Z,{url:e.imageUrl}),(0,r.tZ)(f.xv,{variant:"subheadDefault",children:e.username})]})}var Jl=(0,mt.iv)(f.l0.flex.row,f.l0.py(4),f.l0.height(40),f.l0.width("100%"),f.l0.align.center,f.l0.justify.spaceBetween),Ql=(0,mt.iv)(f.l0.rowWithGap(8),f.l0.align.center),es=(0,mt.iv)(f.l0.transition.snappy);function ts(e){var t=e.selectedProvider===ji.rG.GITHUB?"Connected to GitHub":"Default Profile";return(0,r.BX)(f.G7,{css:Jl,onClick:e.onClick,children:[e.collapsed?(0,r.tZ)(Kl,{imageUrl:e.imageUrl,username:e.username}):(0,r.tZ)(f.xv,{variant:"subheadDefault",children:"Git Profile"}),(0,r.BX)(f.G7,{css:Ql,children:[(0,r.tZ)(f.xv,{color:"dimmest",variant:"small",children:e.collapsed?t:""}),(0,r.tZ)(f.hU,{onClick:e.onClick,alt:"".concat(e.collapsed?"Expand":"Collapse"," Git profile options"),children:(0,r.tZ)(qo.Z,{rotate:e.collapsed?180:0,css:es})})]})]})}var ns=(0,mt.iv)(f.gU.nofill,{borderRadius:0},f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.px(12),f.l0.py(8)),rs=(0,mt.iv)(f.l0.colWithGap(4)),is=(0,mt.iv)(f.l0.rowWithGap(4),f.l0.align.center);function os(e){return(0,r.BX)(f.G7,{children:[(0,r.tZ)(f.RX,{}),(0,r.tZ)(as,{onSelectProvider:e.onSelectProvider,info:e.defaultUserInfo}),(0,r.tZ)(f.RX,{}),e.gitHubUserInfo.connected?(0,r.tZ)(cs,{info:e.gitHubUserInfo,onUpdateGitHubConnection:function(){return e.onUpdateConnection(ji.rG.GITHUB)},onSelectProvider:e.onSelectProvider}):(0,r.tZ)(fs,{onConnectToGitHub:function(){return e.onUpdateConnection(ji.rG.GITHUB)}}),(0,r.tZ)(f.RX,{})]})}function as(e){var t=e.info,n=t.username,i=t.email,o=t.imageUrl,a=t.selected,l=t.provider;return(0,r.BX)(f.G7,{onClick:function(){return e.onSelectProvider(ji.rG.REPLIT_DEFAULT)},css:ns,children:[(0,r.BX)(f.G7,{css:rs,children:[(0,r.BX)(f.G7,{css:is,children:[(0,r.tZ)(Kl,{imageUrl:o,username:n}),(0,r.tZ)(ls,{}),(0,r.tZ)(f.xv,{color:"dimmest",children:"Default Profile"})]}),(0,r.tZ)(f.xv,{color:"dimmest",children:i})]}),(0,r.tZ)(f.Y8,{onChange:function(){return e.onSelectProvider(ji.rG.REPLIT_DEFAULT)},id:l,checked:a,value:"default"})]})}function ls(){return(0,r.tZ)(f.xv,{color:"dimmest",children:"\u2022"})}function ss(e){return(0,r.tZ)(f.zx,{small:!0,text:"GitHub",onClick:e.onClick,iconRight:(0,r.tZ)(_r.Z,{})})}function cs(e){var t=e.info,n=t.imageUrl,i=t.username,o=t.email,a=t.provider,l=t.selected;return(0,r.BX)(f.G7,{onClick:function(){return e.onSelectProvider(ji.rG.GITHUB)},css:ns,children:[(0,r.BX)(f.G7,{css:rs,children:[(0,r.BX)(f.G7,{css:is,children:[(0,r.tZ)(Kl,{imageUrl:n,username:i}),(0,r.tZ)(ls,{}),(0,r.tZ)(ss,{onClick:e.onUpdateGitHubConnection})]}),(0,r.tZ)(f.xv,{color:"dimmest",children:o})]}),(0,r.tZ)(f.Y8,{onChange:function(){return e.onSelectProvider(ji.rG.GITHUB)},id:a,checked:l,value:"default"})]})}var us=(0,mt.iv)(f.l0.colWithGap(4),f.l0.px(12),f.l0.py(8)),ds=(0,mt.iv)(f.l0.rowWithGap(4),f.l0.align.center),ps=(0,mt.iv)(f.l0.pb(4));function fs(e){var t=Fl.imageUrl,n=Fl.username;return(0,r.BX)(f.G7,{css:us,children:[(0,r.tZ)(f.G7,{css:ds,children:(0,r.tZ)(Kl,{imageUrl:t,username:n})}),(0,r.tZ)(f.xv,{color:"dimmest",css:ps,children:"Your GitHub account is not connected."}),(0,r.tZ)(f.zx,{onClick:e.onConnectToGitHub,colorway:"primary",text:"Connect to GitHub",iconLeft:(0,r.tZ)(Vl.Z,{})})]})}function hs(){var e=(0,Te.Z)(['\n  fragment WorkspaceGit2User on CurrentUser {\n    image\n    username\n    email\n    gitHubInfo {\n      accessToken\n      installations {\n        id\n        type\n        avatarUrl\n        name\n      }\n      userInfo {\n        name\n        email\n        avatarUrl\n      }\n    }\n    repositories(count: 1, after: "0") {\n      ... on RepositoryConnection {\n        items {\n          id\n        }\n      }\n    }\n  }\n']);return hs=function(){return e},e}function ms(){var e=(0,Te.Z)(["\n  query WorkspaceGit2GitHubUsers {\n    currentUser {\n      id\n      ...WorkspaceGit2User\n    }\n  }\n  ","\n"]);return ms=function(){return e},e}var vs={},gs=(0,_e.Ps)(hs()),Zs=(0,_e.Ps)(ms(),gs);var bs="/images/evalbot/evalbot_24",ys=(0,mt.iv)(f.l0.flex.column),xs=(0,mt.iv)(f.gU.nofill,{borderRadius:0},f.l0.flex.row,f.l0.px(8));function ws(e){var t="https://github.com";return e.fetch.startsWith(t)&&e.push.startsWith(t)}function Cs(){var e,t,n,o,l,s,c=(0,v.Z)().git,u=c.getCurrentProfile(),d=c.getProfile(ji.rG.REPLIT_DEFAULT),p=(0,i.useState)(!1),h=p[0],m=p[1],g=function(e){var t=(0,F.Z)({},vs,e);return Re.a(Zs,t)}({onCompleted:function(){var e=(0,tt.Z)((function(e){var t,n,r,i,o,l,s,u,d,p,f;return(0,nt.__generator)(this,(function(h){switch(h.label){case 0:return r="RepositoryConnection"===(null===e||void 0===e||null===(t=e.currentUser)||void 0===t||null===(n=t.repositories)||void 0===n?void 0:n.__typename),[4,c.getRemotes()];case 1:if((i=h.sent()).error)return[2];o=!1,l=!0,s=!1,u=void 0;try{for(d=i.remotes[Symbol.iterator]();!(l=(p=d.next()).done);l=!0)if(f=(0,a.Z)(p.value,2),f[0],ws(f[1])&&!r){o=!0;break}}catch(v){s=!0,u=v}finally{try{l||null==d.return||d.return()}finally{if(s)throw u}}return m(o),[2]}}))}));return function(t){return e.apply(this,arguments)}}()}),Z=g.data,b=g.loading,y=g.refetch,x=(0,i.useState)(!0),w=x[0],C=x[1],k=(0,Nl.v)({onAuth:y}),L=(0,i.useState)(null!==(s=null===u||void 0===u?void 0:u.provider)&&void 0!==s?s:ji.rG.REPLIT_DEFAULT),S=L[0],B=L[1],E=S===ji.rG.REPLIT_DEFAULT,T=function(e){e===ji.rG.GITHUB&&k()},_="CurrentUser"===(null===Z||void 0===Z||null===(e=Z.currentUser)||void 0===e?void 0:e.__typename)?null===Z||void 0===Z?void 0:Z.currentUser:void 0;if(!_||!d)return null;var R,D,G,I,j,M="GitHubUserInfo"===(null===(t=_.gitHubInfo)||void 0===t||null===(n=t.userInfo)||void 0===n?void 0:n.__typename)?null===(o=_.gitHubInfo)||void 0===o?void 0:o.userInfo:void 0,P=E?_.username:null!==(R=null===M||void 0===M?void 0:M.name)&&void 0!==R?R:"No Name",N=E?_.image:null!==(D=null===M||void 0===M?void 0:M.avatarUrl)&&void 0!==D?D:bs,V={provider:ji.rG.REPLIT_DEFAULT,username:d.username,email:d.email,selected:E,imageUrl:null!==(G=_.image)&&void 0!==G?G:bs},W="RepositoryConnection"===(null===_||void 0===_||null===(l=_.repositories)||void 0===l?void 0:l.__typename),z=void 0;M&&M.email&&M.name&&(z={provider:ji.rG.GITHUB,username:M.name,email:M.email,selected:S===ji.rG.GITHUB,imageUrl:null!==(I=null===M||void 0===M?void 0:M.avatarUrl)&&void 0!==I?I:bs,connected:W},c.addProfile({provider:ji.rG.GITHUB,username:M.name,email:M.email,avatar:null!==(j=null===M||void 0===M?void 0:M.avatarUrl)&&void 0!==j?j:null}));return(0,r.BX)(f.G7,{css:ys,children:[h&&!b?(0,r.tZ)(ql,{onClick:function(){return T(ji.rG.GITHUB)}}):null,(0,r.tZ)(f.G7,{css:xs,children:(0,r.tZ)(ts,{selectedProvider:S,collapsed:w,imageUrl:N,username:P,onClick:function(){return C((function(e){return!e}))}})}),w?null:(0,r.tZ)(os,{defaultUserInfo:V,gitHubUserInfo:null!==z&&void 0!==z?z:Fl,onSelectProvider:function(e){c.setCurrentProfile(e),B(e),C(!0)},onUpdateConnection:function(e){return T(e)}})]})}var ks=/[~^:?*[\\\0-\x20\x7F]/,Ls=new RegExp([ks,/^$/,/^\//,/\/$/,/\.lock$/,/\/{2,}/,/^\./,/\.$/,/\/\./,/\.\./,/@\{/,/^@$/,/^-/].map((function(e){return"(?:".concat(e.source,")")})).join("|"));var Ss=(0,mt.iv)(f.l0.p(8),f.l0.colWithGap(8),f.l0.borderRadius(8)),Bs=(0,mt.iv)(f.l0.rowWithGap(4)),Es=(0,mt.iv)(f.l0.flex.grow(1));function Ts(){var e=function(){o(!0),s("")},t=(0,i.useState)(!0),n=t[0],o=t[1],a=(0,i.useState)(""),l=a[0],s=a[1],c=(0,i.useState)(!1),u=c[0],d=c[1],p=(0,v.Z)().git;function h(){return m.apply(this,arguments)}function m(){return(m=(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return n||!l||u?[2]:(d(!0),[4,p.createBranch({name:l,checkout:!0})]);case 1:return e.sent().error?d(!1):(p.forceRefresh(),d(!1),s(""),o(!0)),[2]}}))}))).apply(this,arguments)}if(n)return(0,r.tZ)(f.zx,{text:"Create Branch",iconLeft:(0,r.tZ)(mr.Z,{}),onClick:function(){return o(!1)}});var g,Z=!l||(g=l,!!Ls.test(g));return(0,r.BX)(f.Tg,{css:Ss,elevated:!0,children:[(0,r.tZ)(Rs,{value:l,onChange:s,onSubmit:h,onCancel:e,disabled:u}),(0,r.BX)(f.G7,{css:Bs,children:[(0,r.tZ)(f.zx,{css:Es,text:"Cancel",onClick:e,disabled:u}),(0,r.tZ)(f.zx,{css:Es,text:"Create Branch",colorway:"primary",iconLeft:(0,r.tZ)(mr.Z,{}),onClick:h,loading:u,disabled:Z})]})]})}var _s=(0,mt.iv)({opacity:.75});function Rs(e){var t=e.value,n=e.disabled,i=e.onChange,o=e.onSubmit,a=e.onCancel,l=function(e){var t;0!==(t=e).length&&ks.test(t)||null===i||void 0===i||i(e)};return(0,r.tZ)(f.II,{value:t,css:n?_s:void 0,disabled:n,placeholder:"Enter a name for your new branch",onChange:function(e){return l(e.currentTarget.value)},onKeyDown:function(e){return t=e.key,n=function(){return e.preventDefault()},void("Enter"===t?(null===o||void 0===o||o(),n()):"Escape"===t&&(null===a||void 0===a||a(),n()));var t,n},onBlur:function(){""===t&&(null===a||void 0===a||a())},autoFocus:!0})}function Ds(e){var t=e.switchMode,n=Ni(function(){var e=(0,tt.Z)((function(e){var t,n,r,i,o,a,l,s;return(0,nt.__generator)(this,(function(c){switch(c.label){case 0:return[4,e.listBranches()];case 1:return(t=c.sent()).error?[2,t]:[4,e.status()];case 2:return(n=c.sent()).error?[2,n]:(r=n.branch,o=r&&null!==(i=t.branches.find((function(e){return e.name===r})))&&void 0!==i?i:null,a=Date.now()-5184e6,l=t.branches.filter((function(e){return e.commit.author.date>a})),s=t.branches.filter((function(e){return e.commit.author.date<=a})),[2,{current:o,active:l,stale:s,error:null}])}}))}));return function(t){return e.apply(this,arguments)}}());if(!n)return(0,r.tZ)(hl,{});if(n.error)return(0,r.tZ)("div",{children:n.error});var i=n.current,o=n.active,a=n.stale;return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(Cs,{}),(0,r.BX)(f.G7,{css:[f.l0.pb(8),f.l0.px(8),f.l0.colWithGap(16)],children:[i?(0,r.BX)(f.G7,{css:f.l0.colWithGap(8),children:[(0,r.tZ)(Pl,{branches:[i],current:i,name:"Current",switchMode:t}),(0,r.tZ)(Ts,{})]}):null,(0,r.tZ)(Pl,{branches:o,current:i,name:"Active",switchMode:t,foldable:!0}),(0,r.tZ)(Pl,{branches:a,current:i,name:"Stale",switchMode:t,foldable:!0,folded:!0})]})]})}var Gs=(0,mt.iv)(f.l0.display.flex,f.l0.height("100%")),Is=(0,mt.iv)(f.l0.flex.growAndShrink(1),f.l0.overflow("auto"));function js(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isActive,n=void 0!==t&&t,o=(0,i.useState)(ao.DASHBOARD),a=o[0],l=o[1],s=(0,i.useState)(null),c=s[0],u=s[1];Ms(n);var d,p=Ni((function(e){return e.status()}));if(!p)return(0,r.tZ)(hl,{});if(p.error)return(0,r.tZ)("div",{children:(0,r.BX)(f.xv,{children:["Error: ",p.error]})});var h=null!==(d=p.branch)&&void 0!==d?d:null,m=null!==c&&c.type!==Fi.H.REMOTE&&c.name===h,v=function(e){switch(e.mode){case ao.DASHBOARD:l(ao.DASHBOARD),u(null);break;case ao.BRANCH:u(e.branch),l(ao.BRANCH)}};return(0,r.BX)(f.G7,{css:Gs,children:[(0,r.tZ)(co,{mode:a,branch:c,current:m,switchMode:v}),(0,r.tZ)(f.G7,{css:Is,children:a===ao.DASHBOARD?(0,r.tZ)(Ds,{switchMode:v}):(0,r.tZ)(kl,{status:p,branch:c,current:m,switchMode:v})})]})}function Ms(e){var t=(0,v.Z)().git;(0,i.useEffect)((function(){e&&t.forceRefresh()}),[e,t])}var Ps=n(23384),Ns=n(84942),Fs={Content:function(e){var t=e.options.paneId;return(0,Ps.D)({controlName:"flag-git-gud"})?(0,r.tZ)(Vs,{paneId:t}):(0,r.tZ)(Gi.z,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(Di.Z,{size:t})},getTitle:function(){return"Git"}};function Vs(e){var t=e.paneId,n=(0,a.Z)(i.useState(!0),2),o=n[0],l=n[1],s=(0,Ns.cr)({paneId:t});return(0,r.BX)(r.HY,{children:[o?(0,r.tZ)(js,{isActive:s}):(0,r.tZ)(Gi.z,{}),(0,r.tZ)(f.zx,{css:{position:"absolute",bottom:"16px",right:"16px",opacity:"0.5"},text:o?"Swap to Git1":"Swap to Git2",onClick:function(){return l(!o)}})]})}var Ws=n(48732);function zs(e){var t=e.reversed,n=void 0!==t&&t,o=e.hideName,l=void 0!==o&&o,s=e.color,c=void 0===s?"default":s,u=(0,a.Z)((0,U.bA)(),1)[0],d=(0,i.useMemo)((function(){return[n?f.l0.rowReverseWithGap(4):f.l0.rowWithGap(4),f.l0.align.center]}),[n]);if(!u)return null;if(0===u.count)return(0,r.BX)(f.G7,{css:d,children:[(0,r.tZ)(Ai.Z,{size:24}),(0,r.tZ)(f.xv,{color:c,children:"Server Authored"})]});var p=u.changes[u.version];if(!u.users)return(0,r.BX)(f.G7,{css:d,children:[(0,r.tZ)(f.qE,{size:24,src:"/public/images/ghost.svg",username:"Unknown"}),l?null:(0,r.tZ)(f.xv,{color:c,children:"Unknown"})]});var h=u.users[p.userId];return h?(0,r.BX)(f.G7,{css:d,children:[(0,r.tZ)(f.qE,{size:24,src:h.image,username:h.username}),l?null:(0,r.tZ)(f.xv,{color:c,children:h.username})]}):p.timestamp>16546464e5?(0,r.BX)(f.G7,{css:d,children:[(0,r.tZ)(Ai.Z,{size:24}),l?null:(0,r.tZ)(f.xv,{color:c,children:"Server Authored"})]}):(0,r.BX)(f.G7,{css:d,children:[(0,r.tZ)(f.qE,{size:24,src:"/public/images/ghost.svg",username:"Unknown"}),l?null:(0,r.tZ)(f.xv,{color:c,children:"Unknown"})]})}var Xs=n(87138),Hs=n(64487),As=n(75815),Us=n(90132),Os=n(60018),qs=n(48270),$s=function(e){(0,Us.Z)(n,e);var t=(0,qs.Z)(n);function n(e){var r;return(0,As.Z)(this,n),(r=t.call(this,e)).name="UserError",r}return n}((0,Os.Z)(Error));function Ys(e,t,n){return new Promise((function(r,i){try{var o=e.watchTextFile(t,{onReady:function(){var e=(0,tt.Z)((function(e){var t,a;return(0,nt.__generator)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,n(e)];case 1:return t=l.sent(),r(t),[3,3];case 2:return a=l.sent(),i(a),[3,3];case 3:return o(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()})}catch(a){i(a)}}))}var Ks,Js=n(22093).I;function Qs(e,t){return ec.apply(this,arguments)}function ec(){return ec=(0,tt.Z)((function(e,t){var n,r,i,o,a,l,s,c,u,d,p,f,h,m,v,g,Z,b;return(0,nt.__generator)(this,(function(y){switch(y.label){case 0:n=new Set,r=!0,i=!1,o=void 0;try{for(a=t[Symbol.iterator]();!(r=(l=a.next()).done);r=!0)(s=l.value).userId&&n.add(s.userId)}catch(x){i=!0,o=x}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return 0===n.size?[2,{}]:n.size>=Js?[2,Ks.TooManyUsersRequestedError]:[4,e.query({query:Xs.bD,variables:{ids:Array.from(n)}})];case 1:if(c=y.sent(),u=c.data,d=c.error)throw d;p=u.currentUser?[u.currentUser].concat((0,Be.Z)(u.usersByIds)):u.usersByIds,f={},h=!0,m=!1,v=void 0;try{for(g=p[Symbol.iterator]();!(h=(Z=g.next()).done);h=!0)b=Z.value,f[b.id]={id:b.id,username:b.username,image:b.image}}catch(x){m=!0,v=x}finally{try{h||null==g.return||g.return()}finally{if(m)throw v}}return[2,f]}}))})),ec.apply(this,arguments)}function tc(){return tc=(0,tt.Z)((function(e,t,n){var r,i,o;return(0,nt.__generator)(this,(function(a){switch(a.label){case 0:return[4,Ys(e,n,function(){var e=(0,tt.Z)((function(e){var t,n;return(0,nt.__generator)(this,(function(r){return t=e.fetchChanges,0===(n=e.version)?[2,{isDisposed:!1,result:[]}]:[2,t(1,n,"")]}))}));return function(t){return e.apply(this,arguments)}}())];case 1:return(r=a.sent()).isDisposed?[2,{data:null,handledError:"File deleted or removed."}]:(i=r.result,[4,Qs(t,i)]);case 2:return(o=a.sent())===Ks.TooManyUsersRequestedError?[2,{data:{changes:i,users:null},handledError:null}]:[2,{data:{changes:i,users:o},handledError:null}]}}))})),tc.apply(this,arguments)}function nc(e,t,n){return Ys(e,t,function(){var t=(0,tt.Z)((function(t){var r,i,o,a,l,s,c,u,d;return(0,nt.__generator)(this,(function(p){switch(p.label){case 0:if(r=t.fetchChanges,i=t.writeChange,o=t.version,n>o)throw new Error("Cannot restore to a version that does not exist");if(n===o)return[2];a=null,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,r(1,o,"")];case 2:if((l=p.sent()).isDisposed)throw new $s("File deleted or removed.");return a=l.result,[3,4];case 3:throw p.sent(),new $s("Something went wrong while restoring the file. It is possible that a bad connection is to blame. Please try again.");case 4:s=(0,Ca.Z)(a.slice(n,a.length).reverse()),c=s[0],u=s.slice(1),d=u.reduce((function(e,t){return e.compose(t.invertedChanges)}),c.invertedChanges);try{i(d)}catch(f){throw Hs.Tb(f),new $s("Something went wrong while restoring the file. Maybe the file changed while you were restoring it? Please try again.")}return[4,e.flush()];case 5:return p.sent(),[2]}}))}));return function(e){return t.apply(this,arguments)}}())}!function(e){e.TooManyUsersRequestedError="too_many_users"}(Ks||(Ks={}));var rc=n(96929),ic=(0,mt.iv)({display:"grid",gridTemplateColumns:"auto 1fr",rowGap:"0.5rem",columnGap:"1rem","> dt":{display:"flex",alignItems:"center",fontWeight:"bold"}});function oc(){var e=(0,ft.Z)().showError,t=(0,i.useState)(!1),n=t[0],o=t[1],l=(0,i.useState)(!1),s=l[0],c=l[1],u=(0,i.useContext)(U.ox).closeHistory,d=(0,v.Z)().fs,p=(0,a.Z)((0,U.bA)(),1)[0],h=(0,rc.j)(),m="Restore",g=!0;function Z(){return(Z=(0,tt.Z)((function(){var t,n,r;return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:if(!p||!d||s)return[2];i.label=1;case 1:return i.trys.push([1,3,4,5]),c(!0),(0,rc.p)("versionRestored"),t=p.filePath,n=p.version,[4,nc(d,t,n+1)];case 2:return i.sent(),null===u||void 0===u||u(),[3,5];case 3:return r=i.sent(),(0,Ws.Z)(r,$s)?(e(r.message),[2]):(h(r,"restore"),[3,5]);case 4:return o(!1),c(!1),[7];case 5:return[2]}}))}))).apply(this,arguments)}return p?0===p.count?(m="No history",g=!0):s||n?(m="Restoring...",g=!0):p.playing?(m="Playing...",g=!0):p.version===p.count-1?(m="Viewing latest",g=!0):(m="Restore to here",g=!1):(m="Loading...",g=!0),(0,r.BX)(r.HY,{children:[(0,r.tZ)(f.zx,{text:m,disabled:g,onClick:function(){return o(!0)},colorway:"primary",iconLeft:(0,r.tZ)(Ot.Z,{})}),p&&0!==p.count&&(0,r.tZ)(f.u_,{isOpen:n,onRequestClose:function(){s||o(!1)},children:(0,r.BX)(f.G7,{css:f.l0.colWithGap(24),children:[(0,r.tZ)(f.h4,{variant:"headerDefault",level:2,children:"Restore file version"}),(0,r.tZ)(f.Tg,{elevated:!0,css:[f.l0.px(16),f.l0.py(12),f.l0.borderRadius(8)],children:(0,r.BX)("dl",{css:ic,children:[(0,r.tZ)("dt",{children:"File"}),(0,r.tZ)("dd",{children:p.filePath}),(0,r.tZ)("dt",{children:"Version"}),(0,r.BX)("dd",{children:[p.version+1,(0,r.BX)("span",{css:[f.l0.color.foregroundDimmest],children:[(0,r.tZ)("span",{css:f.l0.mx(8),children:"/"}),p.count]})]}),(0,r.tZ)("dt",{children:"Date"}),(0,r.tZ)("dd",{children:(0,r.tZ)(f.EK,{date:p.changes[p.version].timestamp,dateFormat:"absolute"})}),(0,r.tZ)("dt",{children:"Author"}),(0,r.tZ)("dd",{children:(0,r.tZ)(zs,{})})]})}),(0,r.tZ)(f.E_,{icon:(0,r.tZ)(Nr.Info,{}),colorway:"positive",text:"Restoring is non-destructive. The restored content will become a new version at the end of history. You can always go back to the version you just had."}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.justify.end],children:[(0,r.tZ)(f.zx,{text:"Cancel",disabled:s,onClick:function(){return o(!1)}}),(0,r.tZ)(f.zx,{text:s?"Restoring Version...":"Restore Version",disabled:s,colorway:"primary",onClick:function(){return Z.apply(this,arguments)},iconLeft:(0,r.tZ)(Ot.Z,{})})]})]})})]})}var ac=function(){function e(){(0,As.Z)(this,e),this.map=new Map}var t=e.prototype;return t.getOrInit=function(e){var t=this.map.get(e);return t||(t=new Map,this.map.set(e,t)),t},t.add=function(e,t,n){this.getOrInit(e).set(t,n)},t.flush=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.map[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=(0,a.Z)(r.value,2),l=o[0],s=o[1];if(l&&"current"in l&&(l=l.current),l){var c=!0,u=!1,d=void 0;try{for(var p,f=s[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=(0,a.Z)(p.value,2),m=h[0],v=h[1];l.style.setProperty(m,v)}}catch(g){u=!0,d=g}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}}}}catch(g){t=!0,n=g}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.map.clear()},e}(),lc=new ac,sc=!1;function cc(e,t,n){if(null!==e){if("string"===typeof t){if(void 0===n)throw new Error("value is undefined when prop is string");lc.add(e,t,n)}else for(var r in t)lc.add(e,r,t[r]);sc||(sc=!0,requestAnimationFrame((function(){lc.flush(),sc=!1})))}}function uc(e,t){var n=(0,a.Z)((0,U.bA)(),1)[0],o=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return o.current})),n&&o.current&&(o.current.setAttribute("aria-valuemin","1"),o.current.setAttribute("aria-valuemax",String(n.count)),o.current.setAttribute("aria-valuenow",String(n.version+1)));var l=(0,i.useMemo)((function(){return(0,r.tZ)("div",{ref:o,role:"slider",tabIndex:0,css:{position:"absolute",top:"0",left:"calc((100% - 16px) * var(--scrubber-progress, 0))",width:"16px",height:"16px",backgroundColor:f.TV.accentPrimaryDefault,borderRadius:"100%",outline:"none",cursor:"pointer",transition:"left var(--scrubber-transition-time, 100ms) ease-out",willChange:"left, transition",":focus":{boxShadow:"0 0 0 1px ".concat(f.TV.foregroundDefault," inset")}}})}),[]);return n&&n.count>1?l:null}var dc=(0,i.forwardRef)(uc);function pc(e,t){var n=(0,a.Z)((0,U.bA)(),1)[0],o=(0,i.useMemo)((function(){return(0,r.BX)(r.HY,{children:[(0,r.tZ)("div",{ref:t,"aria-hidden":!0,css:{position:"relative",top:"0",width:"100%",height:"16px",margin:"0",cursor:"pointer"}}),(0,r.tZ)("div",{"aria-hidden":!0,css:{position:"absolute",top:"6px",left:"0",width:"100%",height:"4px",margin:"0",overflow:"hidden",pointerEvents:"none",backgroundColor:f.TV.backgroundHighest,borderRadius:"2px"},children:(0,r.tZ)("div",{"aria-hidden":!0,css:{position:"absolute",top:"0",left:"0",width:"100%",height:"4px",margin:"0",pointerEvents:"none",backgroundColor:f.TV.accentPrimaryDefault,transformOrigin:"left",transform:"scaleX(var(--scrubber-progress, 0))",transition:"transform var(--scrubber-transition-time, 100ms) ease-out",willChange:"transform, transition"}})})]})}),[t]),l=(0,i.useMemo)((function(){return(0,r.tZ)("div",{ref:t,"aria-hidden":!0,css:{width:"100%",height:"16px",pointerEvents:"none"},children:(0,r.tZ)("div",{css:{position:"absolute",width:"100%",height:"4px",top:"6px",left:"0",backgroundColor:f.TV.backgroundHighest,borderRadius:"2px"}})})}),[t]);return n&&n.count>1?o:l}var fc,hc=(0,i.forwardRef)(pc),mc=["ArrowLeft","ArrowRight","Home","End"];function vc(){var e=(0,a.Z)((0,U.bA)(),2),t=e[0],n=e[1],o=(0,i.useState)(!1),l=o[0],s=o[1],c=(0,i.useRef)(null),u=(0,i.useRef)(null),d=(0,i.useRef)(null),p=function(e){cc(c,"--scrubber-transition-time",e)},h=function(e){cc(c,"--scrubber-progress",e.toString())};if(t&&!l){var m=t.version/(t.count-1);h(m),t.playing?p("50ms"):p("100ms")}return(0,i.useEffect)((function(){if(t&&u.current&&d.current&&!l){var e=u.current,r=d.current,i=function(i){if(0===i.button){s(!0),r.focus();var o=e.getBoundingClientRect(),a=r.getBoundingClientRect(),l=o.width,c=a.width,u=i.target===e?c/2:i.clientX-a.left,d=null,f=function(e){var r=e-o.left-u,i=Math.max(0,Math.min(1,r/(l-c)));i!==d&&(d=i,h(i),n({version:Math.round(i*(t.count-1)),playing:!1}))};f(i.clientX);var m=function(e){p("0ms"),f(e.clientX),e.preventDefault(),e.stopPropagation()},v=function(){window.removeEventListener("pointermove",m),window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",v),p("100ms"),s(!1)};window.addEventListener("pointermove",m),window.addEventListener("pointerup",v),window.addEventListener("pointercancel",v),i.preventDefault(),i.stopPropagation()}};return e.addEventListener("pointerdown",i),r.addEventListener("pointerdown",i),function(){e.removeEventListener("pointerdown",i),r.removeEventListener("pointerdown",i)}}}),[t,n,l]),(0,i.useEffect)((function(){if(t&&d.current&&!l){var e=d.current,r=function(e){if(t&&mc.includes(e.key)){var r=e.shiftKey?10:1,i=t.version,o=t.count-1,a=Math.max(0,i-r),l=Math.min(o,i+r),s=null;switch(e.key){case"ArrowLeft":s=a;break;case"ArrowRight":s=l;break;case"Home":s=0;break;case"End":s=o}null!==s&&(n({version:s,playing:!1}),e.preventDefault(),e.stopPropagation())}};return e.addEventListener("keydown",r),function(){e.removeEventListener("keydown",r)}}}),[t,n,l]),(0,i.useMemo)((function(){return(0,r.BX)(f.G7,{innerRef:c,css:{position:"relative",height:"16px",width:"100%",touchAction:"none","--scrubber-progress":1,"--scrubber-transition-time":"100ms",":hover, :focus-within":{filter:"brightness(1.1)"},":hover:focus-within":{filter:"brightness(1.2)"}},children:[(0,r.tZ)(hc,{ref:u}),(0,r.tZ)(dc,{ref:d})]})}),[])}!function(e){e.None="0ms",e.Normal="100ms",e.Fast="50ms"}(fc||(fc={}));var gc=n(66252);function Zc(e){var t=(0,i.useState)({data:null,loading:!0,error:null,handledError:null}),n=t[0],r=t[1],o=(0,v.Z)().fs,a=(0,gc.x)();return(0,i.useEffect)((function(){if(e){r({data:null,loading:!0,error:null,handledError:null});var t=!1;return function(e,t,n){return tc.apply(this,arguments)}(o,a,e).then((function(e){var n=e.data,i=e.handledError;t||r(i?{data:null,loading:!1,error:null,handledError:i}:{data:n,loading:!1,error:null,handledError:null})})).catch((function(e){t||((0,Ws.Z)(e,Error)||(e=new Error(e)),r({data:null,loading:!1,error:e,handledError:null}))})),function(){t=!0}}r({data:null,loading:!1,error:null,handledError:null})}),[e,o,a]),n}function bc(){var e=(0,i.useContext)(U.ox).closeHistory;if(!e)throw new Error("history pane context not found");return(0,r.tZ)(f.zx,{text:"Cancel",onClick:function(){(0,rc.p)("historyExplicitlyClosed"),e()}})}var yc=n(519),xc=(0,mt.iv)({filter:"grayscale(100%) opacity(0.5)",pointerEvents:"none"});function wc(){var e,t="/replEnvironmentMobile"===(0,L.useRouter)().pathname,n=(0,a.Z)((0,U.bA)(),2),i=n[0],o=n[1],l=(0,Tn.H)(),s=!i||0===i.count;return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center,s?xc:null],children:[(0,r.tZ)(yc.Z,{id:l("diffButton"),isOn:null!==(e=null===i||void 0===i?void 0:i.comparing)&&void 0!==e&&e,onChange:function(e){if(!s){var t=e.target.checked;o({comparing:t})}}}),(0,r.tZ)("label",{css:[{cursor:"pointer",userSelect:"none"},f.l0.flex.column,f.l0.align.center],htmlFor:l("diffButton"),children:(0,r.tZ)(f.xv,{children:t?"Compare":"Compare Latest"})})]})}var Cc=n(8941);function kc(){var e=(0,a.Z)((0,U.bA)(),1)[0],t=0,n=0;e&&0!==e.count&&(t=e.version+1,n=e.count);var i=e?"default":"dimmer";return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.justify.spaceBetween],children:[(0,r.tZ)(f.xv,{css:{minWidth:"2ch",textAlign:"right"},color:i,children:t}),(0,r.tZ)(f.xv,{css:{width:"1ch",textAlign:"center"},color:"dimmer",children:"/"}),(0,r.tZ)(f.xv,{css:{minWidth:"2ch",textAlign:"left"},color:"dimmer",children:n})]})}function Lc(e){if(e<0)throw new Error('Require at least zero ops to compute pace, got "'+e+'"');return 1/Math.log(e+2)*100}function Sc(){var e,t,n,o,l=(0,a.Z)((0,U.bA)(),2),s=l[0],c=l[1],u=(null!==(t=null===s||void 0===s||null===(e=s.changes)||void 0===e?void 0:e.length)&&void 0!==t?t:1)-1,d=null!==(n=null===s||void 0===s?void 0:s.version)&&void 0!==n?n:0,p=null!==(o=null===s||void 0===s?void 0:s.playing)&&void 0!==o&&o,h=!s||0===s.count,m=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lc,o=(0,i.useState)(!1),a=o[0],l=o[1],s=(0,i.useCallback)((function(){t(1)}),[t]),c=(0,i.useCallback)((function(){e+1>n?l(!1):t(e+1)}),[t,e,n]),u=function(){l(!0)},d=function(){l(!1)};return(0,i.useEffect)((function(){if(a){var e=setTimeout((function(){c()}),r(n));return function(){return clearTimeout(e)}}}),[a,c,r,n]),{isPlaying:a,start:u,stop:d,reset:s}}(d,(function(e){return c({version:e})}),u),v=m.isPlaying,g=m.start,Z=m.stop;(0,i.useEffect)((function(){v&&!p?Z():!v&&p&&g()}),[p,v,g,Z]);var b="Loading...";return s&&(v?b="Pause":s.version===s.count-1?b="Play file history from beginning":0===s.version?b="Play file history":s.version>0&&(b="Play file history from here")),(0,r.tZ)(f.hU,{alt:b,size:24,disabled:h,onClick:function(){c(d===u?{version:0,playing:!0}:{playing:!p})},children:v?(0,r.tZ)(Nr.Pause,{}):(0,r.tZ)(Nr.PlayFilled,{})})}function Bc(){return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.align.center],children:[(0,r.tZ)(Sc,{}),(0,r.tZ)(Ec,{}),(0,r.tZ)(kc,{}),(0,r.tZ)(Tc,{})]})}function Ec(){var e=(0,a.Z)((0,U.bA)(),2),t=e[0],n=e[1],i=!t||0===t.version||0===t.count;return(0,r.tZ)(f.hU,{alt:"Move backwards one version",size:24,disabled:i,onClick:function(){t&&t.version>0&&n({version:t.version-1})},children:(0,r.tZ)(Vi.Z,{})})}function Tc(){var e=(0,a.Z)((0,U.bA)(),2),t=e[0],n=e[1],i=!t||t.version===t.count-1||0===t.count;return(0,r.tZ)(f.hU,{alt:"Move forwards one version",size:24,disabled:i,onClick:function(){t&&t.version<t.count-1&&n({version:t.version+1})},children:(0,r.tZ)(Cc.Z,{})})}function _c(){var e=(0,a.Z)((0,U.bA)(),1)[0];if(!e||0===e.count)return null;var t=e.changes[e.version].timestamp;return(0,r.tZ)(f.EK,{textColor:"dimmer",dateFormat:"switch",date:t})}function Rc(e){var t=e.filePath,n="/replEnvironmentMobile"===(0,L.useRouter)().pathname,o=n?f.l0.borderRadius(0):f.l0.borderRadius(0,0,8,8),l=(0,a.Z)((0,U.bA)(),2),s=l[0],c=l[1],u=(0,rc.j)(),d=Zc(t),p=d.data,h=d.loading,m=d.error;return(0,i.useEffect)((function(){if(m)u(m,"history2-index",{filePath:t});else if(p&&!h)return c({filePath:t,changes:p.changes,users:p.users}),(0,rc.p)("historyLoaded"),function(){c(null)}}),[t,p,h,m,c,u]),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.p(8),f.l0.zIndex(3),f.l0.overflow("hidden"),o,f.l0.backgroundColor.backgroundDefault,{borderTop:"2px solid ".concat(f.TV.backgroundHigher),boxShadow:"rgba(2, 2, 3, 0.125) 0px -16px 32px 0px"}],children:[(0,r.BX)(f.Tg,{css:[f.l0.position.relative,f.l0.colWithGap(4),f.l0.px(12),f.l0.pt(8),f.l0.pb(8),f.l0.align.center,f.l0.borderRadius(8),f.l0.overflow("hidden")],elevated:!0,children:[(0,r.tZ)(vc,{}),(0,r.BX)(f.G7,{css:[f.l0.display.flex,f.l0.flex.row,f.l0.align.center,f.l0.justify.spaceBetween,f.l0.width("100%")],children:[(0,r.tZ)(Bc,{}),s&&s.count>0?(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.align.center],children:[(0,r.tZ)(_c,{}),h||n?null:(0,r.tZ)(f.xv,{color:"dimmer",children:"\u2022"}),(0,r.tZ)(zs,{color:"dimmer",hideName:n,reversed:!0})]}):null]})]}),(0,r.BX)(f.G7,{css:[f.l0.display.flex,f.l0.flex.row],children:[(0,r.tZ)(Dc,{justify:"flex-start",children:(0,r.tZ)(wc,{})}),(0,r.BX)(Dc,{justify:"flex-end",children:[(0,r.tZ)(bc,{}),(0,r.tZ)(oc,{})]})]})]})}function Dc(e){var t=e.children,n=e.justify;return(0,r.tZ)("div",{css:{display:"flex",flexGrow:1,flexBasis:0,alignItems:"center",justifyContent:n,columnGap:f.TV.space8,minWidth:0},children:t})}var Gc=n(60147),Ic=n(4010),jc=n(68928),Mc=n(11143),Pc=n(18352),Nc=function(){function e(t){(0,As.Z)(this,e),this.changes=[],this.forward=[],this.inverted=[],this.locations=[];var n=!0,r=!1,i=void 0;try{for(var o,a=this,l=function(){var e=o.value,t=e.changes,n=e.invertedChanges,r=null,i=!1;t.iterChangedRanges((function(e,t,n,o){i||(r||(r=o),n!==o&&(i=!0))})),a.forward.push(t),a.inverted.push(n),a.locations.push(r)},s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)l()}catch(c){r=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}var t=e.prototype;return t.slice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;if(e>this.length||t>this.length||e<0||t<0)throw new Error("Invalid version range");if(e===t){if(0===this.length)return[ee.as.empty(0),null];var n=this.forward[e].newLength;return[ee.as.empty(n),null]}var r,i=Fc(e<t?this.forward.slice(e,t):this.inverted.slice(t,e).reverse()),o=e<t?e:t-1,a=null!==(r=this.locations[o])&&void 0!==r?r:null;return null!==a&&a>i.newLength&&(a=i.newLength),[i,a]},t.get=function(e){if(e>this.length||e<0)throw new Error("Invalid version");return this.changes[e]},t.documentFor=function(e){if(e>this.length||e<0)throw new Error("Invalid version");if(0===this.length)return"";var t=(0,a.Z)(this.slice(0,e),1)[0],n=ee.xv.of([""]);return t.apply(n).sliceString(0)},(0,Pc.Z)(e,[{key:"length",get:function(){return this.forward.length}}]),e}();function Fc(e){if(0===e.length)return ee.as.empty(0);if(1===e.length)return e[0];var t=(0,Ca.Z)(e),n=t[0],r=t.slice(1),i=n,o=!0,a=!1,l=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;i=i.compose(u)}}catch(d){a=!0,l=d}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}return i}var Vc=n(59119),Wc=n(35524),zc=n(27585),Xc=n(99094),Hc=(0,zc.B)();function Ac(e){if((0,Ws.Z)(e,ee.YW)){var t=e.state.field(Hc.state,!1);return{compareTo:t,changed:e.startState.field(Hc.state,!1)!==t}}return{compareTo:e.field(Hc.state,!1),changed:!1}}function Uc(e,t){e.state.field(Hc.state,!1)!==t&&e.dispatch({effects:Hc.effect.of(t)})}var Oc,qc,$c=ee.QQ.define({create:function(){return null},update:function(e,t){var n=Ac(t),r=n.compareTo,i=n.changed;if(!r)return null;if(!t.docChanged&&!i)return e;var o=t.state.doc.toString();return new Xc.PO(o,r)}}),Yc=null!==(Oc=globalThis.requestIdleCallback)&&void 0!==Oc?Oc:globalThis.requestAnimationFrame,Kc=null!==(qc=globalThis.cancelIdleCallback)&&void 0!==qc?qc:globalThis.cancelAnimationFrame,Jc=Q.p.line({class:"cm-diff-deleted"}),Qc=function(e){(0,Us.Z)(n,e);var t=(0,qs.Z)(n);function n(e,r){var i;return(0,As.Z)(this,n),(i=t.call(this)).insertion=e,i.highlight=r,i}var r=n.prototype;return r.destroy=function(){this.pendingHighlight&&Kc(this.pendingHighlight)},r.toDOM=function(){var e=document.createElement("div");return e.className="cm-diff-inserted cm-line",this.updateDOM(e),e},r.eq=function(e){return!e.pendingHighlight&&this.insertion===e.insertion},r.updateDOM=function(e){var t=this;return this.pendingHighlight&&(Kc(this.pendingHighlight),this.pendingHighlight=null),this.insertion.length?e.textContent=this.insertion:e.innerHTML="&nbsp;",this.highlight&&this.insertion.length&&(this.pendingHighlight=Yc((function(){if(t.highlight){t.pendingHighlight=null;try{var n=t.highlight();e.innerHTML="",e.append(n)}catch(r){}}}))),!0},n}(Q.l9),eu=ee.QQ.define({create:function(){return Q.p.none},update:function(e,t){var n=t.state.field($c,!1);if(!n)return Q.p.none;var r=Ac(t).changed;if(!t.docChanged&&!r)return e.map(t.changes);var i=[],o=function(e,t){i.push({from:e,to:e,value:t})},a=n.startInsertions();if(a){var l=!0,s=!1,c=void 0;try{for(var u,d=function(){var e=u.value,n=new Qc(e.content,(function(){return tu(t.state,e.content)}));o(0,Q.p.widget({widget:n,side:-1,block:!0}))},p=a[Symbol.iterator]();!(l=(u=p.next()).done);l=!0)d()}catch(b){s=!0,c=b}finally{try{l||null==p.return||p.return()}finally{if(s)throw c}}}var f=!0,h=!1,m=void 0;try{for(var v,g=function(){var e=v.value;if(e.isDeleted&&o(e.from,Jc),e.insertions){var n=!0,r=!1,i=void 0;try{for(var a,l=function(){var n=a.value,r=new Qc(n.content,(function(){return tu(t.state,n.content)}));o(e.to,Q.p.widget({widget:r,side:1,block:!0}))},s=e.insertions[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)l()}catch(b){r=!0,i=b}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}},Z=n.lines()[Symbol.iterator]();!(f=(v=Z.next()).done);f=!0)g()}catch(b){h=!0,m=b}finally{try{f||null==Z.return||Z.return()}finally{if(h)throw m}}return Q.p.set(i,!0)},provide:function(e){return Q.tk.decorations.from(e)}});function tu(e,t){var n,r=document.createDocumentFragment(),i=null===(n=e.facet(Vc.dK))||void 0===n?void 0:n.parser;if(!i){var o=document.createElement("span");return o.textContent=t,r.append(o),r}var a=i.parse(t),l={style:function(t){return(0,Vc.QN)(e,t)}},s=0;if((0,Wc.bW)(a,l,(function(e,n,i){if(e>s){var o=document.createElement("span");o.textContent=t.slice(s,e),r.append(o)}var a=document.createElement("span");a.className=i,a.textContent=t.slice(e,n),r.append(a),s=n})),s<t.length){var c=document.createElement("span");c.textContent=t.slice(s),r.append(c)}return r}var nu=function(e){(0,Us.Z)(n,e);var t=(0,qs.Z)(n);function n(e){var r;return(0,As.Z)(this,n),(r=t.call(this)).line=e,r}var r=n.prototype;return r.eq=function(e){return this.line===e.line},r.toDOM=function(){var e=document.createElement("div");return e.className="cm-diff-gutter-element-fallback",e.innerText=this.line.toString(),e},n}(Q.SJ),ru=function(e){(0,Us.Z)(n,e);var t=(0,qs.Z)(n);function n(e,r){var i;return(0,As.Z)(this,n),(i=t.call(this)).elementClass="cm-diff-gutter-block",i.lines=e,r&&(i.preceding=r),i}var r=n.prototype;return r.eq=function(e){var t,n,r,i;if((null===(t=this.lines)||void 0===t?void 0:t.length)!==(null===e||void 0===e||null===(n=e.lines)||void 0===n?void 0:n.length))return!1;if((null===(r=this.preceding)||void 0===r?void 0:r.length)!==(null===e||void 0===e||null===(i=e.preceding)||void 0===i?void 0:i.length))return!1;if(this.preceding&&e.preceding)for(var o=0;o<this.preceding.length;o++){var a=this.preceding[o],l=e.preceding[o];if(a.height!==l.height||a.left!==l.left||a.right!==l.right)return!1}if(this.lines&&e.lines)for(var s=0;s<this.lines.length;s++){var c=this.lines[s],u=e.lines[s];if(c.height!==u.height||c.left!==u.left||c.right!==u.right)return!1}return!0},r.toDOM=function(){var e,t=this,n=document.createElement("div");if(this.preceding){var r=this.preceding.slice().reverse(),i=0,o=!0,a=!1,l=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;i+=u.height;var d=this.piece(u);d.style.position="absolute",d.style.top="-".concat(i,"px"),n.prepend(d)}}catch(f){a=!0,l=f}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}}var p=this.lines.map((function(e){return t.piece(e)}));return(e=n).append.apply(e,(0,Be.Z)(p)),n},r.piece=function(e){var t=e.height,n=e.left,r=e.right,i=document.createElement("span");i.className="cm-diff-gutter-part",null!==n&&(i.innerText=n.toString());var o=document.createElement("span");o.className="cm-diff-gutter-part",null!==r&&(o.innerText=r.toString());var a=document.createElement("div");return a.className="cm-diff-gutter-element",a.style.height="".concat(t,"px"),a.append(i,o),null!==n&&null!==r||(null===r&&a.classList.add("cm-diff-gutter-deleted"),null===n&&a.classList.add("cm-diff-gutter-inserted")),a},n}(Q.SJ),iu=(0,Q.v5)({class:"cm-lineNumbers cm-diff-gutter",markers:function(e){var t=e.viewportLineBlocks,n=[],r=Ac(e.state).compareTo,i=e.state.field($c,!1),o=function(e,t){n.push({from:e,to:e,value:t})};if(!r||!i){var a=!0,l=!1,s=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value,p=e.state.doc.lineAt(d.from).number;if(d.type===Q.kH.Text)o(d.from,new nu(p));else if(Array.isArray(d.type)){var f=!0,h=!1,m=void 0;try{for(var v,g=d.type[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var Z=v.value;if(Z.type===Q.kH.Text){o(Z.from,new nu(p));break}}}catch(ae){h=!0,m=ae}finally{try{f||null==g.return||g.return()}finally{if(h)throw m}}}}}catch(ae){l=!0,s=ae}finally{try{a||null==u.return||u.return()}finally{if(l)throw s}}return ee.Xs.of(n,!0)}var b=!0,y=!1,x=void 0;try{for(var w,C=t[Symbol.iterator]();!(b=(w=C.next()).done);b=!0){var k=w.value,L=[],S=e.state.doc.lineAt(k.from).number,B=i.line(S);if(B){var E,T=e.defaultLineHeight,_=B.offset,R=B.isDeleted,D=B.insertions,G=1===S?i.startInsertions():null,I=G?G.length:0,j=G?[]:null;if(Array.isArray(k.type)&&k.type.length>=I+(null!==(E=null===D||void 0===D?void 0:D.length)&&void 0!==E?E:0)+1){for(var M=0;M<k.type.length;M++){var P=k.type[M];if((null===P||void 0===P?void 0:P.type)===Q.kH.Text){if(G&&j)for(var N=0;N<G.length;N++){var F,V=G[N],W=k.type[M-N-1];j.push({height:null!==(F=null===W||void 0===W?void 0:W.height)&&void 0!==F?F:T,left:null,right:V.number})}if(L.push({height:P.height,left:S,right:R?null:S+_}),D)for(var z=0;z<D.length;z++){var X,H=D[z],A=k.type[M+z+1];L.push({height:null!==(X=null===A||void 0===A?void 0:A.height)&&void 0!==X?X:T,left:null,right:H.number})}break}}o(k.from,new ru(L,j))}else{if(G&&j){var U=!0,O=!1,q=void 0;try{for(var $,Y=G[Symbol.iterator]();!(U=($=Y.next()).done);U=!0){var K=$.value;j.push({height:T,left:null,right:K.number})}}catch(ae){O=!0,q=ae}finally{try{U||null==Y.return||Y.return()}finally{if(O)throw q}}}if(L.push({height:k.height,left:S,right:R?null:S+_}),D){var J=!0,te=!1,ne=void 0;try{for(var re,ie=D[Symbol.iterator]();!(J=(re=ie.next()).done);J=!0){var oe=re.value;L.push({height:T,left:null,right:oe.number})}}catch(ae){te=!0,ne=ae}finally{try{J||null==ie.return||ie.return()}finally{if(te)throw ne}}}o(k.from,new ru(L,j))}}}}catch(ae){y=!0,x=ae}finally{try{b||null==C.return||C.return()}finally{if(y)throw x}}return ee.Xs.of(n,!0)},lineMarkerChange:function(e){if(e.docChanged)return!0;var t=!0,n=!1,r=void 0;try{for(var i,o=e.transactions[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){if(Ac(i.value).changed)return!0}}catch(a){n=!0,r=a}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return!1},initialSpacer:function(e){return new nu(e.state.doc.lines)},updateSpacer:function(e,t){var n=t.state.doc.lines;return Ac(t.state).compareTo?new ru([{height:0,left:n,right:n}]):new nu(n)}}),ou="#0053A644",au="#c93c3733",lu=[Q.tk.baseTheme({".cm-diff-inserted":{backgroundColor:ou},".cm-diff-deleted":{backgroundColor:au},".cm-diff-gutter .cm-diff-gutter-block":{position:"relative",padding:"0"},".cm-diff-gutter-element":{display:"flex",width:"100%",alignItems:"center",columnGap:"8px",padding:"0 6px",borderLeft:"4px solid transparent"},".cm-diff-gutter-part":{display:"inline-block",height:"100%",width:"50%",textAlign:"center"},".cm-diff-gutter-inserted":{backgroundColor:ou,borderLeftColor:"#0053A6"},".cm-diff-gutter-deleted":{backgroundColor:au,borderLeftColor:"#c93c37"},".cm-diff-gutter + .cm-foldGutter":{width:"0",transform:"translateX(-12px)",overflow:"visible"},".cm-diff-gutter .cm-diff-gutter-element":{paddingRight:"16px"},".cm-diff-gutter .cm-diff-gutter-element-fallback":{paddingRight:"12px"}}),Hc.state,$c,eu,iu,(0,Vc.mi)({openText:"\u25bc",closedText:"\u25b6\ufe0e"})];function su(e,t){var n=(0,i.useMemo)((function(){return(null===t||void 0===t?void 0:t.changes)?new Nc(t.changes):null}),[null===t||void 0===t?void 0:t.changes]),r=(0,i.useMemo)((function(){return n?n.documentFor(n.length):null}),[n]),o=(0,i.useRef)({current:-1,next:0,pending:!1});(0,i.useEffect)((function(){if(e)return function(){o.current.pending=!1,o.current={current:-1,next:0,pending:!1}}}),[e]),(0,i.useEffect)((function(){if(e&&t&&n){t.comparing?Uc(e,r):Uc(e,null);var i=o.current;i.next=t.version,i.pending||i.current===i.next||(i.pending=!0,requestAnimationFrame((function(){!1!==i.pending&&(i.pending=!1,e&&n&&i.current!==i.next&&(!function(e,t,n,r){var i=(0,a.Z)(t.slice(n+1,r+1),2),o=i[0],l=i[1];if(o.length!==e.state.doc.length){var s=(0,a.Z)(t.slice(0,r+1),1)[0];if(s.length!==e.state.doc.length)throw new Error("Unresolvable mismatch between changes and document");return e.dispatch({changes:{from:0,to:e.state.doc.length}}),void e.dispatch({changes:s})}e.dispatch({changes:o,effects:l?Q.tk.scrollIntoView(l,{yMargin:10}):void 0})}(e,n,i.current,i.next),i.current=i.next))})))}}),[e,t,n,r])}var cu,uu=function(){function e(t){var n=this;(0,As.Z)(this,e),this.view=t,this.overlay=document.createElement("div"),this.overlay.className="cm-overlay-generic",this.overlay.style.pointerEvents="none",this.overlay.style.contain="size style",this.overlay.setAttribute("aria-hidden","true"),this.view.scrollDOM.appendChild(this.overlay),this.elements=new Map,this.measureRequest={key:this,read:function(){var e=[],t=n.view.scrollDOM.getBoundingClientRect(),r=n.view.scrollDOM.scrollTop,i=n.view.scrollDOM.scrollLeft,o=!0,a=!1,l=void 0;try{for(var s,c=n.elements.values()[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value,d=u.dom,p=u.pos,f=u.offsetX,h=u.offsetY,m=n.view.coordsAtPos(p),v=n.view.lineBlockAt(p);if(m){var g=v.top-r+t.top+n.view.documentPadding.top,Z=Math.round((m.top-g)/n.view.defaultLineHeight)*n.view.defaultLineHeight+g,b=i+m.left-t.left+f,y=r+Z-t.top+h;e.push({dom:d,x:b,y:y})}else e.push({dom:d,x:null,y:null})}}catch(x){a=!0,l=x}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}return e},write:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=function(){var e=i.value,t=e.dom,n=e.x,r=e.y;if(null===n||null===r)return t.style.visibility="hidden",t.style.transition="none","continue";t.style.visibility="",t.style.transform="translate(".concat(n,"px, ").concat(r,"px)"),t.style.transition.startsWith("none")&&requestAnimationFrame((function(){t.style.transition=""}))},a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)o()}catch(l){n=!0,r=l}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}}}var t=e.prototype;return t.destroy=function(){this.view.scrollDOM.removeChild(this.overlay)},t.map=function(e){if(e.geometryChanged||e.viewportChanged){if(e.docChanged){var t=Array.from(this.elements.values()),n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,s=e.changes.mapPos(l.pos,-1,ee.gc.TrackDel);s?l.pos=s:this.removeElement(l.dom)}}catch(c){r=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}this.view.requestMeasure(this.measureRequest)}},t.addElement=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!this.elements.has(e)){var i={dom:e,pos:t,offsetX:n,offsetY:r};return this.elements.set(e,i),this.overlay.appendChild(e),e.style.visibility="hidden",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.willChange="transform",e.style.transition="none",this.view.requestMeasure(this.measureRequest),i}},t.removeElement=function(e){this.elements.has(e)&&(this.elements.delete(e),e.parentNode===this.overlay&&this.overlay.removeChild(e))},t.updateElement=function(e,t){var n=t.pos,r=t.offsetX,i=t.offsetY,o=this.elements.get(e);o&&(void 0!==n&&(o.pos=n),void 0!==r&&(o.offsetX=r),void 0!==i&&(o.offsetY=i),this.view.requestMeasure(this.measureRequest))},t.clear=function(){this.elements.clear(),this.overlay.innerHTML=""},e}();!function(e){e[e.Insertion=0]="Insertion",e[e.Deletion=1]="Deletion"}(cu||(cu={}));var du=Symbol.iterator,pu=function(){function e(t){(0,As.Z)(this,e),this.map=new Map,this.duration=t}var t=e.prototype;return t.set=function(e,t,n,r,i){var o=this.map.get(e);o||(o=new Map,this.map.set(e,o)),o.set(t,{from:e,to:t,time:n,type:r,cursor:i})},t.get=function(e,t){var n=this.map.get(e);if(n)return n.get(t)},t.update=function(t){var n=Date.now(),r=new e(this.duration),i=!0,o=!1,a=void 0;try{for(var l,s=this[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;if(!(n-c.time>this.duration)){var u=t.changes.mapPos(c.from,-1,ee.gc.TrackDel),d=t.changes.mapPos(c.to,-1,ee.gc.TrackDel);if(null!==u&&null!==d){var p=c.cursor;t.docChanged&&(p=!1),r.set(u,d,c.time,c.type,p)}}}}catch(f){o=!0,a=f}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return t.changes.iterChangedRanges((function(e,t,i,o){var a=i!==o?cu.Insertion:cu.Deletion;r.set(i,o,n,a,!0)}),!0),r},t.cursors=function(){var e,t,n,r,i,o,a;return(0,nt.__generator)(this,(function(l){switch(l.label){case 0:e=!0,t=!1,n=void 0,l.label=1;case 1:l.trys.push([1,6,7,8]),r=this[Symbol.iterator](),l.label=2;case 2:return(e=(i=r.next()).done)?[3,5]:(o=i.value).cursor?[4,{type:o.type,pos:o.to}]:[3,4];case 3:l.sent(),l.label=4;case 4:return e=!0,[3,2];case 5:return[3,8];case 6:return a=l.sent(),t=!0,n=a,[3,8];case 7:try{e||null==r.return||r.return()}finally{if(t)throw n}return[7];case 8:return[2]}}))},t[du]=function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,o=this.map.values()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,l=!0,s=!1,c=void 0;try{for(var u,d=a.values()[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var p=u.value;e.push(p)}}catch(f){s=!0,c=f}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}}}catch(f){n=!0,r=f}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e[Symbol.iterator]()},e}(),fu=1e3,hu="cm-flash-insertion",mu="cm-flash-deletion",vu="cm-flash-element",gu=Q.tk.theme((0,o.Z)({},".".concat(hu,", .").concat(mu),{display:"inline-block"}));function Zu(e){return Q.p.mark({class:mu,tagName:vu,attributes:{"data-time":e.toString()}})}function bu(e,t){var n=e===cu.Insertion?"rgba(0, 100, 255, 1)":"rgba(255, 32, 32, 1)",r=document.createElement("div");return r.style.width="3px",r.style.height=t,r.style.borderRadius="1px",r.style.backgroundColor=n,r.animate&&r.animate({opacity:[1,0]},{duration:500,delay:400,fill:"forwards"}),r}var yu=function(e){(0,Us.Z)(n,e);var t=(0,qs.Z)(n);function n(){return(0,As.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.isNested=function(){for(var e=this.parentElement;e&&!e.classList.contains("cm-line");){if((0,Ws.Z)(e,n)&&e.type===this.type)return!0;e=e.parentElement}return!1},r.stop=function(){var e,t;null===(e=this.animation)||void 0===e||null===(t=e.cancel)||void 0===t||t.call(e)},r.play=function(){var e=this.isPlaying;if(this.stop(),!this.isNested()){var t=Date.now()-parseInt(this.getAttribute("data-time")||"0",10);if(!(t>fu)){var n=this.type===cu.Insertion?"rgba(100, 255, 0, 0.3)":"rgba(255, 32, 32, 0.25)",r={backgroundColor:e?[n,n,"transparent"]:["transparent",n,"transparent"],offset:[0,.05,1]},i={id:"cm-flash-anim",duration:fu,easing:"ease-in-out",delay:-t};this.animate&&(this.animation=this.animate(r,i))}}},r.connectedCallback=function(){this.play()},r.attributeChangedCallback=function(e,t,n){"data-time"===e&&n&&this.play()},(0,Pc.Z)(n,[{key:"type",get:function(){return this.classList.contains(hu)?cu.Insertion:cu.Deletion}},{key:"isPlaying",get:function(){var e;return"running"===(null===(e=this.animation)||void 0===e?void 0:e.playState)}}],[{key:"observedAttributes",get:function(){return["data-time"]}}]),n}((0,Os.Z)(HTMLElement));customElements.get(vu)||customElements.define(vu,yu);var xu=function(){function e(t){(0,As.Z)(this,e),this.view=t,this.prevFlashes=new pu(fu),this.decorations=Q.p.set([]),this.hasRenderedOnce=!1,this.overlay=new uu(t)}var t=e.prototype;return t.destroy=function(){this.overlay.destroy()},t.update=function(e){if(this.hasRenderedOnce){var t,n=this.prevFlashes.update(e),r=[],i=!0,o=!1,a=void 0;try{for(var l,s=n[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;switch(c.type){case cu.Insertion:r.push({from:c.from,to:c.to,value:(t=c.time,Q.p.mark({class:hu,tagName:vu,attributes:{"data-time":t.toString()}}))});break;case cu.Deletion:var u=e.state.wordAt(c.from);u&&r.push({from:u.from,to:c.to,value:Zu(c.time)})}}}catch(x){o=!0,a=x}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}this.overlay.clear();var d=this.view.defaultLineHeight.toString()+"px",p=!0,f=!1,h=void 0;try{for(var m,v=n.cursors()[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var g=m.value,Z=g.type,b=g.pos,y=bu(Z,d);this.overlay.addElement(y,b)}}catch(x){f=!0,h=x}finally{try{p||null==v.return||v.return()}finally{if(f)throw h}}this.prevFlashes=n,this.decorations=Q.p.set(r,!0)}else e.docChanged&&(this.hasRenderedOnce=!0)},e}(),wu=Q.lg.fromClass(xu,{decorations:function(e){return e.decorations}}),Cu=[ee.Wl.lowest([gu,wu]),lu];function ku(e){var t=e.filePath,n=(0,a.Z)((0,U.bA)(),1)[0],i=(0,rc.j)(),o=(0,vt.Z)({filePath:t,noHistory:!0,readOnly:!0,hideGutter:!0,extensions:Cu,onException:function(e){i(e,"viewer-codemirror")}}),l=o.view,s=o.ref;return(0,A.VD)(l),(0,Ic.ZP)({view:l}),(0,Gc.Y)({view:l}),su(l,n),(0,r.tZ)("div",{css:Mc.ev,children:(0,r.BX)("div",{css:Mc.ac,children:[!n&&(0,r.tZ)("div",{css:Mc.ov,children:(0,r.tZ)(jc.Z,{})}),n&&0!==n.count?(0,r.tZ)("div",{css:Mc.ac,children:(0,r.tZ)("div",{ref:s,css:Mc.Mp})}):(0,r.tZ)(Lu,{})]})})}function Lu(){return(0,r.tZ)("div",{css:[Mc.ac,{display:"flex",alignItems:"center",justifyContent:"center"}],children:(0,r.tZ)("span",{children:"This file has no history."})})}var Su={Content:function(e){var t=e.pane,n=e.options;return(0,r.tZ)(Bu,(0,V.Z)((0,F.Z)({},t.data),{replacePane:n.replacePane}))},Icon:function(e){var t=e.size;return(0,r.tZ)(Ot.Z,{size:t})},getTitle:function(e){return e.data.path?"History - ".concat((0,x.UO)(e.data.path)):"History - no file open"}};function Bu(e){var t=e.path,n=e.replacePane,i=(0,U.EI)(t,n);return t?(0,r.tZ)(X.zt,{scope:A.d8,children:(0,r.tZ)(U.ox.Provider,{value:i,children:(0,r.BX)("div",{css:{position:"relative",display:"flex",flexDirection:"column",overflowY:"hidden",height:"100%",width:"100%"},children:[(0,r.tZ)(Si.HK,{path:t,replacePane:n}),(0,r.tZ)(ku,{filePath:t}),(0,r.tZ)(Rc,{filePath:t})]})})}):null}var Eu=n(34837),Tu=n.n(Eu),_u=n(1879),Ru=n(7835),Du=n(28497),Gu=n(76818);function Iu(e){var t=e.activeFile,n=i.useRef(null),o=i.useRef(null),l=(0,v.Z)().fs,s=(0,ft.Z)(),c=s.showError,d=s.showConfirm,f=(0,p.Z)(),h=(0,a.Z)(i.useState(!1),2),m=h[0],g=h[1],b=(0,Z.Z)((function(){var e=n.current;if(!e)return null;e.width=e.offsetWidth,e.height=e.offsetHeight;var t=e.getContext("2d");t&&(t.imageSmoothingEnabled=!1)}),{type:"debounce",wait:100});return i.useEffect((function(){var e=function(){if(!s)throw new Error("Tried to export png but peditCtxRef was null");var e=window.prompt("Export as:");if(e){var t="".concat(e,".png"),n=s.curFrame().toPNG();l.writeFile(t,En.Z.from(n)).then((function(){d("Successfully exported to ".concat(t))}))}},r=!1;if(t&&n.current){var i=n.current,a=t,s=null,u=a.endsWith(".kbmsprite");return function(){p.apply(this,arguments)}(),function(){r=!0,s&&(s.cleanUp(),s=null),o.current&&(o.current=null)}}function p(){return(p=(0,tt.Z)((function(){var t,n,d;return(0,nt.__generator)(this,(function(p){switch(p.label){case 0:return[4,l.readFile(a)];case 1:return t=p.sent(),r?[2]:t.error?(c("failed to read ".concat(a)),[2]):(n=t.content.toString(),d=n&&JSON.parse(n),i.width=i.offsetWidth,i.height=i.offsetHeight,(s=Tu()(d?d.fromKaboom?{canvas:i,width:d.width,height:d.height}:{canvas:i,data:u?(0,Du.C)(d):d}:{canvas:i,width:64,height:64})).on("change",f),s.on("save",f),s.on("export",e),o.current=s.save,i.focus(),[2])}}))}))).apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return(h=(0,tt.Z)((function(){var e;return(0,nt.__generator)(this,(function(t){switch(t.label){case 0:if(r)return[2];if(!s)throw new Error("Expected peditCtx");return e=s.save(),u?[4,(0,Du.u)(e)]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return[4,l.writeFile(a,En.Z.from(JSON.stringify(e)))];case 3:return t.sent().error&&r&&c("Failed to save ".concat(a,", please try again")),[2]}}))}))).apply(this,arguments)}}),[l,t,n]),(0,r.BX)("div",{className:u().dynamic([["c86cb3d51fed2583",[f?"0 3px 0 3px ".concat(f):"0"]]])+" pedit",children:[(0,r.tZ)(u(),{id:"c86cb3d51fed2583",dynamic:[f?"0 3px 0 3px ".concat(f):"0"],children:".pedit.__jsx-style-dynamic-selector{width:100%;height:100%;position:relative;z-index:3;-webkit-box-shadow:".concat(f?"0 3px 0 3px ".concat(f):"0",";-moz-box-shadow:").concat(f?"0 3px 0 3px ".concat(f):"0",";box-shadow:").concat(f?"0 3px 0 3px ".concat(f):"0","}canvas.__jsx-style-dynamic-selector{width:100%;height:100%;outline:none;position:absolute;top:0;left:0}.upgrade-button.__jsx-style-dynamic-selector{position:absolute;bottom:0;left:0;z-index:100;padding:var(--space-4);border:solid 2px var(--foreground-default);background:var(--background-default);font-weight:700;outline:none}.upgrade-button.__jsx-style-dynamic-selector:hover{cursor:pointer;background:var(--background-higher)}.upgrade-modal.__jsx-style-dynamic-selector{background:var(--background-default);padding:var(--space-32)}")}),(0,r.tZ)("canvas",{ref:function(e){n.current=e,b(e)},tabIndex:0,className:u().dynamic([["c86cb3d51fed2583",[f?"0 3px 0 3px ".concat(f):"0"]]])},t),t&&t.endsWith(".kbmsprite")?(0,r.tZ)("button",{onClick:function(){return g(!0)},className:u().dynamic([["c86cb3d51fed2583",[f?"0 3px 0 3px ".concat(f):"0"]]])+" upgrade-button",children:"Upgrade"}):null,(0,r.tZ)(_u.u,{isOpen:m,onRequestClose:function(){return g(!1)},children:(0,r.tZ)(Ru.Z,{prompt:"Upgrade to '.pedit'?",desc:"You\u2019re using '.kbmsprite' which is recently deprecated. Do you want to upgrade to the new '.pedit' format? It\u2019ll create a new '.pedit' file with the same content. If you\u2019re using it with Kaboom, the new '.pedit' format won't work with kaboom before v0.4.0.",onCancel:function(){return g(!1)},confirmText:"Upgrade",icon:(0,r.tZ)(Gu.Z,{}),onConfirm:function(){if(o.current)if(t){var e=t.replace(/\.kbmsprite$/,".pedit"),n=En.Z.from(JSON.stringify(o.current()));l.writeFile(e,n).then((function(t){t.error?c("Failed to write to ".concat(e)):d("Successfully written to ".concat(e))})),g(!1)}else c("failed to get active file");else c("Please try again after the file loads")}})})]})}var ju={Content:function(e){var t=e.pane,n=e.options.replacePane;return(0,r.tZ)(Mu,{path:t.data.path,replacePane:n})},Icon:function(e){var t=e.size;return(0,r.tZ)(Li.Z,{size:t})},getTitle:function(e){return(0,x.UO)(e.data.path)}};function Mu(e){var t=e.path,n=e.replacePane;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(Si.HK,{path:t,replacePane:n}),(0,r.tZ)(Si.VY,{children:(0,r.tZ)(Iu,{activeFile:t})})]})}var Pu=n(42325),Nu=n(64576),Fu=n(33773),Vu=n(54168),Wu=ee.q6.define();function zu(e){var t=e.editorRef,n=e.onChange,o=e.placeholder,a=e.skeleton,l=e.language,s=e.skeletonClosingBracket,c=e.indentSize,d=void 0===c?2:c,p=(0,vt.Z)({language:l,indentIsSpaces:!0,indentSize:2,fontSize:14}),f=p.view,h=p.ref,m=i.useRef(a?"".concat(a,"\n"):""),v=s?"\n".concat(s):"",g=" ".repeat(d);return i.useEffect((function(){if(f&&f.state.doc.length){var e=m.current;m.current=a?"".concat(a,"\n"):"",f.dispatch({changes:{from:0,to:e.length-1,insert:a},annotations:[ee.YW.addToHistory.of(!1),Wu.of(!0)]})}}),[f,a]),i.useEffect((function(){if(f){var e=ee.yy.changeFilter.of((function(e){return!!e.annotation(Wu)||[-1,m.current.length,e.startState.doc.length-v.length,e.startState.doc.length+1]})),r=Q.tk.updateListener.of((function(e){var t=e.state.doc.slice(m.current.length,e.state.doc.toString().length-v.length).toString();if(t!=="".concat(g).concat(o,"\n").concat(g)?n(t):n(""),e.docChanged&&e.state.doc.length===m.current.length+v.length){var r="\n"+g;f.dispatch({changes:{from:m.current.length-1,insert:"\n"+g},selection:{anchor:m.current.length+r.length-1},annotations:[Wu.of(!0)]})}})),i="".concat(m.current).concat(g).concat(o,"\n").concat(v);f.dispatch({changes:{from:0,to:f.state.doc.length,insert:i},effects:ee.Py.appendConfig.of([e,r]),selection:{anchor:i.length},annotations:ee.YW.addToHistory.of(!1)}),t({setValue:function(e){if(e){var t=f.state.doc.toString().length;f.dispatch({changes:{from:m.current.length,to:t-v.length,insert:e},annotations:ee.YW.addToHistory.of(!1)})}},focus:function(){return f.focus()}})}}),[n,l,f,v,t,o,g]),(0,r.BX)("div",{className:"jsx-c0a72647b9c20ef editor",children:[(0,r.tZ)("div",{ref:h,className:"jsx-c0a72647b9c20ef"}),(0,r.tZ)(u(),{id:"c0a72647b9c20ef",children:".editor.jsx-c0a72647b9c20ef{overflow:auto;position:absolute;width:100%;height:100%}.loader.jsx-c0a72647b9c20ef{height:100%;width:100%;z-index:5}"})]})}function Xu(e){var t,n,o,l,s=e.isOpen,c=e.meta,u=e.language,d=e.hasMetadata,p=e.onClose,h=(0,Ne.Z)(),m=(0,ft.Z)().showConfirm,v=(0,a.Z)(i.useState(null),2),g=v[0],Z=v[1],b=(0,a.Z)(i.useState(!0),2),y=b[0],x=b[1],w=(0,a.Z)(i.useState((null===c||void 0===c?void 0:c.initialization)||""),2),C=w[0],k=w[1],L=(0,a.Z)(i.useState((null===c||void 0===c?void 0:c.imports)||""),2),S=L[0],B=L[1],E=(0,a.Z)(i.useState((null===c||void 0===c?void 0:c.setup)||""),2),T=E[0],_=E[1],R=(0,a.Z)(i.useState((null===c||void 0===c?void 0:c.tearDown)||""),2),D=R[0],G=R[1],I=(0,a.Z)((0,Nu.rU)({onError:function(e){return Z(e.message)},update:function(e,t){var n,r=null===(n=t.data)||void 0===n?void 0:n.createReplUnitTestMeta;r&&("UserError"===r.__typename?Z(r.message):"ReplUnitTestMeta"===r.__typename&&(e.modify({id:e.identify({__typename:"Repl",id:h}),fields:{unitTests:function(t){var n=e.writeFragment({data:r,fragment:Nu.aA});return t?(0,V.Z)((0,F.Z)({},t),{meta:(0,F.Z)({},n)}):{__typename:"ReplUnitTestsWithMeta",meta:n,tests:[]}}}}),m("Setup saved!"),p()))}}),2),j=I[0],M=I[1],P=(0,a.Z)((0,Nu.AF)({onError:function(e){return Z(e.message)},onCompleted:function(e){var t=e.updateReplUnitTestMeta;t&&("UserError"===t.__typename?Z(t.message):"ReplUnitTestMeta"===t.__typename&&(m("Imports updated!"),p()))}}),2),N=P[0],W=P[1],z=(0,Vu.x)(u),X=S!==(null===c||void 0===c?void 0:c.imports)||C!==(null===c||void 0===c?void 0:c.initialization)||T!==(null===c||void 0===c?void 0:c.setup)||D!==(null===c||void 0===c?void 0:c.tearDown),H=M.loading||W.loading;return(0,r.tZ)(f.u_,{isOpen:s,onRequestClose:p,maxWidth:872,children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(24)],children:[(0,r.tZ)(f.h4,{level:1,variant:"headerDefault",children:"Setup"}),(0,r.tZ)(Hu,{unitTestsLib:z,onChange:B,language:u,initialValue:null!==(t=null===c||void 0===c?void 0:c.imports)&&void 0!==t?t:""}),(0,r.tZ)(f.G7,{onClick:function(){return x(!y)},css:{cursor:"pointer"},children:(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.h4,{level:2,variant:"headerDefault",children:"Advanced"}),(0,r.tZ)(Fu.Z,{color:"var(--foreground-default)",size:20,rotate:y?270:0})]})}),y?null:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(Au,{unitTestsLib:z,onChange:k,language:u,initialValue:null!==(n=null===c||void 0===c?void 0:c.initialization)&&void 0!==n?n:""}),(0,r.tZ)(Uu,{unitTestsLib:z,onChange:_,language:u,initialValue:null!==(o=null===c||void 0===c?void 0:c.setup)&&void 0!==o?o:""}),(0,r.tZ)(Ou,{unitTestsLib:z,onChange:G,language:u,initialValue:null!==(l=null===c||void 0===c?void 0:c.tearDown)&&void 0!==l?l:""})]}),(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween],children:[(0,r.tZ)(f.xv,{css:[f.l0.color.accentNegativeStronger],multiline:!0,children:g}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(12)],children:[(0,r.tZ)(f.zx,{disabled:H,onClick:p,text:"Cancel"}),(0,r.tZ)(f.zx,{colorway:"primary",disabled:!X||H,onClick:function(){(0,Yt.j)(Yt.U3.REPL_UNIT_TEST_USED,{action:"modifiedSetup"}),d?N({variables:{input:{initialization:C,imports:S,setup:T,tearDown:D,replId:h}}}):j({variables:{input:{initialization:C,imports:S,setup:T,tearDown:D,replId:h}}})},iconLeft:(0,r.tZ)(gt.Z,{}),text:"".concat(H?"Saving...":"Save")})]})]})]})})}function Hu(e){var t=e.unitTestsLib,n=e.onChange,o=e.language,l=e.initialValue,s=(0,a.Z)(i.useState(null),2),c=s[0],u=s[1];i.useEffect((function(){c&&(c.setValue(l),c.focus())}),[c,l]);var d=t.defaultImports().trim();return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Imports"}),(0,r.tZ)(f.ZP,{iconLeft:(0,r.tZ)(he.Z,{}),text:"Docs",href:"https://docs.replit.com/teams-edu/unit-testing",target:"_blank",outlined:!0})]}),(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.borderRadius(8),{border:"1px solid var(--background-highest)"}],children:(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(8),f.l0.height(200),f.l0.position.relative],children:(0,r.tZ)(zu,{onChange:n,placeholder:"".concat(t.getCommentChar()," Add imports here"),editorRef:u,language:o,skeleton:d,skeletonClosingBracket:"",indentSize:0})})})]})}function Au(e){var t=e.unitTestsLib,n=e.onChange,o=e.language,l=e.initialValue,s=(0,a.Z)(i.useState(null),2),c=s[0],u=s[1];i.useEffect((function(){c&&c.setValue(l)}),[c,l]);var d=t.classConstructorName();return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Initialization"}),(0,r.tZ)(f.ZP,{iconLeft:(0,r.tZ)(he.Z,{}),text:"Docs",href:"https://docs.replit.com/teams-edu/unit-testing",target:"_blank",outlined:!0})]}),d?(0,r.BX)(f.xv,{multiline:!0,children:["Hint: constructor name is ",(0,r.tZ)("code",{children:d}),"."]}):null,(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.borderRadius(8),{border:"1px solid var(--background-highest)"}],children:(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(8),f.l0.height(200),f.l0.position.relative],children:(0,r.tZ)(zu,{onChange:n,placeholder:"".concat(t.getCommentChar()," Add initialization code here"),editorRef:u,language:o,skeleton:"",skeletonClosingBracket:"",indentSize:0})})})]})}function Uu(e){var t=e.unitTestsLib,n=e.onChange,o=e.language,l=e.initialValue,s=(0,a.Z)(i.useState(null),2),c=s[0],u=s[1];i.useEffect((function(){c&&c.setValue(l)}),[c,l]);var d=t.setupIntro().trim();return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Setup"}),(0,r.tZ)(f.ZP,{iconLeft:(0,r.tZ)(he.Z,{}),text:"Docs",href:"https://docs.replit.com/teams-edu/unit-testing",target:"_blank",outlined:!0})]}),(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.borderRadius(8),{border:"1px solid var(--background-highest)"}],children:(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(8),f.l0.height(200),f.l0.position.relative],children:(0,r.tZ)(zu,{onChange:n,placeholder:"".concat(t.getCommentChar()," Add setup code here"),editorRef:u,language:o,skeleton:d,skeletonClosingBracket:t.hasClosingBrackets()?t.getClosingBrackets():""})})})]})}function Ou(e){var t=e.unitTestsLib,n=e.onChange,o=e.language,l=e.initialValue,s=(0,a.Z)(i.useState(null),2),c=s[0],u=s[1];i.useEffect((function(){c&&c.setValue(l)}),[c,l]);var d=t.tearDownIntro().trim();return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Teardown"}),(0,r.tZ)(f.ZP,{iconLeft:(0,r.tZ)(he.Z,{}),text:"Docs",href:"https://docs.replit.com/teams-edu/unit-testing",target:"_blank",outlined:!0})]}),(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.borderRadius(8),{border:"1px solid var(--background-highest)"}],children:(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(8),f.l0.height(200),f.l0.position.relative],children:(0,r.tZ)(zu,{onChange:n,placeholder:"".concat(t.getCommentChar()," Add teardown code here"),editorRef:u,language:o,skeleton:d,skeletonClosingBracket:t.hasClosingBrackets()?t.getClosingBrackets():""})})})]})}var qu=function(e){var t=e.language,n=e.meta,o=(0,a.Z)(i.useState(!1),2),l=o[0],s=o[1];return(0,r.BX)(r.HY,{children:[(0,r.tZ)(f.zx,{iconLeft:(0,r.tZ)(ye.Z,{}),onClick:function(){return s(!0)},text:"Setup"}),(0,r.tZ)(Xu,{language:t,isOpen:l,onClose:function(){return s(!1)},hasMetadata:Boolean(null===n||void 0===n?void 0:n.id),meta:n})]})},$u=n(54969),Yu=n(77836),Ku=n(67629),Ju=n(43530),Qu=n(30992),ed=n(83160),td="\x1b[0;31m",nd="\x1b[0m",rd=["\u28fe","\u28fd","\u28fb","\u28bf","\u287f","\u28df","\u28ef","\u28f7","\u2801","\u2802","\u2804","\u2840","\u2880","\u2820","\u2810","\u2808"];function id(e){var t=e.name,n=e.failureMessage,r=e.stack;return"\u274c\t".concat(td).concat(t).concat(nd,"\r").concat(n?"\nMessage: ".concat(n,"\r"):"","\nStack Trace:\r\n").concat(r.replace(/\n/g,"\r\n"),"\n\r\n\r\n")}var od=function(e){var t=e.language,n=e.unitTests,o=e.onResult,l=e.trackingContext,s=function(e){m.writeToTerminal(e)},c=function(){m.clearTerminal(),s("\r\n")},u=(0,a.Z)(i.useState(!1),2),d=u[0],p=u[1],h=(0,v.Z)(),m=h.session,g=h.container,Z=h.packager,b=h.fs,y=null,x=function(){p(!1),(0,ed.WT)(b),y&&(y.stopLogSpinner(),y=null)},w=function(){var e=(0,tt.Z)((function(){var e,r,i,a,u,f,h,m,v,w,C,k,L,S,B,E,T,_,R,D,G,I;return(0,nt.__generator)(this,(function(j){switch(j.label){case 0:if(d)return[2];if(e=null,y={startLogSpinner:function(t){if(e)throw new Error("A spinner is already active! call stopSpinner first or use the update callback to update the active spinner's message.");var n=t,r=0;return e=setInterval((function(){r++;var e=rd[r%rd.length];if(!y)throw new Error("Expected logger");y.clearLine(),y.logMessage(e+" "+n)}),100),function(e){n=e}},stopLogSpinner:function(){e&&clearInterval(e),e=null},logMessage:s,clearLogs:c,clearLine:function(){if(!y)throw new Error("Expected logger");y.logMessage("\x1b[1K\r")}},!n)throw new Error("Run button should not be active if there are no tests");return p(!0),(0,Yt.j)(Yt.U3.REPL_UNIT_TEST_USED,{trackingData:{context:l},action:"ranTests"}),y.clearLogs(),[4,(r=(0,Vu.x)(t)).buildAndRunTests((0,F.Z)({container:g,fs:b,packager:Z,logger:y},n))];case 1:if(i=j.sent(),y.stopLogSpinner(),y.clearLine(),y.clearLogs(),null!==i.error)return y.logMessage("".concat(td).concat(i.error).concat(nd,"\r\n")),x(),n.tests.map((function(e){return{testId:e.id,didPass:!1}})),[2];if(a=i.result.passed?[]:i.result.failures.map((function(e){return r.parseTestResultName(e.name)})),u=[],f=n.tests.map((function(e){return r.getProperTestName(e.name)})),h=a.filter((function(e){return!f.includes(e)})),h.length)v=h[0],w=i.result.failures[0].stack,y.logMessage(id({name:v,failureMessage:"The following error occurred but was not related to a single unit test",stack:w})),(m=u).push.apply(m,(0,Be.Z)(n.tests.map((function(e){return{testId:e.id,didPass:!1}}))));else{C=!0,k=!1,L=void 0;try{for(S=n.tests[Symbol.iterator]();!(C=(B=S.next()).done);C=!0)E=B.value,T=r.getProperTestName(E.name),_=a.indexOf(T),R=-1===_,u.push({testId:E.id,didPass:R}),R?y.logMessage((M=T,"\u2705\t".concat("\x1b[0;32m").concat(M).concat(nd,"\r\n\r\n"))):(D=i.result.failures[_].stack,y.logMessage(id({name:T,failureMessage:E.failureMessage,stack:D})))}catch(P){k=!0,L=P}finally{try{C||null==S.return||S.return()}finally{if(k)throw L}}}return o(u),G=n.tests.length,i.result.passed?(y.logMessage("".concat("\x1b[48;5;22m","  All tests have passed ").concat(G,"/").concat(G,"  ").concat(nd,"\r\n")),x(),[2]):(I=G-i.result.failures.length,y.logMessage("".concat("\x1b[48;5;88m","  ").concat(I,"/").concat(G," passed, see errors above  ").concat(nd)),x(),[2])}var M}))}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){try{w()}catch(t){Hs.$e((function(e){e.setTag("unittestsrun","true"),Hs.Tb(t)})),y&&y.logMessage("\r\n".concat(td," Sorry, we have failed to run your tests. Please try again or contact support. ").concat(nd,"\r\n")),x()}return[2]}))}));return function(){return e.apply(this,arguments)}}();return Boolean(n&&n.tests.length>0)?(0,r.tZ)(f.G7,{children:(0,r.tZ)(f.zx,{disabled:d,colorway:"primary",iconLeft:(0,r.tZ)(br.Z,{}),onClick:C,text:d?"Running tests...":"Run tests"})}):null},ad=n(70804);function ld(e){var t=e.isOpen,n=e.test,o=e.language,l=e.onClose,s=e.trackingContext,c=(0,Ne.Z)(),u=(0,ft.Z)().showConfirm,d=(0,a.Z)(i.useState(null),2),p=d[0],h=d[1],m=(0,a.Z)(i.useState(""),2),v=m[0],g=m[1],Z=(0,a.Z)(i.useState(""),2),b=Z[0],y=Z[1],x=(0,a.Z)(i.useState(""),2),w=x[0],C=x[1],k=(0,a.Z)((0,Nu.Hd)({onError:function(e){return C(e.message)},update:function(e,t){var n,r=null===(n=t.data)||void 0===n?void 0:n.createReplUnitTest;r&&("UserError"===r.__typename?C(r.message):"ReplUnitTest"===r.__typename&&(e.modify({id:e.identify({__typename:"Repl",id:c}),fields:{unitTests:function(t){var n=e.writeFragment({data:r,fragment:Nu.Rb});return t?(0,V.Z)((0,F.Z)({},t),{tests:(0,Be.Z)(t.tests).concat([n])}):{__typename:"ReplUnitTestsWithMeta",meta:null,tests:[n]}}}}),u("Test created!"),l()))}}),2),L=k[0],S=k[1],B=(0,a.Z)((0,Nu.kO)({onError:function(e){return C(e.message)},onCompleted:function(e){var t=e.updateReplUnitTest;t&&("UserError"===t.__typename?C(t.message):"ReplUnitTest"===t.__typename&&(u("Test updated!"),l()))}}),2),E=B[0],T=B[1],_=(0,Qu.Y)("",(function(e){return e.length<=0?{message:"Must include test name"}:e.trim().split(" ").length>1?{message:"Test name must only be one word"}:void 0}));i.useEffect((function(){_.setValue((null===n||void 0===n?void 0:n.name)||"",{preventTouch:!0}),y((null===n||void 0===n?void 0:n.failureMessage)||""),g((null===n||void 0===n?void 0:n.code)||""),p&&p.setValue((null===n||void 0===n?void 0:n.code)||"")}),[n,p]),i.useEffect((function(){C("")}),[v,C]);var R=(0,Vu.x)(o),D="".concat(R.getCommentChar()," Enter code here"),G=!n||n.name!==_.value||n.code!==v||n.failureMessage!==b,I=S.loading||T.loading,j=R.testIntro(_.value||""),M=R.hasClosingBrackets()?R.getClosingBrackets():"",P=(0,a.Z)(i.useState(!1),2),N=P[0],W=P[1],z=function(){p&&(p.setValue("  "+R.exampleTest.code),p.focus()),g(R.exampleTest.code)};return(0,r.tZ)(f.u_,{isOpen:t,onRequestClose:l,maxWidth:872,children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(24)],children:[(0,r.tZ)(f.h4,{level:1,variant:"headerDefault",children:"New unit test"}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)("label",{htmlFor:"name",children:(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Name"})}),(0,r.tZ)(f.Zl,{id:"name",label:"Test name",status:null,autoFocus:!0,required:!0,value:_.value,isValid:_.isValid,error:_.error,warning:_.warning,touched:_.touched,onChange:function(e){_.setValue(e.target.value)},placeholder:"Enter test name here"})]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.align.center,f.l0.justify.spaceBetween],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Code"}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4)],children:[(0,r.BX)(ad.Z,{isOpen:N,onClickOutside:function(){return W(!1)},placement:"bottom-end",children:[(0,r.tZ)(f.zx,{iconLeft:(0,r.tZ)(Yu.Z,{}),small:!0,outlined:!0,text:"View an example",onClick:function(){[D,R.exampleTest.code].includes(v.trim())?z():W(!0)}}),(0,r.BX)(f.G7,{children:["This will overwrite your current test. Are you sure?",(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.pt(8)],children:[" ",(0,r.tZ)(f.zx,{text:"No, go back",small:!0,iconLeft:(0,r.tZ)(Ku.Z,{}),onClick:function(){W(!1)}}),(0,r.tZ)(f.zx,{text:"Yes, delete test",colorway:"negative",small:!0,iconLeft:(0,r.tZ)(gt.Z,{}),onClick:function(){z(),W(!1)}})]})]})]}),(0,r.tZ)(f.ZP,{iconLeft:(0,r.tZ)(Ju.Z,{}),small:!0,outlined:!0,text:"View docs",target:"_blank",href:"https://docs.replit.com/teams-edu/unit-testing"})]})]}),(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.borderRadius(8),{border:"1px solid var(--background-highest)"}],children:(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(8),f.l0.height(200),f.l0.position.relative],children:(0,r.tZ)(zu,{skeleton:j,skeletonClosingBracket:M,language:o,editorRef:h,onChange:g,placeholder:D})})})]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Failure message"}),(0,r.tZ)(f.II,{value:b,onChange:function(e){return y(e.target.value)},placeholder:"This will be displayed on test failure"})]}),(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.align.center,f.l0.justify.spaceBetween],children:[(0,r.tZ)(f.xv,{css:[f.l0.color.accentNegativeStronger],children:w}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(12)],children:[(0,r.tZ)(f.zx,{text:"Cancel",onClick:l}),(0,r.tZ)(f.zx,{text:"".concat(I?"Creating test...":"Create test"),iconLeft:(0,r.tZ)(mr.Z,{}),colorway:"primary",disabled:!G||I,onClick:function(){_.validate()||(v.length<=0?C("Test cannot be empty"):n?(E({variables:{input:{name:_.value,code:v,failureMessage:b,testId:n.id}}}),(0,Yt.j)(Yt.U3.REPL_UNIT_TEST_USED,{trackingData:{context:s},action:"modifiedTest"})):(L({variables:{input:{name:_.value,code:v,failureMessage:b,replId:c}}}),(0,Yt.j)(Yt.U3.REPL_UNIT_TEST_USED,{trackingData:{context:s},action:"addedTest"})))}})]})]})]})})}function sd(e){var t=e.testId,n=e.onClose,o=(0,ft.Z)().showConfirm,l=(0,Ne.Z)(),s=(0,a.Z)((0,Nu.IV)({onError:function(e){return h(e.message)},update:function(e,r){var i,a=null===(i=r.data)||void 0===i?void 0:i.deleteReplUnitTest;a&&("UserError"===a.__typename?h(a.message):"ReplUnitTest"===a.__typename&&t&&(e.modify({id:e.identify({__typename:"Repl",id:l}),fields:{unitTests:function(e,n){var r=n.readField,i=e.tests.filter((function(e){return r("id",e)!==t}));return(0,V.Z)((0,F.Z)({},e),{tests:(0,Be.Z)(i)})}}}),(0,Yt.j)(Yt.U3.REPL_UNIT_TEST_USED,{action:"removedTest"}),o("Test deleted!"),n()))}}),2),c=s[0],u=s[1],d=(0,a.Z)(i.useState(""),2),p=d[0],h=d[1];return(0,r.tZ)(f.u_,{isOpen:Boolean(t),onRequestClose:n,children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(24)],children:[(0,r.tZ)(f.h4,{level:1,variant:"headerDefault",children:"Delete test?"}),(0,r.tZ)(f.xv,{multiline:!0,children:"Are you sure you want to delete this test? This cannot be undone."}),(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.color.accentNegativeStronger],children:p}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(12),f.l0.justify.end],children:[(0,r.tZ)(f.zx,{text:"Cancel",disabled:u.loading,onClick:n}),(0,r.tZ)(f.zx,{text:"Yes, delete this test",colorway:"negative",iconLeft:(0,r.tZ)(ht.Z,{}),disabled:u.loading,onClick:function(){if(!t)throw new Error("Expected a testId");c({variables:{testId:t}})}})]})]})]})})}var cd=function(e){var t=e.unitTests,n=e.isAddingTest,o=e.onClose,l=e.language,s=e.canWrite,c=e.trackingContext,d=void 0===c?"default":c,p=(0,a.Z)(i.useState(n),2),h=p[0],m=p[1],v=(0,a.Z)(i.useState(null),2),g=v[0],Z=v[1],b=(0,a.Z)(i.useState(null),2),y=b[0],x=b[1],w=(0,Ne.Z)(),C=(0,a.Z)((0,Nu.lQ)(),1)[0],k=(null===t||void 0===t?void 0:t.tests)||[];return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16)],children:[(0,r.tZ)(od,{language:l,unitTests:t,onResult:function(e){C({variables:{input:{replId:w,results:e},replId:w}})},trackingContext:d}),k.length>0?(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8),f.l0.align.center],children:k.map((function(e){var t,n;return"ReplUnitTestLastRun"===(null===(t=e.lastRun)||void 0===t?void 0:t.__typename)&&(e.lastRun.status===$u.$I.Passed?n="passed-test":e.lastRun.status===$u.$I.Failed&&(n="failed-test")),(0,r.tZ)(f.G7,{className:"test ".concat(n),css:{width:"100%"},children:(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center,f.l0.p(8),f.l0.borderRadius(8),{border:"1px solid var(--background-highest);"}],children:[(0,r.tZ)(f.xv,{children:e.name}),s?(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8)],children:[(0,r.tZ)(f.hU,{onClick:function(){Z(e)},alt:"Edit",children:(0,r.tZ)(Li.Z,{})}),(0,r.tZ)(f.hU,{onClick:function(){x(e.id)},alt:"Delete",children:(0,r.tZ)(ht.Z,{})})]}):null]})},e.id)}))}):(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.textAlign.center],children:"Looks like you don\u2019t have any tests yet!"}),s?(0,r.tZ)(f.zx,{text:"Add test",onClick:function(){return m(!0)},iconLeft:(0,r.tZ)(mr.Z,{})}):null]}),(0,r.tZ)(ld,{isOpen:h||Boolean(g)||n,test:g,language:l,onClose:function(){Z(null),m(!1),o&&o()},trackingContext:d}),(0,r.tZ)(sd,{testId:y,onClose:function(){return x(null)}}),(0,r.tZ)(u(),{id:"a2df1ed8108a6cad",children:".tests-wrapper.jsx-a2df1ed8108a6cad{-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-16)0;width:100%}.test.jsx-a2df1ed8108a6cad{padding:var(--space-8)var(--space-8);border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.passed-test.jsx-a2df1ed8108a6cad{border-color:var(--accent-positive-default);background:var(--accent-positive-dimmer)}.failed-test.jsx-a2df1ed8108a6cad{border-color:var(--accent-negative-default);background:var(--accent-negative-dimmer)}"})]})},ud=n(6951);var dd=function(e){var t=e.onClick,n=e.hasTests,i=n?{"aria-label":"Delete all tests to switch test type","data-microtip-position":"bottom","data-microtip-size":"medium",role:"tooltip"}:{};return(0,r.BX)("div",(0,V.Z)((0,F.Z)({},i),{className:"jsx-44786ca38dd3aa42 "+(i&&null!=i.className&&i.className||"back-button"),children:[(0,r.tZ)(ud.Z,{filled:!1,border:!1,size:"small",Icon:An.Z,onClick:t,disabled:n,children:"Switch test type"}),(0,r.tZ)(u(),{id:"44786ca38dd3aa42",children:".back-button.jsx-44786ca38dd3aa42{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]}))},pd=n(69128);var fd=function(e){var t,n,o,l,s=e.onBack,c=(0,Ne.Z)(),u=(0,a.Z)(i.useState(!1),2),d=u[0],p=u[1],h=(0,pd.Z)(),m=h.language,v=h.isLoading,g=(0,Pu.CH)({variables:{replId:c}}),Z=null===(t=g.data)||void 0===t?void 0:t.repl;if(g.loading||v)return(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.flex.row,f.l0.align.center,f.l0.justify.center,f.l0.p(16)],children:(0,r.tZ)(Y.Z,{})});if(!Z||"Repl"!==Z.__typename)return(0,r.tZ)(f.G7,{css:[f.l0.p(16)],children:(0,r.tZ)(f.xv,{multiline:!0,css:{textAlign:"center"},children:"Unable to fetch tests, please try again."})});if(!m)return(0,r.tZ)(f.G7,{css:[f.l0.p(16)],children:(0,r.tZ)(f.xv,{multiline:!0,css:{textAlign:"center"},children:"Unit tests are currently only supported in Java, Python, and Node.js Repls."})});var b="default";(null===Z||void 0===Z?void 0:Z.isProject)?b="project_repl":(null===Z||void 0===Z?void 0:Z.isProjectFork)&&(b="submission_repl");var y=Boolean((null===(n=Z.unitTests)||void 0===n?void 0:n.tests)&&Z.unitTests.tests.length>0);return(null===Z||void 0===Z||null===(o=Z.currentUserPermissions)||void 0===o?void 0:o.writeTests)?(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16),f.l0.align.center],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center,{width:"100%"}],children:[(0,r.tZ)(fe.Z,{truncate:!0,level:4,children:"Unit tests"}),(0,r.tZ)(f.hU,{alt:"Add test",size:32,onClick:function(){return p(!0)},children:(0,r.tZ)(mr.Z,{})})]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.maxWidth(256),{width:"80%"}],children:[(0,r.tZ)(qu,{language:m,meta:(null===(l=Z.unitTests)||void 0===l?void 0:l.meta)||null}),(0,r.tZ)(cd,{isAddingTest:d,unitTests:(null===Z||void 0===Z?void 0:Z.unitTests)||null,onClose:function(){return p(!1)},language:m,canWrite:!0,trackingContext:b}),s?(0,r.tZ)(dd,{hasTests:y,onClick:s}):null]})]}):(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16)],children:[(0,r.tZ)(f.h4,{level:1,variant:"headerDefault",children:"Unit tests"}),(0,r.tZ)(f.G7,{css:{width:"100%",overflowY:"auto"},children:(0,r.tZ)(cd,{unitTests:(null===Z||void 0===Z?void 0:Z.unitTests)||null,language:m,isAddingTest:!1,canWrite:!1,trackingContext:b})})]})},hd={Content:function(){return(0,r.tZ)(f.G7,{css:[f.l0.p(8),O.F3],children:(0,r.tZ)(fd,{})})},Icon:function(e){var t=e.size;return(0,r.tZ)(gt.Z,{size:t})},getTitle:function(){return"Unit Tests"}},md=n(94184),vd=n.n(md),gd=n(44781),Zd=n(19526),bd=n(19050),yd=n(27206),xd=n(42941),wd=n(29245),Cd=i.forwardRef((function(e,t){var n,o,l,s=e.label,c=e.id,d=e.description,p=e.onChange,f=e.fontFamily,h=void 0===f?"sans-serif":f,m=e.fontSize,v=void 0===m?"medium":m,g=e.fontWeight,Z=void 0===g?"regular":g,b=e.foreground,y=void 0===b?1:b,x=e.placeholder,w=void 0===x?"":x,C=e.validationResults,k=e.value,L=(0,mo.Z)(e,["label","id","description","onChange","fontFamily","fontSize","fontWeight","foreground","placeholder","validationResults","value"]),S=(0,ka.Z)().ref,B=(0,Tn.H)(),E=c||B("input"),T=d?B("input-description"):void 0,_=(0,a.Z)(i.useState(!1),2),R=_[0],D=_[1];(null===C||void 0===C?void 0:C.some((function(e){return"loading"===e.state})))?n="loading":(null===C||void 0===C?void 0:C.some((function(e){return"error"===e.state})))?(n="error",l="var(--accent-negative-default)",o=(0,r.tZ)(dr.Z,{})):(null===C||void 0===C?void 0:C.every((function(e){return"success"===e.state})))?(n="success",l="var(--accent-positive-default)",o=(0,r.tZ)(gt.Z,{})):n="default";var G=yd.P3[n],I=(L.className?L.className+" ":"")+G;return(0,r.BX)("div",{className:u().dynamic([["48c1334c65fd9e51",[l,wd.Z.fontSize[v],wd.Z.fontFamily[h],wd.Z.fontWeight[Z],wd.Z.foreground[y],wd.Z.lineHeight[v]]]])+" container",children:[s?(0,r.BX)(r.HY,{children:[L.required?(0,r.BX)(Zd.Ug,{spacing:"2px",children:[(0,r.tZ)(gd.Z,{tag:"label",foreground:R?1:2,size:"large"===v?"small":"xsmall",htmlFor:E,children:s}),(0,r.tZ)("span",{className:u().dynamic([["48c1334c65fd9e51",[l,wd.Z.fontSize[v],wd.Z.fontFamily[h],wd.Z.fontWeight[Z],wd.Z.foreground[y],wd.Z.lineHeight[v]]]])+" required",children:"*"})]}):(0,r.tZ)(gd.Z,{tag:"label",foreground:R?1:2,size:"large"===v?"small":"xsmall",htmlFor:E,children:s}),(0,r.tZ)(xd.Z,{height:"4px"})]}):null,(0,r.BX)("div",{className:u().dynamic([["48c1334c65fd9e51",[l,wd.Z.fontSize[v],wd.Z.fontFamily[h],wd.Z.fontWeight[Z],wd.Z.foreground[y],wd.Z.lineHeight[v]]]])+" textarea-container",children:[(0,r.tZ)("textarea",(0,V.Z)((0,F.Z)({id:E,placeholder:w,value:k,onChange:p,"aria-busy":"loading"===n,"aria-invalid":"error"===n,"aria-describedby":T},L),{ref:function(e){S(e),t&&("function"!==typeof t?t.current=e:t(e))},onFocus:function(e){D(!0),L.onFocus&&L.onFocus(e)},onBlur:function(e){D(!1),L.onBlur&&L.onBlur(e)},className:u().dynamic([["48c1334c65fd9e51",[l,wd.Z.fontSize[v],wd.Z.fontFamily[h],wd.Z.fontWeight[Z],wd.Z.foreground[y],wd.Z.lineHeight[v]]]])+" "+(I||"")})),o?(0,r.tZ)("div",{onMouseEnter:function(){return D(!0)},onMouseLeave:function(){return D(!1)},className:u().dynamic([["48c1334c65fd9e51",[l,wd.Z.fontSize[v],wd.Z.fontFamily[h],wd.Z.fontWeight[Z],wd.Z.foreground[y],wd.Z.lineHeight[v]]]])+" icon-container right",children:o}):null]}),d?(0,r.BX)(r.HY,{children:[(0,r.tZ)(xd.Z,{height:"4px"}),(0,r.tZ)(gd.Z,{id:T,tag:"span",foreground:3,size:v,children:d})]}):null,C&&R?(0,r.tZ)(yd.QE,{validationResults:C}):null,(0,r.tZ)(u(),{id:"48c1334c65fd9e51",dynamic:[l,wd.Z.fontSize[v],wd.Z.fontFamily[h],wd.Z.fontWeight[Z],wd.Z.foreground[y],wd.Z.lineHeight[v]],children:".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.textarea-container.__jsx-style-dynamic-selector{position:relative}.required.__jsx-style-dynamic-selector{color:var(--accent-negative-default);font-size:var(--font-size-small)}.icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:var(--space-8);right:var(--space-8);background-color:var(--background-default);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;padding:var(--space-4)}.icon-container.right.__jsx-style-dynamic-selector{right:var(--space-8);color:".concat(l,"}textarea.__jsx-style-dynamic-selector{resize:none;font-size:").concat(wd.Z.fontSize[v],";font-family:").concat(wd.Z.fontFamily[h],";font-weight:").concat(wd.Z.fontWeight[Z],";color:").concat(wd.Z.foreground[y],";line-height:").concat(wd.Z.lineHeight[v],";background-color:transparent;padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);outline:none;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:.1s;-moz-transition:.1s;-o-transition:.1s;transition:.1s;line-height:1.4}textarea.__jsx-style-dynamic-selector:disabled{opacity:.5}textarea.default.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer)}textarea.success.__jsx-style-dynamic-selector{border-color:var(--accent-positive-default)}textarea.success.__jsx-style-dynamic-selector:hover{border-color:var(--accent-positive-dimmer)}textarea.negative.__jsx-style-dynamic-selector{border-color:var(--accent-negative-default)}textarea.negative.__jsx-style-dynamic-selector:hover{border-color:var(--accent-negative-dimmer)}textarea.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default)}")})]})})),kd=Cd,Ld=n(34193);function Sd(e){switch(e){case $u.Fl.Match:return"The test passes if the expected output is in the actual output.";case $u.Fl.Exact:return"The test passes if the expected output is equal to the actual output.";case $u.Fl.Regex:return"The test passes if the actual output matches the regex expression for the expected output.";case $u.Fl.Compatibility:return"The test passes if the expected output is in the actual output; some characters are removed for backwards compatibility."}}var Bd=function(e){(0,Us.Z)(n,e);var t=(0,qs.Z)(n);function n(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o;return(0,As.Z)(this,n),(o=t.call.apply(t,[this].concat((0,Be.Z)(r)))).name=o.constructor.name,o}return n}((0,Os.Z)(Error));function Ed(e){var t={id:e.id},n={id:-e.id,input:{input:e.input?e.input+"\n":""}};switch(e.type){case"compatibility":t.output={compatibility:{expected:e.output}};break;case"match":t.output={match:{expected:e.output,ignoreTrailingWhitespace:!0}};break;case"exact":t.output={exact:{expected:e.output,allowTrailingNewline:!0}};break;case"regex":t.output={regex:{expression:e.output}}}return{id:e.id,instructions:[n,t]}}function Td(e){var t=e.args,n=e.env,r=t.indexOf("--ps1"),i=t.indexOf("--ps2"),o=t.indexOf("-i");return-1!==r&&null!=t[r+1]&&(t[r+1]=""),-1!==i&&null!=t[i+1]&&(t[i+1]=""),-1!==o&&t.splice(o,1),t.includes("-q")||t.unshift(t.shift(),"-q"),n.PS1="",n.PS2="",{args:t,env:n}}function _d(e){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,tt.Z)((function(e){var t,n,r,i,o,a,l,s,c,u;return(0,nt.__generator)(this,(function(d){switch(d.label){case 0:return[4,e.getRunConfig()];case 1:if(!(n=d.sent()))throw new Bd("unable to fetch dotreplit run config");if(n.interp){if("stderred"===(null===(i=null===(r=n.interp)||void 0===r?void 0:r.command)||void 0===i?void 0:i.args[0])&&("--"===i.args[1]?i.args.splice(0,2):i.args.shift()),!i||i.args.length<1)throw o=new Bd("received interp without command"),Hs.Tb(o,(function(e){return e.setExtra("runInfo",u)})),o;return i.args[0].match(/(^|\/)prybar/i)?[2,{execCommand:Td(i)}]:[2,{execCommand:{args:i.args,env:i.env}}]}if(!(null===(t=n.run)||void 0===t?void 0:t.run))throw a=new Bd("Bad repl run config received"),Hs.Tb(a,(function(e){return e.setExtra("runConfig",n)})),a;return l=n.run,s=l.run,c=l.compile,s.env.PS1="",s.env.PS2="",u={execCommand:{args:s.args,env:s.env}},c&&(c.env.PS1="",c.env.PS2="",u.buildCommand={args:c.args,env:c.env}),[2,u]}}))})),Rd.apply(this,arguments)}var Dd,Gd=function(e){var t=e.test,n=e.onSubmit,l=e.onCancel,s=e.isOpen,c=e.onRequestClose,d=(0,a.Z)(i.useState({}),2),p=d[0],f=d[1],h=function(e){return{name:(null===e||void 0===e?void 0:e.name)||"",type:(null===e||void 0===e?void 0:e.type)||$u.Fl.Match,input:(null===e||void 0===e?void 0:e.input)||"",output:(null===e||void 0===e?void 0:e.output)||""}},m=(0,ft.Z)().showError,v=(0,a.Z)(i.useState(h(t)),2),g=v[0],Z=v[1];i.useEffect((function(){Z(h(t)),f({})}),[t,Z]);var b=function(e,t){f((function(n){return(0,V.Z)((0,F.Z)({},n),(0,o.Z)({},e,t?void 0:[{message:e+" expected but not provided.",state:"error"}]))}))};return(0,r.tZ)(Ld.Z,{isOpen:s,onRequestClose:c,children:(0,r.BX)("div",{className:u().dynamic([["550654d38c65c62e",[""===g.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-tests-view",children:[(0,r.tZ)("div",{className:u().dynamic([["550654d38c65c62e",[""===g.type?"--foreground-dimmer":"--foreground-default"]]])+" header-row",children:(0,r.tZ)(fe.Z,{level:4,align:"center",children:t?"Edit test: ":"Create test"})}),(0,r.tZ)("div",{className:u().dynamic([["550654d38c65c62e",[""===g.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,r.tZ)(yd.ZP,{label:"Test name",placeholder:"The name of the test",value:(null===g||void 0===g?void 0:g.name)||"",validationResults:p.name,onChange:function(e){var t;e.persist(),Z((function(t){var n;return(0,V.Z)((0,F.Z)({},t),{name:(null===(n=e.target)||void 0===n?void 0:n.value)||""})})),b("name",null===(t=e.target)||void 0===t?void 0:t.value)},maxLength:20})}),(0,r.tZ)("div",{className:u().dynamic([["550654d38c65c62e",[""===g.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,r.tZ)(kd,{style:{height:"150px"},label:"Input (standard in)",placeholder:"The input for the test",value:g.input,fontFamily:"monospace",translate:"no",onChange:function(e){e.persist(),Z((function(t){return(0,V.Z)((0,F.Z)({},t),{input:e.target.value})}))}})}),(0,r.tZ)("div",{className:u().dynamic([["550654d38c65c62e",[""===g.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,r.tZ)(kd,{style:{height:"150px"},label:"Expected output",validationResults:p.output,placeholder:"The expected output for the test",value:g.output,fontFamily:"monospace",translate:"no",onChange:function(e){var t;e.persist(),Z((function(t){return(0,V.Z)((0,F.Z)({},t),{output:e.target.value})})),b("output",null===(t=e.target)||void 0===t?void 0:t.value)}})}),(0,r.tZ)("div",{className:u().dynamic([["550654d38c65c62e",[""===g.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,r.tZ)("div",{className:u().dynamic([["550654d38c65c62e",[""===g.type?"--foreground-dimmer":"--foreground-default"]]])+" dropdown-container",children:(0,r.tZ)(bd.Z,{items:[$u.Fl.Match,$u.Fl.Exact,$u.Fl.Regex,$u.Fl.Compatibility],renderItemChildComponent:function(e){return(0,r.BX)("a",{className:u().dynamic([["550654d38c65c62e",[""===g.type?"--foreground-dimmer":"--foreground-default"]]]),children:[e,(0,r.tZ)("br",{className:u().dynamic([["550654d38c65c62e",[""===g.type?"--foreground-dimmer":"--foreground-default"]]])}),(0,r.tZ)(gd.Z,{size:"xsmall",children:Sd(e)})]})},renderAnchorComponent:function(e){var t=e.innerRef,n=(0,mo.Z)(e,["innerRef"]);return(0,r.BX)("a",(0,V.Z)((0,F.Z)({ref:t},n),{className:u().dynamic([["550654d38c65c62e",[""===g.type?"--foreground-dimmer":"--foreground-default"]]])+" dropdown-view dropdown-anchor",children:[(0,r.tZ)(gd.Z,{children:g.type}),(0,r.tZ)(gd.Z,{children:(0,r.tZ)(Fu.Z,{})})]}))},onClick:function(e){Z((function(t){return(0,V.Z)((0,F.Z)({},t),{type:e})}))}})})}),(0,r.BX)("div",{className:u().dynamic([["550654d38c65c62e",[""===g.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row align-end",children:[(0,r.tZ)(ud.Z,{onClick:l,children:"Cancel"}),(0,r.tZ)(ud.Z,{color:"primary",filled:!0,onClick:function(){if(!g.name||!g.output)return m("Test name and expected output must be provided."),g.name||b("name"),void(g.output||b("output"));g.type?(n({testId:null===t||void 0===t?void 0:t.id,name:g.name,input:g.input||"",type:g.type,output:g.output}),Z(h(void 0))):m("A test type must be provided")},children:"Save"})]}),(0,r.tZ)(u(),{id:"550654d38c65c62e",dynamic:[""===g.type?"--foreground-dimmer":"--foreground-default"],children:".dropdown-container.__jsx-style-dynamic-selector{border:1px solid var(--outline-dimmest);width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.dropdown-anchor.__jsx-style-dynamic-selector{padding:var(--space-8)}.dropdown-container.__jsx-style-dynamic-selector .anchor{z-index:1}.dropdown-container.__jsx-style-dynamic-selector .dropdown-view{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;text-align:right}.dropdown-container.__jsx-style-dynamic-selector .dropdown-view .text{color:var(".concat(""===g.type?"--foreground-dimmer":"--foreground-default",")}.manage-tests-view.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:var(--space-16)}.manage-test-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding-top:var(--space-16)}.align-end.__jsx-style-dynamic-selector{-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.manage-test-row.__jsx-style-dynamic-selector>button{margin-left:var(--space-8)}.manage-test-row-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:0 var(--space-16);width:100%}")})]})})},Id=function(e){var t=e.test,n=e.onEdit,i=e.onDelete,o=e.onView,a=e.isTeacherView,l=e.status,s=e.isRunning,c=e.onShowFailed,d=e.disableButtons,p="";return l?p=l:s&&(p="Running"),(0,r.BX)("div",{onClick:function(){return o()},className:"jsx-d0055d2df6a917c5 test",children:[(0,r.BX)("div",{className:"jsx-d0055d2df6a917c5 test-row",children:[(0,r.tZ)("div",{className:"jsx-d0055d2df6a917c5 test-text",children:(0,r.tZ)(gd.Z,{size:"large",children:t.name})}),a?(0,r.tZ)("div",{onClick:function(e){return e.stopPropagation()},className:"jsx-d0055d2df6a917c5 test-row",children:(0,r.BX)(r.HY,{children:[(0,r.tZ)(ud.Z,{color:"primary",onClick:n,Icon:Li.Z,disabled:d}),(0,r.tZ)(xd.Z,{width:"var(--space-4)"}),(0,r.tZ)(ud.Z,{onClick:i,color:"negative",Icon:ht.Z,disabled:d})]})}):null]}),l||s?(0,r.BX)(r.HY,{children:[(0,r.tZ)(xd.Z,{height:2}),(0,r.BX)("div",{className:"jsx-d0055d2df6a917c5 test-row",children:[(0,r.tZ)("div",{className:"jsx-d0055d2df6a917c5 test-text",children:(0,r.tZ)(gd.Z,{className:vd()([{"status-passed":"Passed"===l},{"status-failed":"Failed"===l}]),children:p})}),(0,r.tZ)(ud.Z,{onClick:function(e){return e.stopPropagation(),c(e)},disabled:s,children:"Results"})]})]}):null,(0,r.tZ)(u(),{id:"d0055d2df6a917c5",children:".test.jsx-d0055d2df6a917c5{background-color:var(--background-higher);margin-top:var(--space-8);padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);cursor:pointer}.test-row.jsx-d0055d2df6a917c5 .status-passed{color:var(--accent-positive-default)}.test-row.jsx-d0055d2df6a917c5 .status-failed{color:var(--accent-negative-default)}.test-text.jsx-d0055d2df6a917c5{width:100%;padding:var(--space-4)0;padding-right:var(--space-8);word-break:break-all}.test.jsx-d0055d2df6a917c5:hover{background-color:var(--background-higher)}.test-row.jsx-d0055d2df6a917c5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start}"})]})},jd=function(e){var t=e.text;if(!t)return null;var n=t.split("\n").map((function(e,t){return[e,"".concat(t+1)]}));return""===n[n.length-1][0]&&n.pop(),(0,r.BX)(Zd.Ug,{children:[(0,r.tZ)("code",{className:"jsx-6ac664c130469a42 gutter",children:(0,r.tZ)("pre",{className:"jsx-6ac664c130469a42",children:n.map((function(e){var t=(0,a.Z)(e,2);t[0];return t[1]})).join("\n")})}),(0,r.tZ)("code",{className:"jsx-6ac664c130469a42 text",children:(0,r.tZ)("pre",{className:"jsx-6ac664c130469a42",children:t})}),(0,r.tZ)(u(),{id:"6ac664c130469a42",children:".gutter.jsx-6ac664c130469a42,.text.jsx-6ac664c130469a42{color:var(--foreground-default)}.gutter.jsx-6ac664c130469a42{min-width:1.5em}.text.jsx-6ac664c130469a42{max-width:80%}"})]})},Md=n(37529),Pd=n.n(Md),Nd=function(e){var t=e.expected,n=e.actual;if(!t||!n)return null;var i=n.split("\n"),o=t.split("\n"),l=o.length>i.length?o:i,s=l.map((function(e,t){return[e,"".concat(t+1)]})),c=l.map((function(e,t){var n=t<i.length?i[t]:"",a=t<o.length?o[t]:"";return(0,r.BX)(r.HY,{children:[Pd()(n,a).map((function(e,t){var n;return-1===e[0]&&(n={backgroundColor:"var(--accent-negative-dimmer)",textDecoration:"line-through"}),1===e[0]&&(n={backgroundColor:"var(--accent-positive-dimmer)",textDecoration:"underline"}),(0,r.tZ)("span",{style:n,children:e[1]},t)})),(0,r.tZ)("br",{})]})}));return(0,r.BX)(Zd.Ug,{children:[(0,r.tZ)("code",{className:"jsx-6ac664c130469a42 gutter",children:(0,r.tZ)("pre",{className:"jsx-6ac664c130469a42",children:s.map((function(e){var t=(0,a.Z)(e,2);t[0];return t[1]})).join("\n")})}),(0,r.tZ)("code",{className:"jsx-6ac664c130469a42 text",children:(0,r.tZ)("pre",{className:"jsx-6ac664c130469a42",children:c})}),(0,r.tZ)(u(),{id:"6ac664c130469a42",children:".gutter.jsx-6ac664c130469a42,.text.jsx-6ac664c130469a42{color:var(--foreground-default)}.gutter.jsx-6ac664c130469a42{min-width:1.5em}.text.jsx-6ac664c130469a42{max-width:80%}"})]})},Fd=function(e){var t=e.test,n=e.actualOutput,i=e.isOpen,o=e.isResults,a=e.onRequestClose,l=e.didFail,s=e.error,c=t?Sd(t.type):"",d=null===n||void 0===n?void 0:n.split("\n"),p=null===t||void 0===t?void 0:t.output.split("\n"),f=null===t||void 0===t?void 0:t.output;return l=null!==l&&void 0!==l?l:"Failed"===(null===t||void 0===t?void 0:t.status),(0,r.BX)(Ld.Z,{onRequestClose:a,isOpen:i&&void 0!==t,children:[(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-info",children:[(0,r.BX)(Zd.gC,{align:"center",spacing:1,children:[(0,r.BX)(fe.Z,{level:4,children:[o?"Test results: ":null,null===t||void 0===t?void 0:t.name]}),(0,r.BX)(Zd.Ug,{spacing:1,children:[(0,r.tZ)("div",{role:"tooltip","data-microtip-position":"top","aria-label":c,className:"jsx-c7ed87540f6ec33d test-type",children:(0,r.tZ)(gd.Z,{align:"center",size:"small",children:null===t||void 0===t?void 0:t.type})}),o&&(null===t||void 0===t?void 0:t.status)?(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d "+"test-status ".concat(null===t||void 0===t?void 0:t.status),children:(0,r.tZ)(gd.Z,{align:"center",size:"small",children:null===t||void 0===t?void 0:t.status})}):null]})]}),(0,r.tZ)(xd.Z,{height:6}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:o?(0,r.BX)(Zd.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(gd.Z,{size:"medium",children:"Expected output"}),(0,r.tZ)(gd.Z,{size:"xsmall",children:(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":"Your program is expected to print this output.",className:"jsx-c7ed87540f6ec33d help",children:"?"})})]}):(0,r.tZ)(gd.Z,{size:"medium",children:"Output"})}),(0,r.tZ)(xd.Z,{height:"var(--space-8)"}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,r.tZ)(jd,{text:null===t||void 0===t?void 0:t.output})})]})}),(0,r.tZ)(xd.Z,{height:2}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:o?(0,r.BX)(Zd.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(gd.Z,{size:"medium",children:"Actual output"}),(0,r.tZ)(gd.Z,{size:"xsmall",children:(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":"Your program actually printed this output.",className:"jsx-c7ed87540f6ec33d help",children:"?"})})]}):(0,r.tZ)(gd.Z,{size:"medium",children:"Input"})}),(0,r.tZ)(xd.Z,{height:"var(--space-8)"}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,r.tZ)(jd,{text:o?n:null===t||void 0===t?void 0:t.input})})]})}),o&&l?(0,r.tZ)(r.HY,{children:s?(0,r.BX)(r.HY,{children:[(0,r.tZ)(xd.Z,{height:2}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:(0,r.tZ)(gd.Z,{size:"medium",children:"Error(s)"})}),(0,r.tZ)(xd.Z,{height:"var(--space-8)"}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,r.tZ)(jd,{text:s.stderr||s.message})})]})})]}):(null===t||void 0===t?void 0:t.type)!==$u.Fl.Regex&&p&&d&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(xd.Z,{height:2}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:(0,r.BX)(Zd.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(gd.Z,{size:"medium",children:"Difference"}),(0,r.tZ)(gd.Z,{size:"xsmall",children:(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":"Modify your output to match the expected output.",className:"jsx-c7ed87540f6ec33d help",children:"?"})})]})}),(0,r.tZ)(xd.Z,{height:"var(--space-8)"}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,r.tZ)(Nd,{expected:f,actual:n})})]})})]})}):null]}),(0,r.tZ)(u(),{id:"c7ed87540f6ec33d",children:".test-info.jsx-c7ed87540f6ec33d{padding:var(--space-24);display:relative}.test-io-line-spacing.jsx-c7ed87540f6ec33d{width:var(--space-8);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.test-io-row.jsx-c7ed87540f6ec33d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.test-io-line-number.jsx-c7ed87540f6ec33d{display:inline-block;min-width:1.5em;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.test-io-line.jsx-c7ed87540f6ec33d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;font-family:var(--font-family-code)}.test-io-line-content.jsx-c7ed87540f6ec33d{display:inline-block}.test-io-label.jsx-c7ed87540f6ec33d{padding-bottom:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.test-io-label.jsx-c7ed87540f6ec33d .text{color:var(--foreground-dimmer)}.test-io-section.jsx-c7ed87540f6ec33d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;width:100%}.test-io-box.jsx-c7ed87540f6ec33d{height:100%;border:1px solid var(--outline-dimmest);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-x:auto}.test-io-box.jsx-c7ed87540f6ec33d .text{white-space:nowrap}.test-type.jsx-c7ed87540f6ec33d,.test-status.jsx-c7ed87540f6ec33d{background-color:var(--background-highest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8);display:inline-block;spacing:1;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.test-status.jsx-c7ed87540f6ec33d .text{color:var(--white)}.test-status.Passed.jsx-c7ed87540f6ec33d{background-color:var(--accent-positive-default)}.test-status.Failed.jsx-c7ed87540f6ec33d{background-color:var(--accent-negative-default)}.help.jsx-c7ed87540f6ec33d{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;border:1px solid var(--background-higher);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;width:var(--space-16);height:var(--space-16);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}"})]})},Vd=n(9556),Wd=n(11887),zd=function(){var e,t,n,l,s,c,d,p,f=(0,v.Z)(),h=f.iotester,m=f.dotReplit,g=f.container,Z=(0,ft.Z)(),b=Z.showError,y=Z.showConfirm,x=(0,a.Z)(i.useState([]),2),w=x[0],C=x[1],k=(0,a.Z)(i.useState(),2),L=k[0],S=k[1],B=(0,a.Z)(i.useState(g.getConnectionState()),2),E=B[0],T=B[1],_=(0,a.Z)(i.useState(h.state),2),R=_[0],D=_[1],G=(0,a.Z)(i.useState(),2),I=G[0],j=G[1],M=(0,gc.x)();i.useEffect((function(){return g.onConnectionStateChanged(T)}),[T,g]);var P=(0,Ne.Z)(),N=(0,Pu.CH)({variables:{replId:P}}),W="Repl"===(null===(e=N.data)||void 0===e||null===(t=e.repl)||void 0===t?void 0:t.__typename)?N.data.repl:null,z="Team"===(null===W||void 0===W||null===(n=W.owner)||void 0===n?void 0:n.__typename)&&W.owner.id||null,X=(0,a.Z)((0,Pu.vk)({onCompleted:function(e){e&&e.saveIOTestResults&&b(e.saveIOTestResults.message)}}),1)[0];i.useEffect((function(){var e=[h.onStateChanged((function(e){D(e),z&&e===Vd.Z.Idle&&C((function(e){var t;return X({variables:{replId:P,results:Object.values(e).map((function(e){var n;return{testId:e.testId,status:e.status,output:(null===(n=e.error)||void 0===n?void 0:n.stderr)?(null!==(t=e.output)&&void 0!==t?t:"")+e.error:e.output}})),teamId:z}}).catch((function(t){Hs.Tb(t,(function(t){return t.setExtras({results:e,payload:I})}))})),e}))})),h.onError((function(e){b(e.message)})),h.onTestResult((function(e){C((function(t){var n=(0,V.Z)((0,F.Z)({},t[e.testId]),{testId:e.testId,status:"passed"===e.body?$u.kQ.Passed:$u.kQ.Failed});return"error"===e.body&&(n.error=e.error),(0,V.Z)((0,F.Z)({},t),(0,o.Z)({},e.testId,n))}))})),h.onInstructionResult((function(e){C((function(t){var n,r,i=Math.abs(e.instructionId),a="";switch(e.body){case"passed":var l;a+=null!==(l=e.passed.output)&&void 0!==l?l:"";break;case"failed":var s;a+=null!==(s=e.failed.output)&&void 0!==s?s:"";break;case"timeout":var c;a+=null!==(c=e.timeout.output)&&void 0!==c?c:"";break;case"error":a+=e.error.message}return(0,V.Z)((0,F.Z)({},t),(0,o.Z)({},i,(0,V.Z)((0,F.Z)({},t[i]),{testId:i,output:(null!==(r=null===(n=w[i])||void 0===n?void 0:n.output)&&void 0!==r?r:"")+a})))}))}))];return function(){return e.forEach((function(e){return e()}))}}),[w,b,D,h,P,z,I,X]),i.useEffect((function(){var e=function(e){(0,Ws.Z)(e,Error)&&b(e.message),Hs.Tb(e)};return _d(m).then(S).catch(e),m.watch((function(){return _d(m).then(S).catch(e)}))}),[m,S,b]);var H=null===W||void 0===W?void 0:W.ioTests,A=(0,a.Z)((0,Pu.Ne)({onError:function(e){return b(e)},onCompleted:function(e){var t;"UserError"===(null===(t=e.deleteTemplateTest)||void 0===t?void 0:t.__typename)?b(e.deleteTemplateTest.message):(y("Test deleted!"),N.refetch())}}),2),U=A[0],O=A[1],q=(0,a.Z)((0,Pu.AA)({onError:function(e){return b(e)},onCompleted:function(e){var t;"UserError"===(null===(t=e.updateTemplateTest)||void 0===t?void 0:t.__typename)?b(e.updateTemplateTest.message):"ReplTemplateTest"===e.updateTemplateTest.__typename&&(y("Test updated!"),M.writeFragment({fragment:Pu.Gg,data:e.updateTemplateTest}))}}),2),$=q[0],K=q[1],J=(0,a.Z)((0,Pu.pV)({onError:function(e){return b(e)},onCompleted:function(e){var t;"UserError"===(null===(t=e.createTemplateTest)||void 0===t?void 0:t.__typename)?b(e.createTemplateTest.message):(y("Test created!"),N.refetch())}}),2),Q=J[0],ee=J[1],te=N.loading||O.called&&O.loading||K.called&&K.loading||ee.called&&ee.loading;i.useEffect((function(){te||j(L&&H&&H.length>0?{runInfo:L,tests:H.map(Ed)}:void 0)}),[H,L,j,te]);var ne=(0,a.Z)(i.useState(!1),2),re=ne[0],ie=ne[1],oe=(0,a.Z)(i.useState(!1),2),ae=oe[0],le=oe[1],se=(0,a.Z)(i.useState(!1),2),ce=se[0],ue=se[1],de=(0,a.Z)(i.useState(),2),pe=de[0],he=de[1],me="undefined"!==typeof pe&&"Repl"===(null===(l=N.data)||void 0===l?void 0:l.repl.__typename)&&N.data.repl.ioTests[pe]||void 0,ve="Repl"===(null===(s=N.data)||void 0===s?void 0:s.repl.__typename)&&N.data.repl.isProject;if(N.error)return(0,r.BX)("div",{className:"jsx-fb1466c53ace89ca wrapper",children:[(0,r.tZ)(gd.Z,{align:"center",children:"Unable to fetch tests"}),(0,r.tZ)(u(),{id:"fb1466c53ace89ca",children:".wrapper.jsx-fb1466c53ace89ca{padding:var(--deprecated-spacing-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]});var ge=function(e){var t;if(void 0!==(null===(t=w[e])||void 0===t?void 0:t.status))return w[e].status===$u.kQ.Passed?"Passed":"Failed"};return(0,r.BX)("div",{className:"jsx-69bed4444090144f tests-panel",children:[(0,r.tZ)("div",{className:"jsx-69bed4444090144f tests-header",children:(0,r.tZ)(fe.Z,{level:4,children:"Input/Output Tests"})}),N.loading?(0,r.tZ)("div",{className:"jsx-69bed4444090144f spinner",children:(0,r.tZ)(Y.Z,{})}):(0,r.BX)("div",{className:"jsx-69bed4444090144f tests",children:[(0,r.BX)("div",{className:"jsx-69bed4444090144f button-bar",children:[ve?(0,r.tZ)(ud.Z,{color:"green",Icon:mr.Z,className:"create-test-button",disabled:te||R!==Vd.Z.Idle,onClick:function(){he(void 0),ie(!0)},children:"Create test"}):null,!ve&&H&&0===H.length?(0,r.tZ)(gd.Z,{children:"This project has no tests "}):(0,r.tZ)(ud.Z,{color:"positive",Icon:br.Z,onClick:function(){var e;if(!I||"Repl"!==(null===W||void 0===W?void 0:W.__typename)||"Team"!==(null===(e=W.owner)||void 0===e?void 0:e.__typename)||h.state!==Vd.Z.Idle){var t=new Error("no tests or run info");throw Hs.Tb(t,(function(e){return e.setExtra("payload",I)})),t}C({}),h.run(I).catch((function(e){Hs.Tb(e,(function(e){return e.setExtra("payload",I)})),b(e.message)}))},disabled:te||R!==Vd.Z.Idle||!I||E!==Wd.em.CONNECTED,children:"Run tests"})]}),null===H||void 0===H?void 0:H.map((function(e,t){return(0,r.tZ)(Id,{test:e,onEdit:function(){he(t),ie(!0)},onDelete:function(){U({variables:{testId:e.id}})},onView:function(){he(t),le(!0),ue(!1)},onShowFailed:function(){he(t),le(!0),ue(!0)},isRunning:R!==Vd.Z.Idle&&void 0!==w[e.id]&&void 0===w[e.id].status,isTeacherView:ve,status:ge(e.id),disableButtons:te||R!==Vd.Z.Idle},e.id)})),(0,r.tZ)(Gd,{test:me,isOpen:re,readOnly:!ve,onRequestClose:function(){ie(!1),he(void 0)},onCancel:function(){ie(!1),he(void 0)},onSubmit:function(e){var t,n,r,i;void 0!==e.testId?($({variables:{input:e}}),he(void 0)):"Repl"===(null===(t=N.data)||void 0===t||null===(n=t.repl)||void 0===n?void 0:n.__typename)&&(null===(r=N.data)||void 0===r||null===(i=r.repl)||void 0===i?void 0:i.template)&&Q({variables:{input:(0,V.Z)((0,F.Z)({},e),{templateId:N.data.repl.template.id})}}),ie(!1)}}),(0,r.tZ)(Fd,{test:me,isOpen:ae,actualOutput:"undefined"!==typeof me?null===(c=w[me.id])||void 0===c?void 0:c.output:void 0,error:me&&(null===(d=w[me.id])||void 0===d?void 0:d.error),didFail:me&&(null===(p=w[me.id])||void 0===p?void 0:p.status)===$u.kQ.Failed,isResults:ce,onRequestClose:function(){le(!1),he(void 0)}})]}),(0,r.tZ)(u(),{id:"69bed4444090144f",children:".flex-grow.jsx-69bed4444090144f{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.spacer-1.jsx-69bed4444090144f{padding:var(--space-4)}.tests-header.jsx-69bed4444090144f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;position:relative;padding:var(--space-4)0 var(--space-8)0;margin-bottom:var(--space-8);color:var(--foreground-default);width:100%;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.button-bar.jsx-69bed4444090144f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:var(--space-8)}.button-bar.jsx-69bed4444090144f>button{margin-right:var(--space-8);margin-bottom:var(--space-8)}.spinner.jsx-69bed4444090144f{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tests-panel.jsx-69bed4444090144f{min-width:200px;background-color:var(--background-default);color:var(--foreground-default);overflow:hidden auto}.section.jsx-69bed4444090144f{height:-webkit-calc(100% - 50px);height:-moz-calc(100% - 50px);height:calc(100% - 50px)}"})]})};function Xd(){var e=(0,a.Z)(i.useState(null),2),t=e[0],n=e[1],o=i.useRef(Dd.None),l=(0,Ne.Z)(),s=(0,pd.Z)(),c=s.language,d=s.isLoading,p=(0,Pu.CH)({variables:{replId:l}}),f=p.loading;return i.useEffect((function(){var e,t,r=null===(e=p.data)||void 0===e?void 0:e.repl;if("Repl"===(null===r||void 0===r?void 0:r.__typename)){var i=r.unitTests,a=r.ioTests,l=Dd.Choose;l=a.length>0?Dd.IO:(null===i||void 0===i?void 0:i.tests)&&(null===(t=i.tests)||void 0===t?void 0:t.length)>0||(null===i||void 0===i?void 0:i.meta)?Dd.Unit:r.currentUserPermissions.writeTests?o.current!==Dd.None?o.current:Dd.Choose:Dd.None,n(l)}}),[p.data]),f||d?(0,r.BX)("div",{className:"jsx-1652fb32f8a812d3",children:[(0,r.tZ)(Y.Z,{size:32}),(0,r.tZ)(u(),{id:"1652fb32f8a812d3",children:"div.jsx-1652fb32f8a812d3{height:100%;width:100%;background-color:var(--background-default);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]}):(0,r.BX)("div",{className:"jsx-ba2c7540ad19d138 testing-controller",children:[t===Dd.None&&(0,r.tZ)("div",{className:"jsx-ba2c7540ad19d138 empty",children:(0,r.tZ)(gd.Z,{children:"No tests found"})}),t===Dd.Choose&&(0,r.BX)(Zd.gC,{align:"center",spacing:2,children:[(0,r.tZ)(fe.Z,{align:"center",level:3,children:"Choose a testing method"}),(0,r.BX)("div",{onClick:function(){n(Dd.Unit),o.current=Dd.Unit},className:"jsx-ba2c7540ad19d138 "+(vd()("panel",{"is-disabled":!c})||""),children:[(0,r.tZ)(fe.Z,{level:4,children:"Unit tests"}),(0,r.tZ)(gd.Z,{align:"center",children:c?"A language specific framework that tests individual functions":"Unit tests are not currently supported for this language"})]}),(0,r.tZ)("div",{onClick:function(){n(Dd.IO),o.current=Dd.IO},className:"jsx-ba2c7540ad19d138 panel",children:(0,r.BX)(Zd.gC,{spacing:1,align:"center",children:[(0,r.tZ)(fe.Z,{level:4,children:"Input output tests"}),(0,r.tZ)(gd.Z,{align:"center",children:"Test your program via standard in, and assert based on the result of standard out"})]})})]}),t===Dd.IO&&(0,r.tZ)(zd,{}),t===Dd.Unit&&(0,r.tZ)(fd,{onBack:function(){return n(Dd.Choose)}}),(0,r.tZ)(u(),{id:"ba2c7540ad19d138",children:".empty.jsx-ba2c7540ad19d138{padding:var(--space-16);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.testing-controller.jsx-ba2c7540ad19d138{overflow-y:auto;padding:var(--space-8);height:100%;width:100%;background-color:var(--background-default);-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1)}.panel.jsx-ba2c7540ad19d138{width:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);border:1px solid var(--background-higher);max-width:200px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;padding:var(--space-8)}.panel.jsx-ba2c7540ad19d138:hover{background-color:var(--background-root)}.panel.is-disabled.jsx-ba2c7540ad19d138{opacity:.5;pointer-events:none}"})]})}!function(e){e[e.None=0]="None",e[e.Choose=1]="Choose",e[e.Unit=2]="Unit",e[e.IO=3]="IO"}(Dd||(Dd={}));var Hd={Content:function(){return(0,r.tZ)(Xd,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(gt.Z,{size:t})},getTitle:function(){return"Tests"}};function Ad(){var e=(0,Te.Z)(["\n  fragment EducationPaneRepl on Repl {\n    id\n    title\n    url\n    timeCreated\n    slug\n  }\n"]);return Ad=function(){return e},e}function Ud(){var e=(0,Te.Z)(["\n  fragment EducationPaneTemplate on ReplTemplate {\n    id\n    dueDate\n    repl {\n      id\n      ...EducationPaneRepl\n    }\n  }\n  ","\n"]);return Ud=function(){return e},e}function Od(){var e=(0,Te.Z)(["\n  fragment EducationPaneUser on User {\n    id\n    username\n    firstName\n    lastName\n    fullName\n    image\n  }\n"]);return Od=function(){return e},e}function qd(){var e=(0,Te.Z)(["\n  fragment EducationPaneReplSubmission on ReplSubmission {\n    id\n    timeSubmitted\n    timeLastReviewed\n    author {\n      id\n      ...EducationPaneUser\n    }\n    repl {\n      id\n      ...EducationPaneRepl\n    }\n    isGroupSubmission\n    submissionGroup {\n      users {\n        id\n        ...EducationPaneUser\n      }\n    }\n  }\n  ","\n  ","\n"]);return qd=function(){return e},e}function $d(){var e=(0,Te.Z)(["\n  fragment EducationPaneTemplateWithSubmissions on ReplTemplate {\n    id\n    ...EducationPaneTemplate\n    submissions {\n      id\n      ...EducationPaneReplSubmission\n    }\n  }\n  ","\n  ","\n"]);return $d=function(){return e},e}function Yd(){var e=(0,Te.Z)(['\n  fragment EducationPaneTeam on Team {\n    id\n    templates {\n      id\n      ...EducationPaneTemplate\n    }\n    username\n    displayName\n    image\n    students: members(permissions: "member") {\n      id\n      permissions\n      nickname\n      user {\n        id\n        ...EducationPaneUser\n      }\n    }\n  }\n  ',"\n  ","\n"]);return Yd=function(){return e},e}function Kd(){var e=(0,Te.Z)(["\n  fragment EducationPaneReplAttachment on ReplAttachment {\n    id\n    fileName\n    mimeType\n    contents\n    timeCreated\n    timeUpdated\n  }\n"]);return Kd=function(){return e},e}function Jd(){var e=(0,Te.Z)(["\n  query EducationPane($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isProject\n        isProjectFork\n        ...EducationPaneRepl\n        owner {\n          ... on Team {\n            id\n            ...EducationPaneTeam\n          }\n        }\n        template {\n          id\n          ...EducationPaneTemplateWithSubmissions\n        }\n        submission {\n          id\n          ...EducationPaneReplSubmission\n        }\n        attachments {\n          id\n          ...EducationPaneReplAttachment\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Jd=function(){return e},e}function Qd(){var e=(0,Te.Z)(["\n  mutation EducationPaneUploadReplAttachment(\n    $input: UploadReplAttachmentInput!\n  ) {\n    uploadReplAttachment(input: $input) {\n      ... on Repl {\n        id\n        attachments {\n          id\n          ...EducationPaneReplAttachment\n        }\n      }\n    }\n  }\n  ","\n"]);return Qd=function(){return e},e}function ep(){var e=(0,Te.Z)(["\n  mutation MarkSubmissionReviewed($replId: String!, $status: Boolean!) {\n    reviewRepl(replId: $replId, status: $status) {\n      ... on UserError {\n        message\n      }\n      ... on Repl {\n        id\n        submission {\n          id\n          timeLastReviewed\n        }\n      }\n    }\n  }\n"]);return ep=function(){return e},e}function tp(){var e=(0,Te.Z)(["\n  mutation UnsubmitSubmission($replId: String!) {\n    unsubmitRepl(replId: $replId) {\n      ... on UserError {\n        message\n      }\n      ... on Repl {\n        id\n        submission {\n          id\n          timeSubmitted\n          timeLastReviewed\n        }\n      }\n    }\n  }\n"]);return tp=function(){return e},e}var np={},rp=(0,_e.Ps)(Ad()),ip=(0,_e.Ps)(Ud(),rp),op=(0,_e.Ps)(Od()),ap=(0,_e.Ps)(qd(),op,rp),lp=(0,_e.Ps)($d(),ip,ap),sp=(0,_e.Ps)(Yd(),ip,op),cp=(0,_e.Ps)(Kd()),up=(0,_e.Ps)(Jd(),rp,sp,lp,ap,cp);var dp=(0,_e.Ps)(Qd(),cp);var pp=(0,_e.Ps)(ep());var fp=(0,_e.Ps)(tp());var hp,mp=n(14994),vp=n(75301),gp=n(96594),Zp=function(){return(0,r.BX)(f.G7,{title:"late",css:[f.l0.fontSize("small"),f.l0.px(4),f.l0.borderRadius(4),f.l0.color.accentNegativeDefault,{border:"1px solid",borderColor:f.TV.accentNegativeDefault}],children:["late",(0,r.tZ)(u(),{id:"4b00beb7f87eecca",children:"span.jsx-4b00beb7f87eecca{color:var(--accent-negative-default)}"})]})},bp=n(96084),yp=n(64184),xp=f.KD.a,wp=f.KD.div;function Cp(e){var t=hp.NotStarted,n=hp.Started,r=hp.Submitted,i=hp.Reviewed;switch(e){case t:return"Not Started";case n:return"Not submitted yet";case r:return"Submitted (waiting for review)";case i:return"Reviewed";default:return""}}function kp(e){return e?e.timeSubmitted||e.timeLastReviewed?e.timeSubmitted&&!e.timeLastReviewed?hp.Submitted:!e.timeSubmitted&&e.timeLastReviewed?hp.Reviewed:e.timeSubmitted&&e.timeLastReviewed?new Date(e.timeSubmitted)>new Date(e.timeLastReviewed)?hp.Submitted:hp.Reviewed:void 0:hp.Started:hp.NotStarted}!function(e){e.NotStarted="not-started",e.Started="started",e.Submitted="submitted",e.Reviewed="reviewed"}(hp||(hp={}));var Lp,Sp=function(e,t){var n=e.indexOf("?"),r=new URLSearchParams(-1===n?"":e.slice(n));r.append("submissionReview","true");var i=-1===n?e:e.slice(0,n);return t?"".concat(i,"?").concat(r.toString(),"#").concat(t):"".concat(i,"?").concat(r.toString())},Bp=(Lp={},(0,o.Z)(Lp,hp.Started,f.TV.blueDefault),(0,o.Z)(Lp,hp.NotStarted,f.TV.foregroundDimmest),(0,o.Z)(Lp,hp.Reviewed,f.TV.greenDefault),(0,o.Z)(Lp,hp.Submitted,f.TV.yellowDefault),Lp);function Ep(e){var t=e.status,n=e.highlighted?f.TV.foregroundDefault:Bp[t];return(0,r.tZ)(f.u,{tooltip:Cp(t),placement:"right",children:(0,r.BX)(f.G7,{children:[t===hp.Submitted?(0,r.tZ)(bp.Z,{color:n}):null,t===hp.Reviewed?(0,r.tZ)(gt.Z,{color:n}):null,t===hp.Started?(0,r.tZ)(mp.Z,{color:n}):null,t===hp.NotStarted?(0,r.tZ)(yp.Z,{color:n}):null]})})}function Tp(e){var t=e.result,n=e.highlighted,i=e.current,o=e.isLate,a=(0,k.Z)(),l=!i&&t.url?Sp(t.url,a):"",s=(0,r.BX)(f.G7,{css:[f.l0.p(8),f.l0.rowWithGap(8),f.l0.justify.spaceBetween,f.l0.align.center,t.status===hp.NotStarted&&{opacity:n?1:.4},n&&{backgroundColor:f.gU.listItem[":not([disabled])"][":not(textarea):active"].backgroundColor},i&&{backgroundColor:f.TV.accentPrimaryDimmer,color:f.TV.foregroundDefault}],children:[(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.align.center,f.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(f.qE,{size:24,username:t.name,src:t.image}),(0,r.tZ)(f.xv,{css:f.l0.flex.growAndShrink(1),children:t.name}),o?(0,r.tZ)(Zp,{}):null]}),t.status?(0,r.tZ)(Ep,{status:t.status,highlighted:n||i}):null]});return l?(0,r.tZ)(xp,{href:l,style:{color:"inherit"},children:s}):s}var _p=function(e){var t=e.team,n=e.submission,o=e.submissionList,l=e.template,s=(0,a.Z)(i.useState([]),2),c=s[0],u=s[1],d=(0,a.Z)(i.useState(""),2),p=d[0],h=d[1],m=(0,gp.Kb)({items:c,defaultHighlightedIndex:0}),v=m.isOpen,g=m.getComboboxProps,Z=m.getInputProps,b=m.getMenuProps,y=m.getItemProps,x=m.getToggleButtonProps,w=m.highlightedIndex,C=m.openMenu,k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(n.isGroupSubmission){var r=o;0!==e.length&&(r=r.filter((function(t){var n;return null===(n=t.submissionGroup)||void 0===n?void 0:n.users.some((function(t){var n;return null===(n=(null===t||void 0===t?void 0:t.fullName)||(null===t||void 0===t?void 0:t.username))||void 0===n?void 0:n.toLocaleLowerCase().includes(e.toLocaleLowerCase())}))})));var i=r.map((function(e){var t,n,r,i,o=(null===e||void 0===e||null===(t=e.submissionGroup)||void 0===t?void 0:t.users.map((function(e){return(null===e||void 0===e?void 0:e.fullName)||(null===e||void 0===e?void 0:e.username)||""})).join(", "))||"";return{image:(null===(r=null===e||void 0===e||null===(n=e.submissionGroup)||void 0===n?void 0:n.users[0])||void 0===r?void 0:r.image)||"",name:o,url:null===(i=e.repl)||void 0===i?void 0:i.url,status:kp(e),submissionId:e.id,timeSubmitted:null===e||void 0===e?void 0:e.timeSubmitted}}));u((0,Be.Z)(i))}else{var a=t.students;a=0===e.length?a.filter((function(e){return e.user})).sort((function(e,t){var n,r,i,o;return(e.nickname||(null===(n=e.user)||void 0===n?void 0:n.fullName)||(null===(r=e.user)||void 0===r?void 0:r.username)||"").localeCompare(t.nickname||(null===(i=t.user)||void 0===i?void 0:i.fullName)||(null===(o=t.user)||void 0===o?void 0:o.username)||"")})):a.filter((function(t){var n,r,i;return null===(i=t.nickname||(null===(n=t.user)||void 0===n?void 0:n.fullName)||(null===(r=t.user)||void 0===r?void 0:r.username))||void 0===i?void 0:i.toLocaleLowerCase().includes(e.toLocaleLowerCase())}));var l=a.map((function(e){var t,n,r,i,a=o.find((function(t){var n,r;return(null===(n=t.author)||void 0===n?void 0:n.id)===(null===(r=e.user)||void 0===r?void 0:r.id)}));return{image:(null===(t=e.user)||void 0===t?void 0:t.image)||"",name:e.nickname||(null===(n=e.user)||void 0===n?void 0:n.fullName)||(null===(r=e.user)||void 0===r?void 0:r.username)||"",url:null===a||void 0===a||null===(i=a.repl)||void 0===i?void 0:i.url,status:kp(a),submissionId:null===a||void 0===a?void 0:a.id,timeSubmitted:null===a||void 0===a?void 0:a.timeSubmitted}}));u((0,Be.Z)(l))}};return(0,r.BX)(f.G7,{css:[f.l0.position.relative,{zIndex:2}],children:[(0,r.BX)(wp,(0,V.Z)((0,F.Z)({css:[f.l0.position.relative]},g()),{children:[(0,r.tZ)(f.II,(0,F.Z)({},Z({value:p,placeholder:"Switch submission",onKeyDown:function(e){"Escape"===e.key&&u([])},onChange:function(e){var t=e.target.value;k(t),h(t)},onFocus:function(){k(),C()}}))),(0,r.tZ)(f.G7,{css:[f.l0.position.absolute,f.l0.top(0),f.l0.right(0),f.l0.height("100%"),f.l0.center],children:p?(0,r.tZ)(f.G7,{css:[f.l0.reset.button,f.l0.cursor.pointer,f.l0.px(8)],onClick:function(){return h("")},tag:"button",children:(0,r.tZ)(Ku.Z,{})}):(0,r.tZ)(f.G7,(0,V.Z)((0,F.Z)({css:[f.l0.reset.button,f.l0.cursor.pointer,f.l0.px(8)]},x({refKey:"innerRef"})),{tag:"button",children:(0,r.tZ)(Oo.Z,{})}))})]})),(0,r.tZ)(f.Tg,(0,V.Z)((0,F.Z)({tag:"ul",elevated:!0,css:[{zIndex:1,position:"absolute",overflowY:"auto",width:"100%",left:0,top:"calc(100% + ".concat(f.TV.space8,")"),border:"1px solid",borderColor:f.TV.outlineDimmest,listStyle:"none"},!v&&{visibility:"hidden"},f.l0.borderRadius(8),f.l0.maxHeight(400)]},b({refKey:"innerRef"})),{children:c.map((function(e,t){var i=e.submissionId===n.id,o=!e.url;return(0,r.tZ)(f.G7,(0,V.Z)((0,F.Z)({tag:"li",css:[!o&&f.l0.cursor.pointer]},y({index:t,item:e,refKey:"innerRef",disabled:o,onClick:function(e){e.nativeEvent.preventDownshiftDefault=!0}})),{children:(0,r.tZ)(Tp,{result:e,highlighted:w===t,current:i,isLate:l.dueDate&&e.timeSubmitted&&l.dueDate<e.timeSubmitted})}),e.name)}))}))]})},Rp=n(60081),Dp=n(67177),Gp=function(e){return{short:(0,Rp.Z)(e,"do MMM"),long:(0,Rp.Z)(e,"do MMM, hh:mm a")}},Ip=function(e,t){var n=e.students.find((function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.id)===(null===t||void 0===t?void 0:t.id)}));return(null===n||void 0===n?void 0:n.nickname)||(null===t||void 0===t?void 0:t.fullName)||"@".concat(null===t||void 0===t?void 0:t.username)};function jp(e){var t=e.submission,n=e.submissionList,i=(0,k.Z)(),o=n.findIndex((function(e){return e.id===t.id})),a=n[o-1],l=n[o+1],s=n.filter((function(e){return e.timeLastReviewed})).length;return(0,r.BX)(f.G7,{css:f.l0.rowWithGap(8),children:[n.length===s?(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(gt.Z,{color:f.TV.greenDefault}),(0,r.BX)(f.xv,{color:"dimmer",css:[f.l0.flex.growAndShrink(1)],children:["All ",s," submissions reviewed"]})]}):(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.flex.growAndShrink(1),f.l0.align.center],children:[(0,r.tZ)(f.u,{tooltip:"Reviewed",children:(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.align.center],children:[(0,r.tZ)(gt.Z,{color:f.TV.greenDefault}),(0,r.tZ)(f.xv,{color:"dimmer",children:s})]})}),(0,r.tZ)(f.u,{tooltip:"Waiting for review",children:(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.align.center],children:[(0,r.tZ)(bp.Z,{size:12,color:f.TV.yellowDefault}),(0,r.tZ)(f.xv,{variant:"small",color:"dimmer",children:n.length-s})]})})]}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4)],children:[(null===a||void 0===a?void 0:a.repl)?(0,r.tZ)(f.ZP,{small:!0,outlined:!0,href:Sp(a.repl.url,i),text:"",iconLeft:(0,r.tZ)(Vi.Z,{})}):(0,r.tZ)(f.zx,{small:!0,outlined:!0,text:"",disabled:!0,iconLeft:(0,r.tZ)(Vi.Z,{})}),(null===l||void 0===l?void 0:l.repl)?(0,r.tZ)(f.ZP,{small:!0,outlined:!0,href:Sp(l.repl.url,i),text:"",iconRight:(0,r.tZ)(Cc.Z,{})}):(0,r.tZ)(f.zx,{small:!0,outlined:!0,text:"",disabled:!0,iconRight:(0,r.tZ)(Cc.Z,{})})]})]})}function Mp(e){var t,n=e.submission,i=e.dueDate,o=e.team,a=Boolean(i&&i<n.timeSubmitted);return(0,r.BX)(f.Tg,{css:[f.l0.colWithGap(16),f.l0.p(16),f.l0.borderRadius(8)],elevated:!0,children:[n.isGroupSubmission&&n.submissionGroup?(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8),f.l0.maxHeight(400),f.l0.overflow("auto")],children:n.submissionGroup.users.map((function(e){return(0,r.tZ)(f.G7,{children:(0,r.tZ)(f.n5,{src:(null===e||void 0===e?void 0:e.image)||null,username:Ip(o,e)})},null===e||void 0===e?void 0:e.id)}))}):(0,r.tZ)(r.HY,{children:(0,r.tZ)(f.n5,{src:(null===(t=n.author)||void 0===t?void 0:t.image)||null,username:Ip(o,n.author)})}),n.timeSubmitted?(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(4)],children:(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.align.center],children:[(0,r.tZ)(gt.Z,{}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.align.center],children:[(0,r.tZ)(f.xv,{css:[f.l0.flex.growAndShrink(1)],children:"Submitted"}),a?(0,r.tZ)(Zp,{}):null,n.timeLastReviewed?null:(0,r.tZ)(f.xv,{variant:"small",color:"dimmer",css:[f.l0.flex.growAndShrink(1)],children:"(waiting for review)"})]})]})}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4)],children:[(0,r.tZ)(mp.Z,{}),(0,r.tZ)(f.xv,{children:Gp(new Date(n.timeSubmitted)).long})]})]}):(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.align.center],children:[(0,r.tZ)(mp.Z,{}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.align.center],children:[(0,r.tZ)(f.xv,{css:[f.l0.flex.growAndShrink(1)],children:"In progress"}),(0,r.tZ)(f.xv,{variant:"small",color:"dimmer",css:[f.l0.flex.growAndShrink(1)],children:"(not submitted)"})]})]}),n.repl?(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4)],children:[(0,r.tZ)(vp.Z,{}),(0,r.BX)(f.xv,{children:["Forked"," ",Gp(new Date(n.repl.timeCreated)).short]})]}):(0,r.tZ)(f.xv,{children:"Submission repl missing"})]})]})}function Pp(e){var t=e.repl,n=e.submission,i=(0,Tn.H)(),o=(0,ft.Z)().showError,l=(0,a.Z)(function(e){var t=(0,F.Z)({},np,e);return rt.D(pp,t)}({onError:function(e){return o(e.message)},onCompleted:function(e){"UserError"===e.reviewRepl.__typename&&o(e.reviewRepl.message)}}),2),s=l[0],c=l[1].loading,u=(0,a.Z)(function(e){var t=(0,F.Z)({},np,e);return rt.D(fp,t)}(),1)[0],d=Boolean(n.timeLastReviewed);return(0,r.BX)(f.G7,{css:f.l0.colWithGap(16),children:[(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.XZ,{id:i("reviewed-status"),disabled:c,checked:d,onChange:function(){return e=!d,void s({variables:{replId:t.id,status:e},optimisticResponse:{reviewRepl:(0,V.Z)((0,F.Z)({},t),{submission:(0,V.Z)((0,F.Z)({},n),{timeLastReviewed:e?(new Date).toJSON():null})})}});var e}}),(0,r.tZ)("label",{htmlFor:i("reviewed-status"),children:d?"Reviewed":"Mark as reviewed"})]}),n.timeSubmitted?(0,r.tZ)(f.zx,{css:{alignSelf:"start"},iconLeft:(0,r.tZ)(Dp.Z,{}),onClick:function(){u({variables:{replId:t.id},optimisticResponse:{unsubmitRepl:(0,V.Z)((0,F.Z)({},t),{submission:(0,V.Z)((0,F.Z)({},n),{timeLastReviewed:null})})}})},text:"Unsubmit",small:!0}):null]})}function Np(e){var t=e.repl,n=e.submission,i=e.team,o=e.template,a=o.submissions;return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16),f.l0.flex.growAndShrink(1)],children:[(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16),f.l0.flex.grow(1)],children:[(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(jp,{submission:n,submissionList:a}),(0,r.tZ)(_p,{team:i,template:o,submission:n,submissionList:a})]}),(0,r.tZ)(Mp,{team:i,submission:n,dueDate:o.dueDate}),(0,r.tZ)(Pp,{repl:t,submission:n})]}),(0,r.tZ)(f.ZP,{css:[{alignSelf:"start"}],small:!0,href:"/team/".concat(i.username,"/templates/").concat(o.repl.slug),iconLeft:(0,r.tZ)(Vi.Z,{}),text:"Return to submissions"})]})}var Fp,Vp=n(61668),Wp=function(e){var t=e.fileName,n=e.docRef,o=e.initialContents,a=(0,vt.Z)({filePath:t,fontSize:14,indentSize:4,indentIsSpaces:!0}),l=a.view,s=a.ref;return i.useEffect((function(){if(l){var e=Q.tk.updateListener.of((function(e){n.current=e.state.doc}));l.dispatch({effects:ee.Py.appendConfig.of(e)}),l.focus()}}),[l,n]),i.useEffect((function(){l&&(l.state.doc.length||l.dispatch({changes:{from:0,insert:o}}))}),[l,o]),(0,r.BX)("div",{className:"jsx-d59ba8968f57599c editable-area",children:[(0,r.tZ)("div",{className:"jsx-d59ba8968f57599c editor-wrapper",children:(0,r.tZ)("div",{className:"jsx-d59ba8968f57599c editor",children:(0,r.tZ)("div",{ref:s,className:"jsx-d59ba8968f57599c"})})}),(0,r.tZ)(u(),{id:"d59ba8968f57599c",children:".editable-area.jsx-d59ba8968f57599c{width:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;border:1px solid var(--background-higher);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8)0}.editor-wrapper.jsx-d59ba8968f57599c{height:450px;padding-bottom:var(--space-8);-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;position:relative}.editor.jsx-d59ba8968f57599c{overflow:auto;position:absolute;width:100%;height:100%}.loader.jsx-d59ba8968f57599c{height:100%;width:100%;z-index:5}"})]})},zp=function(e){var t=e.title,n=e.fileName,o=e.initialContents,a=e.isOpen,l=e.onSave,s=e.onCancel,c=i.useRef(null);return(0,r.BX)(_u.u,{maxWidth:872,isOpen:a,onRequestClose:function(){},preventClose:!0,children:[(0,r.tZ)("div",{className:"jsx-c68269737c22d0ec editor-modal",children:(0,r.BX)(Zd.gC,{align:"stretch",spacing:2,children:[(0,r.BX)(fe.Z,{level:3,children:["Edit ",t.toLowerCase()]}),(0,r.tZ)(Wp,{docRef:c,fileName:n,initialContents:o}),(0,r.tZ)(Zd.Ug,{justify:"end",align:"end",children:(0,r.BX)(Zd.Ug,{justify:"end",align:"end",spacing:1,children:[(0,r.tZ)(ud.Z,{onClick:function(){return s()},children:"Cancel"}),(0,r.tZ)(ud.Z,{color:"primary",onClick:function(){var e;return c.current&&l(null===(e=c.current)||void 0===e?void 0:e.toString())},children:"Save"})]})})]})}),(0,r.tZ)(u(),{id:"c68269737c22d0ec",children:".editor-modal.jsx-c68269737c22d0ec{padding:var(--space-16)}"})]})};!function(e){e.LessonPlan="lessonplan.md",e.Instructions="instructions.md"}(Fp||(Fp={}));var Xp=n(34115),Hp=n(2916),Ap=n(88652),Up=n(25108);function Op(e){var t=e.attachments;return(0,r.tZ)("div",{className:"manage-attachments",children:(0,r.BX)(Zd.gC,{spacing:2,children:[(0,r.tZ)(qp,{attachment:t.find((function(e){return e.fileName===Fp.LessonPlan})),fileName:Fp.LessonPlan,label:"Lesson plan",helpText:"Upload teacher facing materials"}),(0,r.tZ)(qp,{attachment:t.find((function(e){return e.fileName===Fp.Instructions})),fileName:Fp.Instructions,label:"Instructions",helpText:"Upload student facing materials"})]})})}function qp(e){var t,n=e.attachment,o=e.fileName,l=e.label,s=e.helpText,c=(0,Hp.Z)(),u=(0,ft.Z)(),d=u.showConfirm,p=u.showError,f=(0,a.Z)(function(e){var t=(0,F.Z)({},np,e);return rt.D(dp,t)}({onCompleted:function(){return d("Updated "+o)},onError:function(e){Up.log(e),p("Error")}}),2),h=f[0],m=f[1],v=i.useCallback(function(){var e=(0,tt.Z)((function(e){return(0,nt.__generator)(this,(function(t){return c&&h({variables:{input:{replId:c.id,fileName:o,contents:e,lastModified:(new Date).toISOString()}}}),[2]}))}));return function(t){return e.apply(this,arguments)}}(),[c,o,h]);return c&&(t=o===Fp.LessonPlan?(0,Xp.G)({language:c.language}):(0,Xp.K)({language:c.language})),(0,r.tZ)($p,{loading:!c||m.loading,fileName:o,contents:null===n||void 0===n?void 0:n.contents,defaultContents:t,label:l,helpText:s,attachmentLastUploadedAgo:n?(0,Ap.Sy)(new Date(n.timeUpdated)):void 0,onUploadFile:v})}function $p(e){var t=e.loading,n=e.fileName,o=e.contents,l=e.defaultContents,s=e.label,c=e.helpText,d=e.attachmentLastUploadedAgo,p=e.onUploadFile,f=(0,a.Z)(i.useState(!1),2),h=f[0],m=f[1];return(0,r.BX)("div",{className:"jsx-5b5c01bd3abb3f44 attachment",children:[(0,r.tZ)(zp,{title:s,fileName:n,isOpen:h,initialContents:o||l,onCancel:function(){return m(!1)},onSave:function(e){m(!1),p(e)}}),(0,r.BX)(Zd.Ug,{justify:"space-between",align:"center",wrap:"nowrap",children:[(0,r.BX)(Zd.gC,{spacing:1,children:[(0,r.BX)(Zd.Ug,{align:"center",spacing:1,wrap:"nowrap",children:[(0,r.tZ)(gd.Z,{fontWeight:"medium",children:s}),(0,r.tZ)(Vp.Z,{label:c})]}),d?(0,r.BX)(gd.Z,{size:"xsmall",children:["Uploaded ",d]}):null]}),t?(0,r.tZ)(Y.Z,{size:16}):(0,r.tZ)(ud.Z,{border:!1,filled:!1,Icon:Li.Z,onClick:(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){return m(!0),[2]}))}))})]}),(0,r.tZ)(u(),{id:"5b5c01bd3abb3f44",children:".attachment.jsx-5b5c01bd3abb3f44{padding:var(--space-8);background-color:var(--background-root);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"})]})}function Yp(e){var t=e.attachments;return(0,r.BX)("div",{className:"jsx-ea2ca64296d8f56a project-view-container",children:[(0,r.tZ)("div",{className:"jsx-ea2ca64296d8f56a project-view-contents",children:(0,r.tZ)(Op,{attachments:t})}),(0,r.tZ)("div",{className:"jsx-ea2ca64296d8f56a bottom-dock",children:(0,r.tZ)(gd.Z,{size:"small",children:(0,r.tZ)("a",{href:"/curriculum",target:"_blank",className:"jsx-ea2ca64296d8f56a",children:"Find more curriculum on Curriculum Hub"})})}),(0,r.tZ)(u(),{id:"ea2ca64296d8f56a",children:".project-view-container.jsx-ea2ca64296d8f56a{padding-top:var(--space-32);max-width:400px;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.bottom-dock.jsx-ea2ca64296d8f56a{display:grid;grid-gap:var(--space-8);margin-top:auto}"})]})}function Kp(){var e,t=function(e){var t=(0,F.Z)({},np,e);return Re.a(up,t)}({variables:{replId:(0,Ne.Z)()}}),n=t.data,i=t.loading,o=t.error;if(i)return(0,r.tZ)(f.G7,{css:[f.l0.center,f.l0.flex.growAndShrink(1)],children:(0,r.tZ)(Y.Z,{size:24})});if(o)return(0,r.tZ)(f.G7,{css:f.l0.center,children:(0,r.tZ)(f.xv,{children:"Something went wrong"})});var a="Repl"===(null===n||void 0===n?void 0:n.repl.__typename)?n.repl:null,l="Team"===(null===a||void 0===a||null===(e=a.owner)||void 0===e?void 0:e.__typename)?a.owner:null,s=null===a||void 0===a?void 0:a.template;return a&&l&&s?(0,r.BX)(f.G7,{css:[f.l0.height("100%")],children:[(0,r.tZ)(f.xv,{css:[f.l0.p(8)],variant:"subheadBig",children:a.submission?"Submissions":"Curriculum"}),(0,r.tZ)(f.G7,{css:[f.l0.px(8),f.l0.pb(8),f.l0.flex.growAndShrink(1),f.l0.overflowY("auto")],children:a.submission?(0,r.tZ)(Np,{repl:a,team:l,template:s,submission:a.submission}):(0,r.tZ)(Yp,{attachments:a.attachments})})]}):(0,r.tZ)(f.G7,{css:f.l0.center,children:(0,r.tZ)(f.xv,{children:"Something went wrong"})})}var Jp={Content:function(){return(0,r.tZ)(Kp,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(he.Z,{size:t})},getTitle:function(){return"Submissions"}},Qp=n(96711),ef=n(25108),tf=".lesson/".concat("instructions.md"),nf=function(e){var t=e.contents,n=(0,v.Z)().fs,i=(0,Qp.l)(n,tf);return(0,r.BX)("div",{className:u().dynamic([["4a2a9dfc904beede",[l.j.tabletMin]]])+" root",children:[(0,r.tZ)("div",{className:u().dynamic([["4a2a9dfc904beede",[l.j.tabletMin]]])+" content",children:(0,r.tZ)(wr.ZP,{components:{img:i},sourcePos:!0,children:t})}),(0,r.tZ)(u(),{id:"4a2a9dfc904beede",dynamic:[l.j.tabletMin],children:".root.__jsx-style-dynamic-selector{height:100%;width:100%;overflow:auto;background:var(--background-default);z-index:2;position:relative}.content.__jsx-style-dynamic-selector{max-width:840px;margin:0 auto;padding:var(--space-32)var(--space-16)}@media only screen and (min-width:".concat(l.j.tabletMin,"px){.content.__jsx-style-dynamic-selector{padding:var(--space-48)var(--space-32)}}")})]})},rf=function(){var e=(0,Ne.Z)(),t=(0,v.Z)().fs,n=(0,Xr.Z)(),o=(0,a.Z)(i.useState(null),2),l=o[0],s=o[1];return i.useEffect((function(){t.readFile(tf).then((function(e){if(n.current)return e.error?(ef.error(e.error),void Hs.$e((function(t){t.setTag("instructions-viewer",!0),Hs.Tb("Error loading instructions viewier: ".concat(e.error))}))):void s(e.content.toString())}))}),[t,n,e]),l?(0,r.tZ)(nf,{contents:l}):(0,r.tZ)(h,{preventHighlightBorder:!0})},of={Content:function(){return(0,r.tZ)(rf,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(he.Z,{size:t})},getTitle:function(){return"Instructions"}};function af(e){return(0,r.tZ)(lr.Z,(0,V.Z)((0,F.Z)({},e),{children:(0,r.tZ)("path",{d:"M22.0005 12.4999V8.50012H20.001V6.49987H18V5.50012H20.001V2.50012H17.001V4.49962H15V6.49987H9V4.49962H7.0005V2.50012H4.0005V5.50012H6V6.49987H4.0005V8.50012H2.001V12.4999H0V19.4996H3V15.4999H4.0005V19.4996H6V21.4999H11.001V18.4999H7.0005V17.5001H17.001V18.4999H13.0005V21.4999H18V19.4996H20.001V15.4999H21V19.4996H24V12.4999H22.0005ZM9 11.5001H6V8.50012H9V11.5001ZM18 11.5001H15V8.50012H18V11.5001Z",fill:"currentColor",stroke:"none"})}))}var lf=n(72466),sf={Content:function(){return(0,r.tZ)(cf,{})},Icon:function(){return(0,r.tZ)(af,{})},getTitle:function(){return"Kaboom"}};function cf(){var e=(0,v.Z)().session;return(0,r.tZ)(lf.Z,{onFileOpen:function(t){e.openFile(t)}})}var uf=n(22274),df=n(29542),pf=n(78244),ff=n(95921),hf=function(e){var t=e.title,n=e.json,o=e.initialExpanded,a=void 0===o||o,l=(0,i.useState)(a),s=l[0],c=l[1];return(0,r.tZ)(f.Qd,{expanded:s,onClick:function(){return c((function(e){return!e}))},headerContent:(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:(0,r.tZ)(f.xv,{variant:"subheadDefault",children:t})}),children:(0,r.tZ)(f.G7,{css:[f.l0.p(12),f.l0.colWithGap(8),f.l0.height("100%")],children:(0,r.tZ)(pf.C,{json:n})})})},mf=function(e){var t=e.title,n=e.text,o=(0,i.useState)(!0),a=o[0],l=o[1];return(0,r.tZ)(f.Qd,{expanded:a,onClick:function(){return l((function(e){return!e}))},headerContent:(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:(0,r.tZ)(f.xv,{variant:"subheadDefault",children:t})}),children:(0,r.tZ)(f.G7,{css:[f.l0.p(12),f.l0.colWithGap(8),f.l0.height("100%")],children:(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.fontSize(16),{whiteSpace:"pre-wrap"}],children:n})})})},vf=n(60864),gf=n(55607);function Zf(){var e=(0,Te.Z)(["\n  query AdminPanelGitView {\n    currentUser {\n      id\n      gitHubInfo {\n        accessToken\n        installations {\n          id\n          type\n          avatarUrl\n          name\n        }\n        userInfo {\n          name\n          email\n          avatarUrl\n        }\n      }\n    }\n  }\n"]);return Zf=function(){return e},e}var bf={},yf=(0,_e.Ps)(Zf());function xf(e){var t=e.event,n=t.input,o=t.output,a=t.error,l=t.start,s=t.end,c=t.cached,u=(0,i.useState)(!0),d=u[0],p=u[1],h=(0,i.useCallback)((function(){return p((function(e){return!e}))}),[]),m="bash"===n[0]&&"-c"===n[1]?n.slice(2).join(" "):n.join(" "),v=o.trimEnd();return(0,r.BX)(f.G7,{css:[(0,f.ec)(a?"negative":"positive"),c?{opacity:.75}:void 0,f.l0.borderRadius(8)],children:[(0,r.BX)(f.G7,{onClick:h,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||h()},tabIndex:0,css:[f.l0.rowWithGap(4),f.l0.justify.spaceBetween,f.l0.py(4),f.l0.px(8),f.l0.font.code,f.l0.cursor.pointer],children:[(0,r.BX)("span",{css:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:["$ ",m]}),(0,r.BX)("span",{css:[f.l0.color.foregroundDimmer,f.l0.flex.shrink(0)],children:[a?(0,r.tZ)("span",{css:[f.l0.mr(16)],children:a}):null,c?(0,r.tZ)("span",{children:"CACHED"}):(0,r.BX)("span",{children:[s-l," ms"]})]})]}),d?null:(0,r.tZ)(f.G7,{css:[f.l0.px(2),f.l0.pb(2),f.l0.borderRadius(0,0,8,8)],children:(0,r.tZ)(f.Tg,{elevated:!0,css:[f.l0.p(8),f.l0.borderRadius(8)],children:(0,r.tZ)(pf.ZP,{hideGutter:!0,code:v})})})]})}function wf(e){var t=e.t,n=e.children;return(0,r.BX)("span",{css:{display:"flex",alignItems:"center",columnGap:"0.5rem"},children:[(0,r.BX)(f.xv,{children:[t,": "]}),(0,r.tZ)("span",{children:n})]})}var Cf=n(74454),kf=n(45435);var Lf=i.memo((function(e){var t=e.log,n=e.timeRef,i=e.setTimeRef,o=JSON.stringify(t.cmd,null,2),a=n?t.timestamp-n:t.timestamp;return(0,r.BX)("div",{className:"jsx-f9f1d3880ce11273 "+("log "+(t.highlighted?"highlighted ":"")+("in"===t.dir?"in":"")||0),children:[(0,r.BX)("div",{className:"jsx-f9f1d3880ce11273 direction",children:[(0,r.tZ)("div",{className:"jsx-f9f1d3880ce11273",children:t.dir}),(0,r.tZ)("div",{className:"jsx-f9f1d3880ce11273",children:"in"===t.dir?"\u25b6\ufe0f":"\u2b05\ufe0f"}),(0,r.tZ)("div",{className:"jsx-f9f1d3880ce11273",children:(0,r.tZ)(f.zx,{small:!0,colorway:"positive",onClick:function(){return i(t.timestamp)},text:a.toFixed(0)+"ms"})})]}),(0,r.tZ)("pre",{className:"jsx-f9f1d3880ce11273",children:o}),(0,r.tZ)(u(),{id:"f9f1d3880ce11273",children:".log.jsx-f9f1d3880ce11273{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;color:deepskyblue;border:1px solid;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.in.jsx-f9f1d3880ce11273{color:red}.highlighted.jsx-f9f1d3880ce11273{background:yellow}.direction.jsx-f9f1d3880ce11273{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-moz-box-pack:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;text-align:center;min-width:30px;border-right:1px solid}.direction.jsx-f9f1d3880ce11273>div.jsx-f9f1d3880ce11273:not(:last-child){border-bottom:1px solid;width:100%}"})]},t.index)}),(function(e,t){return e.log.index===t.log.index&&e.log.highlighted===t.log.highlighted&&e.timeRef===t.timeRef})),Sf=function(e){var t=e.logs,n=e.timeRef,i=e.setTimeRef;return(0,r.BX)("div",{className:"jsx-ded4128a88e9355f log-list",children:[t.map((function(e){return(0,r.tZ)(Lf,{log:e,timeRef:n,setTimeRef:i},e.index)})),(0,r.tZ)("div",{className:"jsx-ded4128a88e9355f bottom-anchor"}),(0,r.tZ)(u(),{id:"ded4128a88e9355f",children:".log-list.jsx-ded4128a88e9355f{overflow:auto;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.log-list.jsx-ded4128a88e9355f *.jsx-ded4128a88e9355f{overflow-anchor:none}.bottom-anchor.jsx-ded4128a88e9355f{overflow-anchor:auto!important;min-height:1px}"})]})};function Bf(e){return"in"===e||"out"===e||""===e}var Ef=function(e){var t=e.filters,n=e.updateFilters;return(0,r.BX)(f.G7,{css:f.l0.colWithGap(4),children:[(0,r.tZ)(f.xv,{variant:"subheadDefault",children:"Regex (regex,flags):"}),(0,r.tZ)(f.II,{id:"regex",onChange:function(e){var t=null;if(e.currentTarget.value){var r=(0,a.Z)(e.currentTarget.value.split(","),2),i=r[0],o=r[1];try{t=new RegExp(i,o)}catch(l){}}n({regexp:t})},placeholder:"\\w+,gi"}),(0,r.tZ)(f.xv,{variant:"subheadDefault",children:"Directions:"}),(0,r.tZ)(f.Ee,{css:f.l0.rowWithGap(16),name:"direction",value:t.direction,onChange:function(e){var t=e.target.value;n({direction:Bf(t)?t:""})},children:[{val:"",text:"Both"},{val:"in",text:"In"},{val:"out",text:"Out"}].map((function(e){return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8)],children:[(0,r.tZ)(f.Y8,{id:e.val,value:e.val}),(0,r.tZ)("label",{htmlFor:e.val,children:e.text})]},e.val)}))}),(0,r.tZ)(f.xv,{variant:"subheadDefault",children:"Filter style:"}),(0,r.tZ)(f.Ee,{css:f.l0.rowWithGap(16),name:"filter-style",value:t.highlightOnly?"highlight":"filter",onChange:function(e){return n({highlightOnly:"highlight"===e.target.value})},children:[{val:"highlight",text:"Highlight"},{val:"filter",text:"Filter"}].map((function(e){return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8)],children:[(0,r.tZ)(f.Y8,{id:e.val,value:e.val}),(0,r.tZ)("label",{htmlFor:e.val,children:e.text})]},e.val)}))})]})},Tf=n(97992),_f=n(81255),Rf=n(69346),Df=n(1144),Gf=n(29163),If=n(97648),jf=n(89596),Mf=n(15335),Pf=n(35642),Nf=n(79395);function Ff(){var e=(0,Te.Z)(["\n  fragment AdminPanelRepl on Repl {\n    id\n    title\n    description\n    isProject\n    isPrivate\n    timeCreated\n    timeUpdated\n    slug\n    url\n    language\n    user {\n      id\n    }\n    config {\n      isServer\n      isVnc\n    }\n    isRenamed\n    isProjectFork\n    folderId\n    isOwner\n    origin {\n      id\n    }\n    source {\n      release {\n        id\n        repl {\n          id\n          url\n          templateLabel\n        }\n      }\n    }\n  }\n"]);return Ff=function(){return e},e}function Vf(){var e=(0,Te.Z)(["\n  query AdminPanelReplView($replId: String!) {\n    repl(id: $replId) {\n      ...AdminPanelRepl\n    }\n  }\n  ","\n"]);return Vf=function(){return e},e}var Wf={},zf=(0,_e.Ps)(Ff()),Xf=(0,_e.Ps)(Vf(),zf);var Hf=function(e){return(0,r.tZ)(lr.Z,(0,V.Z)((0,F.Z)({viewBox:"0 0 800.5 907.77"},e),{children:(0,r.tZ)("path",{d:"M303.36,238.61c31.36-21.37,71.76-12.97,65-6.53c-12.89,12.28,4.26,8.65,6.11,31.31 c1.36,16.69-4.09,25.88-8.78,31.11c-9.79,1.28-21.69,3.67-36.02,8.33c-8.48,2.76-15.85,5.82-22.31,8.9 c-1.7-1.11-3.55-2.47-5.74-4.36C279.5,288.19,280.24,254.37,303.36,238.61 M490.68,370.72c5.69-4.41,31.55-12.72,55.49-15.55 c12.57-1.48,30.49-2.34,34.31-0.2c7.59,4.19,7.59,17.16,2.39,29.14c-7.57,17.4-18.27,36.63-30.39,38.21 c-19.77,2.61-38.46-8.09-59.8-24.03C485.06,392.56,480.38,378.68,490.68,370.72 M526.75,201.27c29.19,13.58,25.37,39.42,26.18,54.6 c0.22,4.36,0.15,7.3-0.22,9.32c-4.04-2.19-10.43-3.8-20.56-3.35c-2.96,0.12-5.84,0.47-8.63,0.91c-10.77-5.77-17.21-17.06-23.1-29.06 c-0.54-1.11-0.96-2.1-1.36-3.06c-0.17-0.44-0.35-0.91-0.52-1.31c-0.07-0.22-0.12-0.39-0.2-0.59c-3.23-10.25-1.06-12.3,0.3-15.46 c1.41-3.23,6.68-5.89-1.11-8.58c-0.67-0.25-1.5-0.39-2.44-0.57C500.25,197.72,515.7,196.17,526.75,201.27 M367.62,510.22 c-31.45-20.19-63.99-49.15-78.22-65.18c-2.39-1.8-2-9.79-2-9.79c12.84,9.98,66.11,48.04,122.44,65.42 c19.87,6.14,50.36,8.46,76.81-6.53c20.21-11.46,44.54-31.43,59.06-52.01l2.66,4.61c-0.1,3.06-6.78,17.97-10.18,23.96 c6.14,3.53,10.72,4.49,17.55,6.36l46.64-7.27c16.74-27.04,28.74-70.65,15.95-112.16c-7.3-23.81-45.36-71.22-48.09-73.83 c-9.56-9.19,1.6-44.69-17.35-83.42C532.86,159.41,480.67,116.69,458,98.1c6.68,4.88,47.82,21.47,67,44.62 c1.8-2.39,2.54-14.82,4.19-17.97c-16.47-21.57-17.75-59.95-17.75-70.21c0-18.81-9.56-40.13-9.56-40.13s16.47,13.04,20.73,35.5 c5.03,26.6,15.75,47.55,29.93,65.28c26.84,33.43,51.08,50.58,63.33,38.23C630.53,138.58,601,72.2,563.28,35.15 C519.25-8.09,507.74-2.52,481.91,6.7c-20.61,7.35-31.75,65.87-85.47,64.71c-9.1-1.06-32.54-1.63-44.13-1.53 c6.04-8.43,11.22-14.94,11.22-14.94s-18.02,7.25-33.38,16.44l-1.18-1.77c5.18-10.92,10.75-17.82,10.75-17.82s-14.4,8.65-27.54,19.01 c2.39-13.02,11.44-21.27,11.44-21.27s-18.19,3.28-41.36,28.77c-26.33,7.2-32.66,11.93-53.64,21.22 c-34.12-7.44-50.21-19.45-65.55-41.56c-11.68-16.89-32.47-19.45-53.71-10.72c-30.97,12.8-70.14,30.33-70.14,30.33 s12.77-0.52,26.08,0.05c-18.22,6.9-35.72,16.39-35.72,16.39s8.53-0.3,19.06-0.12c-7.27,6.04-11.29,8.92-18.22,13.51 c-16.66,12.1-30.17,26.08-30.17,26.08s11.31-5.15,21.47-8.04c-7.1,16.27-21.18,28.25-18.59,48.17 c2.49,18.19,24.82,55.66,53.64,78.66c2.49,2,41.86,38.43,71.56,23.47c29.68-14.94,41.39-28.25,46.27-48.66 c5.74-23.44,2.47-41.17-9.79-92.05c-4.04-16.79-14.57-51.37-19.65-67.91l1.13-0.81c9.71,20.49,34.56,74.5,44.57,110.78 c15.63,56.57,10.75,85.27,3.6,95.79c-21.57,31.73-76.84,35.92-101.98,18.34c-3.85,60.91,9.76,87.73,14.37,101.24 c-2.29,15.53,7.77,44.37,7.77,44.37s1.13-13.11,5.74-20.02c1.23,15.41,9,33.72,9,33.72s-0.47-11.31,3.06-21.08 c4.98,8.43,8.63,10.43,13.34,16.76c4.71,16.47,14.15,28.5,14.15,28.5s-1.53-8.83-0.69-18.02c23.05,22.14,27.02,54.45,29.31,79.28 c6.46,68.26-107.63,122.54-129.74,165.24c-16.76,25.29-26.8,65.3,1.58,88.89c68.6,56.97,42.25,72.65,76.59,97.69 c47.11,34.34,106.05,18.96,126.11-8.97c27.93-38.92,20.76-75.63,10.38-109.97c-8.11-26.85-30.15-71.46-57.41-88.72 c-27.86-17.65-54.95-20.95-77.9-18.59l2.12-2.44c33.01-6.56,67.52-2.96,92.49,13.14c28.35,18.22,54.28,49.47,67.84,97.37 c15.38-2.19,17.55-3.18,31.63-5.18l-31.7-246.76L367.62,510.22z M385.94,819.52l-3.65-34.22l71.29-108.74l80.93,23.64l69.59-116.23 L687.52,639l63.38-132.92l22.53,242.07L385.94,819.52z M774.27,456.51l-254.72,46.17c-6.31,8.13-21.91,22.41-29.41,26.13 c-32.17,16.2-53.91,11.51-72.7,6.63c-12.08-3.06-19.08-4.78-29.11-9.29l-62.17,8.53l37.74,314.87l436.35-78.66L774.27,456.51z"})}))},Af=n(85861),Uf=n(10275),Of=n(21603);function qf(e){var t=e.sessionId,n=(0,i.useState)(!1),o=n[0],a=n[1],l=(0,i.useState)(""),s=l[0],c=l[1],u=(0,i.useState)(!1),d=u[0],p=u[1],h=(0,ft.Z)().showConfirm,m=(0,Tn.H)();return null==t?(0,r.tZ)(Rf.G,{children:(0,r.tZ)(f.xv,{children:"Something went wrong... no RUM session found... Try refreshing the page"})}):(0,r.BX)(Rf.G,{css:[_f.l0.colWithGap(8)],children:[(0,r.BX)(f.xv,{variant:"small",children:["RUM Session ID: ",t]}),(0,r.tZ)(f.xv,{variant:"headerDefault",children:"Submit an Issue"}),(0,r.BX)(Rf.G,{css:[_f.l0.colWithGap(16)],children:[(0,r.tZ)(f.B,{id:m("message"),placeholder:"What can we do better?",value:s,onChange:function(e){return c(e.target.value)},disabled:o}),(0,r.BX)(Rf.G,{css:[_f.l0.rowWithGap(8)],children:[(0,r.tZ)(f.XZ,{id:m("issueInRecording"),checked:d,onChange:function(e){return p(e.target.checked)}}),(0,r.tZ)("label",{htmlFor:m("issueInRecording"),children:(0,r.tZ)(f.xv,{children:"Issue is demoed in recording"})})]}),(0,r.tZ)(f.zx,{onClick:function(){var e=dn()();a(!0),(0,Of.fc)({name:"replitOnReplit:issue",context:{message:s,issueInRecording:d,customEventId:e}}),h("Issue submitted! Have a cookie \ud83c\udf6a",5e3),setTimeout((function(){a(!1),c(""),p(!1)}),5e3)},text:"Submit",disabled:o||0===s.trim().length,colorway:"primary"})]})]})}var $f,Yf;!function(e){e.Repl="repl",e.Logs="logs",e.LSP="lsp",e.AI="ai",e.GhostwriterChat="aiChat",e.AST="ast",e.Git="git",e.History2="history2",e.Metadata="metadata",e.Override="override",e.DDRum="rum"}($f||($f={}));var Kf=(Yf={},(0,o.Z)(Yf,$f.Repl,(function(){var e,t,n,i,o,a,l,s,c=(0,Ne.Z)(),d=function(e){var t=(0,F.Z)({},Wf,e);return Re.a(Xf,t)}({variables:{replId:c}}).data,p=(0,Af.Fg)().isDarkColorScheme,h="Repl"===(null===d||void 0===d?void 0:d.repl.__typename)?JSON.parse(JSON.stringify(d.repl)):void 0;h&&(delete h.__typename,null===(e=h.user)||void 0===e||delete e.__typename,null===(t=h.origin)||void 0===t||delete t.__typename,delete h.config.__typename,null===(n=h.source)||void 0===n||delete n.__typename,null===(i=h.source)||void 0===i||null===(o=i.release)||void 0===o||delete o.__typename,null===(a=h.source)||void 0===a||null===(l=a.release)||void 0===l||null===(s=l.repl)||void 0===s||delete s.__typename);return(0,r.BX)(Rf.G,{css:[_f.l0.colWithGap(16),_f.l0.p(4)],children:[(0,r.tZ)(f.ZP,{href:"https://app.datadoghq.com/logs?query=%40replid%3A".concat(encodeURI(c)),iconLeft:(0,r.tZ)(Hf,{color:p?"#FFFFFF":"#632CA6"}),iconRight:(0,r.tZ)(We.Z,{}),target:"_blank",text:"View Datadog Logs"}),(0,r.BX)(Rf.G,{css:_f.l0.rowWithGap(2),children:[(0,r.BX)(Df.x,{children:["Repl ID: ",(0,r.tZ)(If.Z,{children:c})]}),(0,r.tZ)(Gf.h,{alt:"Copy to clipboard",onClick:function(){return(0,Pe.Z)(c)},children:(0,r.tZ)(Sn.Z,{})})]}),(0,r.tZ)("div",{className:"jsx-3187c500f6b377b0",children:h?(0,r.tZ)(pf.C,{json:h}):null}),(0,r.tZ)(u(),{id:"3187c500f6b377b0",children:"pre.jsx-3187c500f6b377b0{white-space:pre-wrap;word-wrap:break-word}"})]})})),(0,o.Z)(Yf,$f.Logs,(function(){var e=(0,a.Z)((0,Cf.Z)(!1),2),t=e[0],n=e[1],o=(0,i.useState)(null),l=o[0],s=o[1],c=(0,X.Dv)(kf.Sj),u=(0,a.Z)((0,X.KO)(kf.a0),2),d=u[0],p=u[1],h=(0,a.Z)((0,X.KO)(kf.ot),2),m=h[0],v=h[1],g=(0,X.b9)(kf.UB);return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.position.sticky,f.l0.top(0),f.l0.px(4),f.l0.pb(8),f.l0.backgroundColor.backgroundDefault],children:[(0,r.tZ)(f.zx,{colorway:d?void 0:"positive",onClick:function(){p((function(e){return!e}))},text:d?"Stop logging goval":"Start logging goval"}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.justify.spaceBetween],children:[(0,r.tZ)(f.zx,{onClick:n,text:t?"Hide filters":"Show filters"}),l?(0,r.tZ)(f.zx,{onClick:function(){return s(null)},text:"Reset Time Ref"}):null,(0,r.tZ)(f.hU,{alt:"Download as JSON",onClick:function(){var e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(c)),t=document.createElement("a");t.setAttribute("href",e);var n=(new Date).toISOString();t.setAttribute("download","logs-".concat(n.slice(0,n.indexOf(".")).replaceAll("-","").replaceAll(":",""),".json")),t.click()},size:32,children:(0,r.tZ)(vl.Z,{})}),(0,r.tZ)(f.zx,{colorway:"negative",onClick:function(){return g()},text:"Clear logs"})]}),t?(0,r.tZ)(Ef,{filters:m,updateFilters:function(e){v((0,F.Z)({},m,e))}}):null]}),(0,r.tZ)(f.G7,{css:[f.l0.flex.growAndShrink(1),f.l0.overflow("auto"),f.l0.height("100%")],children:(0,r.tZ)(Sf,{logs:c,timeRef:l,setTimeRef:s})})]})})),(0,o.Z)(Yf,$f.LSP,Tf.L),(0,o.Z)(Yf,$f.AI,vf.ho),(0,o.Z)(Yf,$f.GhostwriterChat,(function(){var e=(0,df.v)(),t=(0,Ne.Z)(),n=(0,X.Dv)(uf.gm),o=(0,k.Z)(),l=(0,uf.vY)(),s=(0,uf.Cv)(),c=(0,uf.Og)(),u=(0,uf.Cd)(),d=(0,a.Z)((0,ff.Kz)(),1)[0],p=(0,a.Z)((0,ff.u0)(),1)[0],h="chat-".concat(n,".json"),m=(0,i.useState)(".ghostwriter/".concat(h)),g=m[0],Z=m[1],b=(0,v.Z)().fs,y=(0,ft.Z)().showError,x=(0,a.Z)((0,uf.zu)(),2),w=x[0],C=x[1],L=(0,i.useCallback)((function(){return JSON.stringify({chatModel:e,chatId:n,replId:t,messages:w},null,2)}),[e,n,t,w]),S=(0,i.useCallback)((0,tt.Z)((function(){var e,t,n;return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:e=L(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,b.writeFile(g,En.Z.from(e))];case 2:if((t=r.sent()).error)throw new Error("fs error: ".concat(t.error));return[3,4];case 3:return n=r.sent(),y(n.message),[3,4];case 4:return[2]}}))})),[L,b,g,y]),B=(0,i.useCallback)((0,tt.Z)((function(){var e,t,n;return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,b.readFile(g)];case 1:if((e=r.sent()).error)throw new Error("fs error: ".concat(e.error));if(t=JSON.parse(e.content.toString()),!Array.isArray(t.messages))throw new Error("invalid chat JSON");return C(t.messages),[3,3];case 2:return n=r.sent(),y(n.message),[3,3];case 3:return[2]}}))})),[g,b,C,y]);return(0,r.tZ)(f.G7,{css:f.l0.height("100%"),children:(0,r.BX)(f.mQ,{css:[{width:"100%"}],children:[(0,r.BX)(f.td,{withDividers:!1,children:[(0,r.tZ)(f.OK,{iconLeft:(0,r.tZ)(Nr.Filetree,{}),children:"File Context"}),(0,r.tZ)(f.OK,{iconLeft:(0,r.tZ)(Nr.Filetree,{}),children:"Debugger"}),(0,r.tZ)(f.OK,{iconLeft:(0,r.tZ)(Nr.Chat,{}),children:"Messages"})]}),(0,r.BX)(f.nP,{children:[(0,r.BX)(f.x4,{children:[(0,r.tZ)(hf,{title:"active file",json:o}),(0,r.tZ)(hf,{title:"recent filtered ot files",json:s}),(0,r.tZ)(hf,{title:"additional context",json:l}),(0,r.tZ)(hf,{title:"last stop reason",json:u}),(0,r.tZ)(mf,{title:"last prompt",text:c})]}),(0,r.BX)(f.x4,{children:[(0,r.tZ)(hf,{title:"buffered output",json:d}),(0,r.tZ)(hf,{title:"debug error context",json:p})]}),(0,r.tZ)(f.x4,{children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.m(8)],children:[(0,r.BX)(f.Tg,{background:"higher",css:[f.l0.borderRadius(8),f.l0.colWithGap(8),f.l0.p(8)],children:[(0,r.tZ)(f.xv,{children:"Chat History"}),(0,r.tZ)(f.II,{type:"text",value:g,onChange:function(e){Z(e.target.value)}}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.flex.wrap],children:[(0,r.tZ)(f.zx,{text:"Download",colorway:"primary",iconLeft:(0,r.tZ)(vl.Z,{}),onClick:function(){var e=L(),t="data:text/json;charset=utf-8,"+encodeURIComponent(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","".concat(h)),n.click()}}),(0,r.tZ)(f.zx,{text:"Save to Repl",onClick:S,iconLeft:(0,r.tZ)(vl.Z,{})}),(0,r.tZ)(f.zx,{text:"Load from Repl",onClick:B,iconLeft:(0,r.tZ)(Zl.Z,{})})]})]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)("label",{css:f.l0.color.foregroundDimmer,htmlFor:"gw-debug-chatModel",children:"Chat Model"}),(0,r.tZ)(f.II,{id:"gw-debug-chatModel",type:"text",readOnly:!0,value:e})]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)("label",{css:f.l0.color.foregroundDimmer,htmlFor:"gw-debug-replId",children:"Repl Id"}),(0,r.tZ)(f.II,{id:"gw-debug-replId",type:"text",readOnly:!0,value:t})]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)("label",{css:f.l0.color.foregroundDimmer,htmlFor:"gw-debug-chatId",children:"Chat Id"}),(0,r.tZ)(f.II,{id:"gw-debug-chatId",type:"text",readOnly:!0,value:n})]})]})})]})]})})})),(0,o.Z)(Yf,$f.AST,Gc.Z),(0,o.Z)(Yf,$f.Git,(function(){var e=(0,i.useState)([]),t=e[0],n=e[1],o=function(e){var t=(0,F.Z)({},bf,e);return Re.a(yf,t)}().data,a=(0,le.Z)(gf.e);return(0,i.useEffect)((function(){a&&n((function(e){return e.length&&e[0].key===a.key?e:[a].concat((0,Be.Z)(e)).slice(0,100)}))}),[a]),(0,r.BX)(f.G7,{css:[f.l0.p(8)],children:[(0,r.BX)(f.Tg,{elevated:!0,css:[f.l0.borderRadius(8),f.l0.p(8),f.l0.mb(8)],children:[(0,r.tZ)("span",{children:"Git Service Connection Info"}),(0,r.tZ)("pre",{children:(null===o||void 0===o?void 0:o.currentUser)?JSON.stringify(o,(function(e,t){return"accessToken"===e?"censored":t}),2):"No gitHubInfo"})]}),(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(4)],children:t.length?t.map((function(e){return(0,r.tZ)(xf,{event:e},e.key)})):"No events yet..."})]})})),(0,o.Z)(Yf,$f.History2,(function(){var e=(0,le.Z)(U.BI)();if(!e)return null;var t=e.filePath,n=e.changes,i=e.users,o=e.version,a=e.playing,l=e.count,s=n[o],c=null===i||void 0===i?void 0:i[s.userId],u=s.timestamp;return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16),f.l0.p(4)],children:[(0,r.BX)(f.G7,{css:[f.l0.colWithGap(4)],children:[(0,r.tZ)(wf,{t:"File",children:t}),(0,r.BX)(wf,{t:"Version",children:[o," / ",l-1]}),(0,r.tZ)(wf,{t:"Playing",children:a?"true":"false"}),(0,r.tZ)(wf,{t:"Date",children:(0,r.tZ)(f.EK,{date:u})})]}),c?(0,r.BX)(f.G7,{children:[(0,r.tZ)(wf,{t:"Author",children:c.username}),(0,r.BX)(f.G7,{css:[f.l0.pl(8),f.l0.colWithGap(4)],children:[(0,r.tZ)(wf,{t:"ID",children:c.id}),(0,r.tZ)(wf,{t:"Name",children:c.username}),(0,r.tZ)(wf,{t:"Image",children:c.image})]})]}):null]})})),(0,o.Z)(Yf,$f.Metadata,(function(){var e=(0,v.Z)().container;(0,Mf.Z)();var t=e.getConnectionMetadata();if(!t)return(0,r.tZ)("div",{children:"no token yet, wait for connection"});var n=t.token,i=new URL(t.conmanURL).host,o='./conman-repl -t "'.concat(n,'" -u ').concat(i);return(0,r.BX)("div",{className:"jsx-2e9ac5ab034fc317 token-viewer",children:[(0,r.BX)(Rf.G,{css:_f.l0.rowWithGap(2),children:[(0,r.BX)(Df.x,{css:_f.l0.flex.shrink(1),children:["conman Repl command: ",(0,r.tZ)(If.Z,{children:o})]}),(0,r.tZ)(Gf.h,{alt:"Copy to clipboard",onClick:function(){return(0,Pe.Z)(o)},children:(0,r.tZ)(Sn.Z,{})})]}),(0,r.BX)("div",{className:"jsx-2e9ac5ab034fc317",children:["metadata:",(0,r.tZ)("pre",{className:"jsx-2e9ac5ab034fc317",children:JSON.stringify(t,null,2)})]}),(0,r.tZ)("br",{className:"jsx-2e9ac5ab034fc317"}),(0,r.tZ)("br",{className:"jsx-2e9ac5ab034fc317"}),(0,r.BX)("div",{className:"jsx-2e9ac5ab034fc317",children:["parsed token:",(0,r.tZ)("pre",{className:"jsx-2e9ac5ab034fc317",children:JSON.stringify((0,jf.h)(t.token),null,2)})]}),(0,r.tZ)("br",{className:"jsx-2e9ac5ab034fc317"}),(0,r.tZ)("br",{className:"jsx-2e9ac5ab034fc317"}),(0,r.tZ)(u(),{id:"2e9ac5ab034fc317",children:".token-viewer.jsx-2e9ac5ab034fc317{height:100%;overflow:auto;padding:10px}pre.jsx-2e9ac5ab034fc317{white-space:pre-wrap;word-wrap:break-word}"})]})})),(0,o.Z)(Yf,$f.Override,(function(){var e=(0,a.Z)(i.useState(Pf.Z.get("gurl","string")||""),2),t=e[0],n=e[1],o=(0,a.Z)(i.useState(""),2),l=o[0],s=o[1],c=function(){var e=(0,X.b9)(Cr),t=(0,X.b9)(kr);return(0,i.useCallback)((function(n){if(!n)return e(null),void t(null);e({connectionString:n,databaseId:-1,databaseName:"Admin Override",isFrozen:!1,projectId:"mock-project-id-does-not-exist",__typename:"NeonDatabase"}),t(n)}),[t,e])}();return(0,r.BX)("div",{style:{height:"100%",overflow:"auto"},children:[(0,r.tZ)(yd.ZP,{label:"Custom gurl",placeholder:"ws://localhost:8080",value:t,onChange:function(e){return n(e.currentTarget.value)}}),(0,r.BX)("pre",{children:["metadata override preview:",JSON.stringify((0,Nf.t)(t),null,2)]}),(0,r.tZ)("br",{}),(0,r.BX)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,r.tZ)(ud.Z,{color:"positive",onClick:function(){Pf.Z.set("gurl",t),window.location.reload()},children:"Set gurl and reload"}),(0,r.tZ)(ud.Z,{color:"orange",onClick:function(){Pf.Z.remove("gurl"),window.location.reload()},children:"Unset gurl and reload"})]}),(0,r.tZ)("br",{}),(0,r.tZ)("br",{}),(0,r.tZ)("div",{children:Pf.Z.get("gurl","string")?"currently in localStorage: ".concat(Pf.Z.get("gurl","string")):'No gurl set in local storage, using default gurl for this user, check "Token" tab for details'}),(0,r.tZ)("br",{}),(0,r.tZ)("br",{}),"Gurl order of precedence:",(0,r.BX)("ol",{style:{margin:20},children:[(0,r.tZ)("li",{children:"\u2018gurl\u2019 in localStorage (set above)"}),(0,r.BX)("li",{children:["If in development webapp and a there\u2019s a response from",(0,r.tZ)("code",{children:"https://currenthost:4563"})," or",(0,r.tZ)("code",{children:"http://currenthost:4560"}),", then it will use that."]}),(0,r.BX)("li",{children:["default is ",(0,r.tZ)("code",{children:"wss://eval.<usercluster>.replit.com"})]})]}),(0,r.BX)(f.G7,{css:[f.l0.pt(16),f.l0.border({direction:"top"})],children:[(0,r.tZ)(f.xv,{children:"Override Database"}),(0,r.tZ)(yd.ZP,{type:"text",value:l,onChange:function(e){s(e.target.value)}}),(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(8)],children:(0,r.tZ)(ud.Z,{color:"positive",onClick:function(){c(l)},children:"Override Postgres connection string"})})]})]})})),(0,o.Z)(Yf,$f.DDRum,(function(){var e,t=null===(e=Uf.v.getInternalContext())||void 0===e?void 0:e.session_id,n=Uf.v.getInitConfiguration(),o=null!=n&&100===n.sampleRate,a=(0,i.useState)(null!=t),l=a[0],s=a[1];return(0,r.tZ)(Rf.G,{css:[_f.l0.colWithGap(16),_f.l0.p(4)],children:o?(0,r.BX)(r.HY,{children:[(0,r.tZ)(f.zx,{onClick:l?function(){Uf.v.stopSessionReplayRecording(),document.cookie="_dd_s=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.href=window.location.href.split("?")[0]}:function(){(0,Of.Oo)({name:"replitOnReplit"}),setTimeout((function(){s(!0)}),1e3)},text:l?"\ud83d\udd34 Recording... Click to stop and reload page":"Start Recording",colorway:l?void 0:"primary",css:(0,F.Z)({},l&&f.pt.backgroundPulse(_f.TV.redDimmest,_f.TV.redDimmer))}),l?(0,r.tZ)(qf,{sessionId:t}):null]}):(0,r.tZ)(f.zx,{onClick:function(){window.location.href=window.location.href.split("?")[0].split("#")[0]+"?rum=1"},text:"Click to reload and start recording",colorway:"primary"})})})),Yf),Jf=Object.values($f);function Qf(){var e=(0,i.useState)($f.Repl),t=e[0],n=e[1],o=Jf.map((function(e){return(0,r.tZ)(f.zx,{colorway:e===t?"primary":void 0,onClick:function(){return n(e)},text:e},e)}));return(0,r.BX)(f.Tg,{background:"default",css:[f.l0.colWithGap(8),f.l0.p(4),f.l0.height("100%")],children:[(0,r.tZ)(f.G7,{css:{flexWrap:"wrap",flexDirection:"row",gap:"4px"},children:o}),(0,r.tZ)(f.G7,{css:[f.l0.flex.growAndShrink(1),f.l0.overflow("auto")],children:Object.entries(Kf).map((function(e){var n=(0,a.Z)(e,2),i=n[0],o=n[1];return(0,r.tZ)(f.G7,{css:i!==t&&f.l0.display.none,children:i===$f.Override&&t!==$f.Override?null:(0,r.tZ)(o,{})},i)}))})]})}var eh=n(86514),th={Content:function(){return(0,r.tZ)(Qf,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(eh.Z,{size:t})},getTitle:function(){return"Debug"}},nh=n(22371),rh={Content:function(){return(0,r.tZ)(nh.Z,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(he.Z,{size:t})},getTitle:function(){return"Tutorial"}},ih=n(76505),oh=n(36739),ah=n(70757),lh={Content:function(e){var t=e.options.paneId,n=(0,ah.A)();return(0,r.tZ)(ih.Z,{closeConfigPane:function(){return n(t)},useReadFile:oh.Z})},Icon:function(){return null},getTitle:function(){return"Configure Repl"}};var sh=n(71263),ch=n(20934),uh=n(98099),dh=n(95984),ph=n(30827),fh=n(9583);function hh(){var e=(0,Te.Z)(["\n  query Threads2Inbox {\n    currentUser {\n      id\n      username\n      image\n    }\n  }\n"]);return hh=function(){return e},e}var mh={},vh=(0,_e.Ps)(hh());var gh=function(){return(0,r.BX)("svg",{width:"100%",height:"100%",viewBox:"0 0 691 691",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.BX)("g",{clipPath:"url(#clip0_954_4340)",children:[(0,r.tZ)("path",{d:"M636.55 403.04H44.91C26.7564 403.04 12.04 417.756 12.04 435.91V643.79C12.04 661.944 26.7564 676.66 44.91 676.66H636.55C654.704 676.66 669.42 661.944 669.42 643.79V435.91C669.42 417.756 654.704 403.04 636.55 403.04Z",fill:"url(#paint0_linear_954_4340)"}),(0,r.tZ)("path",{opacity:"0.71",d:"M526.02 663.9L545.86 602.08C559.46 568.34 534.62 531.54 498.24 531.54H186.98C149.55 531.54 124.7 570.3 140.32 604.31L159.12 663.89H526.02V663.9Z",fill:"url(#paint1_linear_954_4340)"}),(0,r.tZ)("path",{d:"M217.38 314.61C290.392 314.61 349.58 255.422 349.58 182.41C349.58 109.398 290.392 50.21 217.38 50.21C144.368 50.21 85.1802 109.398 85.1802 182.41C85.1802 255.422 144.368 314.61 217.38 314.61Z",fill:"url(#paint2_linear_954_4340)"}),(0,r.tZ)("path",{d:"M120.75 510.55C123.39 538.19 143.97 556.13 170.18 561.75C176.42 563.19 182.79 563.92 189.17 564.39L195.57 564.67C178.54 565.03 160.79 562.34 146.09 553.2C131.43 544.2 121.34 527.81 120.75 510.55Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M225.69 564.67C308.15 564.06 400.65 564.05 483.1 564.67C400.64 565.29 308.14 565.28 225.69 564.67Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M531.57 560.9C546.58 551.84 559.07 537.22 562.44 519.7C563.59 513.9 563.68 507.95 563.1 502.07C564.1 507.91 564.19 513.95 563.19 519.84C560.19 537.61 547.3 552.72 531.57 560.9Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M571.57 554.78C560.27 579.78 532.93 594.05 506.36 595.88C502.53 596.17 498.69 596.24 494.86 596.19C502.52 595.98 510.16 595.18 517.62 593.54C539.86 588.88 561.06 575.34 571.57 554.78Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M448.75 600.43C417.61 601.09 382.98 601.08 351.81 600.43C382.98 599.78 417.6 599.77 448.75 600.43Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M125.93 579.25C113.2 574.83 101.21 564.64 98.6401 550.91C99.2401 552.44 99.6901 554.2 100.47 555.66C105.36 566.51 115.41 574.21 125.94 579.25H125.93Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M122.63 550.92C108.27 541.02 104.78 521.86 109.84 505.93C110.54 503.67 111.36 501.44 112.27 499.26C111.63 501.28 110.78 504.03 110.31 506.06C106.06 522.06 109.3 540.13 122.62 550.92H122.63Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M122.63 485.44C124.51 481.11 128.99 478.25 133.45 477.14C129.54 479.57 125.68 481.91 122.63 485.44Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M576.75 531.49C580.41 516.24 580.52 498.93 571.57 485.44C572.81 487 573.96 488.66 574.93 490.42C581.64 502.91 581.19 518.32 576.74 531.49H576.75Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M579.54 579.25C588.53 567.19 594.92 552.91 596.84 537.95C597.2 535.85 597.23 533.61 597.45 531.49C597.99 548.88 590.98 566.28 579.54 579.25Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M543.81 611.25C558.06 608.69 572.57 604.12 583.9 594.81C585.59 593.57 586.95 591.97 588.5 590.55C577.81 603.74 560.26 609.73 543.81 611.26V611.25Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M85.9304 495.96C90.9804 479.18 105.88 466.78 121.97 460.96L125.73 459.62C127.97 458.93 131.16 458.23 133.45 457.63C130.93 458.48 128.38 459.19 125.88 460.08C108.67 466.24 92.5304 478.4 85.9204 495.95L85.9304 495.96Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M547.63 445.61C564.65 447.41 582.07 454.4 593.27 467.75C594.84 469.66 596.22 471.72 597.46 473.85C586.24 457.4 566.67 449.06 547.63 445.61Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M620.51 510.55C624.76 522.88 625.03 536.26 623.91 549.15C622.85 558.77 620.66 568.49 617.6 577.67C616.52 580.73 615.33 583.76 614.16 586.78C615.59 582.33 617.26 577.4 618.43 572.84C623.74 552.84 625.91 530.74 620.51 510.54V510.55Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M563.68 629.84C552.03 637.13 538.71 642.29 524.93 643.51C509.26 644.08 485.5 643.54 469.79 643.5L456.01 643.25L469.79 643C485.45 642.69 509.25 642.98 524.86 642.6C538.55 641.45 551.78 636.6 563.68 629.83V629.84Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M324.24 653.84C278.39 654.5 227.42 654.49 181.53 653.84C227.42 653.19 278.38 653.18 324.24 653.84Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M240.04 611.25C231.6 611.93 223.06 611.93 214.63 611.25C223.07 610.57 231.61 610.57 240.04 611.25Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M125.93 619.96C101.27 616.41 77.6502 599.76 69.9302 575.49C71.1602 578.36 72.3902 581.22 73.9702 583.91C84.5302 603.14 104.8 615.53 125.93 619.96Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M130.16 565.09C144.25 571.77 159.29 576.91 174.84 578.69C177.05 579.04 179.29 579.04 181.53 579.26C163.55 579.7 145.67 573.97 130.16 565.09Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M200.28 579.25C206.55 578.57 212.83 578.56 219.1 579.25C212.83 579.94 206.55 579.93 200.28 579.25Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M304.75 579.25C349.87 578.59 400.02 578.6 445.17 579.25C400.01 579.9 349.88 579.91 304.75 579.25Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M545.86 480.38C559.46 514.12 534.62 550.92 498.24 550.92H186.98C149.55 550.92 124.7 512.16 140.32 478.15L182.03 345.94L182.32 346C177.45 369.9 195.61 393.77 221.52 393.77H463.7C488.78 393.77 506.81 371.3 503.23 347.91L503.33 347.89L545.86 480.38Z",fill:"#A88C5A"}),(0,r.tZ)("path",{d:"M503.23 347.91C506.81 371.3 488.78 393.77 463.7 393.77H221.52C195.61 393.77 177.45 369.9 182.32 346C182.91 343.04 183.87 340.07 185.21 337.15L218.53 264.59L222.63 255.66L225 250.51C231.51 236.33 245.69 227.23 261.3 227.23H418.49C418.49 227.23 438.63 226.14 449.92 233.29C456.92 237.72 462.6 244.22 465.83 252.25L500.75 338.89C501.95 341.88 502.77 344.9 503.23 347.91ZM336.66 258.5L338.12 253.56C336.37 252.69 333.03 251.74 329.25 251.74C317.76 251.74 310.35 259.59 310.35 270.42C310.35 281.25 317.25 288.38 327.87 288.38C332.59 288.38 336.3 287.22 337.97 286.34L336.88 281.55C335.06 282.35 332.66 283.29 329.03 283.29C322.05 283.29 316.82 278.28 316.82 270.13C316.82 262.79 321.18 256.83 329.25 256.83C332.74 256.83 335.14 257.63 336.66 258.5ZM301.84 258.5L303.44 253.85C301.48 252.69 298.35 251.67 294.79 251.67C287.23 251.67 282.65 256.32 282.65 261.99C282.65 266.21 285.63 269.7 291.96 271.95C296.68 273.7 298.5 275.37 298.5 278.42C298.5 281.47 296.32 283.66 291.67 283.66C288.47 283.66 285.12 282.35 283.23 281.11L281.63 285.98C284.11 287.44 287.67 288.38 291.52 288.38C299.88 288.38 304.68 284.02 304.68 277.84C304.68 272.61 301.55 269.55 295.45 267.23C290.87 265.48 288.76 264.17 288.76 261.27C288.76 258.65 290.87 256.47 294.65 256.47C297.92 256.47 300.46 257.63 301.84 258.5ZM275.97 271.22C276.04 270.57 276.18 269.55 276.18 268.24C276.18 261.77 273.13 251.67 261.65 251.67C251.4 251.67 245.14 260.03 245.14 270.64C245.14 281.25 251.61 288.38 262.45 288.38C268.04 288.38 271.89 287.22 274.15 286.2L273.06 281.62C270.66 282.64 267.9 283.44 263.32 283.44C256.92 283.44 251.4 279.87 251.25 271.22H275.97Z",fill:"#E5CF98"}),(0,r.tZ)("path",{d:"M338.12 253.56L336.66 258.5C335.14 257.63 332.74 256.83 329.25 256.83C321.18 256.83 316.82 262.79 316.82 270.13C316.82 278.28 322.05 283.29 329.03 283.29C332.66 283.29 335.06 282.35 336.88 281.55L337.97 286.34C336.3 287.22 332.59 288.38 327.87 288.38C317.25 288.38 310.35 281.18 310.35 270.42C310.35 259.66 317.76 251.74 329.25 251.74C333.03 251.74 336.37 252.69 338.12 253.56Z",fill:"#1B2332"}),(0,r.tZ)("path",{d:"M303.44 253.85L301.84 258.5C300.46 257.63 297.92 256.47 294.65 256.47C290.87 256.47 288.76 258.65 288.76 261.27C288.76 264.17 290.87 265.48 295.45 267.23C301.55 269.55 304.68 272.61 304.68 277.84C304.68 284.02 299.88 288.38 291.52 288.38C287.67 288.38 284.11 287.44 281.63 285.98L283.23 281.11C285.12 282.35 288.47 283.66 291.67 283.66C296.32 283.66 298.5 281.33 298.5 278.42C298.5 275.51 296.68 273.7 291.96 271.95C285.63 269.7 282.65 266.21 282.65 261.99C282.65 256.32 287.23 251.67 294.79 251.67C298.35 251.67 301.48 252.69 303.44 253.85Z",fill:"#1B2332"}),(0,r.tZ)("path",{d:"M276.18 268.24C276.18 269.55 276.04 270.57 275.97 271.22H251.25C251.4 279.87 256.92 283.44 263.32 283.44C267.9 283.44 270.66 282.64 273.06 281.62L274.15 286.2C271.89 287.22 268.04 288.38 262.45 288.38C251.61 288.38 245.14 281.26 245.14 270.64C245.14 260.02 251.4 251.67 261.65 251.67C273.13 251.67 276.18 261.77 276.18 268.24ZM270 266.65C270.08 262.57 268.33 256.25 261.14 256.25C254.67 256.25 251.83 262.21 251.32 266.65H270Z",fill:"#1B2332"}),(0,r.tZ)("path",{d:"M261.14 256.25C268.33 256.25 270.08 262.57 270 266.65H251.32C251.83 262.21 254.67 256.25 261.14 256.25Z",fill:"#E5CF98"}),(0,r.tZ)("path",{d:"M182.32 346C182.91 343.04 183.87 340.07 185.21 337.15L218.53 264.59L222.63 255.66L225 250.51C231.51 236.33 245.69 227.23 261.3 227.23H418.49C418.49 227.23 438.63 226.14 449.92 233.29C456.92 237.72 462.6 244.22 465.83 252.25L500.75 338.89C501.95 341.88 502.77 344.9 503.23 347.91C506.81 371.3 488.78 393.77 463.7 393.77H221.52C195.61 393.77 177.45 369.9 182.32 346Z",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M503.33 347.89L545.86 480.38C559.46 514.12 534.62 550.92 498.24 550.92H186.98C149.55 550.92 124.7 512.16 140.32 478.15L182.03 345.94",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M532.22 117.06C568.71 135.84 566.03 170.99 566.03 170.99C566.03 170.99 520.16 155.31 503.35 152.12C502.3 151.93 501.36 151.78 500.56 151.68L491.44 151L491.14 151.08C489.53 145.31 484.24 141.08 477.96 141.08C477.57 141.08 477.18 141.09 476.8 141.13C476.71 141.03 476.61 140.93 476.51 140.84L469.81 134.72C469.37 134.31 468.87 134 468.34 133.78H468.23C468.03 131.83 467.45 129.99 466.55 128.33L466.79 128.2C467.59 126.89 471.05 121.89 471.05 121.89C471.05 121.89 474.48 118.6 480.68 115.46C491.1 110.18 509.34 105.28 532.22 117.06Z",fill:"#029831"}),(0,r.tZ)("path",{d:"M516.66 20.2C516.66 20.2 516.77 36.8799 514.97 53.32L500.7 58.3699L513.33 64.8C512.46 69.56 511.35 73.9199 509.95 77.3499C505.71 87.7999 491.29 104.17 480.64 115.38L480.68 115.46C474.48 118.6 471.05 121.89 471.05 121.89C471.05 121.89 467.59 126.89 466.79 128.2L466.55 128.33C464.1 123.82 459.31 120.75 453.81 120.75C452.89 120.75 452 120.83 451.13 121L451.09 120.75C451.09 120.75 449.58 90.2299 458.71 68.5C467.83 46.77 516.66 20.2 516.66 20.2Z",fill:"#029831"}),(0,r.tZ)("path",{d:"M503.35 152.12L503.31 152.35C503.31 152.35 511.56 177.9 499.49 209.9C486.01 203.46 471.92 180.52 471.32 167.44L471.62 166.88C473.51 167.88 475.67 168.44 477.96 168.44C485.51 168.44 491.64 162.32 491.64 154.76C491.64 153.48 491.47 152.25 491.14 151.08L491.44 151L500.56 151.68C501.36 151.78 502.3 151.93 503.35 152.12Z",fill:"#029831"}),(0,r.tZ)("path",{d:"M491.14 151.08C491.47 152.25 491.64 153.48 491.64 154.76C491.64 162.32 485.51 168.44 477.96 168.44C475.67 168.44 473.51 167.88 471.62 166.88C469.84 165.96 468.28 164.64 467.07 163.05L466.89 162.92C467.01 162.78 467.12 162.64 467.22 162.49L477.3 147.3C478.58 145.36 478.36 142.81 476.8 141.13C477.18 141.09 477.57 141.08 477.96 141.08C484.24 141.08 489.53 145.31 491.14 151.08Z",fill:"#685128"}),(0,r.tZ)("path",{d:"M476.8 141.13C478.36 142.81 478.58 145.36 477.3 147.3L467.22 162.49C467.12 162.64 467.01 162.78 466.89 162.92C465.75 164.3 464.01 164.9 462.33 164.65C460.29 164.68 458.04 162.21 458.04 162.21L456.02 161C450.39 158.08 447.1 151.11 447.1 151.11C446.74 150.11 446.71 149.04 446.99 148.03C449.03 149.12 451.35 149.73 453.81 149.73C461.81 149.73 468.3 143.24 468.3 135.24C468.3 134.75 468.28 134.27 468.23 133.79H468.34C468.87 134 469.37 134.31 469.81 134.72L476.51 140.84C476.61 140.93 476.71 141.03 476.8 141.13Z",fill:"#685128"}),(0,r.tZ)("path",{d:"M468.23 133.79C468.28 134.27 468.3 134.75 468.3 135.24C468.3 143.24 461.81 149.73 453.81 149.73C451.35 149.73 449.03 149.12 446.99 148.03C442.43 145.59 439.32 140.78 439.32 135.24C439.32 128.47 443.96 122.78 450.24 121.2C450.53 121.12 450.83 121.05 451.13 121C452 120.83 452.89 120.75 453.81 120.75C459.31 120.75 464.1 123.82 466.55 128.33C467.45 129.99 468.03 131.83 468.23 133.79Z",fill:"#685128"}),(0,r.tZ)("path",{d:"M458.04 162.21C458.04 162.21 460.29 164.68 462.33 164.65C462.23 165.05 462.1 165.44 461.91 165.81L452.32 185.18C451.48 186.87 449.96 187.95 448.27 188.32C445.25 188.58 442.24 186.45 442.24 186.45L439.82 185.55C435.9 184.24 428.23 176.44 428.23 176.44C425.77 174.18 425.62 170.26 428.09 167.85L437.54 158.68L443.68 152.72C444.64 151.79 445.85 151.26 447.1 151.11C447.1 151.11 450.39 158.08 456.02 161L458.04 162.21Z",fill:"#685128"}),(0,r.tZ)("path",{d:"M447.55 120.06C448.48 120.4 449.37 120.76 450.22 121.13L450.24 121.2C443.96 122.78 439.32 128.47 439.32 135.24C439.32 140.78 442.43 145.59 446.99 148.03C446.71 149.04 446.74 150.11 447.1 151.11C445.85 151.26 444.64 151.79 443.68 152.72L437.54 158.68L437.38 158.52C423.69 160.13 367.64 177.97 367.64 177.97C367.64 177.97 364.96 142.82 401.45 124.04C405 122.22 408.44 120.79 411.75 119.7C426.47 114.88 438.74 116.77 447.55 120.06Z",fill:"#029831"}),(0,r.tZ)("path",{d:"M448.27 188.32C448.39 189.38 448.3 190.48 447.9 191.54L439.06 215.11C438.07 217.74 435.69 219.37 433.12 219.57C431.54 219.48 428.86 218.55 428.86 218.55L426.74 217.54C421.31 216.84 410.15 207.9 410.15 207.9C406.97 205.58 406.34 200.98 408.94 197.88L425.23 178.51C426.05 177.53 427.1 176.84 428.23 176.44C428.23 176.44 435.9 184.24 439.82 185.55L442.24 186.45C442.24 186.45 445.25 188.58 448.27 188.32Z",fill:"#685128"}),(0,r.tZ)("path",{d:"M377.41 34.96C431.47 55.96 446.9 117.38 447.55 120.06C438.74 116.77 426.47 114.88 411.75 119.7L411.69 119.51C378.14 87.88 377.41 34.96 377.41 34.96Z",fill:"#029831"}),(0,r.tZ)("path",{d:"M379.56 289.59C376.08 287.46 374.5 282.98 376.25 279L388.72 250.7C389.72 248.43 391.63 246.8 393.87 246.08C389.59 244.14 387.99 238.83 390.57 234.84L405.98 211.06C406.99 209.51 408.48 208.42 410.15 207.9C410.15 207.9 421.31 216.84 426.74 217.54L428.86 218.55C428.86 218.55 431.54 219.48 433.12 219.57C433.24 220.49 433.21 221.45 432.98 222.4L426.42 249.82C425.62 253.19 422.75 255.44 419.56 255.72C419.74 256.52 419.84 257.36 419.77 258.22L417.48 288.9C417.2 292.65 414.53 295.56 411.16 296.43L414.65 318.75V318.94C401.28 318.01 391.44 322.04 391.44 322.04C383.19 317.7 374.4 318.07 366.89 320.06L366.78 319.63L378.59 292.2C378.77 291.26 379.1 290.39 379.56 289.59Z",fill:"#685128"}),(0,r.tZ)("path",{d:"M414.65 318.75L411.16 296.43C414.53 295.56 417.2 292.65 417.48 288.9L419.77 258.22C419.84 257.36 419.74 256.52 419.56 255.72C422.75 255.44 425.62 253.19 426.42 249.82L432.98 222.4C433.21 221.45 433.24 220.49 433.12 219.57C435.69 219.37 438.07 217.74 439.06 215.11L447.9 191.54C448.3 190.48 448.39 189.38 448.27 188.32C449.96 187.95 451.48 186.87 452.32 185.18L461.91 165.81C462.1 165.44 462.23 165.05 462.33 164.65C464.01 164.9 465.75 164.3 466.89 162.92C467.01 162.78 467.12 162.64 467.22 162.49L477.3 147.3C478.58 145.36 478.36 142.81 476.8 141.13C476.71 141.03 476.61 140.93 476.51 140.84L469.81 134.72C469.37 134.31 468.87 134 468.34 133.78",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M446.99 148.03C446.71 149.04 446.74 150.11 447.1 151.11C445.85 151.26 444.64 151.79 443.68 152.72L437.54 158.68L428.09 167.85C425.62 170.26 425.77 174.18 428.23 176.44C427.1 176.84 426.05 177.53 425.23 178.51L408.94 197.88C406.34 200.98 406.97 205.58 410.15 207.9C408.48 208.42 406.99 209.51 405.98 211.06L390.57 234.84C387.99 238.83 389.59 244.14 393.87 246.08C391.63 246.8 389.72 248.43 388.72 250.7L376.25 279C374.5 282.98 376.08 287.46 379.56 289.59C379.1 290.39 378.77 291.26 378.59 292.2L366.78 319.63",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M393.18 245.42C393.18 245.42 402.04 251.33 409.43 252.81",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M410.15 207.9C410.15 207.9 421.31 216.84 426.74 217.54",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M428.23 176.44C428.23 176.44 435.9 184.24 439.82 185.55",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M447.1 151.11C447.1 151.11 450.39 158.08 456.02 161",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M379.56 289.59C379.56 289.59 386.2 296.23 400.68 295.62",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M413.06 254.27C413.06 254.27 416.7 255.46 419.56 255.72",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M428.86 218.55C428.86 218.55 431.54 219.48 433.12 219.57",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M442.24 186.45C442.24 186.45 445.25 188.58 448.27 188.32",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M458.04 162.21C458.04 162.21 460.29 164.68 462.33 164.65",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M404.99 295.66C405.48 295.66 408.99 297.7 411.16 296.43",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M468.23 133.79C468.28 134.27 468.3 134.75 468.3 135.24C468.3 143.24 461.81 149.73 453.81 149.73C451.35 149.73 449.03 149.12 446.99 148.03C442.43 145.59 439.32 140.78 439.32 135.24C439.32 128.47 443.96 122.78 450.24 121.2C450.53 121.12 450.83 121.05 451.13 121C452 120.83 452.89 120.75 453.81 120.75C459.31 120.75 464.1 123.82 466.55 128.33C467.45 129.99 468.03 131.83 468.23 133.79V133.79Z",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M476.54 141.15C476.63 141.14 476.71 141.13 476.8 141.13C477.18 141.09 477.57 141.08 477.96 141.08C484.24 141.08 489.53 145.31 491.14 151.08C491.47 152.25 491.64 153.48 491.64 154.76C491.64 162.32 485.51 168.44 477.96 168.44C475.67 168.44 473.51 167.88 471.62 166.88C469.84 165.96 468.28 164.64 467.07 163.05",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M451.09 120.75C451.09 120.75 449.58 90.2299 458.71 68.5C467.83 46.77 516.66 20.2 516.66 20.2C516.66 20.2 516.77 36.8799 514.97 53.32L500.7 58.3699L513.33 64.8C512.46 69.56 511.35 73.9199 509.95 77.3499C505.71 87.7999 491.29 104.17 480.64 115.38",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M466.79 128.2C467.59 126.89 471.05 121.89 471.05 121.89C471.05 121.89 474.48 118.6 480.68 115.46C491.1 110.18 509.34 105.28 532.22 117.06C568.71 135.84 566.03 170.99 566.03 170.99C566.03 170.99 520.16 155.31 503.35 152.12C502.3 151.93 501.36 151.78 500.56 151.68L491.44 151",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M450.22 121.13C449.37 120.76 448.48 120.4 447.55 120.06C438.74 116.77 426.47 114.88 411.75 119.7C408.44 120.79 405 122.22 401.45 124.04C364.96 142.82 367.64 177.97 367.64 177.97C367.64 177.97 423.69 160.13 437.38 158.52",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M447.57 120.15C447.57 120.15 447.56 120.12 447.55 120.06C446.9 117.38 431.47 55.96 377.41 34.96C377.41 34.96 378.14 87.88 411.69 119.51",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M503.31 152.35C503.31 152.35 511.56 177.9 499.49 209.9C486.01 203.46 471.92 180.52 471.32 167.44",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M347.6 329.26C347.6 329.26 355.89 322.95 366.89 320.06C374.4 318.07 383.19 317.7 391.44 322.04C391.44 322.04 401.28 318.01 414.64 318.94C423.84 319.58 434.7 322.58 445.17 330.86",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M414.16 207.9C414.16 207.9 410.04 203.49 411.16 200.9C411.98 199 420.75 189.21 425.39 184.1C425.97 183.46 427 184.11 426.68 184.91L419.47 203.21C418.8 204.92 418.64 206.79 419.03 208.58L419.6 211.24L414.16 207.88V207.9Z",fill:"#A88C5A"}),(0,r.tZ)("path",{d:"M433.66 175.75C433.61 175.71 433.56 175.67 433.52 175.63C433.06 175.09 430.27 171.7 431.24 169.74C432.01 168.19 439.85 160.38 444.05 156.26C444.59 155.73 445.47 156.33 445.16 157L438.42 171.79C437.73 173.31 437.51 175 437.8 176.65L437.89 177.16C437.99 177.74 437.33 178.15 436.83 177.82L433.67 175.74L433.66 175.75Z",fill:"#A88C5A"}),(0,r.tZ)("path",{d:"M396.92 244.43C396.85 244.38 396.79 244.32 396.74 244.24C396.14 243.42 392.45 238.19 393.57 235.02C394.45 232.5 403.89 219.55 408.94 212.71C409.58 211.84 410.73 212.72 410.38 213.82L402.69 237.82C401.9 240.29 401.72 243 402.17 245.6L402.31 246.41C402.47 247.32 401.66 248.02 401.01 247.53L396.93 244.43H396.92Z",fill:"#A88C5A"}),(0,r.tZ)("path",{d:"M383.51 287.24C383.44 287.18 383.38 287.1 383.33 287.01C382.73 286.03 379.04 279.8 380.16 276.01C381.04 273.01 390.48 257.56 395.53 249.4C396.17 248.36 397.32 249.42 396.97 250.72L389.28 279.34C388.49 282.29 388.31 285.52 388.76 288.61L388.9 289.57C389.06 290.66 388.25 291.5 387.6 290.91L383.52 287.22L383.51 287.24Z",fill:"#A88C5A"}),(0,r.tZ)("path",{d:"M371.16 171.08C371.45 170.56 378.51 139.82 405.63 126.99C393.15 143.74 385.12 165.49 385.12 165.49L371.16 171.08Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M410.97 113.84C410.97 113.84 389.61 99.02 379.94 39.72C397.81 75.72 404.21 98.85 422.51 113.84C417.92 113.84 409.31 112.43 410.97 113.84Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M456.02 113.84C456.02 113.84 456.71 81.3099 466.79 66.9199C476.87 52.5299 507.71 29.5699 507.71 29.5699C507.71 29.5699 474.47 57.3299 468.3 89.1899C464.53 114.55 463.85 120.75 463.85 120.75L456.03 113.84H456.02Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M449.34 124.58C447.22 130.96 444.74 136.08 450.22 145.43C445.46 141.72 438.14 133.78 449.34 124.58Z",fill:"#A88C5A"}),(0,r.tZ)("path",{d:"M471.31 126.55C471.31 126.55 485.49 111.02 506.06 113.84C492.04 118.78 474.04 133.78 474.04 133.78L471.31 126.55Z",fill:"#51FF53"})]}),(0,r.BX)("defs",{children:[(0,r.BX)("linearGradient",{id:"paint0_linear_954_4340",x1:"340.73",y1:"676.66",x2:"340.73",y2:"403.04",gradientUnits:"userSpaceOnUse",children:[(0,r.tZ)("stop",{offset:"0.3",stopColor:"#1B2332",stopOpacity:"0"}),(0,r.tZ)("stop",{offset:"0.37",stopColor:"#1C2437",stopOpacity:"0.03"}),(0,r.tZ)("stop",{offset:"0.45",stopColor:"#202845",stopOpacity:"0.1"}),(0,r.tZ)("stop",{offset:"0.56",stopColor:"#262F5E",stopOpacity:"0.22"}),(0,r.tZ)("stop",{offset:"0.67",stopColor:"#2E397F",stopOpacity:"0.38"}),(0,r.tZ)("stop",{offset:"0.8",stopColor:"#3946AB",stopOpacity:"0.59"}),(0,r.tZ)("stop",{offset:"0.93",stopColor:"#4655DE",stopOpacity:"0.84"}),(0,r.tZ)("stop",{offset:"1",stopColor:"#4F5FFF"})]}),(0,r.BX)("linearGradient",{id:"paint1_linear_954_4340",x1:"342.61",y1:"663.9",x2:"342.61",y2:"531.55",gradientUnits:"userSpaceOnUse",children:[(0,r.tZ)("stop",{stopColor:"#1B2332",stopOpacity:"0"}),(0,r.tZ)("stop",{offset:"0.15",stopColor:"#2F333A",stopOpacity:"0.12"}),(0,r.tZ)("stop",{offset:"0.47",stopColor:"#635D4F",stopOpacity:"0.43"}),(0,r.tZ)("stop",{offset:"0.93",stopColor:"#B6A070",stopOpacity:"0.92"}),(0,r.tZ)("stop",{offset:"1",stopColor:"#C4AB76"})]}),(0,r.BX)("linearGradient",{id:"paint2_linear_954_4340",x1:"217.38",y1:"314.6",x2:"217.38",y2:"50.21",gradientUnits:"userSpaceOnUse",children:[(0,r.tZ)("stop",{stopColor:"#1B2332",stopOpacity:"0"}),(0,r.tZ)("stop",{offset:"0.19",stopColor:"#4B4A35",stopOpacity:"0.22"}),(0,r.tZ)("stop",{offset:"0.48",stopColor:"#92843B",stopOpacity:"0.55"}),(0,r.tZ)("stop",{offset:"0.73",stopColor:"#C7AE3F",stopOpacity:"0.79"}),(0,r.tZ)("stop",{offset:"0.91",stopColor:"#E7C942",stopOpacity:"0.94"}),(0,r.tZ)("stop",{offset:"1",stopColor:"#F4D343"})]}),(0,r.tZ)("clipPath",{id:"clip0_954_4340",children:(0,r.tZ)("rect",{width:"690.9",height:"690.9",fill:"white"})})]})]})},Zh=n(38137),bh=n(1138),yh=n(14016),xh=n(18622),wh=n(33279),Ch={title:"Threads",filters:{inbox:{key:"toggle-inbox",label:"Inbox",icon:(0,r.tZ)(bh.Z,{})},unread:{key:"toggle-unread",label:"Unread",icon:(0,r.tZ)(Zh.Z,{})},participating:{key:"toggle-participating",label:"Participating",icon:(0,r.tZ)(xh.Z,{})},resolved:{key:"toggle-resolved",label:"Resolved",icon:(0,r.tZ)(gt.Z,{})}},sorts:{chronological:{key:"toggle-chronological",label:"Chronological",icon:(0,r.tZ)(mp.Z,{})},codeOrder:{key:"toggle-codeOrder",label:"Code order",icon:(0,r.tZ)(yh.Z,{})}},search:{placeholder:"Search threads\u2026"},markAsRead:"Mark as read",empty:{image:{alt:"an illustration of an escape key that resembles a sunny beach, with an umbrella and palm tree"},noThreadsCreated:{text:{primary:"You haven\u2019t started any threads yet.",secondary:function(e){return(0,r.BX)(r.HY,{children:["Select code and press"," ",(0,r.tZ)(wh.Z,{shortcut:e,small:!0})," to get started."]})}}},noThreadsFound:{text:{primary:"No threads found.",secondary:"Try adjusting your search or filters."}}}},kh=["TextMessageContentType","PreviewMessageContentType"];var Lh=n(83223),Sh=n(55877),Bh=n.n(Sh),Eh=function(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=e.messages[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;l.user&&(t[l.user.id]=l.user)}}catch(s){r=!0,i=s}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return Object.values(t)};function Th(){var e=(0,Te.Z)(["\n  query AnnotationThreadInput {\n    currentUser {\n      id\n    }\n  }\n"]);return Th=function(){return e},e}var _h={},Rh=(0,_e.Ps)(Th());var Dh=n(18332),Gh=n(25245),Ih=i.forwardRef((function(e,t){var n,o,l=e.annote,s=e.placeholder,c=e.onChangeMessage,d=e.onFinalizeMessage,p=function(){""!==v.trim()&&(d({messageId:C||dn()(),message:v.trim()}),k(null),g(""),setTimeout(E))},h=null===(n=function(e){var t=(0,F.Z)({},_h,e);return Re.a(Rh,t)}().data)||void 0===n||null===(o=n.currentUser)||void 0===o?void 0:o.id,m=(0,a.Z)(i.useState(""),2),v=m[0],g=m[1],Z=(0,a.Z)(i.useState(!1),2),b=Z[0],y=Z[1],x=i.useRef(null),w=(0,a.Z)(i.useState(null),2),C=w[0],k=w[1],L=(0,ph.Z)(),S=(0,ka.Z)(),B=S.ref,E=S.update,T=(0,a.Z)((0,Dh.Z)({"@":function(){var e=(0,tt.Z)((function(e){var t,n;return(0,nt.__generator)(this,(function(i){return t=L.filter((function(e){return e.id!==h})),e&&(n=e.toLowerCase(),t=t.filter((function(e){return e.username.toLowerCase().startsWith(n)}))),[2,t.slice(0,5).map((function(e){return{icon:(0,r.tZ)($l.Z,{url:e.image,style:{height:"24px",width:"24px",minWidth:"24px",minHeight:"24px"}}),value:e.username}}))]}))}));return function(t){return e.apply(this,arguments)}}()}),2),_=T[0].suggestions,R=T[1],D=(0,gp.Kb)({items:(null===_||void 0===_?void 0:_.results)||[],defaultHighlightedIndex:0,isOpen:Boolean(null===_||void 0===_?void 0:_.results.length),onSelectedItemChange:function(e){var t=e.selectedItem;if(_&&t){var n=_.applySuggestion({targetValue:v,suggestionValue:t.value}),r=n.fullValue,i=n.cursorIndex;g(r),setTimeout((function(){x.current&&(x.current.setSelectionRange(i,i),x.current.focus(),E())}))}}}),G=D.isOpen,I=D.getInputProps,j=D.getMenuProps,M=D.getItemProps,P=D.highlightedIndex,N=D.getComboboxProps;i.useEffect((function(){var e="threads/drafts/".concat(l.id),t=Pf.Z.get(e,"string");t&&g(t);var n=x.current;return function(){if(n){var t=n.value;0!==t.length?Pf.Z.set(e,t):Pf.Z.remove(e)}}}),[]),i.useEffect((function(){setTimeout((function(){x.current&&x.current.focus()}))}),[x]);var W=Eh(l).filter((function(e){return e.id!==h})),z="Add a comment";return 1===W.length?z="Reply to @".concat(W[0].username):W.length>1&&(z="Reply"),l.isResolved&&(z="Reply to unresolve this thread"),s&&(z=s),(0,r.BX)("div",{className:"jsx-83fb19ea8f375c79",children:[(0,r.BX)("div",(0,V.Z)((0,F.Z)({},N()),{className:"jsx-83fb19ea8f375c79 input-group",children:[(0,r.tZ)("textarea",(0,V.Z)((0,F.Z)({},I({autoFocus:!0,placeholder:z,value:v,onCompositionStart:function(){return y(!0)},onCompositionEnd:function(){return y(!1)},onChange:function(e){var t=e.target.value,n=C||dn()();C||k(n),g(t),c({messageId:n,message:t})},onKeyDown:function(e){e.stopPropagation(),G||(e.nativeEvent.preventDownshiftDefault=!0,"Enter"!==e.key||e.shiftKey||b||(e.preventDefault(),p()))},rows:1,ref:function(e){x.current=e,t&&"object"===typeof t&&(t.current=e),R(e),B(e)}})),{className:"jsx-83fb19ea8f375c79 "+(vd()("inputbox",{hasContent:v.length>0})||"")})),(0,r.tZ)(f.hU,{alt:"Send message",onClick:p,disabled:0===v.length,children:(0,r.tZ)(Gh.Z,{})})]})),(0,r.tZ)("div",(0,V.Z)((0,F.Z)({},j({})),{className:"jsx-83fb19ea8f375c79",children:G?(0,r.tZ)("div",{className:"jsx-83fb19ea8f375c79 mention-suggestions-container",children:_.results.map((function(e,t){return(0,i.createElement)("div",(0,V.Z)((0,F.Z)({},M({item:e,index:t})),{key:e.value,className:"jsx-83fb19ea8f375c79 "+(vd()("mention-suggestion",{selected:P===t})||""),children:[e.icon,(0,r.tZ)("div",{className:"jsx-83fb19ea8f375c79",children:e.value})]}))}))}):null})),(0,r.tZ)(u(),{id:"83fb19ea8f375c79",children:'.input-group.jsx-83fb19ea8f375c79{display:grid;grid-template-columns:1fr -webkit-min-content;grid-template-columns:1fr min-content;grid-gap:10px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start}.inputbox.jsx-83fb19ea8f375c79{background:var(--background-higher);color:var(--foreground-default);border:none;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);padding:var(--space-8);outline:none;resize:none;font-family:"IBM Plex Sans",sans-serif;font-size:var(--font-size-default);line-height:16px;overflow-y:auto;max-height:-webkit-calc(var(--font-size-default)*18);max-height:-moz-calc(var(--font-size-default)*18);max-height:calc(var(--font-size-default)*18)}.inputbox.jsx-83fb19ea8f375c79::-webkit-input-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79:-moz-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79::-moz-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79:-ms-input-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79::-ms-input-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79::placeholder{white-space:pre}.inputbox.hasContent.jsx-83fb19ea8f375c79{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}.mention-suggestions-container.jsx-83fb19ea8f375c79{padding-top:1em;display:grid;grid-row-gap:var(--space-4);overflow:hidden}.mention-suggestion.jsx-83fb19ea8f375c79{display:grid;grid-template-columns:-webkit-min-content -webkit-max-content;grid-template-columns:min-content max-content;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;grid-column-gap:var(--space-8);padding:var(--space-8)0;cursor:pointer;color:var(--foreground-default)}.mention-suggestion.selected.jsx-83fb19ea8f375c79{background-color:var(--background-root)}.mention-suggestion.selected.jsx-83fb19ea8f375c79>*.jsx-83fb19ea8f375c79{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}'})]})}));Ih.displayName="ThreadInputForwarded";var jh=Ih,Mh=n(93604),Ph=n(35977);function Nh(e){var t=e.message,n=e.messageStyle,o=i.useMemo((function(){return"TextMessageContentType"===t.content.__typename?(0,fh.kW)(t.content.text,{}):"PreviewMessageContentType"===t.content.__typename&&"string"===typeof t.content.preview?(0,fh.kW)(t.content.preview,{}):null}),[t.content]),a="PreviewMessageContentType"===t.content.__typename&&"string"!==typeof t.content.preview;return t.user&&(o||a)?(0,r.BX)("div",{className:"jsx-e1dab5bcce309da6 "+(n||""),children:[(0,r.BX)("div",{className:"jsx-e1dab5bcce309da6 message",children:[o?(0,r.tZ)(fh.YI,{message:o,codeStyles:{color:"var(--accent-orange-stronger)",background:"var(--background-highest)"}}):null,a?(0,r.BX)("span",{className:"jsx-e1dab5bcce309da6 typing-indicator",children:[(0,r.tZ)("span",{className:"jsx-e1dab5bcce309da6 dot"}),(0,r.tZ)("span",{className:"jsx-e1dab5bcce309da6 dot"}),(0,r.tZ)("span",{className:"jsx-e1dab5bcce309da6 dot"})]}):null]}),(0,r.tZ)(u(),{id:"e1dab5bcce309da6",children:".message.jsx-e1dab5bcce309da6{background:var(--background-higher);padding:var(--space-4)var(--space-8);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);font-size:var(--font-size-default);overflow-wrap:break-word;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:100%;white-space:pre-wrap}.userhighlight.jsx-e1dab5bcce309da6 .message.jsx-e1dab5bcce309da6{background:transparent}.typing-indicator.jsx-e1dab5bcce309da6{min-height:1em;display:grid;grid-auto-flow:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;grid-gap:var(--space-8)}.dot.jsx-e1dab5bcce309da6{width:6px;height:6px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;display:inline-block;background-color:var(--foreground-dimmest);-webkit-animation:pulse.6s infinite;-moz-animation:pulse.6s infinite;-o-animation:pulse.6s infinite;animation:pulse.6s infinite}.dot.jsx-e1dab5bcce309da6:nth-child(1){-webkit-animation-delay:0s;-moz-animation-delay:0s;-o-animation-delay:0s;animation-delay:0s}.dot.jsx-e1dab5bcce309da6:nth-child(2){-webkit-animation-delay:.2s;-moz-animation-delay:.2s;-o-animation-delay:.2s;animation-delay:.2s}.dot.jsx-e1dab5bcce309da6:nth-child(3){-webkit-animation-delay:.4s;-moz-animation-delay:.4s;-o-animation-delay:.4s;animation-delay:.4s}@-webkit-keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}@-moz-keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}@-o-keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}@keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}"})]}):null}function Fh(e){var t=e.message,n=i.useMemo((function(){var e=t.timeCreated;return e?(0,Rp.Z)(new Date(e),"do MMM, hh:mm a"):""}),[t]),o=t.user;return(0,r.tZ)("div",{className:"resolved-message",children:(0,r.BX)(Zd.Ug,{align:"center",spacing:1,children:[o?(0,r.tZ)($l.Z,{url:o.image,size:"m"}):null,(0,r.tZ)(gt.Z,{color:"var(--foreground-default)",size:24}),(0,r.BX)(gd.Z,{size:"xsmall",children:["Resolved ",n]})]})})}function Vh(e){var t=e.message,n=i.useMemo((function(){var e=t.timeCreated;return e?(0,Rp.Z)(new Date(e),"do MMM, hh:mm a"):""}),[t]),o=t.user;return(0,r.tZ)("div",{className:"resolved-message",children:(0,r.BX)(Zd.Ug,{align:"center",spacing:1,children:[o?(0,r.tZ)($l.Z,{url:o.image,size:"m"}):null,(0,r.tZ)(gt.Z,{size:24,color:"var(--foreground-dimmest)"}),(0,r.BX)(gd.Z,{size:"xsmall",children:["Unresolved ",n]})]})})}var Wh=function(e){var t=new Date(e),n=new Date;return(0,Ph.Z)(n,t)<60?"now":(0,Mh.F)(t,!0)};function zh(e){var t=e.messageGroup,n=t.messages,i=t.user,o=t.timeCreated;return i?(0,r.BX)("div",{className:"jsx-3469fc8bae278840 message-group",children:[(0,r.BX)("div",{className:"jsx-3469fc8bae278840 message-info",children:[(0,r.tZ)("div",{className:"jsx-3469fc8bae278840 avatar",children:(0,r.tZ)($l.Z,{url:i.image,size:"xs",style:{minHeight:"15px",minWidth:"15px",height:"15px",width:"15px"}})}),(0,r.tZ)("div",{className:"jsx-3469fc8bae278840 username",children:i.username}),(0,r.tZ)("div",{className:"jsx-3469fc8bae278840 time",children:Wh(o)})]}),(0,r.tZ)("div",{className:"jsx-3469fc8bae278840 messages",children:n.map((function(e){return(0,r.tZ)(Nh,{message:e},e.id)}))}),(0,r.tZ)(u(),{id:"3469fc8bae278840",children:".message-group.jsx-3469fc8bae278840{background-color:var(--background-default);color:var(--foreground-default);display:grid;position:relative;grid-template-rows:auto auto;grid-row-gap:var(--space-8);grid-template-columns:minmax(0,1fr)}.message-info.jsx-3469fc8bae278840{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:var(--font-size-small)}.messages.jsx-3469fc8bae278840{display:grid;grid-row-gap:var(--space-4);grid-template-columns:minmax(0,1fr)}.avatar.jsx-3469fc8bae278840{margin-right:5px}.username.jsx-3469fc8bae278840{color:var(--foreground-dimmer);font-weight:var(--font-weight-medium);margin-right:3px}.time.jsx-3469fc8bae278840{color:var(--foreground-dimmest)}"})]}):null}function Xh(e){var t=e.messageGroup;if("TextMessageContentType"===t.messageType||"PreviewMessageContentType"===t.messageType)return(0,r.tZ)(zh,{messageGroup:t});if("StatusMessageContentType"===t.messageType){var n=t.messages[0];if("StatusMessageContentType"===n.content.__typename&&"resolved"===n.content.status)return(0,r.tZ)(Fh,{message:n});if("StatusMessageContentType"===n.content.__typename&&"unresolved"===n.content.status)return(0,r.tZ)(Vh,{message:n})}return null}function Hh(e){var t=e.generalThreadsOpen,n=e.setGeneralThreadsOpen,o=e.generalThread,a=e.handleChangeMessage,l=void 0===a?function(){}:a,s=e.handleFinalizeMessage,c=void 0===s?function(){}:s,d=e.createAnnotationAnchorPlaceholder,p=void 0===d?function(){}:d,h=(0,Ne.Z)(),m=i.useMemo((function(){return o?function(e){var t=[],n=null,r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s,c,u,d,p=a.value;!n||(null===p||void 0===p||null===(s=p.user)||void 0===s?void 0:s.id)!==(null===n||void 0===n||null===(c=n.user)||void 0===c?void 0:c.id)||(null===p||void 0===p||null===(u=p.anchor)||void 0===u?void 0:u.id)!==(null===n||void 0===n?void 0:n.anchorId)||!kh.includes(n.messageType)||!kh.includes(p.content.__typename)||new Date(p.timeCreated).getTime()-new Date(n.timeCreated).getTime()>6e5?(n&&t.push(n),n={user:p.user,timeCreated:p.timeCreated,anchorId:null===p||void 0===p||null===(d=p.anchor)||void 0===d?void 0:d.id,messages:[p],messageType:p.content.__typename}):n.messages.push(p)}}catch(f){i=!0,o=f}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n&&t.push(n),t}((0,Be.Z)(o.messages).sort((function(e,t){return new Date(e.timeCreated).getTime()-new Date(t.timeCreated).getTime()}))):[]}),[o]);i.useEffect((function(){o||p({annotationAnchor:{id:Bh()(),replId:h,isGeneral:!0,indexStart:null,indexEnd:null,isResolved:!1,otVersion:null,path:null}})}),[o,h,p]),i.useEffect((function(){o||p({annotationAnchor:{id:Bh()(),replId:h,isGeneral:!0,indexStart:null,indexEnd:null,isResolved:!1,otVersion:null,path:null}})}),[o,h,p]);var v=i.useRef(null);(0,Lh.Z)(t&&o||null);return i.useEffect((function(){v.current&&(v.current.scrollTop=v.current.scrollHeight)}),[v,o]),o?(0,r.BX)("div",{onClick:function(){return n(!0)},className:"jsx-571d11d33063a57f "+(vd()("general-thread")||""),children:[(0,r.tZ)("div",{css:f.l0.scrollbar.thin,className:"jsx-571d11d33063a57f message-group-container-container",children:(0,r.tZ)("div",{ref:v,className:"jsx-571d11d33063a57f message-group-container",children:m.map((function(e){return(0,r.tZ)(Xh,{messageGroup:e},e.messages[0].id)}))})}),(0,r.tZ)("div",{className:"jsx-571d11d33063a57f thread-input-container",children:(0,r.tZ)(jh,{placeholder:"Send message",annote:o,onChangeMessage:function(e){l({anchor:o,message:e.message,messageId:e.messageId}),n(!0)},onFinalizeMessage:function(e){c({anchor:o,message:e.message,messageId:e.messageId}),n(!0),(0,Yt.j)(Yt.U3.MESSAGE_SENT,{replId:h,source:"chat",newThread:0===o.messages.length})}})}),(0,r.tZ)(u(),{id:"571d11d33063a57f",children:'.general-thread.jsx-571d11d33063a57f{padding-top:0,border-radius:var(--border-radius-8)var(--border-radius-8)0 0;background:var(--background-default);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden;grid-template-rows:-webkit-min-content 1fr -webkit-min-content;grid-template-rows:min-content 1fr min-content;grid-gap:var(--space-8);height:"100%"}.message-group-container-container.jsx-571d11d33063a57f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:0;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.message-group-container.jsx-571d11d33063a57f{padding:var(--space-12);display:grid;grid-row-gap:var(--space-16);overflow-y:auto}.thread-input-container.jsx-571d11d33063a57f{width:100%;border-top:1px solid var(--outline-dimmer);padding:var(--space-8)var(--space-12)}'})]}):null}var Ah=n(98284),Uh=n(15686),Oh=n(65632),qh=n(64614),$h=n(24957),Yh=n(2230),Kh=function(e){var t=(0,Yh.Z)(e,null,null).updateThread;return{handleToggleResolved:function(e){return t({changes:{isResolved:e}})}}};var Jh,Qh,em=function(e){var t=e.thread,n=e.onClick,o=t.messages.filter((function(e){return!e.seen})).length,a=function(e){var t=(0,$h.Vy)(e.path?e:null);return null===t||void 0===t?void 0:t.getSnippet()}(t),l=(0,Yh.Z)(t.id,null,null).thread,s=(0,X.Dv)(ch.Q),c=Kh(t.id).handleToggleResolved,u="Jump to code",d="Resolve this thread",p="Re-open",h=function(e,t){var n=function(e){return 1===e?"reply":"replies"};return e<=1?"View ".concat(1===t?"unread":""," thread"):t?"View ".concat(t," unread ").concat(n(t)):"View ".concat(e-1," ").concat(n(e-1))},m=function(e,t){return"Opened ".concat(e," by ").concat(t)},v=t.messages[0],g=i.useMemo((function(){return(null===v||void 0===v?void 0:v.timeCreated)?(0,qh.Y)(v.timeCreated):"some time ago"}),[v]);return t.user?(0,r.BX)(f.Tg,{css:[f.gU.filled,f.l0.overflow("hidden"),s===t.id&&{borderColor:f.TV.accentPrimaryDefault}],onClick:function(){n(t)},children:[(0,r.BX)(f.Tg,{elevated:!0,css:[f.l0.flex.row,f.l0.align.center,f.l0.justify.spaceBetween,f.l0.flex.grow(1),f.l0.px(8),f.l0.py(8)],children:[(0,r.tZ)(f.G7,{css:[f.l0.flex.row,f.l0.align.center,f.l0.rowWithGap(4)],children:(0,r.tZ)(f.xv,{color:"dimmer",variant:"small",children:m(g,t.user.username)})}),(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.align.center,f.l0.rowWithGap(4)],children:[a&&t.path?(0,r.tZ)(f.hU,{alt:u,onClick:function(){return n(t)},children:(0,r.tZ)(Yu.Z,{})}):null,t.isResolved?(0,r.tZ)(f.zx,{text:p,small:!0,colorway:"primary",onClick:function(){c(!1)}}):(0,r.tZ)(f.hU,{alt:d,onClick:function(){c(!0)},children:(0,r.tZ)(gt.Z,{})})]})]}),a&&t.path?(0,r.tZ)(Ah.Fy,{elevation:"root",path:t.path,snippet:a,fontSize:12,maxHeight:"42px",minHeight:"42px",allowScroll:!1}):null,v?(0,r.tZ)(f.G7,{css:[f.l0.p(8),f.l0.py(12)],children:(0,r.tZ)(Uh.Z,{thread:l,message:v},v.id)}):null,t.messages.length>1&&(0,r.BX)(f.G7,{css:[f.l0.pb(12),f.l0.px(8),f.l0.flex.row,f.l0.align.center,f.l0.rowWithGap(4),f.l0.color.foregroundDimmer],children:[(0,r.tZ)(f.G7,{css:[f.l0.position.relative],children:(0,r.tZ)(Oh.Z,{unreadDot:o>0})}),(0,r.tZ)(f.xv,{variant:"small",children:h(t.messages.length,o)})]})]}):null},tm=function(e){var t=e.path,n=e.threads,i=e.onThreadClick,o=n.some((function(e){return e.messages.some((function(e){return!e.seen}))}));return(0,r.tZ)(f.G7,{css:[f.l0.pb(8)],children:(0,r.tZ)(f.Qd,{css:[f.TV.singleLine,f.l0.px(8)],headerContent:(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.align.center,f.l0.justify.spaceBetween,f.l0.flex.growAndShrink(1),f.l0.mr(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.align.center,f.l0.rowWithGap(8),f.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(W.Z,{path:t,size:20}),(0,r.tZ)(f.xv,{css:[f.l0.flex.shrink(1)],children:t})]}),o?(0,r.tZ)("div",{css:[f.l0.flex.shrink(0),f.l0.width(8),f.l0.height(8),f.l0.backgroundColor.redStronger,f.l0.borderRadius("full")]}):null]}),children:(0,r.tZ)("div",{css:[f.l0.mt(8),f.l0.colWithGap(8)],children:n.map((function(e){return(0,r.tZ)(em,{thread:e,onClick:i},e.id)}))})})})},nm=n(36764);function rm(e){var t=e.primary,n=e.secondary;return(0,r.tZ)(f.G7,{css:[f.l0.align.center,f.l0.justify.center,f.l0.flex.grow(1)],children:(0,r.BX)(f.G7,{css:[f.l0.align.center,f.l0.justify.center,f.l0.flex.grow(1)],children:[(0,r.tZ)(f.G7,{css:[f.l0.maxWidth(140),f.l0.maxHeight(140),f.l0.position.relative,f.l0.align.center,f.l0.justify.center,{pointerEvents:"none"}],children:(0,r.tZ)(gh,{})}),(0,r.tZ)(f.xv,{variant:"subheadDefault",css:f.l0.mt(32),children:t}),(0,r.tZ)("div",{css:[f.l0.color.foregroundDimmest],children:(0,r.tZ)(f.xv,{variant:"text",css:f.l0.mt(8),children:n})})]})})}!function(e){e.CHRONOLOGICAL="chronological",e.CODE_ORDER="codeOrder"}(Jh||(Jh={})),function(e){e.PARTICIPATING="participating",e.RESOLVED="resolved",e.UNREAD="unread",e.INBOX="inbox"}(Qh||(Qh={}));var im,om,am=function(e){var t=e.isPane,n=e.isChatOnly,o=(0,Ne.Z)(),l=(0,Ps.D)({controlName:"flag-typing-presence"}),s=(0,uh.Z)(o,{onReceiveAnnotationUpdate:function(){}}),c=s.annotations,u=s.loading,d=s.generalThread,p=s.createAnnotationAnchorPlaceholder,h=s.createAnnotationMessage,m=s.updateThreadPreview,g=function(e){var t=(0,F.Z)({},mh,e);return Re.a(vh,t)}(),Z=g.data,b=g.loading,y=u||b,w=(0,a.Z)(i.useState(!1),2),C=w[0],L=w[1],S=(0,k.Z)(),B=(0,X.b9)(ch.Q),E=(0,v.Z)(),T=E.container,_=E.session,R=(0,a.Z)(i.useState(""),2),D=R[0],G=R[1],I=(0,a.Z)(i.useState("INBOX"),2),j=I[0],M=I[1],P=(0,a.Z)(i.useState("CHRONOLOGICAL"),2),N=P[0],V=P[1],W=i.useMemo((function(){var e,t=null===Z||void 0===Z||null===(e=Z.currentUser)||void 0===e?void 0:e.id,n=c.filter((function(e){if("INBOX"===j)return!e.isResolved;if("RESOLVED"===j)return e.isResolved;if("PARTICIPATING"===j)return!t||function(e,t){var n;return(null===(n=e.user)||void 0===n?void 0:n.id)===t||e.messages.some((function(e){var n=e.user;return(null===n||void 0===n?void 0:n.id)===t}))}(e,t);if("UNREAD"===j){var n=e.messages.some((function(e){return!e.seen}));return n}return!0}));return n}),[Z,c,j]),z=i.useMemo((function(){return W.filter((function(e){var t,n;return 0===D.length||null!==(n=null===(t=e.path)||void 0===t?void 0:t.toLowerCase().includes(D.toLowerCase()))&&void 0!==n&&n}))}),[D,W]),H=i.useMemo((function(){return(0,Be.Z)(z).sort((function(e,t){if("CHRONOLOGICAL"===N){var n,r,i=new Date(null===(n=e.messages[0])||void 0===n?void 0:n.timeCreated),o=new Date(null===(r=t.messages[0])||void 0===r?void 0:r.timeCreated);return i&&o?i<o?1:-1:0}return"CODE_ORDER"===N?(0,x.IV)(e.path,t.path):0})).reduce((function(e,t){var n=t.path;return n&&"undefined"!==typeof n?(e[n]=e[n]||[],e[n].push(t),e):e}),{})}),[z,N]),A=i.useMemo((function(){var e=(0,F.Z)({},H),t=Object.values(e).map((function(e){return(0,Be.Z)(e).sort((function(e,t){if("CHRONOLOGICAL"===N){var n,r,i=new Date(null===(n=e.messages[0])||void 0===n?void 0:n.timeCreated),o=new Date(null===(r=t.messages[0])||void 0===r?void 0:r.timeCreated);return i&&o?i<o?1:-1:0}var a,l,s,c;return"CODE_ORDER"===N?(null!==(l=null!==(a=e.indexStart)&&void 0!==a?a:e.indexEnd)&&void 0!==l?l:0)<(null!==(c=null!==(s=t.indexStart)&&void 0!==s?s:t.indexEnd)&&void 0!==c?c:0)?-1:1:0}))}));return t.reduce((function(e,t,n){return e[Object.keys(H)[n]]=t,e}),{})}),[H,N]),U=(0,ph.Z)().map((function(e){return e.username})),O=function(e){var t=(0,a.Z)((0,nm.n)(),1)[0];return function(){t({variables:{replId:e}})}}(o),q=function(){var e=(0,tt.Z)((function(e){return(0,nt.__generator)(this,(function(t){switch(t.label){case 0:if(!e.path)return[2];if(S===e.path)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,T.exec("test","-f",e.path)];case 2:return null!==t.sent().error?[2]:[3,4];case 3:return t.sent(),[2];case 4:return _.openFile(e.path),B(e.id),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),$=dh.Wo.StartThread.keyboardShortcut;return n?(0,r.tZ)(Hh,{generalThreadsOpen:C,setGeneralThreadsOpen:L,generalThread:d,handleChangeMessage:function(e){var t=e.anchor,n=e.message,r=e.messageId;m({threadId:t.id,message:l?n:null,messageId:r})},handleFinalizeMessage:function(e){var t=e.anchor,n=e.message,r=e.messageId,i=(0,fh.kW)(n,{users:(0,Be.Z)(U).concat(["everyone"])});h({anchor:t,annotationMessage:{id:r,text:n,mentions:i.mentions}})},createAnnotationAnchorPlaceholder:p}):(0,r.tZ)(f.Tg,{className:"threads-inbox",elevated:!t,css:[!t&&[f.l0.borderRadius(8),f.l0.pb(8),f.l0.shadow(2),{borderWidth:f.TV.borderWidthDefault,borderStyle:"solid",borderColor:f.TV.outlineDimmest}],f.l0.height("100%"),f.l0.width("100%"),f.l0.overflow("hidden"),f.l0.position.relative],"aria-busy":y,children:y?(0,r.tZ)(f.G7,{css:[f.l0.display.flex,f.l0.align.center,f.l0.justify.center,f.l0.height("100%")],children:(0,r.tZ)(Y.Z,{size:24})}):(0,r.BX)(r.HY,{children:[(0,r.BX)(f.G7,{className:"threads-inbox-header",css:[f.l0.py(12),f.l0.px(8),f.l0.position.sticky,f.l0.top(0),f.l0.backgroundColor.backgroundDefault,{zIndex:10}],children:[t?null:(0,r.tZ)(f.G7,{css:[f.l0.pb(12)],children:(0,r.tZ)(f.xv,{variant:"subheadDefault",children:Ch.title})}),(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.align.center,f.l0.flex.wrap,{gap:8}],children:[(0,r.tZ)(f.II,{placeholder:Ch.search.placeholder,value:D,onChange:function(e){return G(e.target.value)},css:[f.l0.flex.grow(1)]}),(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.maxWidth("100%"),{gap:8}],children:[(0,r.tZ)(f.G7,{css:[f.l0.flex.shrink(1)],children:(0,r.tZ)(f.ZE,{cssProps:[f.l0.flex.shrink(1),{span:f.l0.flex.shrink(1)}],icon:Ch.filters[Qh[j]].icon,suffix:(0,r.tZ)(Nr.ChevronDown,{}),label:Ch.filters[Qh[j]].label,onAction:function(e){switch(e){case"toggle-inbox":M("INBOX");break;case"toggle-unread":M("UNREAD");break;case"toggle-participating":M("PARTICIPATING");break;case"toggle-resolved":M("RESOLVED")}},children:Object.entries(Ch.filters).map((function(e){var t=(0,a.Z)(e,2),n=(t[0],t[1]);return(0,r.tZ)(sh.ck,{"aria-label":n.label,children:(0,r.BX)(f.G7,{css:f.l0.rowWithGap(8),children:[n.icon,(0,r.tZ)(f.xv,{children:n.label})]})},n.key)}))})}),(0,r.tZ)(f.G7,{css:[f.l0.flex.shrink(1)],children:(0,r.tZ)(f.ZE,{cssProps:[f.l0.flex.shrink(1),{span:f.l0.flex.shrink(1)}],icon:Ch.sorts[Jh[N]].icon,suffix:(0,r.tZ)(Nr.ChevronDown,{}),label:Ch.sorts[Jh[N]].label,onAction:function(e){switch(e){case Ch.sorts.chronological.key:V("CHRONOLOGICAL");break;case Ch.sorts.codeOrder.key:V("CODE_ORDER")}},children:Object.entries(Ch.sorts).map((function(e){var t=(0,a.Z)(e,2),n=(t[0],t[1]);return(0,r.tZ)(sh.ck,{"aria-label":n.label,children:(0,r.BX)(f.G7,{css:f.l0.rowWithGap(8),children:[n.icon,(0,r.tZ)(f.xv,{children:n.label})]})},n.key)}))})}),(0,r.tZ)(f.G7,{css:[f.l0.flex.shrink(1)],children:(0,r.tZ)(f.zx,{iconLeft:(0,r.tZ)(gt.Z,{}),text:Ch.markAsRead,onClick:O,css:{span:f.l0.flex.shrink(1)}})})]})]})]}),0===c.length?(0,r.tZ)(rm,{primary:Ch.empty.noThreadsCreated.text.primary,secondary:Ch.empty.noThreadsCreated.text.secondary($)}):(0,r.tZ)(r.HY,{children:Object.keys(A).length>0?(0,r.tZ)(f.G7,{css:[f.l0.flex.growAndShrink(1),f.l0.overflowY("auto"),f.l0.scrollbar.thin],children:Object.keys(A).map((function(e,t){return(0,r.tZ)(tm,{path:e||"-",threads:Object.values(A)[t],onThreadClick:function(e){q(e)}},e)}))}):(0,r.tZ)(rm,{primary:Ch.empty.noThreadsFound.text.primary,secondary:Ch.empty.noThreadsFound.text.secondary})})]})})},lm={Content:function(){return(0,r.tZ)(am,{isPane:!0})},Icon:function(e){var t=e.size;return(0,r.tZ)(bh.Z,{size:t})},getTitle:function(){return"Threads"}},sm=n(32892),cm=n(83241),um=n(15210);!function(e){e.RAW="RAW",e.PROXY="PROXY",e.THROW="THROW",e.HANDLER="HANDLER"}(im||(im={})),function(e){e.GET="GET",e.SET="SET",e.APPLY="APPLY",e.CONSTRUCT="CONSTRUCT",e.ENDPOINT="ENDPOINT",e.RELEASE="RELEASE"}(om||(om={}));var dm=Symbol("Comlink.proxy"),pm=Symbol("Comlink.endpoint"),fm=Symbol("Comlink.releaseProxy"),hm=Symbol("Comlink.thrown"),mm=function(e){return"object"===typeof e&&null!==e||"function"===typeof e},vm=new Map([["proxy",{canHandle:function(e){return mm(e)&&e[dm]},serialize:function(e){var t=new MessageChannel,n=t.port1,r=t.port2;return gm(e,n),[r,[r]]},deserialize:function(e){return e.start(),ym(e,[],t);var t}}],["throw",{canHandle:function(e){return mm(e)&&hm in e},serialize:function(e){var t=e.value;return[(0,Ws.Z)(t,Error)?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[]]},deserialize:function(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function gm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self,n=arguments.length>2?arguments[2]:void 0;function r(i){if(i&&i.data&&(!n||i.origin===n.origin&&i.source===n.source)){var l,s=(0,F.Z)({path:[]},i.data),c=s.id,u=s.type,d=s.path,p=(i.data.argumentList||[]).map(Sm);try{var f=d.slice(0,-1).reduce((function(e,t){return e[t]}),e),h=d.reduce((function(e,t){return e[t]}),e);switch(u){case om.GET:l=h;break;case om.SET:f[d.slice(-1)[0]]=Sm(i.data.value),l=!0;break;case om.APPLY:l=h.apply(f,p);break;case om.CONSTRUCT:l=km((0,um.Z)(h,(0,Be.Z)(p)));break;case om.ENDPOINT:var m=new MessageChannel,v=m.port1,g=m.port2;gm(e,g),l=Cm(v,[v]);break;case om.RELEASE:l=void 0;break;default:return}}catch(Z){l=(0,o.Z)({value:Z},hm,0)}Promise.resolve(l).catch((function(e){return(0,o.Z)({value:e},hm,0)})).then((function(e){var n=(0,a.Z)(Lm(e),2),i=n[0],o=n[1];t.postMessage((0,V.Z)((0,F.Z)({},i),{id:c}),o),u===om.RELEASE&&(t.removeEventListener("message",r),Zm(t))}))}}return t.addEventListener("message",r),t.start&&t.start(),function(){t.removeEventListener("message",r),Zm(t)}}function Zm(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function bm(e){if(e)throw new Error("Proxy has been released and is not useable")}function ym(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=!1,i=new Proxy(n,{get:function(n,o){if(bm(r),o===fm)return function(){return Bm(e,{type:om.RELEASE,path:t.map((function(e){return e.toString()}))}).then((function(){Zm(e),r=!0}))};if("then"===o){if(0===t.length)return{then:function(){return i}};var a=Bm(e,{type:om.GET,path:t.map((function(e){return e.toString()}))}).then(Sm);return a.then.bind(a)}return ym(e,(0,Be.Z)(t).concat([o]))},set:function(n,i,o){bm(r);var l=(0,a.Z)(Lm(o),2),s=l[0],c=l[1];return Bm(e,{type:om.SET,path:(0,Be.Z)(t).concat([i]).map((function(e){return e.toString()})),value:s},c).then(Sm)},apply:function(n,i,o){bm(r);var l=t[t.length-1];if(l===pm)return Bm(e,{type:om.ENDPOINT}).then(Sm);if("bind"===l)return ym(e,t.slice(0,-1));var s=(0,a.Z)(xm(o),2),c=s[0],u=s[1];return Bm(e,{type:om.APPLY,path:t.map((function(e){return e.toString()})),argumentList:c},u).then(Sm)},construct:function(n,i){bm(r);var o=(0,a.Z)(xm(i),2),l=o[0],s=o[1];return Bm(e,{type:om.CONSTRUCT,path:t.map((function(e){return e.toString()})),argumentList:l},s).then(Sm)}});return i}function xm(e){var t,n=e.map(Lm);return[n.map((function(e){return e[0]})),(t=n.map((function(e){return e[1]})),Array.prototype.concat.apply([],t))]}var wm=new WeakMap;function Cm(e,t){return wm.set(e,t),e}function km(e){return Object.assign(e,(0,o.Z)({},dm,!0))}function Lm(e){var t=!0,n=!1,r=void 0;try{for(var i,o=vm[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=(0,a.Z)(i.value,2),s=l[0],c=l[1];if(c.canHandle(e)){var u=(0,a.Z)(c.serialize(e),2),d=u[0],p=u[1];return[{type:im.HANDLER,name:s,value:d},p]}}}catch(f){n=!0,r=f}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return[{type:im.RAW,value:e},wm.get(e)||[]]}function Sm(e){switch(e.type){case im.HANDLER:return vm.get(e.name).deserialize(e.value);case im.RAW:return e.value}}function Bm(e,t,n){return new Promise((function(r){var i=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===i&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage((0,F.Z)({id:i},t),n)}))}var Em=n(25108);function Tm(e){return e.error?{error:e.error,success:!1}:{success:!0,error:null}}var _m=n(93803),Rm=n(81516);var Dm=n(38418),Gm=n(63309),Im=n(94227),jm=function(e){return km(Dm.e.sub(Gm.QP,(function(){var t=Dm.e.get(Gm.QP);e(t)})))},Mm=function(e){Dm.e.set(Im.U,e)},Pm=n(85124),Nm=n(71490),Fm=n(33404),Vm=n(60482),Wm=n(26174),zm=function(e){var t;return null===(t=Dm.e.get(Wm.Eh))||void 0===t?void 0:t.find((function(t){var n;return!t.isHidden&&(null===(n=Dm.e.get(t.data))||void 0===n?void 0:n.type)===e}))},Xm=function(e){var t,n=null===(t=Dm.e.get(Wm.Eh))||void 0===t?void 0:t.find((function(t){var n=Dm.e.get(t.data);return(null===n||void 0===n?void 0:n.type)===e}));return n?{paneId:n.paneId,isHidden:n.isHidden,isDialog:n.isDialog,type:n.type,data:Dm.e.get(n.data)}:null},Hm=function(e){Dm.e.set(Vm.Oe,e)},Am=function(e){Dm.e.set(Pm.WM,e)},Um=function(e){Dm.e.set(Pm.AW,e)};function Om(){return Dm.e.get(Nm.ij)}function qm(e){Dm.e.set(Fm.sq,{initialLayoutState:e,codeEditorPath:void 0})}var $m=n(25108);function Ym(e){var t=e.id,n=e.name,r=e.installationId,i=e.extensionIframe,o=e.services,a=e.paneId,l=e.filePath,s=new URL(i.src).origin,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.extensionId,n=e.installationId,r=e.extensionName,i={extension:!0,extensionId:t,installationId:n,extensionName:r};return{info:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$m.info(e,t),Of.kg.info(e,(0,F.Z)({},t,i))},warn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$m.warn(e,t),Of.kg.error(e,(0,F.Z)({},t,i))}}}({extensionId:t,installationId:r});function u(){return u=(0,tt.Z)((function(e){var t;return(0,nt.__generator)(this,(function(n){return t=e.permissions,c.info("Handshake with permissions: ".concat(t.join(", "))),[2,{success:!0}]}))})),u.apply(this,arguments)}var d=(0,V.Z)((0,F.Z)({filePath:l},function(e){var t=e.fs;function n(){return(n=(0,tt.Z)((function(e,n){var r,i;return(0,nt.__generator)(this,(function(o){switch(o.label){case 0:return"string"!==typeof n?[3,1]:(r=n,[3,4]);case 1:return(0,Ws.Z)(n,Blob)?(i=En.Z.from,[4,n.arrayBuffer()]):[3,3];case 2:return r=i.apply(En.Z,[o.sent()]),[3,4];case 3:r=En.Z.from(n),o.label=4;case 4:return[4,t.writeFile(e,r)];case 5:return[2,Tm(o.sent())]}}))}))).apply(this,arguments)}function r(){return(r=(0,tt.Z)((function(e){var n;return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.readFile(e)];case 1:return(n=r.sent()).error?[2,{error:n.error,content:null}]:[2,{error:null,content:n.content.toString()}]}}))}))).apply(this,arguments)}function i(){return(i=(0,tt.Z)((function(e){var n;return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.readDir(e)];case 1:return(n=r.sent()).error?[2,{error:n.error,children:null}]:[2,{error:null,children:n.children}]}}))}))).apply(this,arguments)}function o(){return(o=(0,tt.Z)((function(e){return(0,nt.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.createDir(e)];case 1:return[2,Tm(n.sent())]}}))}))).apply(this,arguments)}function a(){return(a=(0,tt.Z)((function(e){return(0,nt.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.deleteDir(e)];case 1:return[2,Tm(n.sent())]}}))}))).apply(this,arguments)}function l(){return(l=(0,tt.Z)((function(e){return(0,nt.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.deleteFile(e)];case 1:return[2,Tm(n.sent())]}}))}))).apply(this,arguments)}function s(){return(s=(0,tt.Z)((function(e,n){var r,i;return(0,nt.__generator)(this,(function(o){switch(o.label){case 0:return[4,t.stat(e)];case 1:return(r=o.sent()).exists?r.type!==C.Tv.File?[3,3]:[4,t.moveFile(e,n)]:[2,{error:"File or directory does not exist",success:!1}];case 2:return i=o.sent(),[3,5];case 3:return[4,t.moveDir(e,n)];case 4:i=o.sent(),o.label=5;case 5:return[2,Tm(i)]}}))}))).apply(this,arguments)}function c(){return(c=(0,tt.Z)((function(e,n){return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.copyFile(e,n)];case 1:return[2,Tm(r.sent())]}}))}))).apply(this,arguments)}return{readFile:function(e){return r.apply(this,arguments)},readDir:function(e){return i.apply(this,arguments)},createDir:function(e){return o.apply(this,arguments)},deleteDir:function(e){return a.apply(this,arguments)},writeFile:function(e,t){return n.apply(this,arguments)},deleteFile:function(e){return l.apply(this,arguments)},copyFile:function(e,t){return c.apply(this,arguments)},move:function(e,t){return s.apply(this,arguments)},watchFile:function(e,n){(0,x.Mb)(e)&&Em.warn("It appears that you are trying to use watchFile on a text file. This works, but you should use watchTextFile instead.");var r=t.watchFile(e,{onChange:function(e){n.onChange(e.asBuffer)},onError:function(e){n.onError(e.message)},onMoveOrDelete:function(e){n.onMoveOrDelete({eventType:e.eventType,node:e.node})}});return km((function(){r()}))},watchTextFile:function(e,n){(0,x.Mb)(e)||Em.warn("It appears that you are trying to use watchTextFile on a non-OT file");var r=t.watchTextFile(e,{onReady:function(e){var t=e.fetchChanges,r=e.initialContent,i=e.transformSelection,o=e.updateSelections,a=e.version,l=e.writeChange;n.onReady(km({writeChange:l,fetchChanges:t,initialContent:r,version:a,transformSelection:i,updateSelections:o}))},onChange:function(){var e=(0,tt.Z)((function(e){var t,r,i,o;return(0,nt.__generator)(this,(function(a){return t=e.latestContent,r=e.changeSource,i=e.changes,o=e.version,n.onChange({latestContent:t.toString(),version:o,changeSource:r,changes:i.toJSON()}),[2]}))}));return function(t){return e.apply(this,arguments)}}(),onError:function(e){n.onError(e.message)},onMoveOrDelete:function(e){n.onMoveOrDelete({eventType:e.eventType,node:e.node})}});return km((function(){r()}))}}}({fs:o.fs}),function(e){var t=e.container,n=null;function r(){return i.apply(this,arguments)}function i(){return(i=(0,tt.Z)((function(){var e;return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:return n?[2]:[4,t.exec("bash","-c","echo $REPLIT_DB_URL")];case 1:if((e=r.sent()).error||!e.output)throw new Error("unable to find REPLIT_DB_URL");return n=e.output.trim(),[2]}}))}))).apply(this,arguments)}function o(){return(o=(0,tt.Z)((function(e,i){return(0,nt.__generator)(this,(function(o){switch(o.label){case 0:return[4,r()];case 1:return o.sent(),[4,t.exec("curl",n,"-s","-d","".concat(e,"=").concat(i))];case 2:return o.sent(),[2]}}))}))).apply(this,arguments)}function a(){return(a=(0,tt.Z)((function(e){return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:return[4,r()];case 1:return i.sent(),[4,t.exec("curl","-s","".concat(n,"/").concat(e))];case 2:return[2,i.sent().output]}}))}))).apply(this,arguments)}function l(){return(l=(0,tt.Z)((function(e){var i;return(0,nt.__generator)(this,(function(o){switch(o.label){case 0:return[4,r()];case 1:return o.sent(),[4,t.exec("curl","-s","".concat(n,"?prefix=").concat(e))];case 2:return(i=o.sent()).error||!i.output?[2,{error:i.error}]:[2,{keys:i.output.split("\n")}]}}))}))).apply(this,arguments)}function s(){return(s=(0,tt.Z)((function(e){var i;return(0,nt.__generator)(this,(function(o){switch(o.label){case 0:return[4,r()];case 1:return o.sent(),[4,t.exec("curl","-s","-XDELETE","".concat(n,"/").concat(e))];case 2:return(i=o.sent()).error||!i.output?[2,{error:i.error}]:[2,{keys:i.output.split("\n")}]}}))}))).apply(this,arguments)}return{setReplDbValue:function(e,t){return o.apply(this,arguments)},getReplDbValue:function(e){return a.apply(this,arguments)},listReplDbKeys:function(e){return l.apply(this,arguments)},deleteReplDbKey:function(e){return s.apply(this,arguments)}}}({container:o.container}),{watchActiveFile:jm,openFile:Mm},{getLayoutState:Om,setLayoutState:qm,isPaneTypeVisible:zm,findPaneByType:Xm,selectTab:Hm,insertFloatingPaneIfNotExist:Am,removeFloatingPanesByType:Um},function(e){var t=e.log;return{queryGraphql:function(){var e=(0,tt.Z)((function(e){var n,r;return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:return n=e.query,r=e.variables,t.warn("Extension is using queryGraphql, this is a security risk",{query:n,variables:r}),[4,null===Rm.l||void 0===Rm.l?void 0:Rm.l.query({query:(0,_e.ZP)(n),variables:r})];case 1:return[2,i.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),mutateGraphql:function(){var e=(0,tt.Z)((function(e){var n,r;return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:return n=e.mutation,r=e.variables,t.warn("Extension is using mutateGraphql, this is a security risk",{mutation:n,variables:r}),[4,null===Rm.l||void 0===Rm.l?void 0:Rm.l.mutate({mutation:(0,_e.ZP)(n),variables:r})];case 1:return[2,i.sent()]}}))}));return function(t){return e.apply(this,arguments)}}()}}({log:c}),(0,_m.Z)({log:c,services:o}),function(e){var t=e.paneId,n=e.extensionId,r=e.extensionName,i=!1;return{activatePane:function(){Dm.e.set(Ns.W1,t),i||(i=!0,(0,Yt.j)(Yt.U3.EXTENSION_USED,{extensionId:n,extensionName:r}))}}}({paneId:a,extensionId:t,extensionName:n})),{handshake:function(e){return u.apply(this,arguments)}});if(!i.contentWindow)throw new Error("No contentWindow");var p=gm(d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return{postMessage:function(t,r){e.postMessage(t,n,r)},addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}(i.contentWindow,self,s),{origin:s,source:i.contentWindow}),f=function(e){if(e.origin===s&&i.contentWindow===e.source){var t=e.data;t.payload&&c.warn("Extension sent deprecated postMessage",t)}};return window.addEventListener("message",f),function(){p(),window.removeEventListener("message",f)}}function Km(e){var t=e.paneId,n=e.extensionPaneData,o=i.useRef(null),a=(0,v.Z)();return(0,i.useEffect)((function(){if(o.current)return Ym({name:n.name,id:n.extensionId,installationId:n.installationId,filePath:n.path,extensionIframe:o.current,services:a,paneId:t})}),[a,n.name,n.extensionId,n.installationId,n.path,t]),(0,r.tZ)(f.G7,{className:"extension-pane",css:[f.l0.backgroundColor.backgroundDefault,f.l0.height("100%"),f.l0.borderRadius(4),{overflow:"hidden"}],children:(0,r.tZ)("iframe",(0,F.Z)({css:{width:"100%",height:"100%",border:"none"},title:"extension",ref:o,src:n.url},cm.Z))})}var Jm={Content:function(e){var t=e.pane,n=e.options;return(0,r.tZ)(Km,{extensionPaneData:t.data,paneId:n.paneId})},Icon:function(e){var t=e.size;return(0,r.tZ)(sm.Z,{size:t})},getTitle:function(e){return e.data.path?e.data.path+" \u2014 "+e.data.name:e.data.name}},Qm=n(57996);function ev(e){var t=e.user;return"replit"===t.username||"util"===t.username?(0,r.BX)(Zd.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(Qm.N2,{size:16}),(0,r.tZ)(f.xv,{variant:"text",color:"dimmest",children:"Replit"})]}):(0,r.BX)(Zd.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(f.qE,{size:16,username:t.username,src:t.image}),(0,r.tZ)(f.xv,{variant:"text",color:"dimmest",children:t.username})]})}var tv=n(43546);function nv(e){var t=e.size,n=e.baseUrl,i=e.icon,o=n&&i?(0,tv.Vh)(n,i):null;return(0,r.tZ)("div",{css:{background:o?"url(".concat(o,") no-repeat center center / contain"):"radial-gradient(89% 90% at 11% 10%, rgb(255 255 255 / 79%) 0%, #91d900 98.6%)",width:t,minWidth:t,height:t,minHeight:t,borderRadius:8,flexGrow:1}})}var rv=n(14840);function iv(e){var t=e.children;return(0,r.tZ)(f.G7,{css:[f.l0.align.center,f.l0.display.flex,f.l0.flex.wrap,f.l0.flex.row,{gap:rv.TV.space8}],children:t})}function ov(e){var t,n=e.extension,i=e.onClick,o=n.manifest;if("ExtensionManifest"!==(null===o||void 0===o?void 0:o.__typename))return(0,r.tZ)("div",{children:"no manifest"});var a,l,s="replit"===n.user.username||"util"===n.user.username;return(0,r.tZ)(f.G7,{onClick:i,css:[f.l0.border({color:f.TV.backgroundHigher,style:"solid",width:1}),f.l0.borderRadius(8),f.l0.width("100%"),f.l0.p(12),f.l0.cursor.pointer],children:(0,r.BX)(Zd.gC,{spacing:1,children:[(0,r.BX)(Zd.Ug,{spacing:1,wrap:"nowrap",css:[f.l0.width("100%")],children:[(0,r.tZ)(f.G7,{css:[f.l0.flex.grow(0)],children:(0,r.tZ)(nv,{size:48,baseUrl:n.url,icon:o.icon})}),(0,r.BX)(f.G7,{css:[f.l0.flex.growAndShrink(1)],children:[(0,r.BX)(Zd.Ug,{align:"center",justify:"space-between",children:[(0,r.tZ)(f.xv,{variant:"subheadBig",children:null!==(a=o.name)&&void 0!==a?a:n.name}),(0,r.BX)(Zd.Ug,{spacing:"half",css:[f.l0.color.greenStronger],children:[(0,r.tZ)(Nr.Cycles,{}),(0,r.tZ)(f.xv,{children:"FREE"})]})]}),(0,r.tZ)(f.xv,{variant:"text",color:"dimmest",multiline:!0,maxLines:2,children:null!==(l=o.description)&&void 0!==l?l:n.description})]})]}),(0,r.tZ)(f.G7,{children:(0,r.BX)(iv,{children:[(0,r.tZ)(ev,{user:n.user}),s?(0,r.tZ)(f.DR,{text:"Official",css:[f.l0.color.accentPositiveStronger]}):null,null===(t=o.tags)||void 0===t?void 0:t.map((function(e){return(0,r.tZ)(f.DR,{text:e},e)})),null]})})]})})}var av=function(e){var t=e.size;return(0,r.BX)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.tZ)("path",{d:"M12.4809 4.27917C14.3036 2.06288 17.6964 2.06288 19.5191 4.27917V4.27917C20.3693 5.31306 21.6312 5.92075 22.9696 5.94087V5.94087C25.8388 5.98401 27.9542 8.63669 27.3578 11.4435V11.4435C27.0796 12.7529 27.3913 14.1183 28.21 15.1773V15.1773C29.9652 17.4474 29.2102 20.7552 26.6439 22.039V22.039C25.4467 22.6378 24.5735 23.7328 24.256 25.0332V25.0332C23.5755 27.8208 20.5186 29.293 17.9149 28.087V28.087C16.7003 27.5244 15.2997 27.5244 14.0851 28.087V28.087C11.4814 29.293 8.42446 27.8208 7.74396 25.0332V25.0332C7.42651 23.7328 6.55327 22.6378 5.3561 22.039V22.039C2.78981 20.7552 2.03482 17.4474 3.78997 15.1773V15.1773C4.60875 14.1183 4.9204 12.7529 4.64219 11.4435V11.4435C4.0458 8.63669 6.16124 5.98401 9.03038 5.94087V5.94087C10.3688 5.92075 11.6307 5.31306 12.4809 4.27917V4.27917Z",fill:"#F26207",fillOpacity:"0.75"}),(0,r.tZ)("path",{d:"M22.2172 13.2239C22.7054 12.7357 22.7054 11.9443 22.2172 11.4561C21.7291 10.968 20.9376 10.968 20.4495 11.4561L14 17.9056L11.5506 15.4561C11.0624 14.968 10.271 14.968 9.7828 15.4561C9.29465 15.9443 9.29465 16.7357 9.7828 17.2239L13.1161 20.5572C13.6043 21.0454 14.3957 21.0454 14.8839 20.5572L22.2172 13.2239Z",fill:f.TV.white})]})},lv=function(e){var t=e.size,n=void 0===t?24:t;return e.hasTooltip?(0,r.tZ)(f.u,{tooltip:"Verified",children:(0,r.tZ)(av,{size:n})}):(0,r.tZ)(av,{size:n})},sv=n(53429),cv=n(43020),uv=n(98814);function dv(){var e=(0,Te.Z)(["\n  query ExtensionCoverPage($extensionId: String!) {\n    extension(id: $extensionId) {\n      ... on Extension {\n        ...TopLevelExtension\n        manifest {\n          ... on ExtensionManifest {\n            supportEmail\n            website\n            longDescription\n            coverImages {\n              url\n              label\n            }\n          }\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return dv=function(){return e},e}var pv={},fv=(0,_e.Ps)(dv(),uv.R9);var hv=function(){return(0,r.tZ)(Rf.G,{css:[_f.l0.mr(8),{borderBottom:"1px solid ".concat(_f.TV.backgroundHighest)},_f.l0.width("100%")]})},mv=n(77848);function vv(){return(0,r.tZ)(f.G7,{css:[f.l0.display.flex,f.l0.align.center,f.l0.justify.center,f.l0.height("100%"),f.l0.width("100%")],children:(0,r.tZ)(Y.Z,{size:24})})}var gv=(0,mt.iv)([f.gU.nofill,f.l0.color.accentPrimaryStronger]);function Zv(e){var t=e.supportEmail,n=e.website,i=e.longDescription,o=e.baseUrl,a=e.coverImages,l=null===a||void 0===a?void 0:a[0];return(0,r.BX)(f.G7,{children:[(0,r.BX)(f.G7,{css:[f.l0.py(8)],children:[o&&l?(0,r.tZ)("img",{src:(0,tv.Vh)(o,l.url),alt:l.label,css:[{width:"100%"},f.l0.pb(16)]}):null,(0,r.tZ)(wr.ZP,{lineBreaks:!0,css:[{p:{fontSize:"14px !important"}}],children:null!==i&&void 0!==i?i:""})]}),(0,r.tZ)(hv,{}),(0,r.BX)(f.G7,{css:[f.l0.p(8)],children:[(0,r.tZ)(f.xv,{css:[f.l0.fontSize(12),f.l0.fontWeight.medium,f.l0.color.foregroundDimmest,f.l0.py(8)],children:"EXTENSION SUPPORT"}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.align.start],children:[n?(0,r.tZ)(f.ZP,{css:gv,small:!0,text:"Visit developer website",href:n,target:"_blank",iconLeft:(0,r.tZ)(Nr.ExternalLink,{})}):null,t?(0,r.tZ)(f.ZP,{small:!0,css:gv,text:t,href:"mailto:".concat(t),iconLeft:(0,r.tZ)(cv.Z,{})}):null,(0,r.tZ)(f.ZP,{small:!0,css:gv,text:"Replit Support",href:"https://replit.com/support",iconLeft:(0,r.tZ)(Nr.Logo,{})})]})]}),(0,r.tZ)(hv,{}),(0,r.BX)(f.G7,{css:[f.l0.p(8)],children:[(0,r.tZ)(f.xv,{variant:"small",css:[f.l0.color.foregroundDimmest],multiline:!0,maxLines:3,children:"Replit reviews extensions before they are published. If you encounter inappropriate content, please report it."}),(0,r.tZ)(f.G7,{css:[f.l0.py(8),f.l0.align.start],children:(0,r.tZ)(f.zx,{small:!0,text:"Report this extension",css:[gv,f.l0.color.accentNegativeStronger],iconLeft:(0,r.tZ)(sv.Z,{})})})]})]})}function bv(e){var t,n,o=e.extensionId,l=e.goBackToStore,s=(0,Ne.Z)(),c=(0,mv.WF)(),u=(0,mv.LM)(),d=(0,a.Z)(i.useState(!1),2),p=d[0],h=d[1],m=(0,mv.Mu)(),v=(0,mv.td)(),g=m.find((function(e){return e.extensionId===o})),Z=function(e){var t=(0,F.Z)({},pv,e);return Re.a(fv,t)}({variables:{extensionId:o},fetchPolicy:"cache-and-network"}),b=Z.data;if(Z.loading&&!b)return(0,r.tZ)(vv,{});if(!b||"Extension"!==(null===(t=b.extension)||void 0===t?void 0:t.__typename))return(0,r.tZ)("div",{children:"Not found"});var y,x,w=b.extension,C=w.manifest;return"ExtensionManifest"!==(null===C||void 0===C?void 0:C.__typename)?(0,r.tZ)("div",{children:"Manifest error"}):(0,r.tZ)(f.G7,{css:[f.l0.maxWidth(1200),f.l0.width("100%"),{alignSelf:"center"}],children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16),f.l0.align.start,f.l0.p(12),f.l0.height("100%")],children:[(0,r.tZ)(f.zx,{onClick:l,iconLeft:(0,r.tZ)(Nr.ArrowLeft,{}),text:"Back to Store"}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(16)],children:[(0,r.tZ)(nv,{size:64,baseUrl:w.url,icon:C.icon}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.align.start,f.l0.flex.shrink(1)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.shrink(1)],children:[(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.xv,{variant:"subheadBig",children:null!==(y=C.name)&&void 0!==y?y:w.name}),(0,r.tZ)(lv,{})]}),(0,r.tZ)(f.xv,{variant:"text",color:"dimmest",multiline:!0,maxLines:4,children:null!==(x=C.description)&&void 0!==x?x:w.description})]}),(0,r.BX)(iv,{children:[null===(n=C.tags)||void 0===n?void 0:n.map((function(e){return(0,r.tZ)(f.DR,{text:e},e)})),(0,r.tZ)(ev,{user:w.user}),null]})]})]}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.width("100%")],children:[null,g?(0,r.BX)(r.HY,{children:[(0,r.tZ)(f.zx,{text:"Open Extension",css:[f.l0.flex.growAndShrink(1)],colorway:"primary",onClick:function(){v({extensionId:w.id,installationId:g.installationId,name:w.name,url:(0,tv.BY)(w.url)})},disabled:p}),(0,r.tZ)(f.zx,{text:p?"Removing...":"Uninstall Extension",iconLeft:(0,r.tZ)(Nr.Trash,{}),css:[f.l0.flex.growAndShrink(1)],onClick:(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return g.installationId?(h(!0),[4,u({installationId:g.installationId,replId:s})]):[2];case 1:return e.sent(),h(!1),[2]}}))})),loading:p})]}):(0,r.tZ)(f.zx,{text:p?"Installing...":"Install Extension",iconLeft:(0,r.tZ)(Nr.Download,{}),colorway:"primary",css:[f.l0.flex.grow(1)],onClick:(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return h(!0),[4,c({extension:w,replId:s})];case 1:return e.sent(),h(!1),[2]}}))})),loading:p})]}),(0,r.tZ)(f.G7,{css:[f.l0.width("100%")],children:(0,r.tZ)(Zv,{supportEmail:C.supportEmail,website:C.website,longDescription:C.longDescription,baseUrl:w.url,coverImages:C.coverImages})})]})})}function yv(){var e=(0,Te.Z)(["\n  query ExtensionStorePane($replId: String!) {\n    extensionList {\n      ...TopLevelExtension\n      installation(replId: $replId) {\n        ...TopLevelExtensionInstallation\n      }\n    }\n  }\n  ","\n  ","\n"]);return yv=function(){return e},e}var xv={},wv=(0,_e.Ps)(yv(),uv.R9,uv.gp);function Cv(){return(0,r.BX)("svg",{width:"116",height:"136",viewBox:"0 0 116 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.BX)("g",{clipPath:"url(#clip0_512_49215)",children:[(0,r.tZ)("path",{d:"M34.8211 5.35826V8.85802C36.8023 8.11737 38.7028 7.7222 40.4849 7.65121L42.0489 3.56934L47.433 4.29816L46.5207 6.67866L45.8097 8.52911C47.3453 9.14908 48.7174 10.0861 49.8905 11.3237L52.6015 7.97066L55.6917 12.6891L52.8906 16.151C53.1442 16.7899 53.3669 17.4643 53.5589 18.1718C53.8977 19.4165 54.1442 20.7605 54.284 22.1992L57.4097 20.486L57.3695 27.921L54.1418 29.691C53.8812 31.797 53.4475 33.929 52.855 36.0563C52.7366 36.487 52.611 36.9177 52.4783 37.3483L55.0044 37.7175L55.1679 37.7411L52.0114 45.8836L49.2269 45.4789C47.9804 47.9872 46.5444 50.4103 44.9519 52.6843L46.4851 55.0719L41.0655 61.7236L39.4801 59.2556C39.1554 59.5821 38.826 59.9016 38.4943 60.2163C36.9753 61.6526 35.3875 62.9423 33.7476 64.0592L33.7097 67.8003L27.4867 71.1628L27.527 67.2963C25.7047 67.9494 23.9558 68.3114 22.3064 68.3942C22.1642 68.4013 22.0244 68.4061 21.8822 68.4084L20.285 72.4856L14.9412 71.655L16.5976 67.4311C15.0786 66.7804 13.7255 65.8102 12.5714 64.5466L10.5405 67.0194L9.84144 67.8713L6.81999 63.07L9.64002 59.6389C8.96463 57.8476 8.51438 55.8055 8.31532 53.5315L5.19434 55.1973L5.31045 47.7222L8.53807 45.9995C8.87695 43.4605 9.46465 40.8836 10.2704 38.328L7.60202 37.8878L10.8249 29.7549L13.5904 30.2139C14.8535 27.7127 16.3062 25.3015 17.9129 23.0464L16.4128 20.6162L21.8727 14.0237L23.4202 16.5319C25.0696 14.9039 26.8042 13.4439 28.6005 12.1945V8.47468L34.8259 5.01751V5.36299L34.8211 5.35826ZM32.5248 30.053C32.1789 30.169 31.8258 30.3275 31.4608 30.5286C28.2427 32.3176 25.6336 36.8751 25.6336 40.7085C25.6336 41.1391 25.6667 41.5414 25.7307 41.9153C26.226 44.8732 28.6052 46.0019 31.4632 44.4141C34.6813 42.6252 37.2904 38.07 37.2904 34.2343C37.2904 30.8339 35.2358 29.1443 32.5248 30.053Z",fill:"#686868"}),(0,r.tZ)("path",{d:"M57.4075 20.486L54.2818 22.1992C54.142 20.7605 53.8955 19.4164 53.5566 18.1717L53.5756 18.167L57.4051 20.486H57.4075Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M55.0065 37.6913L55.0018 37.7173L52.4756 37.3482C52.6083 36.9175 52.7339 36.4868 52.8524 36.0562H52.8571L55.0065 37.6913Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M52.6013 7.97057L49.8903 11.3236C48.7149 10.0884 47.3428 9.15136 45.8096 8.52902L46.5205 6.67857L46.53 6.68331L47.9092 5.04346L52.6037 7.97057H52.6013Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M47.433 4.2978L42.0465 3.56898L37.3828 0.604004L42.7669 1.33283L47.433 4.2978Z",fill:"#686868"}),(0,r.tZ)("path",{d:"M42.0461 3.56898L40.4821 7.65086C38.7 7.72185 36.7995 8.11702 34.8184 8.85767V5.35791L36.1881 4.98876L37.3824 0.604004L42.0461 3.56898Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M39.477 59.2529L41.0624 61.721L38.522 60.2444L38.4912 60.2137C38.8253 59.8989 39.1524 59.5795 39.477 59.2529Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M37.2902 34.2341C37.2902 38.0699 34.6811 42.625 31.4629 44.414C28.605 46.0018 26.2281 44.873 25.7305 41.9152L25.7921 41.9057C26.1191 41.7897 26.4556 41.6407 26.7992 41.449C30.0174 39.6601 32.6265 35.1026 32.6265 31.2692C32.6265 30.8361 32.5933 30.4291 32.527 30.0529C35.238 29.1442 37.2926 30.8338 37.2926 34.2341H37.2902Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M34.8206 5.01242L28.5952 8.46959V12.1894C26.7989 13.4388 25.0619 14.8965 23.4149 16.5269L21.8674 14.0186L19.7275 12.6603L19.7726 12.5893C21.1139 11.3494 22.5025 10.223 23.9339 9.2268V5.50697L30.1569 2.0498L34.8229 5.01478L34.8206 5.01242Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M27.5243 67.2939L27.484 71.1605L22.3037 68.3966V68.3919C23.9531 68.3091 25.702 67.947 27.5243 67.2939Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M21.8678 14.0188L16.4078 20.6089L11.7441 17.6463L17.2017 11.0562L19.7255 12.6581L21.8678 14.0188Z",fill:"#686868"}),(0,r.tZ)("path",{d:"M16.4073 20.6091L17.9074 23.0393C16.3007 25.2967 14.848 27.708 13.5849 30.2068L10.8194 29.7478L6.15332 26.7852L8.91884 27.2442C10.1843 24.743 11.637 22.3318 13.2437 20.0767L11.7436 17.6465L16.4073 20.6091Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M16.5926 67.4309L14.9362 71.6548L9.73926 68.659L10.5355 67.0192L12.5664 64.5464C13.7228 65.81 15.076 66.7802 16.5926 67.4309Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M10.8202 29.7497L7.59729 37.8827L5.29862 36.4227L2.93359 34.9177L6.1541 26.7871L10.8202 29.7497Z",fill:"#686868"}),(0,r.tZ)("path",{d:"M7.59719 37.8829L10.2655 38.323C9.45982 40.8786 8.87212 43.4555 8.53324 45.9945L5.30562 47.7172L5.1895 55.1924L3.77476 54.2932L0.523438 52.2274L0.639556 44.7522L3.86718 43.0319C4.15629 40.8644 4.62787 38.6685 5.2606 36.482L5.29851 36.4229L7.59482 37.8829H7.59719Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M6.81257 63.0676L9.83402 67.8688C9.52832 67.7079 4.15607 64.0732 4.15607 64.0732L1.64648 59.873L6.8102 63.0652L6.81257 63.0676Z",fill:"#686868"}),(0,r.tZ)("path",{d:"M9.63455 59.6362L6.81216 63.0674L1.64844 59.8752L4.33575 57.0522L9.63455 59.6362Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M9.6347 59.6362L4.3359 57.0522L3.76953 54.3002L3.77427 54.2955L5.18902 55.1947L8.31 53.5288C8.50669 55.8052 8.95932 57.8449 9.6347 59.6362Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M52.8549 36.0563C53.445 33.929 53.8786 31.797 54.1417 29.691L57.3693 27.921L57.4096 20.486L54.2839 22.1992C54.1441 20.7605 53.8976 19.4165 53.5587 18.1718C53.3691 17.4643 53.144 16.7922 52.8905 16.151L55.6915 12.6891L52.6013 7.97066L49.8903 11.3237C48.7149 10.0885 47.3428 9.15145 45.8096 8.52911L46.5205 6.67866L47.4329 4.29816L42.0488 3.56934L40.4847 7.65121C38.7027 7.7222 36.8021 8.11737 34.821 8.85802V5.01278L28.5956 8.46995V12.1898C26.7993 13.4392 25.0623 14.8968 23.4153 16.5272L21.8679 14.0189L16.4079 20.6115L17.908 23.0416C16.3013 25.2991 14.8486 27.7104 13.5855 30.2092L10.82 29.7501L7.59713 37.8831L10.2655 38.3232C9.45977 40.8788 8.87207 43.4557 8.53319 45.9948L5.30557 47.7175L5.18945 55.1926L8.31043 53.5267C8.50712 55.8031 8.95975 57.8429 9.63513 59.6342L6.81511 63.0653L9.83656 67.8665L10.5356 67.0147L12.5665 64.5419C13.723 65.8055 15.0761 66.7757 16.5928 67.4264L14.9363 71.6503L20.2801 72.4808L21.8773 68.4037C22.0172 68.4037 22.157 68.3942 22.3015 68.3895C23.9509 68.3067 25.6998 67.9446 27.5221 67.2915L27.4818 71.1581L33.7048 67.7955L33.7428 64.0544C35.385 62.9375 36.9727 61.6479 38.4894 60.2115C38.8235 59.8968 39.1506 59.5774 39.4752 59.2508L41.0606 61.7189L46.4802 55.0672L44.947 52.6796C46.5395 50.4056 47.9756 47.9849 49.2221 45.4742L52.0065 45.8788L55.1631 37.7364L54.9995 37.7127L52.4734 37.3436C52.6061 36.9129 52.7317 36.4823 52.8502 36.0516L52.8549 36.0563Z",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M32.5241 30.0529C35.2351 29.1442 37.2897 30.8338 37.2897 34.2341C37.2897 38.0699 34.6806 42.625 31.4624 44.414C28.6045 46.0018 26.2276 44.873 25.73 41.9152C25.666 41.5413 25.6328 41.139 25.6328 40.7083C25.6328 36.8749 28.2419 32.3174 31.4601 30.5285C31.825 30.3274 32.1781 30.1688 32.5241 30.0529V30.0529Z",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M42.0465 3.56898L37.3828 0.604004L42.7669 1.33283L47.433 4.2978",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M19.7705 12.5874C21.1118 11.3474 22.5005 10.2211 23.9318 9.22485V5.50502L30.1548 2.04785L34.8209 5.01283",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M2.93359 34.918L6.1541 26.7873L8.91962 27.2464C10.1851 24.7452 11.6377 22.334 13.2444 20.0789L11.7444 17.6487L17.2019 11.0562L19.7281 12.6605L21.868 14.0188",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M5.2606 36.4819C4.62787 38.6684 4.15629 40.862 3.86718 43.0319L0.639556 44.7522L0.523438 52.2273L3.77476 54.2931L5.1895 55.1923",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M32.506 29.937C32.5131 29.9772 32.5202 30.0151 32.5249 30.053C32.5913 30.4292 32.6244 30.8362 32.6244 31.2692C32.6244 35.1027 30.0153 39.6602 26.7972 41.4491C26.4536 41.6384 26.1171 41.7898 25.79 41.9058",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M52.6011 7.97057L47.9042 5.04346L46.5273 6.68331",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M37.3827 0.604004L36.1907 4.98876L34.821 5.35791L34.8115 5.36027",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M16.4078 20.6091L11.7441 17.6465",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M6.15332 26.7871L10.8194 29.7497",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M2.93359 34.918L5.29862 36.4229L7.59729 37.8829",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M6.81216 63.0674L1.64844 59.8752L4.33575 57.0522L9.63455 59.6362",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M4.3359 57.0523L3.76953 54.3003",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M9.83597 67.8688C9.53027 67.7079 4.15802 64.0732 4.15802 64.0732L1.64844 59.873",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M14.9367 71.6546L9.74219 68.6589L10.5384 67.019",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M27.484 71.1603L22.3037 68.3965",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M41.0628 61.7212L38.5225 60.2446",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M55.0068 37.6913L52.8574 36.0586",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M57.4067 20.486L53.5771 18.167",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M115.888 81.7139V88.3395L110.58 91.8724V85.0267L111.17 84.6575L115.888 81.7139Z",fill:"#4F5FFF"}),(0,r.tZ)("path",{d:"M115.889 81.7137L111.17 84.6574L109.502 83.7275H111.675C111.881 83.7275 112.069 83.6447 112.206 83.5074C112.343 83.3702 112.426 83.1832 112.426 82.975C112.426 82.5633 112.09 82.2249 111.675 82.2249H106.808L104.952 81.1908H109.028C109.237 81.1908 109.424 81.108 109.559 80.9707C109.696 80.8335 109.779 80.6465 109.779 80.4383C109.779 80.0266 109.445 79.6882 109.028 79.6882H107.478L110.168 78.1714L110.213 78.2495L115.891 81.7114L115.889 81.7137Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M109.794 21.6522L112.972 19.8609L114.472 17.0024C114.472 17.0024 114.83 23.1454 114.472 23.5027L112.972 26.3588L107.58 29.3971L105.381 30.6371L102.661 32.1704L102.227 32.4142L100.215 33.5476L97.5587 35.0431L97.1724 35.2608L94.0917 36.9977V40.2845L92.2314 37.1421V32.7147L94.0917 30.4998L96.5373 29.1227L102.457 25.7838L109.791 21.6522H109.794Z",fill:"#4F5FFF"}),(0,r.tZ)("path",{d:"M109.943 38.2781L112.604 36.7778L112.972 36.572L114.429 33.7963L114.472 33.7158C114.472 33.7158 114.83 39.8587 114.472 40.2161L112.972 43.0722L107.58 46.1105L105.381 47.3505L102.661 48.8838L102.227 49.1276L100.215 50.261L97.5587 51.7565L97.1724 51.9742L94.0917 53.7111V56.9979L92.2314 53.8554V49.4281L94.0917 47.2132L99.8597 43.9619L104.528 41.3306L107.189 39.8327L109.943 38.2804V38.2781Z",fill:"#4F5FFF"}),(0,r.tZ)("path",{d:"M107.189 56.5388L109.947 54.9842L112.606 53.4863L112.974 53.2804L114.431 50.5048L114.474 50.4243C114.474 50.4243 114.831 56.5672 114.474 56.9246L112.974 59.7807L107.582 62.819L105.383 64.059L102.663 65.5923L102.229 65.8361L100.217 66.9695L97.5606 68.465L97.1744 68.6827L94.0937 70.4196V73.704L92.2334 70.5639V66.1366L94.0937 63.9217L99.8617 60.6704L104.53 58.0391L107.191 56.5412L107.189 56.5388Z",fill:"#4F5FFF"}),(0,r.tZ)("path",{d:"M104.72 74.7471L107.301 73.2942L110.123 71.7041L112.718 70.2417L112.972 70.0973L114.472 67.2412C114.472 67.2412 114.83 73.3818 114.472 73.7391L112.972 76.5976L110.168 78.1759L107.479 79.6927L104.884 81.1551L104.815 81.1929L102.983 82.2246L100.334 83.7154L97.0966 85.5398L94.0917 87.2341V90.5185L92.2314 87.3785V82.9487L94.0917 80.7362L99.9498 77.4329L104.72 74.7448V74.7471Z",fill:"#4F5FFF"}),(0,r.tZ)("path",{d:"M114.472 17.0048L112.972 19.8633L109.794 21.6522L104.095 18.7819V11.5718L114.472 17.0048Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M114.471 67.239L112.971 70.0952L112.718 70.2395L112.694 70.1945H108.831L106.213 68.4813H111.781C111.988 68.4813 112.177 68.3985 112.315 68.2613C112.452 68.124 112.535 67.9371 112.535 67.7312C112.535 67.3171 112.199 66.9811 111.781 66.9811H103.878V66.9527L102.257 65.8926L102.227 65.8334L102.66 65.5897H107.705C107.912 65.5897 108.101 65.5045 108.236 65.3697C108.374 65.2348 108.457 65.0455 108.457 64.8396C108.457 64.4255 108.123 64.0895 107.705 64.0895H105.4L105.378 64.0563L107.577 62.8164L114.471 67.2414V67.239Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M107.58 29.397L114.431 33.7936L112.973 36.5692L112.606 36.7751H108.831L106.213 35.0619H111.781C111.988 35.0619 112.177 34.9791 112.315 34.8418C112.452 34.707 112.535 34.52 112.535 34.3118C112.535 33.8977 112.199 33.5617 111.781 33.5617H103.878V33.5333L102.257 32.4732L102.227 32.414L102.66 32.1703H107.705C107.912 32.1703 108.101 32.0875 108.236 31.9502C108.374 31.8153 108.457 31.626 108.457 31.4202C108.457 31.0061 108.123 30.67 107.705 30.67H105.4L105.378 30.6369L107.577 29.397H107.58Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M107.58 46.1055L114.431 50.5021L112.973 53.2777L112.606 53.4836H108.831L106.213 51.7704H111.781C111.988 51.7704 112.177 51.6876 112.315 51.5503C112.452 51.4155 112.535 51.2285 112.535 51.0203C112.535 50.6062 112.199 50.2702 111.781 50.2702H103.878V50.2418L102.257 49.1817L102.227 49.1225L102.66 48.8788H107.705C107.912 48.8788 108.101 48.7936 108.236 48.6587C108.374 48.5238 108.457 48.3345 108.457 48.1287C108.457 47.7146 108.123 47.3785 107.705 47.3785H105.4L105.378 47.3454L107.577 46.1055H107.58Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M99.4284 70.1948H112.692L112.716 70.2397L110.121 71.7021L110.116 71.6926H96.6012C96.3927 71.6926 96.2055 71.6098 96.068 71.4726C95.9306 71.3353 95.8477 71.1507 95.8477 70.9425C95.8477 70.5308 96.1842 70.1924 96.6012 70.1924H99.426L99.4284 70.1948Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M108.832 36.7753H112.607L109.946 38.2756H96.6061C96.3976 38.2756 96.2104 38.1904 96.0729 38.0555C95.9378 37.9182 95.8525 37.7313 95.8525 37.5231C95.8525 37.1113 96.189 36.7729 96.6061 36.7729H108.832V36.7753Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M108.831 53.4863H112.606L109.947 54.9841H96.6032C96.3947 54.9841 96.2074 54.9013 96.07 54.7641C95.9325 54.6268 95.8496 54.4422 95.8496 54.234C95.8496 53.8223 96.1861 53.4839 96.6032 53.4839H108.829L108.831 53.4863Z",fill:"#FFCF32"}),(0,r.tZ)("path",{d:"M111.78 33.564C112.195 33.564 112.534 33.8977 112.534 34.3141C112.534 34.5224 112.451 34.7093 112.313 34.8442C112.176 34.9814 111.989 35.0642 111.78 35.0642H97.5661L97.5566 35.0453L100.213 33.5498L100.223 33.5664H111.78V33.564Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M111.78 50.2725C112.195 50.2725 112.534 50.6061 112.534 51.0226C112.534 51.2309 112.451 51.4178 112.313 51.5527C112.176 51.6899 111.989 51.7727 111.78 51.7727H97.5661L97.5566 51.7538L100.213 50.2583L100.223 50.2749H111.78V50.2725Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M111.78 66.981C112.195 66.981 112.534 67.3146 112.534 67.7311C112.534 67.937 112.451 68.1239 112.313 68.2612C112.176 68.3984 111.989 68.4812 111.78 68.4812H97.5661L97.5566 68.4623L100.213 66.9668L100.223 66.9834H111.78V66.981Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M106.808 82.2271H111.676C112.088 82.2271 112.427 82.5631 112.427 82.9772C112.427 83.183 112.344 83.3723 112.207 83.5096C112.069 83.6468 111.882 83.7297 111.676 83.7297H100.341L100.334 83.7178L102.983 82.2271H106.811H106.808Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M109.029 79.6904C109.443 79.6904 109.78 80.0264 109.78 80.4405C109.78 80.6464 109.697 80.8357 109.559 80.973C109.424 81.1102 109.237 81.193 109.029 81.193H104.953L104.884 81.1552L107.479 79.6928H109.029V79.6904Z",fill:"#FFCF32"}),(0,r.tZ)("path",{d:"M107.706 30.6723C108.121 30.6723 108.458 31.0059 108.458 31.4224C108.458 31.6283 108.375 31.8176 108.237 31.9525C108.102 32.0897 107.913 32.1725 107.706 32.1725H102.661L105.382 30.6392L105.403 30.6723H107.709H107.706Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M107.706 47.3813C108.121 47.3813 108.458 47.7149 108.458 48.1314C108.458 48.3373 108.375 48.5266 108.237 48.6614C108.102 48.7963 107.913 48.8815 107.706 48.8815H102.661L105.382 47.3481L105.403 47.3813H107.709H107.706Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M107.706 64.0893C108.121 64.0893 108.458 64.4229 108.458 64.8394C108.458 65.0453 108.375 65.2346 108.237 65.3695C108.102 65.5043 107.913 65.5895 107.706 65.5895H102.661L105.382 64.0562L105.403 64.0893H107.709H107.706Z",fill:"#FFCF32"}),(0,r.tZ)("path",{d:"M107.277 73.247L107.301 73.292L104.72 74.7449H99.7415C99.5353 74.7449 99.3481 74.6597 99.2106 74.5248C99.0732 74.3899 98.9902 74.2006 98.9902 73.9947C98.9902 73.5806 99.3267 73.2446 99.7415 73.2446H107.277V73.247Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M107.19 39.83L104.528 41.3279H99.7415C99.5353 41.3279 99.3481 41.2451 99.2106 41.1078C99.0732 40.9729 98.9902 40.7836 98.9902 40.5778C98.9902 40.1637 99.3267 39.8276 99.7415 39.8276H107.19V39.83Z",fill:"#FFCF32"}),(0,r.tZ)("path",{d:"M107.19 56.5385L104.528 58.0364H99.7415C99.5353 58.0364 99.3481 57.9535 99.2106 57.8163C99.0732 57.6814 98.9902 57.4921 98.9902 57.2863C98.9902 56.8721 99.3267 56.5361 99.7415 56.5361H107.19V56.5385Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M104.72 74.7474L99.9499 77.4355L94.0918 73.6683V70.417L97.1725 68.6802L99.4285 70.1946H96.6037C96.189 70.1946 95.8502 70.5306 95.8502 70.9447C95.8502 71.153 95.9355 71.3399 96.0706 71.4748C96.2056 71.6097 96.3952 71.6948 96.6037 71.6948H101.772V71.7706L104.033 73.2045V73.2495H99.7413C99.329 73.2495 98.9901 73.5832 98.9901 73.9996C98.9901 74.2055 99.073 74.3948 99.2105 74.5297C99.3479 74.6646 99.5352 74.7497 99.7413 74.7497H104.72V74.7474Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M104.528 41.3279L99.8598 43.9593L94.0918 40.2489V36.9976L97.1725 35.2607L99.4285 36.7752H96.6037C96.189 36.7752 95.8502 37.1112 95.8502 37.5253C95.8502 37.7335 95.9355 37.9205 96.0706 38.0577C96.208 38.1926 96.3952 38.2778 96.6037 38.2778H101.772V38.3511L104.033 39.7851V39.8301H99.7413C99.329 39.8301 98.9901 40.1637 98.9901 40.5802C98.9901 40.7861 99.073 40.9754 99.2105 41.1102C99.3479 41.2475 99.5352 41.3303 99.7413 41.3303H104.528V41.3279Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M104.528 58.0364L99.8598 60.6678L94.0918 56.9574V53.7061L97.1725 51.9692L99.4285 53.4837H96.6037C96.189 53.4837 95.8502 53.8197 95.8502 54.2338C95.8502 54.442 95.9355 54.629 96.0706 54.7638C96.2056 54.8987 96.3952 54.9839 96.6037 54.9839H101.772V55.0596L104.033 56.4936V56.5386H99.7413C99.329 56.5386 98.9901 56.8722 98.9901 57.2887C98.9901 57.4946 99.073 57.6839 99.2105 57.8187C99.3479 57.956 99.5352 58.0388 99.7413 58.0388H104.528V58.0364Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M103.808 91.612V95.8311L94.0918 90.5187V87.2343L97.0967 85.54L97.1204 85.5826L98.3597 86.3091L100.083 87.2864L102.772 88.815L103.808 89.4042V90.0455V91.612Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M102.395 25.6723L102.459 25.7859L96.5396 29.1224L96.4969 29.0467L92.9541 26.9052V20.3174L102.395 25.6723Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M88.0697 102.005L96.4136 97.1704V110.37L53.2412 135.389V122.189L88.0697 102.005Z",fill:"#686868"}),(0,r.tZ)("path",{d:"M88.0699 102.005L53.2414 122.189V135.389L51.957 134.655V121.456L95.1294 96.437L96.4138 97.1706L88.0699 102.005Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M82.9376 33.9949C81.7219 35.5898 79.8 36.6215 77.6364 36.6215H76.8283C74.9894 36.6215 73.3258 35.8761 72.1219 34.674C71.9371 34.4894 71.7641 34.2978 71.6053 34.0919C70.7096 32.9584 70.174 31.5268 70.174 29.9722C70.174 28.9073 69.6929 27.9064 68.8825 27.213C66.079 24.8136 64.3515 21.1979 64.5269 17.1847C64.8065 10.7862 69.9963 5.58503 76.4041 5.28687C83.5727 4.95323 89.49 10.6584 89.49 17.7407C89.49 21.3635 87.9425 24.6219 85.4732 26.8983C84.7267 27.5846 84.2978 28.5453 84.2978 29.5581V29.9698C84.2978 31.4795 83.793 32.8732 82.9399 33.9901L82.9376 33.9949Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M87.5463 66.0795V80.6607C87.5463 80.928 87.4586 81.186 87.2951 81.3966L87.2714 81.4297C86.9112 81.8935 86.269 82.0331 85.75 81.7563V64.0303L87.1079 65.1472C87.3875 65.3767 87.5487 65.7174 87.5487 66.0771L87.5463 66.0795Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M85.7502 81.7565V97.076C85.7502 97.7007 85.5559 98.2757 85.2265 98.7537C84.6909 99.5251 83.7999 100.031 82.788 100.031C81.9704 100.031 81.231 99.7026 80.6955 99.1654C80.5675 99.0376 80.4537 98.9004 80.3518 98.7537C80.0225 98.2757 79.8281 97.6983 79.8281 97.076V62.2369C79.8281 60.9567 80.6433 59.8658 81.7832 59.4541V60.9614C81.7832 61.5483 82.2595 62.0239 82.8472 62.0239H83.0439C83.6316 62.0239 84.1079 61.5483 84.1079 60.9614V59.5913C85.0795 60.0764 85.7454 61.0798 85.7454 62.2369V81.7565H85.7502Z",fill:"#4F5FFF"}),(0,r.tZ)("path",{d:"M82.7877 100.034C83.7996 100.034 84.6906 99.5273 85.2262 98.7559C85.2262 98.7559 84.3707 100.85 83.2379 101.326C83.091 101.39 82.9417 101.423 82.7877 101.423C82.5791 101.423 82.3777 101.359 82.1834 101.25C81.7521 101.011 81.3682 100.55 81.0649 100.09C80.6217 99.4232 80.3516 98.7582 80.3516 98.7582C80.4535 98.9073 80.5672 99.0422 80.6952 99.17C81.2307 99.7071 81.9701 100.036 82.7877 100.036V100.034Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M84.1128 59.591V60.9611C84.1128 61.5479 83.6365 62.0235 83.0488 62.0235H82.8521C82.2644 62.0235 81.7881 61.5479 81.7881 60.9611V56.3042C81.7881 55.7197 82.2644 55.2417 82.8521 55.2417H83.0488C83.6365 55.2417 84.1128 55.7197 84.1128 56.3042V59.591Z",fill:"#4F5FFF"}),(0,r.tZ)("path",{d:"M71.3983 35.8878C71.4647 35.8807 71.5381 35.8925 71.6045 35.9209L72.1685 36.1622L72.1756 36.1528C72.7775 36.6473 73.6922 37.0449 74.7942 37.291L83.1642 40.8878L83.368 40.9753C83.5978 41.0747 83.7021 41.3373 83.605 41.5645C83.5339 41.7325 83.368 41.8366 83.1926 41.8366H83.176C83.1215 41.8366 83.067 41.8201 83.0149 41.7988L71.4078 36.813L71.2537 36.7467C71.0239 36.6473 70.9196 36.3823 71.0168 36.1575C71.0855 35.9966 71.2371 35.8972 71.4007 35.8878H71.3983Z",fill:"#686868"}),(0,r.tZ)("path",{d:"M83.1719 37.6341L83.3497 37.7098C83.5772 37.8068 83.6814 38.0719 83.5843 38.2967C83.5132 38.467 83.3473 38.5688 83.1743 38.5688C83.1127 38.5688 83.0534 38.557 82.9966 38.5333L80.5225 37.4708C80.4088 37.4235 80.3258 37.3312 80.2832 37.2271L80.2666 37.1703C80.6339 37.0685 80.9752 36.9479 81.2832 36.813L81.288 36.8225L83.1719 37.6341Z",fill:"#686868"}),(0,r.tZ)("path",{d:"M83.1717 44.1513L83.3115 44.2128C83.5414 44.3122 83.6457 44.5772 83.5485 44.802C83.475 44.9724 83.3115 45.0741 83.1362 45.0741C83.084 45.0741 83.0272 45.0646 82.9774 45.0457C82.9703 45.0457 82.9655 45.041 82.9584 45.0386L71.4035 40.0741L71.2162 39.9937C70.9888 39.8966 70.8845 39.6316 70.9816 39.4068C71.0527 39.2341 71.221 39.1323 71.3964 39.1323C71.4532 39.1323 71.5125 39.1465 71.5693 39.1702L83.1717 44.1536V44.1513Z",fill:"#686868"}),(0,r.tZ)("path",{d:"M83.2377 101.323V101.96C83.2377 102.106 83.1785 102.239 83.0837 102.331C82.9889 102.428 82.8562 102.485 82.714 102.485C82.4225 102.485 82.1855 102.248 82.1855 101.957V101.245C82.3799 101.354 82.5813 101.418 82.7898 101.418C82.9415 101.418 83.0932 101.385 83.2401 101.321L83.2377 101.323Z",fill:"#4F5FFF"}),(0,r.tZ)("path",{d:"M83.1718 41.8366V44.1485L71.5695 39.165C71.5126 39.1414 71.4534 39.1272 71.3965 39.1272V36.8271L71.4036 36.8105L83.0107 41.7964C83.0652 41.8176 83.1197 41.8318 83.1718 41.8342V41.8366Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M83.1719 38.5688V40.8641L83.1601 40.8878L74.79 37.291C75.5484 37.4567 76.3896 37.5513 77.2807 37.5513C78.3707 37.5513 79.3874 37.4117 80.2618 37.168L80.2784 37.2248C80.3211 37.3312 80.404 37.4212 80.5178 37.4685L82.9918 38.531C83.0487 38.5546 83.1079 38.5665 83.1695 38.5665L83.1719 38.5688Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M83.1719 34.771V37.6342L81.2879 36.8226L81.2832 36.8131C82.4444 36.3067 83.1719 35.5803 83.1719 34.771Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M82.9753 45.043L82.9563 45.095C82.6032 45.6937 81.8378 46.2096 80.8141 46.574C80.7785 46.4509 80.6885 46.3421 80.5605 46.29L71.6194 42.4471C71.5483 42.4187 71.4725 42.4069 71.4014 42.414V40.0808L71.4061 40.0737L82.9611 45.0382C82.9611 45.0382 82.9729 45.043 82.98 45.0453L82.9753 45.043Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M82.9374 33.9946C83.0891 34.2407 83.1744 34.501 83.1744 34.7708C83.1744 35.5777 82.4468 36.3041 81.2857 36.8129C80.9752 36.9478 80.6363 37.0685 80.269 37.1702C79.3946 37.4139 78.378 37.5535 77.2879 37.5535C76.3968 37.5535 75.5532 37.4589 74.7972 37.2933C73.6953 37.0495 72.7829 36.6496 72.1786 36.1551C71.6834 35.7457 71.4014 35.2748 71.4014 34.7708C71.4014 34.5507 71.4559 34.3377 71.5578 34.1319L71.6075 34.094C71.7663 34.2975 71.9393 34.4916 72.1241 34.6761C73.328 35.8782 74.9939 36.6236 76.8305 36.6236H77.6386C79.8022 36.6236 81.7241 35.5919 82.9398 33.997L82.9374 33.9946Z",fill:"#686868"}),(0,r.tZ)("path",{d:"M80.8118 46.5741C80.8378 46.6711 80.8331 46.7776 80.7904 46.877C80.7193 47.0473 80.5534 47.1491 80.3781 47.1491C80.3188 47.1491 80.2596 47.1373 80.2004 47.1136L79.6292 46.8699L71.3991 43.3346L71.2592 43.2731C71.0317 43.1737 70.9275 42.911 71.0223 42.6839C71.0886 42.5277 71.2355 42.4307 71.3943 42.4141C71.4654 42.407 71.5412 42.4189 71.6123 42.4472L80.5535 46.2901C80.6814 46.3445 80.7715 46.451 80.807 46.5741H80.8118Z",fill:"#686868"}),(0,r.tZ)("path",{d:"M80.2001 47.1112L79.2025 47.769H75.1217C74.3113 47.769 73.1761 46.3918 73.1074 46.3066C74.1738 46.813 75.6502 47.1277 77.2829 47.1277C78.1124 47.1277 78.9015 47.0473 79.6148 46.9006L79.629 46.8675L80.2001 47.1112Z",fill:"#686868"}),(0,r.tZ)("path",{d:"M73.107 46.307C72.0478 45.8053 71.3984 45.1143 71.3984 44.3477V43.3325L79.631 46.8678L79.6168 46.9009C78.9035 47.0476 78.1144 47.1281 77.2849 47.1281C75.6522 47.1281 74.1758 46.8134 73.1094 46.307H73.107Z",fill:"#444444"}),(0,r.tZ)("path",{d:"M77.4017 71.1836V85.7671C77.4017 86.0345 77.3141 86.2924 77.1506 86.503L77.1269 86.5361C76.7666 86.9999 76.1244 87.1372 75.6055 86.8627V69.1367L76.9633 70.2512C77.243 70.4831 77.4041 70.8239 77.4041 71.1812L77.4017 71.1836Z",fill:"#DB588A"}),(0,r.tZ)("path",{d:"M75.6027 86.863V102.182C75.6027 102.807 75.4084 103.382 75.079 103.86C74.5434 104.632 73.6524 105.138 72.6405 105.138C71.8229 105.138 71.0836 104.809 70.548 104.272C70.42 104.144 70.3063 104.007 70.2044 103.86C69.875 103.382 69.6807 102.805 69.6807 102.182V67.3433C69.6807 66.0632 70.4959 64.9723 71.6357 64.5605V66.0679C71.6357 66.6547 72.112 67.1303 72.6997 67.1303H72.8964C73.4818 67.1303 73.9605 66.6547 73.9605 66.0679V64.6978C74.9321 65.1829 75.598 66.1862 75.598 67.3433V86.863H75.6027Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M72.0389 106.352C71.6076 106.113 71.2237 105.651 70.9203 105.192C70.4772 104.525 70.207 103.86 70.207 103.86C70.3089 104.009 70.4227 104.144 70.5506 104.272C71.0862 104.809 71.8256 105.138 72.6431 105.138C73.655 105.138 74.5461 104.631 75.0816 103.86C75.0816 103.86 74.2262 105.954 73.0934 106.43C72.9465 106.494 72.7972 106.527 72.6431 106.527C72.4346 106.527 72.2332 106.463 72.0389 106.354V106.352Z",fill:"#DB588A"}),(0,r.tZ)("path",{d:"M73.9654 64.6979V66.068C73.9654 66.6548 73.4867 67.1305 72.9013 67.1305H72.7046C72.1169 67.1305 71.6406 66.6548 71.6406 66.068V61.4111C71.6406 60.8243 72.1169 60.3486 72.7046 60.3486H72.9013C73.4867 60.3486 73.9654 60.8243 73.9654 61.4111V64.6979Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M73.0903 106.43V107.066C73.0903 107.213 73.031 107.345 72.9362 107.438C72.8414 107.535 72.7087 107.592 72.5665 107.592C72.2751 107.592 72.0381 107.355 72.0381 107.064V106.352C72.2324 106.46 72.4338 106.524 72.6424 106.524C72.794 106.524 72.9457 106.491 73.0926 106.427L73.0903 106.43Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M67.5245 45.5564V79.1674C67.5245 79.8631 67.1382 80.502 66.5197 80.8286L63.958 82.1774C63.6333 82.3501 63.2684 82.4187 62.9106 82.3856V47.5347C62.9106 46.7798 62.5053 46.0865 61.8513 45.7126L43.9975 35.5588L43.9619 35.5304C44.1017 35.36 44.2747 35.211 44.4714 35.0997L46.4502 33.9639C47.0189 33.6397 47.7133 33.6326 48.2891 33.9426L66.5434 43.9071C67.1477 44.2337 67.5221 44.8678 67.5221 45.5541L67.5245 45.5564Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M53.6302 93.3086L56.2843 91.8936L66.8298 97.3455L57.7085 100.003L23.4891 109.974L21.0459 110.684L53.6302 93.3086Z",fill:"white"}),(0,r.tZ)("path",{d:"M62.913 82.3788V82.3859C62.6429 82.3623 62.3751 82.2771 62.1333 82.1375L44.4596 71.7991C43.8838 71.4631 43.5283 70.8455 43.5283 70.1782V36.7281C43.5283 36.2832 43.6847 35.862 43.962 35.5308L43.9975 35.5592L61.8513 45.713C62.5054 46.0845 62.9106 46.7802 62.9106 47.535V82.3788H62.913ZM60.6475 52.8829V49.3949C60.6475 49.1062 60.4958 48.8365 60.2423 48.6898L47.1256 41.0466C46.5806 40.7272 45.8957 41.12 45.8957 41.7518V45.2397C45.8957 45.5284 46.0474 45.7982 46.3009 45.9449L59.4176 53.588C59.9626 53.9075 60.6475 53.5147 60.6475 52.8829ZM59.811 76.2052V74.7026C59.811 74.5535 59.7351 74.4162 59.6095 74.3358L57.946 73.2899C57.6569 73.11 57.2801 73.3159 57.2801 73.6567V75.1593C57.2801 75.3083 57.3559 75.4456 57.4815 75.526L59.1451 76.5719C59.4342 76.7518 59.811 76.5459 59.811 76.2052ZM59.811 72.1824V70.6798C59.811 70.5284 59.7351 70.3935 59.6095 70.3131L57.946 69.2695C57.6569 69.0873 57.2801 69.2932 57.2801 69.6363V71.1389C57.2801 71.2903 57.3559 71.4252 57.4815 71.5057L59.1451 72.5492C59.4342 72.7314 59.811 72.5232 59.811 72.1824ZM59.811 68.1574V66.6548C59.811 66.5057 59.7351 66.3684 59.6095 66.288L57.946 65.2421C57.6569 65.0599 57.2801 65.2681 57.2801 65.6088V67.1115C57.2801 67.2605 57.3559 67.3978 57.4815 67.4782L59.1451 68.5218C59.4342 68.704 59.811 68.4981 59.811 68.155V68.1574ZM59.811 64.1323V62.632C59.811 62.4806 59.7351 62.3457 59.6095 62.2653L57.946 61.2217C57.6569 61.0395 57.2801 61.2454 57.2801 61.5885V63.0911C57.2801 63.2402 57.3559 63.3774 57.4815 63.4579L59.1451 64.5014C59.4342 64.6836 59.811 64.4754 59.811 64.1346V64.1323ZM59.811 60.1096V58.607C59.811 58.4579 59.7351 58.3206 59.6095 58.2402L57.946 57.1943C57.6569 57.0121 57.2801 57.2203 57.2801 57.5611V59.0637C57.2801 59.2127 57.3559 59.35 57.4815 59.4304L59.1451 60.474C59.4342 60.6562 59.811 60.4503 59.811 60.1072V60.1096ZM56.2208 74.1985V72.6959C56.2208 72.5445 56.145 72.4096 56.017 72.3292L54.3558 71.2856C54.0667 71.1034 53.6899 71.3093 53.6899 71.6524V73.155C53.6899 73.3064 53.7657 73.4413 53.8913 73.5218L55.5549 74.5653C55.8416 74.7475 56.2208 74.5416 56.2208 74.1985ZM56.2208 70.1735V68.6708C56.2208 68.5218 56.145 68.3845 56.017 68.3041L54.3558 67.2582C54.0667 67.0783 53.6899 67.2842 53.6899 67.6249V69.1275C53.6899 69.2766 53.7657 69.4139 53.8913 69.4943L55.5549 70.5402C55.8416 70.7201 56.2208 70.5142 56.2208 70.1735ZM56.2208 66.1507V64.6481C56.2208 64.4967 56.145 64.3618 56.017 64.2814L54.3558 63.2378C54.0667 63.0556 53.6899 63.2615 53.6899 63.6046V65.1072C53.6899 65.2586 53.7657 65.3935 53.8913 65.474L55.5549 66.5175C55.8416 66.6997 56.2208 66.4915 56.2208 66.1507ZM56.2208 62.1257V60.623C56.2208 60.474 56.145 60.3367 56.017 60.2563L54.3558 59.2104C54.0667 59.0282 53.6899 59.2364 53.6899 59.5771V61.0797C53.6899 61.2288 53.7657 61.3661 53.8913 61.4465L55.5549 62.4901C55.8416 62.6723 56.2208 62.4664 56.2208 62.1233V62.1257ZM56.2208 58.1006V56.6003C56.2208 56.4489 56.145 56.314 56.017 56.2336L54.3558 55.19C54.0667 55.0078 53.6899 55.2137 53.6899 55.5568V57.0594C53.6899 57.2085 53.7657 57.3457 53.8913 57.4262L55.5549 58.4697C55.8416 58.6519 56.2208 58.4437 56.2208 58.1029V58.1006ZM52.6282 72.1895V70.6869C52.6282 70.5379 52.5524 70.4006 52.4268 70.3202L50.7632 69.2743C50.4765 69.0944 50.0973 69.3003 50.0973 69.641V71.1436C50.0973 71.2927 50.1731 71.43 50.3011 71.5104L51.9647 72.5563C52.2514 72.7362 52.6282 72.5303 52.6282 72.1895ZM52.6282 68.1668V66.6642C52.6282 66.5128 52.5524 66.3779 52.4268 66.2974L50.7632 65.2539C50.4765 65.0717 50.0973 65.2776 50.0973 65.6207V67.1233C50.0973 67.2747 50.1731 67.4096 50.3011 67.4901L51.9647 68.5336C52.2514 68.7158 52.6282 68.5099 52.6282 68.1668ZM52.6282 64.1417V62.6391C52.6282 62.4901 52.5524 62.3528 52.4268 62.2724L50.7632 61.2265C50.4765 61.0443 50.0973 61.2525 50.0973 61.5932V63.0958C50.0973 63.2449 50.1731 63.3822 50.3011 63.4626L51.9647 64.5085C52.2514 64.6884 52.6282 64.4825 52.6282 64.1417ZM52.6282 60.119V58.6164C52.6282 58.465 52.5524 58.3301 52.4268 58.2496L50.7632 57.2061C50.4765 57.0239 50.0973 57.2298 50.0973 57.5729V59.0755C50.0973 59.2269 50.1731 59.3618 50.3011 59.4423L51.9647 60.4858C52.2514 60.668 52.6282 60.4598 52.6282 60.119ZM52.6282 56.0939V54.5913C52.6282 54.4423 52.5524 54.305 52.4268 54.2246L50.7632 53.1787C50.4765 52.9965 50.0973 53.2047 50.0973 53.5454V55.048C50.0973 55.1971 50.1731 55.3344 50.3011 55.4148L51.9647 56.4584C52.2514 56.6406 52.6282 56.4347 52.6282 56.0916V56.0939ZM49.038 70.1829V68.6803C49.038 68.5289 48.9622 68.394 48.8366 68.3135L47.173 67.27C46.8839 67.0878 46.5071 67.296 46.5071 67.6368V69.1394C46.5071 69.2908 46.583 69.4257 46.7085 69.5062L48.3721 70.5497C48.6612 70.7319 49.038 70.526 49.038 70.1829ZM49.038 66.1578V64.6552C49.038 64.5062 48.9622 64.3689 48.8366 64.2885L47.173 63.2425C46.8839 63.0627 46.5071 63.2686 46.5071 63.6093V65.1119C46.5071 65.261 46.583 65.3983 46.7085 65.4787L48.3721 66.5246C48.6612 66.7044 49.038 66.4986 49.038 66.1578ZM49.038 62.1351V60.6325C49.038 60.4811 48.9622 60.3462 48.8366 60.2657L47.173 59.2222C46.8839 59.04 46.5071 59.2459 46.5071 59.589V61.0916C46.5071 61.243 46.583 61.3779 46.7085 61.4584L48.3721 62.5019C48.6612 62.6841 49.038 62.4759 49.038 62.1351ZM49.038 58.11V56.6074C49.038 56.4584 48.9622 56.3211 48.8366 56.2407L47.173 55.1947C46.8839 55.0125 46.5071 55.2208 46.5071 55.5615V57.0641C46.5071 57.2132 46.583 57.3505 46.7085 57.4309L48.3721 58.4744C48.6612 58.6567 49.038 58.4508 49.038 58.1077V58.11ZM49.038 54.0873V52.5847C49.038 52.4333 48.9622 52.2984 48.8366 52.2179L47.173 51.1744C46.8839 50.9922 46.5071 51.1981 46.5071 51.5412V53.0438C46.5071 53.1929 46.583 53.3301 46.7085 53.4106L48.3721 54.4541C48.6612 54.6363 49.038 54.4281 49.038 54.0873Z",fill:"#4F5FFF"}),(0,r.tZ)("path",{d:"M60.6473 49.3926V52.8806C60.6473 53.51 59.9648 53.9028 59.4174 53.5857L46.3007 45.9426C46.0495 45.7959 45.8955 45.5285 45.8955 45.2374V41.7495C45.8955 41.12 46.578 40.7272 47.1254 41.0443L60.2421 48.6875C60.4933 48.8342 60.6473 49.1016 60.6473 49.3926Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M59.8102 74.7023V76.2049C59.8102 76.5457 59.4358 76.7515 59.1443 76.5717L57.4807 75.5258C57.3551 75.4477 57.2793 75.3081 57.2793 75.159V73.6564C57.2793 73.3157 57.6537 73.1098 57.9452 73.2896L59.6088 74.3355C59.7344 74.4136 59.8102 74.5532 59.8102 74.7023Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M59.8102 70.6794V72.182C59.8102 72.5204 59.4358 72.7287 59.1443 72.5488L57.4807 71.5053C57.3551 71.4248 57.2793 71.2876 57.2793 71.1385V69.6359C57.2793 69.2952 57.6537 69.0893 57.9452 69.2691L59.6088 70.3127C59.7344 70.3931 59.8102 70.5304 59.8102 70.6794Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M59.8102 66.6546V68.1572C59.8102 68.4979 59.4358 68.7038 59.1443 68.524L57.4807 67.4804C57.3551 67.4023 57.2793 67.2627 57.2793 67.1136V65.611C57.2793 65.2703 57.6537 65.0621 57.9452 65.2443L59.6088 66.2902C59.7344 66.3683 59.8102 66.5079 59.8102 66.6569V66.6546Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M59.8102 62.632V64.1322C59.8102 64.473 59.4358 64.6812 59.1443 64.499L57.4807 63.4555C57.3551 63.375 57.2793 63.2354 57.2793 63.0887V61.5861C57.2793 61.2454 57.6537 61.0395 57.9452 61.2193L59.6088 62.2629C59.7344 62.3433 59.8102 62.4806 59.8102 62.6296V62.632Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M59.8102 58.6067V60.1093C59.8102 60.4501 59.4358 60.6559 59.1443 60.4761L57.4807 59.4326C57.3551 59.3545 57.2793 59.2149 57.2793 59.0658V57.5632C57.2793 57.2224 57.6537 57.0142 57.9452 57.1964L59.6088 58.2423C59.7344 58.3204 59.8102 58.46 59.8102 58.6091V58.6067Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M57.7087 100.003L53.6374 103.455L23.5272 110.105L23.4893 109.975L57.7087 100.003Z",fill:"#BFBFBF"}),(0,r.tZ)("path",{d:"M56.2204 72.6956V74.1982C56.2204 74.5389 55.8436 74.7448 55.5545 74.5649L53.8909 73.5214C53.7653 73.4409 53.6895 73.3037 53.6895 73.1546V71.652C53.6895 71.3113 54.0639 71.1054 54.3554 71.2852L56.0166 72.3288C56.1445 72.4092 56.2204 72.5465 56.2204 72.6956Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M56.2204 68.6706V70.1732C56.2204 70.5139 55.8436 70.7198 55.5545 70.54L53.8909 69.4941C53.7653 69.416 53.6895 69.2764 53.6895 69.1273V67.6247C53.6895 67.2839 54.0639 67.0781 54.3554 67.2579L56.0166 68.3038C56.1445 68.3819 56.2204 68.5215 56.2204 68.6706Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M56.2204 64.6477V66.1503C56.2204 66.4887 55.8436 66.6969 55.5545 66.5171L53.8909 65.4735C53.7653 65.3931 53.6895 65.2558 53.6895 65.1068V63.6042C53.6895 63.2634 54.0639 63.0576 54.3554 63.2374L56.0166 64.2809C56.1445 64.3614 56.2204 64.4986 56.2204 64.6477Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M56.2204 60.6228V62.1254C56.2204 62.4662 55.8436 62.6721 55.5545 62.4922L53.8909 61.4487C53.7653 61.3706 53.6895 61.231 53.6895 61.0819V59.5793C53.6895 59.2385 54.0639 59.0303 54.3554 59.2125L56.0166 60.2584C56.1445 60.3365 56.2204 60.4761 56.2204 60.6252V60.6228Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M56.2204 56.6027V58.1029C56.2204 58.4437 55.8436 58.6519 55.5545 58.4697L53.8909 57.4262C53.7653 57.3457 53.6895 57.2061 53.6895 57.0594V55.5568C53.6895 55.2161 54.0639 55.0102 54.3554 55.19L56.0166 56.2336C56.1445 56.314 56.2204 56.4513 56.2204 56.6003V56.6027Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M52.0638 89.416L53.6302 93.3086L21.0459 110.684L52.0638 89.416Z",fill:"#BFBFBF"}),(0,r.tZ)("path",{d:"M52.6276 70.6891V72.1917C52.6276 72.5325 52.2532 72.7384 51.9641 72.5585L50.3005 71.5126C50.1725 71.4345 50.0967 71.2949 50.0967 71.1458V69.6432C50.0967 69.3025 50.4735 69.0966 50.7626 69.2765L52.4262 70.3224C52.5518 70.4005 52.6276 70.5401 52.6276 70.6891Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M52.6276 66.6663V68.1689C52.6276 68.5096 52.2532 68.7155 51.9641 68.5356L50.3005 67.4921C50.1725 67.4116 50.0967 67.2744 50.0967 67.1253V65.6227C50.0967 65.282 50.4735 65.0761 50.7626 65.2559L52.4262 66.2995C52.5518 66.3799 52.6276 66.5172 52.6276 66.6663Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M52.6276 62.6413V64.1439C52.6276 64.4847 52.2532 64.6905 51.9641 64.5107L50.3005 63.4648C50.1725 63.3867 50.0967 63.2471 50.0967 63.098V61.5954C50.0967 61.2547 50.4735 61.0464 50.7626 61.2286L52.4262 62.2745C52.5518 62.3526 52.6276 62.4922 52.6276 62.6413Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M52.6276 58.6184V60.121C52.6276 60.4594 52.2532 60.6676 51.9641 60.4878L50.3005 59.4443C50.1725 59.3638 50.0967 59.2266 50.0967 59.0775V57.5749C50.0967 57.2341 50.4735 57.0283 50.7626 57.2081L52.4262 58.2516C52.5518 58.3321 52.6276 58.4693 52.6276 58.6184Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M52.6276 54.5935V56.0961C52.6276 56.4369 52.2532 56.6428 51.9641 56.4629L50.3005 55.4194C50.1725 55.3413 50.0967 55.2017 50.0967 55.0526V53.55C50.0967 53.2093 50.4735 53.001 50.7626 53.1832L52.4262 54.2291C52.5518 54.3072 52.6276 54.4468 52.6276 54.5959V54.5935Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M52.0638 89.4161L21.0459 110.684L44.125 85.2041L52.0638 89.4161Z",fill:"white"}),(0,r.tZ)("path",{d:"M49.0377 68.6825V70.1851C49.0377 70.5259 48.6633 70.7317 48.3718 70.5519L46.7083 69.5084C46.5827 69.4279 46.5068 69.2907 46.5068 69.1416V67.639C46.5068 67.3006 46.8813 67.0924 47.1727 67.2722L48.8363 68.3157C48.9619 68.3962 49.0377 68.5335 49.0377 68.6825Z",fill:"#29A3FF"}),(0,r.tZ)("path",{d:"M49.0377 64.6574V66.16C49.0377 66.5008 48.6633 66.7066 48.3718 66.5268L46.7083 65.4809C46.5827 65.4028 46.5068 65.2632 46.5068 65.1141V63.6115C46.5068 63.2707 46.8813 63.0649 47.1727 63.2447L48.8363 64.2906C48.9619 64.3687 49.0377 64.5083 49.0377 64.6574Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M49.0377 60.6345V62.1371C49.0377 62.4755 48.6633 62.6837 48.3718 62.5039L46.7083 61.4604C46.5827 61.3799 46.5068 61.2427 46.5068 61.0936V59.591C46.5068 59.2502 46.8813 59.0444 47.1727 59.2242L48.8363 60.2678C48.9619 60.3482 49.0377 60.4855 49.0377 60.6345Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M49.0377 56.6096V58.1123C49.0377 58.453 48.6633 58.6589 48.3718 58.479L46.7083 57.4355C46.5827 57.3574 46.5068 57.2178 46.5068 57.0687V55.5661C46.5068 55.2254 46.8813 55.0171 47.1727 55.1993L48.8363 56.2452C48.9619 56.3233 49.0377 56.4629 49.0377 56.612V56.6096Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M49.0377 52.5872V54.0898C49.0377 54.4281 48.6633 54.6364 48.3718 54.4565L46.7083 53.413C46.5827 53.3325 46.5068 53.1929 46.5068 53.0462V51.5436C46.5068 51.2029 46.8813 50.997 47.1727 51.1768L48.8363 52.2204C48.9619 52.3008 49.0377 52.4381 49.0377 52.5872Z",fill:"#FF87B1"}),(0,r.tZ)("path",{d:"M37.9803 45.8285V87.6364L6.80371 105.971V64.1627L37.9803 45.8262V45.8285ZM30.6388 70.9563V66.5668C30.6388 65.573 29.5606 64.9506 28.698 65.4499L23.6717 68.3534V75.7883L30.0013 72.0708C30.3971 71.8366 30.6388 71.4154 30.6388 70.9587V70.9563ZM23.7689 82.4329V75.7717L17.4179 79.4395C17.0387 79.6596 16.8017 80.0666 16.8017 80.502V85.0737C16.8017 86.0249 17.8373 86.6165 18.6596 86.1338L23.1598 83.4883C23.5366 83.2682 23.7689 82.8636 23.7689 82.4305V82.4329ZM23.6053 68.351V63.1191C23.6053 62.1726 22.5769 61.581 21.7569 62.0567L17.2544 64.6548C16.8752 64.8773 16.6382 65.2819 16.6382 65.7197V70.2914C16.6382 71.2426 17.6738 71.8342 18.4961 71.3515L23.6053 68.3487V68.351Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M35.8379 46.1033L37.1531 45.3342L37.9802 45.8288L6.80354 64.1653L0.111328 60.171L31.2856 41.8345L32.0581 42.2959L1.70381 60.0692L3.25364 60.985H3.25601L6.78459 63.0649L35.8379 46.1033Z",fill:"#4F5FFF"}),(0,r.tZ)("path",{d:"M35.8378 46.103L6.78444 63.0647L3.25586 60.9847L32.058 43.9946L35.8378 46.103Z",fill:"white"}),(0,r.tZ)("path",{d:"M32.0584 42.2959V43.9949L3.2563 60.985H3.25393L1.7041 60.0692L32.0584 42.2959Z",fill:"#293DCE"}),(0,r.tZ)("path",{d:"M30.6361 66.5648V70.9543C30.6361 71.411 30.3943 71.8346 29.9986 72.0665L23.6689 75.784V68.349L28.6952 65.4456C29.5578 64.9487 30.6361 65.5686 30.6361 66.5625V66.5648Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M23.7669 75.772V82.4331C23.7669 82.8685 23.5347 83.2732 23.1579 83.4909L18.6577 86.1364C17.8354 86.6191 16.7998 86.0275 16.7998 85.0763V80.5046C16.7998 80.0668 17.0368 79.6622 17.4159 79.4421L23.7669 75.7743V75.772Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M23.6029 63.1196V68.3515L18.4936 71.3543C17.6713 71.8371 16.6357 71.2455 16.6357 70.2942V65.7225C16.6357 65.2824 16.8727 64.8801 17.2519 64.6577L21.7544 62.0595C22.5744 61.5839 23.6029 62.1755 23.6029 63.122V63.1196Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M6.80354 64.1652V105.971L0.111328 101.979V60.1709L6.80354 64.1652Z",fill:"#4F5FFF"}),(0,r.tZ)("path",{d:"M82.1836 101.245V101.957C82.1836 102.248 82.4206 102.485 82.7121 102.485C82.8566 102.485 82.9893 102.426 83.0817 102.331C83.1789 102.237 83.2358 102.104 83.2358 101.96V101.323",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M85.75 64.0327L87.1079 65.1496C87.3875 65.3791 87.5487 65.7199 87.5487 66.0796V80.6607C87.5487 80.9281 87.461 81.1861 87.2975 81.3967L87.2738 81.4298C86.9136 81.8936 86.2713 82.0332 85.7524 81.7563",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M84.1128 59.591V60.9611C84.1128 61.5479 83.6365 62.0235 83.0488 62.0235H82.8521C82.2644 62.0235 81.7881 61.5479 81.7881 60.9611V56.3042C81.7881 55.7197 82.2644 55.2417 82.8521 55.2417H83.0488C83.6365 55.2417 84.1128 55.7197 84.1128 56.3042V59.591V59.591Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M85.2262 98.7534C85.2262 98.7534 84.3707 100.848 83.2379 101.323C83.091 101.387 82.9417 101.42 82.7877 101.42C82.5791 101.42 82.3777 101.356 82.1834 101.248C81.7521 101.009 81.3682 100.547 81.0649 100.088C80.6217 99.4207 80.3516 98.7558 80.3516 98.7558",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M84.1127 59.5913C85.0843 60.0764 85.7502 61.0798 85.7502 62.2369V97.076C85.7502 97.7007 85.5559 98.2757 85.2265 98.7537C84.6909 99.5251 83.7999 100.031 82.788 100.031C81.9704 100.031 81.231 99.7026 80.6955 99.1654C80.5675 99.0376 80.4537 98.9004 80.3518 98.7537C80.0225 98.2757 79.8281 97.6983 79.8281 97.076V62.2369C79.8281 60.9567 80.6433 59.8658 81.7832 59.4541",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M72.0381 106.349V107.064C72.0381 107.355 72.2751 107.591 72.5665 107.591C72.7111 107.591 72.8438 107.532 72.9362 107.438C73.0334 107.343 73.0903 107.21 73.0903 107.066V106.43",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M75.6025 69.1367L76.9604 70.2512C77.24 70.4831 77.4012 70.8239 77.4012 71.1812V85.7647C77.4012 86.0321 77.3135 86.2901 77.15 86.5007L77.1263 86.5338C76.7661 86.9976 76.1239 87.1348 75.6049 86.8603",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M73.9654 64.6979V66.068C73.9654 66.6548 73.4867 67.1305 72.9013 67.1305H72.7046C72.1169 67.1305 71.6406 66.6548 71.6406 66.068V61.4111C71.6406 60.8243 72.1169 60.3486 72.7046 60.3486H72.9013C73.4867 60.3486 73.9654 60.8243 73.9654 61.4111V64.6979Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M75.0787 103.86C75.0787 103.86 74.2232 105.954 73.0905 106.43C72.9435 106.494 72.7943 106.527 72.6402 106.527C72.4317 106.527 72.2303 106.463 72.0359 106.354C71.6046 106.115 71.2207 105.654 70.9174 105.194C70.4743 104.527 70.2041 103.862 70.2041 103.862",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M73.9652 64.6978C74.9368 65.1829 75.6027 66.1862 75.6027 67.3433V102.182C75.6027 102.807 75.4084 103.382 75.079 103.86C74.5434 104.632 73.6524 105.138 72.6405 105.138C71.8229 105.138 71.0836 104.809 70.548 104.272C70.42 104.144 70.3063 104.007 70.2044 103.86C69.875 103.382 69.6807 102.805 69.6807 102.182V67.3433C69.6807 66.0632 70.4959 64.9723 71.6357 64.5605",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M53.2412 135.389V122.189L88.0697 102.005L96.4136 97.1704V110.37L53.2412 135.389Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M96.4138 97.1706L95.1294 96.437L51.957 121.456V134.655L53.2414 135.389",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M54.7725 121.312V125.01",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M58.9365 118.959V122.656",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M63.0947 116.503V120.201",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M67.2588 114.13V117.828",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M71.4199 111.697V115.393",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M75.584 109.302V112.998",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M79.7451 106.908V110.606",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M83.9062 104.473V108.171",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M88.0703 101.998V102.005V105.696",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M92.2314 99.603V103.302",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M62.912 82.3856C62.6419 82.3619 62.3741 82.2767 62.1324 82.1371L44.4587 71.7987C43.8828 71.4627 43.5273 70.8451 43.5273 70.1778V36.7278C43.5273 36.2829 43.6837 35.8617 43.961 35.5304C44.1008 35.36 44.2738 35.211 44.4705 35.0997L46.4493 33.9639C47.018 33.6397 47.7124 33.6326 48.2882 33.9426L66.5425 43.9071C67.1468 44.2337 67.5212 44.8678 67.5212 45.5541V79.165C67.5212 79.8607 67.1349 80.4996 66.5164 80.8262L63.9547 82.175C63.6301 82.3477 63.2651 82.4163 62.9073 82.3832L62.912 82.3856Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M43.999 35.5591L61.8528 45.7129C62.5069 46.0844 62.9121 46.7801 62.9121 47.5349V82.3788",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M60.6473 52.8829V49.3949C60.6473 49.1062 60.4956 48.8365 60.2421 48.6898L47.1254 41.0466C46.5804 40.7272 45.8955 41.12 45.8955 41.7518V45.2397C45.8955 45.5284 46.0472 45.7981 46.3007 45.9449L59.4174 53.588C59.9624 53.9075 60.6473 53.5147 60.6473 52.8829V52.8829Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M46.5088 53.0462V51.5436C46.5088 51.2029 46.8832 50.997 47.1747 51.1768L48.8383 52.2204C48.9639 52.3008 49.0397 52.4381 49.0397 52.5872V54.0898C49.0397 54.4281 48.6653 54.6364 48.3738 54.4565L46.7102 53.413C46.5846 53.3325 46.5088 53.1929 46.5088 53.0462Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M50.0996 55.0526V53.55C50.0996 53.2093 50.4764 53.001 50.7655 53.1832L52.4291 54.2291C52.5547 54.3072 52.6305 54.4468 52.6305 54.5959V56.0985C52.6305 56.4393 52.2561 56.6451 51.967 56.4653L50.3034 55.4217C50.1754 55.3437 50.0996 55.204 50.0996 55.055V55.0526Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M53.6914 57.0594V55.5568C53.6914 55.2161 54.0658 55.0102 54.3573 55.19L56.0185 56.2336C56.1465 56.314 56.2223 56.4513 56.2223 56.6003V58.1006C56.2223 58.4413 55.8455 58.6496 55.5564 58.4674L53.8928 57.4238C53.7672 57.3434 53.6914 57.2038 53.6914 57.057V57.0594Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M57.2822 59.0682V57.5656C57.2822 57.2249 57.6566 57.0166 57.9481 57.1988L59.6117 58.2448C59.7373 58.3228 59.8131 58.4625 59.8131 58.6115V60.1141C59.8131 60.4549 59.4387 60.6607 59.1472 60.4809L57.4837 59.4374C57.3581 59.3593 57.2822 59.2197 57.2822 59.0706V59.0682Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M46.5088 57.0712V55.5686C46.5088 55.2278 46.8832 55.0196 47.1747 55.2018L48.8383 56.2477C48.9639 56.3258 49.0397 56.4654 49.0397 56.6145V58.1171C49.0397 58.4578 48.6653 58.6637 48.3738 58.4838L46.7102 57.4403C46.5846 57.3622 46.5088 57.2226 46.5088 57.0735V57.0712Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M50.0996 59.0755V57.5729C50.0996 57.2322 50.4764 57.0263 50.7655 57.2061L52.4291 58.2497C52.5547 58.3301 52.6305 58.4674 52.6305 58.6165V60.1191C52.6305 60.4574 52.2561 60.6657 51.967 60.4858L50.3034 59.4423C50.1754 59.3618 50.0996 59.2246 50.0996 59.0755V59.0755Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M53.6914 61.0843V59.5817C53.6914 59.241 54.0658 59.0328 54.3573 59.215L56.0185 60.2609C56.1465 60.339 56.2223 60.4786 56.2223 60.6276V62.1302C56.2223 62.471 55.8455 62.6769 55.5564 62.497L53.8928 61.4535C53.7672 61.3754 53.6914 61.2358 53.6914 61.0867V61.0843Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M57.2822 63.0887V61.5861C57.2822 61.2454 57.6566 61.0395 57.9481 61.2193L59.6117 62.2629C59.7373 62.3433 59.8131 62.4806 59.8131 62.6296V64.1299C59.8131 64.4706 59.4387 64.6789 59.1472 64.4967L57.4837 63.4531C57.3581 63.3727 57.2822 63.233 57.2822 63.0863V63.0887Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M46.5088 61.0936V59.591C46.5088 59.2502 46.8832 59.0444 47.1747 59.2242L48.8383 60.2678C48.9639 60.3482 49.0397 60.4855 49.0397 60.6345V62.1371C49.0397 62.4755 48.6653 62.6837 48.3738 62.5039L46.7102 61.4604C46.5846 61.3799 46.5088 61.2427 46.5088 61.0936Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M50.0996 63.1005V61.5979C50.0996 61.2571 50.4764 61.0489 50.7655 61.2311L52.4291 62.277C52.5547 62.3551 52.6305 62.4947 52.6305 62.6438V64.1464C52.6305 64.4871 52.2561 64.693 51.967 64.5131L50.3034 63.4672C50.1754 63.3891 50.0996 63.2495 50.0996 63.1005V63.1005Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M53.6914 65.1068V63.6042C53.6914 63.2634 54.0658 63.0576 54.3573 63.2374L56.0185 64.2809C56.1465 64.3614 56.2223 64.4986 56.2223 64.6477V66.1503C56.2223 66.4887 55.8455 66.6969 55.5564 66.5171L53.8928 65.4735C53.7672 65.3931 53.6914 65.2558 53.6914 65.1068Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M57.2822 67.1136V65.611C57.2822 65.2703 57.6566 65.0621 57.9481 65.2443L59.6117 66.2902C59.7373 66.3683 59.8131 66.5079 59.8131 66.6569V68.1595C59.8131 68.5003 59.4387 68.7062 59.1472 68.5263L57.4837 67.4828C57.3581 67.4047 57.2822 67.2651 57.2822 67.116V67.1136Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M46.5088 65.119V63.6164C46.5088 63.2756 46.8832 63.0698 47.1747 63.2496L48.8383 64.2955C48.9639 64.3736 49.0397 64.5132 49.0397 64.6623V66.1649C49.0397 66.5056 48.6653 66.7115 48.3738 66.5317L46.7102 65.4858C46.5846 65.4077 46.5088 65.2681 46.5088 65.119Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M50.0996 67.1229V65.6203C50.0996 65.2795 50.4764 65.0737 50.7655 65.2535L52.4291 66.297C52.5547 66.3775 52.6305 66.5147 52.6305 66.6638V68.1664C52.6305 68.5072 52.2561 68.713 51.967 68.5332L50.3034 67.4897C50.1754 67.4092 50.0996 67.272 50.0996 67.1229V67.1229Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M53.6914 69.1322V67.6296C53.6914 67.2888 54.0658 67.0829 54.3573 67.2628L56.0185 68.3087C56.1465 68.3868 56.2223 68.5264 56.2223 68.6755V70.1781C56.2223 70.5188 55.8455 70.7247 55.5564 70.5448L53.8928 69.4989C53.7672 69.4208 53.6914 69.2812 53.6914 69.1322Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M57.2822 71.1361V69.6335C57.2822 69.2927 57.6566 69.0869 57.9481 69.2667L59.6117 70.3102C59.7373 70.3907 59.8131 70.5279 59.8131 70.677V72.1796C59.8131 72.518 59.4387 72.7262 59.1472 72.5464L57.4837 71.5028C57.3581 71.4224 57.2822 71.2852 57.2822 71.1361Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M46.5088 69.1391V67.6365C46.5088 67.2982 46.8832 67.0899 47.1747 67.2698L48.8383 68.3133C48.9639 68.3938 49.0397 68.531 49.0397 68.6801V70.1827C49.0397 70.5234 48.6653 70.7293 48.3738 70.5495L46.7102 69.5059C46.5846 69.4255 46.5088 69.2882 46.5088 69.1391Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M50.0996 71.1483V69.6457C50.0996 69.3049 50.4764 69.0991 50.7655 69.2789L52.4291 70.3248C52.5547 70.4029 52.6305 70.5425 52.6305 70.6916V72.1942C52.6305 72.5349 52.2561 72.7408 51.967 72.561L50.3034 71.5151C50.1754 71.437 50.0996 71.2974 50.0996 71.1483V71.1483Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M53.6914 73.1546V71.652C53.6914 71.3113 54.0658 71.1054 54.3573 71.2852L56.0185 72.3288C56.1465 72.4092 56.2223 72.5465 56.2223 72.6956V74.1982C56.2223 74.5389 55.8455 74.7448 55.5564 74.5649L53.8928 73.5214C53.7672 73.4409 53.6914 73.3037 53.6914 73.1546Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M57.2822 75.1615V73.6589C57.2822 73.3181 57.6566 73.1122 57.9481 73.2921L59.6117 74.338C59.7373 74.4161 59.8131 74.5557 59.8131 74.7048V76.2074C59.8131 76.5481 59.4387 76.754 59.1472 76.5741L57.4837 75.5282C57.3581 75.4502 57.2822 75.3105 57.2822 75.1615Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M82.9089 33.9453C82.9208 33.9619 82.9303 33.9784 82.9374 33.995C83.0891 34.2411 83.1744 34.5014 83.1744 34.7712C83.1744 35.5781 82.4468 36.3045 81.2857 36.8133C80.9752 36.9482 80.6363 37.0688 80.269 37.1706C79.3946 37.4143 78.378 37.5539 77.2879 37.5539C76.3968 37.5539 75.5532 37.4593 74.7972 37.2936C73.6953 37.0499 72.7829 36.65 72.1786 36.1554C71.6834 35.7461 71.4014 35.2752 71.4014 34.7712C71.4014 34.5511 71.4559 34.3381 71.5578 34.1323",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M71.3984 35.8926V35.8879V34.771",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M71.3984 39.132V39.1296V36.8296",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M71.3984 42.4V40.0786",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M79.6173 46.9006C78.904 47.0473 78.1149 47.1277 77.2855 47.1277C75.6527 47.1277 74.1764 46.813 73.11 46.3066C72.0507 45.805 71.4014 45.114 71.4014 44.3473V43.3369",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M82.9557 45.0952C82.6027 45.6939 81.8372 46.2097 80.8135 46.5742",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M83.1719 41.8369V44.1512V44.163",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M83.1719 38.5688V40.8642",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M83.1719 34.771V37.6342V37.6437",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M80.8118 46.5741C80.8378 46.6711 80.8331 46.7776 80.7904 46.877C80.7193 47.0473 80.5534 47.1491 80.3781 47.1491C80.3188 47.1491 80.2596 47.1373 80.2004 47.1136L79.6292 46.8699L71.3991 43.3346L71.2592 43.2731C71.0317 43.1737 70.9275 42.911 71.0223 42.6839C71.0886 42.5277 71.2355 42.4307 71.3943 42.4141C71.4654 42.407 71.5412 42.4189 71.6123 42.4472L80.5535 46.2901C80.6814 46.3445 80.7715 46.451 80.807 46.5741H80.8118Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M83.1717 44.1513L83.3115 44.2128C83.5414 44.3122 83.6457 44.5772 83.5485 44.802C83.475 44.9724 83.3115 45.0741 83.1362 45.0741C83.084 45.0741 83.0272 45.0646 82.9774 45.0457C82.9703 45.0457 82.9655 45.041 82.9584 45.0386L71.4035 40.0741L71.2162 39.9937C70.9888 39.8966 70.8845 39.6316 70.9816 39.4068C71.0527 39.2341 71.221 39.1323 71.3964 39.1323C71.4532 39.1323 71.5125 39.1465 71.5693 39.1702L83.1717 44.1536V44.1513Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M74.7922 37.291L83.1622 40.8878L83.366 40.9753C83.5959 41.0747 83.7002 41.3374 83.603 41.5645C83.5319 41.7325 83.366 41.8366 83.1907 41.8366H83.1741C83.1196 41.8366 83.0651 41.8201 83.0129 41.7988L71.4058 36.813L71.2518 36.7467C71.0219 36.6473 70.9176 36.3823 71.0148 36.1575C71.0835 35.9966 71.2352 35.8972 71.3987 35.8878C71.4651 35.8807 71.5385 35.8925 71.6049 35.9209L72.1689 36.1622",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M81.288 36.8203L83.1719 37.632L83.3497 37.7077C83.5772 37.8047 83.6814 38.0697 83.5843 38.2945C83.5132 38.4649 83.3473 38.5666 83.1743 38.5666C83.1127 38.5666 83.0535 38.5548 82.9966 38.5311L80.5226 37.4687C80.4088 37.4214 80.3259 37.3291 80.2832 37.2249",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M73.1025 46.3018L73.1073 46.3065C73.176 46.3917 74.3111 47.7689 75.1216 47.7689H79.2023L80.2 47.111",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M82.937 33.995C83.7877 32.8781 84.2949 31.4844 84.2949 29.9747V29.5629C84.2949 28.5478 84.7238 27.5894 85.4703 26.9032C87.9396 24.6268 89.487 21.3684 89.487 17.7456C89.487 10.6633 83.5721 4.95811 76.4012 5.29176C69.9933 5.58991 64.8036 10.791 64.5239 17.1895C64.3486 21.2028 66.0761 24.8185 68.8796 27.2179C69.69 27.9113 70.1711 28.9122 70.1711 29.977C70.1711 31.5317 70.7066 32.9633 71.6024 34.0968C71.7612 34.3003 71.9342 34.4943 72.119 34.6789C73.3229 35.881 74.9888 36.6264 76.8254 36.6264H77.6335C79.7971 36.6264 81.7189 35.5946 82.9346 33.9998L82.937 33.995Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M3.25601 60.985L6.78459 63.0649L35.8379 46.1033L37.1531 45.3342L37.9802 45.8288L6.80354 64.1653L0.111328 60.171L31.2856 41.8345L32.0581 42.2959L1.70381 60.0692L3.25364 60.985",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M37.9802 45.8286V87.6341L6.80354 105.971L0.111328 101.979V60.1708",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M6.80371 64.165V105.971",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M32.0584 42.2959V43.9949L3.25628 60.985H3.25391",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M32.0576 43.9946L35.8374 46.103L35.8587 46.1125",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M16.6357 65.72V70.2917C16.6357 71.243 17.6713 71.8346 18.4936 71.3518L23.6029 68.349V63.1171C23.6029 62.1706 22.5744 61.579 21.7544 62.0546L17.2519 64.6528C16.8727 64.8752 16.6357 65.2799 16.6357 65.7177V65.72Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M23.6689 68.3511V75.786L29.9986 72.0685C30.3943 71.8343 30.6361 71.4131 30.6361 70.9564V66.5669C30.6361 65.573 29.5578 64.9507 28.6952 65.45L23.6689 68.3534V68.3511Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M16.7988 80.5021V85.0738C16.7988 86.0251 17.8344 86.6167 18.6567 86.1339L23.1569 83.4884C23.5337 83.2683 23.7659 82.8637 23.7659 82.4307V75.7695L17.415 79.4373C17.0358 79.6574 16.7988 80.0644 16.7988 80.4998V80.5021Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M94.0917 73.6685V73.7016L92.2314 70.5616V66.1342L94.0917 63.9194L99.8597 60.668L104.528 58.0367L107.189 56.5388L109.948 54.9842L112.607 53.4863L112.974 53.2804L114.431 50.5048L114.474 50.4243C114.474 50.4243 114.832 56.5672 114.474 56.9246L112.974 59.7807L107.583 62.819L105.384 64.059L102.663 65.5923L102.229 65.8361L100.218 66.9695L97.561 68.465L97.1748 68.6827L94.0941 70.4196V73.6709L94.0917 73.6685Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M94.0917 90.5185L92.2314 87.3784V82.9487L94.0917 80.7362L99.9498 77.4328L104.72 74.7447L107.301 73.2918L110.123 71.7016L112.718 70.2392L112.972 70.0949L114.472 67.2388C114.472 67.2388 114.83 73.3793 114.472 73.7366L112.972 76.5951L110.168 78.1735L107.479 79.6903L104.884 81.1526L104.815 81.1905L102.983 82.2222L100.334 83.713L97.0966 85.5374L94.0917 87.2317V90.5161V90.5185Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M114.472 67.2391L107.58 62.8165L107.562 62.8047",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M103.877 66.9527L102.256 65.8926",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M108.883 70.2301L108.831 70.1946L106.21 68.4814",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M94.0918 73.6685L99.9499 77.4332L100.028 77.4853",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M101.771 71.7705L104.03 73.2021",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M97.1299 68.6519L97.1725 68.6802L99.4286 70.1947L99.4428 70.2065",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M94.0918 90.5186L103.808 95.831V91.6119V90.0454V89.4041L102.772 88.8149L100.083 87.2863L98.3597 86.309L97.1204 85.5825",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M110.213 78.2544L115.888 81.7139V88.3396L110.58 91.8725V85.0268L111.17 84.6576L115.888 81.7139",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M109.474 83.7109L109.502 83.7275L111.17 84.6575",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M104.831 81.1245L104.883 81.1529L104.952 81.1931L106.807 82.2272L106.824 82.2343",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M112.692 70.1943H96.6032C96.1885 70.1943 95.8496 70.5304 95.8496 70.9445C95.8496 71.1527 95.9349 71.3396 96.07 71.4745C96.2051 71.6094 96.3947 71.6946 96.6032 71.6946H110.118",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M107.277 73.2471H99.7415C99.3291 73.2471 98.9902 73.5807 98.9902 73.9972C98.9902 74.2031 99.0732 74.3924 99.2106 74.5272C99.3481 74.6621 99.5353 74.7473 99.7415 74.7473H104.73",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M100.222 66.981H111.779C112.194 66.981 112.533 67.3146 112.533 67.7311C112.533 67.9369 112.45 68.1239 112.312 68.2611C112.175 68.3984 111.988 68.4812 111.779 68.4812H97.5654",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M107.473 79.6904H109.028C109.443 79.6904 109.779 80.0264 109.779 80.4405C109.779 80.6464 109.696 80.8357 109.559 80.973C109.424 81.1102 109.237 81.193 109.028 81.193H104.736",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M102.985 82.2271H111.675C112.088 82.2271 112.427 82.5631 112.427 82.9772C112.427 83.183 112.344 83.3723 112.206 83.5096C112.069 83.6468 111.882 83.7297 111.675 83.7297H100.341",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M105.4 64.0894H107.706C108.121 64.0894 108.457 64.423 108.457 64.8395C108.457 65.0453 108.374 65.2346 108.237 65.3695C108.102 65.5044 107.912 65.5896 107.706 65.5896H102.557",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M94.0917 56.9576V56.9931L92.2314 53.8506V49.4233L94.0917 47.2084L99.8597 43.9571L104.528 41.3258L107.189 39.8279L109.943 38.2756L112.604 36.7754L112.972 36.5695L114.429 33.7938L114.472 33.7134C114.472 33.7134 114.83 39.8563 114.472 40.2136L112.972 43.0697L107.58 46.1081L105.381 47.348L102.661 48.8814L102.227 49.1251L100.215 50.2586L97.5587 51.7541L97.1724 51.9718L94.0917 53.7086V56.9599V56.9576Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M114.472 50.5306L114.429 50.5046L107.58 46.1057L107.562 46.0962",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M103.877 50.2441L102.256 49.1816",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M108.883 53.5216L108.831 53.4861L106.21 51.7705",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M94.0918 56.9575L99.8598 60.6679L100.028 60.7767",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M101.771 55.0596L104.03 56.4935",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M97.1299 51.9409L97.1725 51.9717L99.4286 53.4861L99.4428 53.4956",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M112.692 53.4863H96.6032C96.1885 53.4863 95.8496 53.8223 95.8496 54.2364C95.8496 54.4447 95.9349 54.6316 96.07 54.7665C96.2051 54.9014 96.3947 54.9866 96.6032 54.9866H110.118",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M107.277 56.5386H99.7415C99.3291 56.5386 98.9902 56.8722 98.9902 57.2887C98.9902 57.4946 99.0732 57.6839 99.2106 57.8187C99.3481 57.956 99.5353 58.0388 99.7415 58.0388H104.73",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M100.222 50.2725H111.779C112.194 50.2725 112.533 50.6061 112.533 51.0226C112.533 51.2308 112.45 51.4178 112.312 51.5526C112.175 51.6899 111.988 51.7727 111.779 51.7727H97.5654",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M105.4 47.3809H107.706C108.121 47.3809 108.457 47.7145 108.457 48.131C108.457 48.3368 108.374 48.5262 108.237 48.661C108.102 48.7959 107.912 48.8811 107.706 48.8811H102.557",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M94.0917 40.249V40.2845L92.2314 37.1421V32.7147L94.0917 30.4998L96.5373 29.1226L102.457 25.7838L109.791 21.6522L112.969 19.8609L114.469 17.0024C114.469 17.0024 114.827 23.1454 114.469 23.5027L112.969 26.3588L107.578 29.3971L105.379 30.6371L102.658 32.1704L102.225 32.4142L100.213 33.5476L97.5563 35.0431L97.17 35.2608L94.0893 36.9977V40.249H94.0917Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M114.472 33.8221L114.429 33.7937L107.58 29.3971L107.562 29.3853",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M103.877 33.5333L102.256 32.4731",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M108.883 36.8131L108.831 36.7752L106.21 35.062",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M94.0918 40.249L99.8598 43.9594L100.028 44.0706",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M101.771 38.3511L104.03 39.7851",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M97.1299 35.2324L97.1725 35.2608L99.4286 36.7753L99.4428 36.7871",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M112.692 36.7754H96.6032C96.1885 36.7754 95.8496 37.1114 95.8496 37.5255C95.8496 37.7337 95.9349 37.9207 96.07 38.0579C96.2074 38.1928 96.3947 38.278 96.6032 38.278H110.118",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M107.277 39.8301H99.7415C99.3291 39.8301 98.9902 40.1637 98.9902 40.5802C98.9902 40.7861 99.0732 40.9754 99.2106 41.1102C99.3481 41.2475 99.5353 41.3303 99.7415 41.3303H104.73",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M100.222 33.5645H111.779C112.194 33.5645 112.533 33.8981 112.533 34.3146C112.533 34.5228 112.45 34.7097 112.312 34.8446C112.175 34.9819 111.988 35.0647 111.779 35.0647H97.5654",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M105.4 30.6724H107.706C108.121 30.6724 108.457 31.006 108.457 31.4225C108.457 31.6283 108.374 31.8177 108.237 31.9525C108.102 32.0898 107.912 32.1726 107.706 32.1726H102.557",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M114.472 17.0048L104.095 11.5718V18.7819L109.794 21.6522L109.905 21.709",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M102.395 25.6728L92.9541 20.3179V26.9057L96.4969 29.0472",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M52.0635 89.416L53.6299 93.3086L53.6441 93.3393",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M21.0459 110.684L23.4891 109.975L57.7085 100.003L66.8298 97.3456L56.2843 91.8936L53.6302 93.3087L21.0459 110.684ZM21.0459 110.684L52.0638 89.4161L44.125 85.2041L21.0459 110.684Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M57.7728 99.9482L57.7088 100.003L53.6376 103.455L23.5273 110.104",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,r.tZ)("defs",{children:(0,r.tZ)("clipPath",{id:"clip0_512_49215",children:(0,r.tZ)("rect",{width:"116",height:"135",fill:"white",transform:"translate(0 0.5)"})})})]})}var kv=n(78951),Lv=function(e){return"https://ask.replit.com/new-topic?category=Extensions&body=".concat(encodeURIComponent(e))};function Sv(e){var t=function(e){var t=(0,F.Z)({},xv,e);return Re.a(wv,t)}({variables:{replId:(0,Ne.Z)()}}),n=t.data,o=t.loading,a=t.error,l=(0,Tn.H)(),s=(0,kv.D)(),c=i.useCallback((function(t,n){if("cover"===t){if(null===n)return void c("store",null);s({paneId:e.paneId,data:{type:"extensionStore",data:{coverPageExtensionId:n,page:"cover"}}})}else s({paneId:e.paneId,data:{type:"extensionStore",data:{page:t}}})}),[s,e.paneId]);if("cover"===e.page)return(0,r.tZ)(bv,{extensionId:e.coverPageExtensionId,goBackToStore:function(){return c("store",null)}});var u="manage"===e.page,d=null===n||void 0===n?void 0:n.extensionList.filter((function(e){return!(!e.manifest||"ExtensionManifest"!==e.manifest.__typename)&&(!u||Boolean(e.installation))}));return(0,r.BX)(f.G7,{css:[f.l0.height("100%"),f.l0.width("100%"),f.l0.maxWidth(1200),{alignSelf:"center"}],children:[(0,r.tZ)(f.G7,{css:[f.l0.p(12)],children:(0,r.BX)(Zd.Ug,{spacing:3,wrap:"nowrap",align:"center",justify:"space-between",children:[(0,r.BX)(Zd.gC,{spacing:2,css:[f.l0.display.inlineBlock,f.l0.flex.shrink(1)],children:[(0,r.tZ)(f.xv,{variant:"headerDefault",multiline:!0,children:"Customize Replit with Workspace Extensions"}),(0,r.BX)(Zd.Ug,{spacing:1,children:[(0,r.tZ)(f.ZP,{href:Lv("**Provide a detailed description of your Extensions feedback**\n"),small:!0,target:"_blank",text:"Share feedback",colorway:"primary",iconRight:(0,r.tZ)(Nr.ExternalLink,{})}),(0,r.tZ)(f.ZP,{href:Lv("**Describe your Extension idea**\n\n\n**What problem(s) would this Extension solve?**\n\n\n**Explain what you were trying to do when you came across the problem leading to this Extensions request**"),small:!0,text:"Suggest an Extension idea",iconRight:(0,r.tZ)(Nr.ExternalLink,{})})]})]}),(0,r.tZ)(Cv,{})]})}),n&&!a?(0,r.BX)(f.G7,{css:[f.l0.p(12)],children:[(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(0),f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(f.xv,{variant:"headerDefault",css:[f.l0.py(12)],children:"Browse Extensions"}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.flex.shrink(1),f.l0.align.center],children:[(0,r.tZ)("label",{css:[{cursor:"pointer",userSelect:"none"},f.l0.flex.column,f.l0.align.center],htmlFor:l("installedToggle"),children:(0,r.tZ)(f.xv,{children:"Installed Only"})}),(0,r.tZ)(yc.Z,{id:l("installedToggle"),isOn:u,onChange:function(e){return c(e.target.checked?"manage":"store",null)}})]})]}),(0,r.BX)(Zd.gC,{spacing:2,children:[null===d||void 0===d?void 0:d.map((function(e){return(0,r.tZ)(ov,{extension:e,onClick:function(){(0,Yt.j)(Yt.U3.EXTENSION_COVER_PAGE_VIEWED,{source:"store"}),c("cover",e.id)}},e.id)})),0===(null===d||void 0===d?void 0:d.length)&&u?(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16)],children:[(0,r.tZ)(f.xv,{children:"You don't have any extensions installed yet."}),(0,r.tZ)(f.zx,{text:"Browse the store",colorway:"primary",outlined:!0,onClick:function(){return c("store",null)}})]}):null]})]}):null,n||!o||a?null:(0,r.tZ)(vv,{}),a?(0,r.tZ)("div",{children:a.message}):null]})}var Bv={Content:function(e){return(0,r.tZ)(Sv,(0,V.Z)((0,F.Z)({},e.pane.data),{paneId:e.options.paneId}))},Icon:function(e){var t=e.size;return(0,r.tZ)(sm.Z,{size:t})},getTitle:function(){return"Extensions"}};function Ev(){var e=function(){var e=(0,v.Z)().toolchain;function t(){return(t=(0,tt.Z)((function(t){return(0,nt.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.addModule(t).catch((function(e){Of.kg.error("Toolchain: failed to add Nix module: "+e.message)}))];case 1:return n.sent(),[2]}}))}))).apply(this,arguments)}function n(){return(n=(0,tt.Z)((function(t){return(0,nt.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.removeModule(t).catch((function(e){Of.kg.error("Toolchain: failed to remove Nix module: "+e.message)}))];case 1:return n.sent(),[2]}}))}))).apply(this,arguments)}return{modules:(0,le.Z)(e.modules),addModule:function(e){return t.apply(this,arguments)},removeModule:function(e){return n.apply(this,arguments)}}}(),t=e.modules,n=e.addModule,i=e.removeModule;return(0,r.BX)(f.G7,{children:[(0,r.tZ)("h3",{children:"Modules"}),t?t.map((function(e){return(0,r.tZ)(Tv,{removeModule:i,moduleId:e.id,module:e},e.id)})):"Loading...",(0,r.tZ)(f.zx,{text:"Add module",onClick:(0,tt.Z)((function(){var e;return(0,nt.__generator)(this,(function(t){switch(t.label){case 0:return(e=prompt("Module file path:"))?[4,n(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})]})}function Tv(e){var t=e.moduleId,n=e.module,i=e.removeModule;return(0,r.tZ)(f.Qd,{css:[{borderTop:"1px solid #ccc"},f.l0.pb(8)],headerContent:(0,r.tZ)(f.G7,{children:(0,r.BX)("label",{children:[n.name," ",n.version]})}),children:(0,r.BX)(f.G7,{css:[f.l0.position.relative],children:[(0,r.tZ)(_v,{module:n}),(0,r.tZ)(f.zx,{css:[f.l0.position.absolute,f.l0.top(8),f.l0.right(8)],text:"",iconLeft:(0,r.tZ)(ht.Z,{}),small:!0,onClick:(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return[4,i(t)];case 1:return e.sent(),[2]}}))}))})]})})}function _v(e){var t=e.module;return(0,r.BX)(f.G7,{css:[f.l0.pl(12)],children:[t.runners.map((function(e){return(0,r.BX)("label",{css:[f.l0.pl(8)],children:["Runner: ",e.name]},e.id)})),t.debuggers.map((function(e){return(0,r.BX)("label",{css:[f.l0.pl(8)],children:["Debugger: ",e.name]},e.id)})),t.languageServers.map((function(e){return(0,r.BX)("label",{css:[f.l0.pl(8)],children:["Language server: ",e.name]},e.id)})),t.packagers.map((function(e){return(0,r.BX)("label",{css:[f.l0.pl(8)],children:["Packager: ",e.name]},e.id)}))]})}var Rv={Content:function(){return(0,r.tZ)(f.G7,{css:[f.l0.p(8)],children:(0,r.tZ)(Ev,{})})},Icon:function(e){var t=e.size;return(0,r.tZ)(Ce.Z,{size:t})},getTitle:function(){return"Modules"}},Dv={Content:function(e){var t=e.options;return(0,r.tZ)(Km,{paneId:t.paneId,extensionPaneData:{extensionId:null,installationId:null,name:"Replit Docs",url:"https://docs.replit.com/"}})},Icon:function(e){var t=e.size;return(0,r.tZ)(Ju.Z,{size:t})},getTitle:function(){return"Docs"}},Gv=n(73147),Iv=["youtube.com","vimeo.com","wistia.com","sadanandpai.github.io"],jv={Content:function(e){var t=e.pane.data;return(0,r.tZ)(Mv,{title:t.title,embedUrl:t.embedUrl})},Icon:function(e){var t=e.size;return(0,r.tZ)(br.Z,{size:t})},getTitle:function(e){return e.data.title}};function Mv(e){return function(e){try{var t=new URL(e).hostname;return Iv.some((function(e){return t===e||t.endsWith("."+e)}))}catch(n){return!1}}(e.embedUrl)?(0,r.tZ)("iframe",{title:e.title,src:e.embedUrl,frameBorder:"0",css:[f.l0.coverContainer,f.l0.borderRadius(0,0,8,8)]}):(0,r.BX)("div",{children:["Only YouTube, Vimeo, and Wistia videos are supported."," ",(0,r.tZ)("a",{href:Gv.xz,target:"_blank",children:"Request more formats here."})]})}var Pv=n(75026),Nv={Content:function(){return(0,r.tZ)(f.Tg,{background:"default",css:f.l0.flex.growAndShrink(1),children:(0,r.tZ)(am,{isPane:!0,isChatOnly:!0})})},Icon:function(e){var t=e.size;return(0,r.tZ)(Pv.Z,{size:t})},getTitle:function(){return"Chat"}};function Fv(){var e=(0,Te.Z)(["\n  fragment ReplDomain on Domain {\n    hosting_deployment_id\n    domain\n    state\n  }\n"]);return Fv=function(){return e},e}function Vv(){var e=(0,Te.Z)(["\n  fragment CurrentHostingBuild on HostingBuild {\n    id\n    description\n    status\n    timeCreated\n    repl {\n      id\n      guaranteedProvisioningSku\n    }\n    user {\n      id\n      displayName\n    }\n  }\n"]);return Vv=function(){return e},e}function Wv(){var e=(0,Te.Z)(["\n  query HostingDeployment($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        domains {\n          ... on Domain {\n            ...ReplDomain\n          }\n        }\n        hostingDeployment {\n          ... on HostingDeployment {\n            id\n            currentBuild {\n              ...CurrentHostingBuild\n            }\n          }\n          ... on NotFoundError {\n            message\n          }\n          ... on UnauthorizedError {\n            message\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Wv=function(){return e},e}function zv(){var e=(0,Te.Z)(["\n  mutation CreateHostingBuild($input: CreateHostingBuildInput!) {\n    createHostingBuild(input: $input) {\n      ... on HostingBuild {\n        ...CurrentHostingBuild\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return zv=function(){return e},e}var Xv={},Hv=(0,_e.Ps)(Fv()),Av=(0,_e.Ps)(Vv()),Uv=(0,_e.Ps)(Wv(),Hv,Av);var Ov=(0,_e.Ps)(zv(),Av);function qv(e){var t=(0,F.Z)({},Xv,e);return rt.D(Ov,t)}var $v=n(7055),Yv=n(16329),Kv=function(e){var t=e.hostedDeployment;return(0,r.tZ)(f.G7,{css:[f.l0.py(12)],children:(0,r.tZ)(Yv.Z,{replId:t.currentBuild.repl.id,deploymentId:t.id,onLink:function(){},onUnlink:function(){}})})};function Jv(){var e=(0,Te.Z)(["\n  fragment HostingActivityLogLine on HostingActivityLog {\n    id\n    build {\n      id\n    }\n    type\n    user {\n      id\n      displayName\n    }\n    timeCreated\n  }\n"]);return Jv=function(){return e},e}function Qv(){var e=(0,Te.Z)(["\n  query HostingDeploymentActivityLogs(\n    $replId: String!\n    $after: String\n    $count: Int\n  ) {\n    repl(id: $replId) {\n      ... on Repl {\n        hostingDeployment {\n          ... on HostingDeployment {\n            id\n            activityLogs(after: $after, count: $count) {\n              items {\n                ...HostingActivityLogLine\n              }\n              pageInfo {\n                hasNextPage\n                nextCursor\n              }\n            }\n          }\n          ... on NotFoundError {\n            message\n          }\n          ... on UnauthorizedError {\n            message\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Qv=function(){return e},e}var eg={},tg=(0,_e.Ps)(Jv()),ng=(0,_e.Ps)(Qv(),tg);var rg,ig,og=n(4972),ag=n(48806);!function(e){e.Current="current"}(rg||(rg={}));var lg,sg=(ig={},(0,o.Z)(ig,rg.Current,{title:"Current",color:f.TV.blueStronger}),(0,o.Z)(ig,ag.dD.Deploy,{title:"Deploy",color:f.TV.accentPositiveDefault}),(0,o.Z)(ig,ag.dD.Rollback,{title:"Rollback",color:f.TV.blurpleStronger}),(0,o.Z)(ig,ag.dD.Fail,{title:"Fail",color:f.TV.accentNegativeDefault}),ig),cg=function(e){var t=e.type,n=e.isCurrent,i=t in sg?sg[n?rg.Current:t]:{title:"",color:f.TV.greenDefault},o=i.title,a=i.color;return(0,r.BX)(f.G7,{css:[f.l0.align.center,f.l0.rowWithGap(8),{textTransform:"capitalize"}],children:[(0,r.tZ)(f.G7,{as:"span",css:[f.l0.width("8px"),f.l0.height("8px"),f.l0.borderRadius("full"),{backgroundColor:a,boxShadow:"0 0 12px ".concat(a)}]}),(0,r.tZ)("div",{className:"always-on-indicator","aria-label":o,"data-microtip-position":"bottom",role:"tooltip"}),(0,r.tZ)(f.xv,{children:o})]})},ug=(lg={},(0,o.Z)(lg,rg.Current,{icon:(0,r.tZ)(Nr.Deploy,{}),text:"Current deployment"}),(0,o.Z)(lg,ag.dD.Deploy,{icon:(0,r.tZ)(Nr.Deploy,{}),text:"Build deployed"}),(0,o.Z)(lg,ag.dD.Rollback,{icon:(0,r.tZ)(Nr.Deploy,{}),text:"Roll back deployed"}),(0,o.Z)(lg,ag.dD.Fail,{icon:(0,r.tZ)(dr.Z,{}),text:"Deployment failed"}),lg),dg=f.KD.div,pg=function(e){var t=e.activityLogItem,n=e.isCurrent?rg.Current:t.type,o=(0,a.Z)(i.useState(!1),2),l=o[0],s=o[1],c=(0,a.Z)(i.useState(!1),2),u=c[0],d=c[1],p=i.useRef(!1);i.useEffect((function(){p.current=!0;var e=setTimeout((function(){d(l)}),200);return function(){clearTimeout(e)}}),[l]);var h=n in ug?ug[n]:{icon:(0,r.tZ)(r.HY,{}),text:""},m=h.icon,v=h.text;return(0,r.tZ)(f.G7,{css:[f.l0.p(8)],onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:(0,r.BX)(ad.Z,{isOpen:u,onClickOutside:function(){return d(!1)},padding:8,children:[(0,r.tZ)(dg,{children:m}),(0,r.tZ)(f.G7,{css:[f.l0.maxWidth(240)],children:(0,r.tZ)(f.xv,{multiline:!0,children:v})})]})})},fg=function(e){var t=e.hostedDeployment,n=function(e){var t=(0,F.Z)({},eg,e);return Re.a(ng,t)}({variables:{replId:t.currentBuild.repl.id,count:20},fetchPolicy:"cache-and-network"}),o=n.data,l=n.loading,s=n.error,c=n.fetchMore,u=function(e){var t;return"Repl"===(null===e||void 0===e?void 0:e.repl.__typename)&&"HostingDeployment"===(null===(t=e.repl.hostingDeployment)||void 0===t?void 0:t.__typename)&&"HostingActivityLogConnection"===e.repl.hostingDeployment.activityLogs.__typename&&e.repl.hostingDeployment.activityLogs}(o),d=u&&u.pageInfo.hasNextPage,p=function(){var e=(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return l||u&&null==u.pageInfo.nextCursor||!u||!u.pageInfo.hasNextPage?[2]:[4,c({variables:{input:{after:u.pageInfo.nextCursor,count:20}}})];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),h=(0,og.Z)({onLoadMore:p,rootMargin:"0px 0px 300px 0px"}).targetRef,m=(0,a.Z)(i.useState(null),2),v=m[0],g=m[1],Z=(0,a.Z)(i.useState(null===s||void 0===s?void 0:s.message),2),b=Z[0],y=Z[1];return i.useEffect((function(){if(b)y(b);else if(u)g(u.items);else{var e,t;if("Repl"!==(null===o||void 0===o?void 0:o.repl.__typename))return void y(null===o||void 0===o?void 0:o.repl.__typename);if("HostingDeployment"!==(null===(e=o.repl.hostingDeployment)||void 0===e?void 0:e.__typename))switch(null===(t=o.repl.hostingDeployment)||void 0===t?void 0:t.__typename){case"NotFoundError":case"UnauthorizedError":y(o.repl.hostingDeployment.message)}y("An unexpected error occurred.")}}),[o,u,b]),(0,r.BX)(f.G7,{css:[f.l0.py(12)],children:[b?(0,r.tZ)(f.G7,{css:[f.l0.pb(8),f.l0.center,f.l0.align.stretch],children:(0,r.tZ)(f.E_,{colorway:"warning",icon:(0,r.tZ)(dr.Z,{}),text:b})}):null,v&&0===v.length?(0,r.tZ)(f.G7,{css:[f.l0.pb(8),f.l0.center,f.l0.align.stretch],children:(0,r.tZ)(f.E_,{colorway:"grey",icon:(0,r.tZ)(Er.Z,{}),text:"Deployment has no history"})}):null,v&&v.length>0?v.map((function(e,n){var i=t.currentBuild.id===e.build.id;return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(12),f.l0.py(12),f.l0.align.center,n<v.length-1&&{borderBottom:"1px solid ".concat(f.TV.outlineDimmest)}],children:[(0,r.BX)(f.xv,{variant:"text",css:[f.l0.width("60%"),f.l0.flex.shrink(1)],children:[(0,$v.Z)(new Date(e.timeCreated),Date.now(),{addSuffix:!0})," ","by ",e.user.displayName]}),(0,r.tZ)(f.G7,{css:[f.l0.flex.grow(1),f.l0.align.start],children:(0,r.tZ)(cg,{type:e.type,isCurrent:i})}),(0,r.tZ)(f.G7,{css:[f.l0.width(32),f.l0.align.end],children:(0,r.tZ)(pg,{activityLogItem:e,isCurrent:i})})]},e.id)})):null,l?(0,r.tZ)(f.G7,{css:[f.l0.p(8),f.l0.center],children:(0,r.tZ)(Y.Z,{})}):null,!l&&d?(0,r.tZ)(f.G7,{css:[f.l0.center,f.l0.pt(16)],children:(0,r.tZ)(f.hU,{tooltipHidden:!0,alt:"Show more",onClick:p,ref:h,children:(0,r.tZ)(Fu.Z,{})})}):null]})};function hg(){var e=(0,Te.Z)(["\n  fragment ReplLogLine on ReplLog {\n    __typename\n    timestamp\n    line\n  }\n"]);return hg=function(){return e},e}function mg(){var e=(0,Te.Z)(["\n  query HostingDeploymentLogs($replId: String!, $deploymentId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        __typename\n        hostingDeploymentLogs(deploymentId: $deploymentId) {\n          ... on ReplLogs {\n            result {\n              ...ReplLogLine\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return mg=function(){return e},e}var vg={},gg=(0,_e.Ps)(hg()),Zg=(0,_e.Ps)(mg(),gg);var bg=function(e){var t,n,i,o=e.hostedDeployment,a=o.id,l=function(e){var t=(0,F.Z)({},vg,e);return Re.a(Zg,t)}({variables:{replId:o.currentBuild.repl.id,deploymentId:a}}),s=l.data,c=l.loading,u=l.error;return(0,r.tZ)(f.G7,{css:[f.l0.pt(16)],children:(0,r.BX)(f.G7,{css:[f.l0.minHeight(200)],children:[c?(0,r.tZ)(f.G7,{css:[f.l0.flex.grow(1),f.l0.flex.row,f.l0.align.center,f.l0.justify.center],children:(0,r.tZ)(Y.Z,{size:24})}):null,"Repl"===(null===s||void 0===s||null===(t=s.repl)||void 0===t?void 0:t.__typename)&&"ReplLogs"===(null===s||void 0===s||null===(n=s.repl)||void 0===n||null===(i=n.hostingDeploymentLogs)||void 0===i?void 0:i.__typename)?(0,r.tZ)(yg,{logs:s.repl.hostingDeploymentLogs.result}):null,u?(0,r.tZ)(f.E_,{colorway:"warning",icon:(0,r.tZ)(dr.Z,{}),text:u.message}):null]})})},yg=function(e){var t=e.logs;return(0,r.tZ)(f.G7,{css:[f.l0.overflow("auto")],children:(0,r.tZ)("table",{css:[{borderCollapse:"separate"}],children:(0,r.tZ)("tbody",{children:t.map((function(e,t){var n=[f.l0.font.code,f.l0.fontSize(12),{border:"1px solid transparent",padding:"6px"},t%2===0?[f.l0.backgroundColor.backgroundHigher,{borderTopColor:"".concat(f.TV.backgroundHighest)},{borderBottomColor:"".concat(f.TV.backgroundHighest)}]:null];return(0,r.BX)("tr",{children:[(0,r.tZ)("td",{css:[n,f.l0.color.accentPrimaryDefault],children:e.timestamp}),(0,r.tZ)("td",{css:[n],children:e.line})]},"logLine-".concat(t))}))})})})},xg=n(88330),wg=n(12383),Cg=n(99894),kg=n(21655),Lg=n(43935),Sg=function(e){var t=e.hostedDeployment.currentBuild.repl.id,n=168,i=(0,xg.Z)((0,wg.Z)(new Date),167);return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(24),f.l0.pt(16),f.l0.pr(8)],children:[(0,r.tZ)(Cg.Z,{replId:t,start:i,hours:n,deployment:!0}),(0,r.tZ)(kg.Z,{replId:t,metric:Lg.Pc.Url,start:i,hours:n,deployment:!0,count:5}),(0,r.tZ)(kg.Z,{replId:t,metric:Lg.Pc.Referrer,start:i,hours:n,deployment:!0,count:5})]})},Bg=n(37806),Eg=n(8347),Tg=f.KD.div,_g=function(e){var t=e.id,n=e.title,o=e.information,l=e.children,s=(0,Tn.H)()(t),c=(0,a.Z)(i.useState(!1),2),u=c[0],d=c[1],p=(0,a.Z)(i.useState(!1),2),h=p[0],m=p[1],v=i.useRef(!1);return i.useEffect((function(){v.current=!0;var e=setTimeout((function(){m(u)}),200);return function(){clearTimeout(e)}}),[u]),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(f.G7,{tag:"label",htmlFor:s,children:(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.justify.start,f.l0.color.greyStronger],onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},children:[(0,r.tZ)(f.xv,{children:n}),(0,r.BX)(ad.Z,{isOpen:h,onClickOutside:function(){return m(!1)},padding:8,children:[(0,r.tZ)(Tg,{children:(0,r.tZ)(Er.Z,{})}),(0,r.tZ)(f.G7,{css:[f.l0.maxWidth(240)],children:(0,r.tZ)(f.xv,{multiline:!0,children:o})})]})]})}),l]})},Rg=n(46679),Dg=n(38492);function Gg(e){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,tt.Z)((function(e){var t,n,r;return(0,nt.__generator)(this,(function(i){if(t=e.replId,n=e.buildId,!Rm.l)throw new Error("Expected apollo client");return r={url:"/data/repls/".concat(t,"/build/").concat(n,"/get_connection_metadata"),clientVersion:"86350a9",flags:{}},[2,(0,Dg.Z)(r)]}))}))).apply(this,arguments)}var jg=n(45528);function Mg(e){var t=e.throwBsod,n=(0,Wd.ZP)({onUnrecoverableError:function(e){if(!e.message.toLowerCase().includes("repl not found")){t({error:e,tags:{hostingDeployments:"true"},origin:"Deployments: createStageServices/onUnrecoverableError"})}}}),r=(0,Rg.Z)({container:n});return{container:n,fs:r,dotReplit:(0,Ur.Z)({container:n,fs:r})}}function Pg(e){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,tt.Z)((function(e){var t,n,r,i,o;return(0,nt.__generator)(this,(function(a){if(t=e.canonicalReplServices,n=e.container,r=e.buildId,!(i=t.container.getContext()))throw new Error("An unexpected error occurred. Please try again or contact support.");return o=(0,jg.U)({repl:{id:r,slug:r,language:i.repl.language,user:i.repl.user,currentUserPermissions:i.repl.currentUserPermissions},currentUser:i.currentUser,asViewer:!1}),n.connect({context:o,fetchConnectionMetadata:(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){return[2,Gg({replId:i.repl.id,buildId:r})]}))}))}),[2]}))}))).apply(this,arguments)}var Fg,Vg=function(){var e=(0,tt.Z)((function(e){var t,n,r;return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.getConfig()];case 1:if(t=i.sent(),n=t.config,(r=t.error)===ci.Yt.NotFound)return[2];if(r)throw new Error("Failed to get .replit config with Error: "+r);return[2,n]}}))}));return function(t){return e.apply(this,arguments)}}(),Wg=function(){var e=(0,tt.Z)((function(e,t){var n;return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.writeFile(".env",Bn.Z.serialize(Bn.Z.parse(t.toString())))];case 1:if(n=r.sent().error)throw new Error("Failed to write envs to file with Error: "+n);return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),zg=function(){var e=(0,tt.Z)((function(e){var t;return(0,nt.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.readFile(".env")];case 1:if((t=n.sent()).error===C.Df.NotFound)return[2];if(t.error)throw new Error("Failed to read envs from file with Error: "+t.error);return[2,t.content]}}))}));return function(t){return e.apply(this,arguments)}}(),Xg=function(){var e=(0,tt.Z)((function(e){var t;return(0,nt.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.deleteFile(".env")];case 1:if((t=n.sent().error)===C.Df.NotFound)return[2];if(t)throw new Error("Failed to delete envs file with Error: "+t);return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),Hg=function(e){var t=e.hostedDeployment,n=(0,a.Z)((0,Bg.qg)(),2),o=(n[0],n[1]),l=(0,a.Z)(i.useState(null),2),s=l[0],c=l[1],u=(0,a.Z)(i.useState(null),2),d=u[0],p=u[1],h=(0,a.Z)(i.useState(null),2),m=h[0],g=h[1],Z=(0,a.Z)(i.useState(null),2),b=Z[0],y=Z[1],x=(0,a.Z)(i.useState((function(){return Mg({throwBsod:o})})),1)[0],w=(0,a.Z)(i.useState("ready"),2),k=w[0],L=w[1],S=(0,v.Z)();return i.useEffect((function(){if("ready"===k){L("reading"),Pg({canonicalReplServices:S,container:x.container,buildId:t.currentBuild.id}).catch((function(e){throw e}));var e=function(){var e=(0,tt.Z)((function(){var e,t,n,r,i,o,a,l,s;return(0,nt.__generator)(this,(function(u){switch(u.label){case 0:return[4,x.dotReplit.getConfig()];case 1:if(e=u.sent(),t=e.config,(n=e.error)===ci.Yt.NotFound)return[2];if(n)throw new Error("Failed to get .replit config with Error: "+n);return r="",o=(0,Eg.m)(null!==(i=t.run)&&void 0!==i?i:void 0),t.deployment&&(a=t.deployment,l=a.build,s=a.run,l&&(r=(0,Eg.m)(l)),s&&(o=(0,Eg.m)(s))),c(r),p(o),[2]}}))}));return function(){return e.apply(this,arguments)}}(),n=function(){var e=(0,tt.Z)((function(){var e;return(0,nt.__generator)(this,(function(t){switch(t.label){case 0:return[4,x.fs.readFile(".env")];case 1:if((e=t.sent()).error===C.Df.NotFound)return[2];if(e.error)throw new Error("Failed to read deployment repl envs with Error: "+e.error);return y(Bn.Z.parse(e.content.toString())),[2]}}))}));return function(){return e.apply(this,arguments)}}();Promise.all([n(),e()]).then((function(){L("done")})).catch((function(e){g(e.message)}))}}),[t,S,x,k]),(0,r.BX)(f.G7,{css:[f.l0.py(16),f.l0.colWithGap(16)],children:[!m&&["ready","reading"].includes(k)?(0,r.tZ)(f.G7,{css:[f.l0.center,f.l0.p(12)],children:(0,r.tZ)(Y.Z,{})}):(0,r.BX)(r.HY,{children:[(0,r.tZ)(_g,{id:"settingsBuildCommand",title:"Build command",information:"The build command is the command-line statement that compiles your app at build time.",children:(0,r.tZ)(f.II,{value:s||"No Build command set",css:[s?f.l0.color.greyStrongest:f.l0.color.greyDefault],disabled:!0})}),(0,r.tZ)(_g,{id:"settingsRunCommand",title:"Run command",information:"The run command is the command-line statement that launches your app after it has been built.",children:(0,r.tZ)(f.II,{value:d||"No Run command set",css:[d?f.l0.color.greyStrongest:f.l0.color.greyDefault],disabled:!0})}),(0,r.tZ)(_g,{id:"settingsEnvVars",title:"Environment variables",information:"Choose which environment variables should be used for your deployment.",children:b?Object.entries(b).map((function(e){var t=(0,a.Z)(e,2),n=t[0],i=t[1];return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(12)],children:[(0,r.tZ)(f.II,{value:n,css:[f.l0.maxWidth("35%"),f.l0.color.greyStrongest],disabled:!0}),(0,r.tZ)(f.II,{value:i,css:[f.l0.color.greyStrongest],disabled:!0})]},n)})):(0,r.tZ)(f.II,{value:"No Environment variables set",css:[f.l0.color.greyDefault],disabled:!0})})]}),m?(0,r.tZ)(f.G7,{css:[f.l0.center,f.l0.align.stretch],children:(0,r.tZ)(f.E_,{colorway:"warning",icon:(0,r.tZ)(dr.Z,{}),text:m})}):null]})},Ag=n(62991),Ug=n.n(Ag),Og=n(94158),qg=n(38164),$g=n(64759),Yg=n(13331),Kg=n(8236),Jg=(Fg={},(0,o.Z)(Fg,Kg.T6.Standard,{boost:Kg.T6.Standard,alwaysOn:!1,concurrency:"limited",disabled:!0,monthlyCycles:0,name:"Basic",color:f.TV.backgroundHighest,selected:!1}),(0,o.Z)(Fg,Kg.T6.Boosted1,{boost:Kg.T6.Boosted1,alwaysOn:!0,concurrency:"unlimited",disabled:!1,monthlyCycles:600,name:"Standard",color:"#B2D9FF",selected:!0}),(0,o.Z)(Fg,Kg.T6.Boosted2,{boost:Kg.T6.Boosted2,alwaysOn:!0,concurrency:"unlimited",disabled:!0,monthlyCycles:2100,name:"Performance",color:"#F2E088",selected:!1}),(0,o.Z)(Fg,Kg.T6.Boosted3,{boost:Kg.T6.Boosted3,alwaysOn:!0,concurrency:"unlimited",disabled:!0,monthlyCycles:4500,name:"Professional",color:"#FFBD7A",selected:!1}),(0,o.Z)(Fg,Kg.T6.Boosted4,{boost:Kg.T6.Boosted4,alwaysOn:!0,concurrency:"unlimited",disabled:!0,monthlyCycles:10500,name:"Shipping Season",color:"#F26207",selected:!1}),Fg),Qg=function(e){var t=e.enabled,n=e.selected,i=t?"Always On":"Wake-up required",o=t?(0,r.tZ)(Nr.SmallCircle,{}):void 0;return(0,r.tZ)(f.DR,{text:i,iconLeft:o,css:{backgroundColor:n?f.TV.accentPrimaryDefault:void 0,color:n?"#0F1726":void 0}})},eZ=function(e){var t,n=e.boost,i=e.selected,o=e.color,a=n===Kg.T6.Standard?void 0:(0,r.tZ)(Yg.Z,{});switch(n){case Kg.T6.Standard:t="No Boost";break;case Kg.T6.Boosted1:t="4x Boost";break;case Kg.T6.Boosted2:t="8x Boost";break;case Kg.T6.Boosted3:t="16x Boost";break;case Kg.T6.Boosted4:t="32x Boost"}return(0,r.tZ)(f.DR,{text:t,iconLeft:a,css:{backgroundColor:i?o:void 0,color:i?"#0F1726":void 0}})},tZ=function(e){var t=e.selected,n=e.mode,i="limited"===n?"Limited":"Unlimited",o="limited"===n?void 0:(0,r.tZ)($g.Z,{}),a="limited"===n?"Only 1 limited Repl can run at a time":"This Repl will not be subject to concurrent run limits";return(0,r.tZ)(f.u,{tooltip:a,children:(0,r.tZ)(f.DR,{text:i,iconLeft:o,css:{backgroundColor:t?f.TV.accentPrimaryDefault:void 0,color:t?"#0F1726":void 0}})})},nZ=function(e){var t=e.tier;return(0,r.BX)(f.Tg,{background:"higher",css:[f.l0.borderRadius(12),f.l0.colWithGap(8),f.l0.px(12),f.l0.py(8),{border:t.selected?"1px solid "+f.TV.accentPrimaryStronger:"1px solid transparent"},t.disabled?[f.l0.color.foregroundDimmest]:null,t.selected?[f.l0.backgroundColor.accentPrimaryDimmer]:null],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row],children:[(0,r.tZ)(f.G7,{css:[f.l0.flex.grow(1),f.l0.colWithGap(8)],children:(0,r.tZ)(f.xv,{css:[f.l0.fontWeight.medium],children:t.name})}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.shrink(1),f.l0.rowWithGap(2),f.l0.align.center,f.l0.position.relative,t.selected?f.l0.color.accentPrimaryStrongest:null,t.selected&&{"&:after":[f.l0.position.absolute,f.l0.top("50%"),f.l0.left(0),f.l0.width("100%"),{borderBottom:"".concat(f.TV.borderWidthDefault," solid ").concat(f.TV.foregroundDimmer),content:'""'}]}],children:[(0,r.tZ)(qg.Z,{}),(0,r.BX)(f.xv,{css:[f.l0.fontWeight.normal],children:[t.monthlyCycles.toLocaleString(),"/month"]})]}),t.selected?(0,r.tZ)(f.xv,{css:[f.l0.fontWeight.medium],children:"FREE"}):null]})]}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4)],children:[(0,r.tZ)(eZ,{selected:t.selected,boost:t.boost,color:t.color}),(0,r.tZ)(Qg,{selected:t.selected,enabled:t.alwaysOn}),(0,r.tZ)(tZ,{selected:t.selected,mode:t.concurrency})]})]})},rZ=function(e){var t=e.onContinue,n=e.loading;return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16)],children:[(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8)],children:Object.values(Jg).map((function(e,t){return(0,r.tZ)(nZ,{tier:e},"tier-".concat(t))}))}),(0,r.tZ)(f.xv,{color:"dimmer",css:[f.l0.textAlign.center,f.l0.pb(16)],children:"Only basic hosting is available during the beta program."}),(0,r.tZ)(f.G7,{css:{width:"100%",position:"sticky",bottom:0,paddingBottom:16,backgroundColor:f.TV.backgroundDefault,boxShadow:"0 -8px 16px 16px "+f.TV.backgroundDefault},children:(0,r.tZ)(f.zx,{colorway:"primary",onClick:t,text:"Continue",iconLeft:n?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(r.HY,{}),iconRight:(0,r.tZ)(Nr.ArrowRight,{})})})]})},iZ=function(e){return"string"===typeof e},oZ=function(e){var t=e.type,n=e.value,i=e.loading,o=e.disabled,a=e.onChange,l=iZ(n);return(0,r.BX)(r.HY,{children:[l?null:(0,r.tZ)(f.zx,{onClick:function(){return a("")},text:i?"":"Add ".concat(t," command"),iconLeft:i?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(mr.Z,{}),disabled:o}),l?(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(12)],children:[(0,r.tZ)(f.II,{value:n,onChange:function(e){return a(e.target.value)},css:[f.l0.color.greyStrongest],disabled:o}),(0,r.tZ)(f.hU,{css:[f.gU.outlined,f.l0.p(16)],onClick:function(){return a(null)},alt:"Remove ".concat(t," command"),disabled:o,children:(0,r.tZ)(Og.Z,{})})]}):null]})},aZ=function(e){var t=e.stage,n=e.activeStage;return t===e.erroredStage?(0,r.tZ)(Nr.Warning,{}):0===n?(0,r.tZ)(f.xv,{}):t<n?(0,r.tZ)(Nr.Check,{}):t===n?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(Nr.Clock,{})},lZ=function(e){var t=e.stage,n=e.activeStage;return t===e.erroredStage?"accentNegativeDefault":0===n?"greyDefault":t<n?"accentPositiveDefault":t===n?"accentPrimaryDefault":"backgroundHigher"},sZ=function(e){var t=e.stage,n=e.activeStage,i=e.text,o=e.erroredStage,a=e.lastStage,l=void 0!==a&&a;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(f.DR,{text:i,css:[{backgroundColor:rv.TV[lZ({stage:t,activeStage:n,erroredStage:o})]}],iconRight:(0,r.tZ)(aZ,{stage:t,activeStage:n,erroredStage:o})}),l?null:(0,r.tZ)("div",{css:{width:60,height:1,backgroundColor:rv.TV[lZ({stage:t,activeStage:n,erroredStage:o})]}})]})},cZ=n(11089),uZ=n(15794),dZ=n(41847),pZ=n(34219),fZ=n(52867),hZ=n(48920),mZ=n(5743);function vZ(){return(vZ=(0,tt.Z)((function(e){var t,n,r,i,o,a;return(0,nt.__generator)(this,(function(l){switch(l.label){case 0:return t=e.config,n=e.services,(r=e.onStageTerminalOutput)("Build: ".concat(t.buildId," \n\r")),[4,(0,mZ.Z)(n.container,n.dotReplit)];case 1:return l.sent()?(i=(0,pZ.Z)({container:n.container,dotReplit:n.dotReplit}),r("Installing packages...\n\r"),i.onOutput(r),[4,i.installPackages()]):[3,3];case 2:if(!l.sent())throw new Error("Failed to install packages\n\r");l.label=3;case 3:return t.buildCommand?(o=(0,dZ.Z)({container:n.container}),r("Starting Build...\n\r"),o.onOutput(r),[4,o.request({args:["sh","-c",t.buildCommand]})]):(r("Skipping Build as no Build command set...\n\r"),[2]);case 4:if(a=l.sent().error)throw new Error(a);return[2]}}))}))).apply(this,arguments)}function gZ(){return gZ=(0,tt.Z)((function(e){var t,n,r,i,o,a,l;return(0,nt.__generator)(this,(function(s){switch(s.label){case 0:return t=e.config,n=e.services,r=e.onStageTerminalOutput,t.runCommand?[4,n.dotReplit.updateDotReplit([{op:"remove",path:"interpreter"},(0,Hr.KQ)(t.runCommand)])]:(r("Skipping Run as no Run command set...\n\r"),[2]);case 1:if(i=s.sent(),o=i.error,a=i.errorMessage,o)throw new Error("".concat(o,": ").concat(a));return l=(0,fZ.Z)({container:n.container,beforeRun:(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){return[2]}))}))}),r("Starting Run...\n\r"),l.onOutput((function(e){var t=e;e.includes("Hint: hit control+c anytime to enter REPL.")&&(t=e.replace("Hint: hit control+c anytime to enter REPL.","")),r(t)})),[4,new Promise((function(e,t){r("Listening for container port to open...\n\r"),l.getRunState()===hZ.A.IDLE&&l.run();var i=!1;l.onStateChanged((function(e){if(e===hZ.A.IDLE){if(i)return t(new Error("Run command failed"));l.run(),i=!0}}));var o=setTimeout((function(){t(new Error("Opening container port timed out"))}),3e4);n.container.onPortOpened((function(){clearTimeout(o),setTimeout((function(){if(l.getRunState()!==hZ.A.RUNNING)return t(new Error("Run command failed"));e(null)}),1e3)}))}))];case 2:return s.sent(),[2]}}))})),gZ.apply(this,arguments)}var ZZ=function(){var e=(0,tt.Z)((function(e){var t,n;return(0,nt.__generator)(this,(function(r){return t=e.onStageComplete,n=e.onStageError,function(e){return gZ.apply(this,arguments)}(e).then((function(){t({type:"next"})})).catch((function(e){return n(e.message)})),[2]}))}));return function(t){return e.apply(this,arguments)}}();function bZ(){return(bZ=(0,tt.Z)((function(e){var t,n,r;return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:return t=e.config,(n=e.onStageTerminalOutput)("Sending request to server...\n\r"),[4,(0,uZ.uz)("/deployments/check/".concat(t.buildId),{})];case 1:if(!("deploymentStatus"in(r=i.sent())))throw new Error("Error expected deploymentStatus");if(n("Server returned status: ".concat(r.deploymentStatus,"\n\r")),200!==r.deploymentStatus)throw new Error("Failed to get HTTP 200 OK success status response code");return[2]}}))}))).apply(this,arguments)}var yZ=function(){var e=(0,tt.Z)((function(e){var t,n;return(0,nt.__generator)(this,(function(r){return t=e.onStageComplete,n=e.onStageError,function(e){return bZ.apply(this,arguments)}(e).then((function(){t({type:"next"})})).catch((function(e){return n(e.message)})),[2]}))}));return function(t){return e.apply(this,arguments)}}();function xZ(){return(xZ=(0,tt.Z)((function(e){var t,n,r,i,o,a,l,s,c;return(0,nt.__generator)(this,(function(u){switch(u.label){case 0:if(t=e.config,n=t.buildId,r=t.targetDeploymentId,i=e.hostedDeployment,o=e.deployHostingBuild,(a=e.onStageTerminalOutput)("Promoting build...\n\r"),!r)throw new Error("Expected a target deployment id");return[4,o({variables:{input:{buildId:n,targetDeploymentId:r}}})];case 1:switch(c=u.sent(),null===(l=c.data)||void 0===l||null===(s=l.deployHostingBuild)||void 0===s?void 0:s.__typename){case"DeployHostingBuildResult":return a("Restarting server...\n\r"),a("Deployment successful!\n\r"),[2,{id:r,domains:(null===i||void 0===i?void 0:i.domains)||[],currentBuild:c.data.deployHostingBuild.deployment.currentBuild}];case"NotFoundError":case"UnauthorizedError":case"UserError":throw new Error(c.data.deployHostingBuild.message);default:throw new Error("Unexpected typename")}return[2]}}))}))).apply(this,arguments)}var wZ=function(){var e=(0,tt.Z)((function(e){var t,n;return(0,nt.__generator)(this,(function(r){return t=e.onStageComplete,n=e.onStageError,function(e){return xZ.apply(this,arguments)}(e).then((function(e){return t({type:"deployed",payload:e})})).catch((function(e){return n(e.message)})),[2]}))}));return function(t){return e.apply(this,arguments)}}();function CZ(){var e=(0,Te.Z)(["\n  mutation CreateHostingDeployment($input: CreateHostingDeploymentInput!) {\n    createHostingDeployment(input: $input) {\n      ... on CreateHostingDeploymentResult {\n        deployment {\n          id\n          currentBuild {\n            id\n          }\n        }\n        firstBuild {\n          id\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return CZ=function(){return e},e}function kZ(){var e=(0,Te.Z)(["\n  mutation DeployHostingBuild($input: DeployHostingBuildInput!) {\n    deployHostingBuild(input: $input) {\n      ... on DeployHostingBuildResult {\n        deployment {\n          id\n          currentBuild {\n            ...CurrentHostingBuild\n          }\n          repl {\n            id\n            url\n          }\n          activityLogs {\n            items {\n              id\n              type\n              build {\n                id\n                description\n                status\n                repl {\n                  id\n                  url\n                }\n              }\n              deployment {\n                id\n              }\n            }\n            pageInfo {\n              hasNextPage\n              nextCursor\n            }\n          }\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return kZ=function(){return e},e}function LZ(){var e=(0,Te.Z)(["\n  mutation FailHostingBuild($input: FailHostingBuildInput!) {\n    failHostingBuild(input: $input) {\n      ... on FailHostingBuildResult {\n        deployment {\n          id\n          currentBuild {\n            ...CurrentHostingBuild\n          }\n          repl {\n            id\n            url\n          }\n          activityLogs {\n            items {\n              id\n              type\n              build {\n                id\n                description\n                status\n                repl {\n                  id\n                  url\n                }\n              }\n              deployment {\n                id\n              }\n            }\n            pageInfo {\n              hasNextPage\n              nextCursor\n            }\n          }\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return LZ=function(){return e},e}var SZ={},BZ=(0,_e.Ps)(CZ());var EZ=(0,_e.Ps)(kZ(),Av);var TZ=(0,_e.Ps)(LZ(),Av);var _Z,RZ,DZ=n(26020),GZ=[{id:0,title:"Options",type:"component",func:function(e){var t=e.config,n=e.services,o=e.hostedDeployment,l=e.canonicalReplServices,s=e.onStageComplete,c=e.onStageError,u=(0,a.Z)((0,Bg.qg)(),2),d=(u[0],u[1]),p=(0,a.Z)(i.useState(null),2),h=p[0],m=p[1],v=(0,a.Z)(i.useState(null),2),g=v[0],Z=v[1],b=(0,a.Z)(i.useState("dev"),2),y=b[0],x=b[1],w=(0,a.Z)(i.useState(!0),2),L=w[0],S=w[1],B=(0,a.Z)(i.useState("ready"),2),E=B[0],T=B[1],_=(0,a.Z)(i.useState((function(){return Mg({throwBsod:d})})),1)[0],R=(0,k.Z)();i.useEffect((function(){if("ready"===E){T("syncing");var e=function(){var e=(0,tt.Z)((function(){var e,r,i,a;return(0,nt.__generator)(this,(function(s){switch(s.label){case 0:return"redeploy"===t.deployType&&o?(Pg({canonicalReplServices:l,container:_.container,buildId:o.currentBuild.id}).catch((function(e){throw e})),[4,_.fs.readFile(".env")]):[2];case 1:return e=s.sent(),[4,l.fs.readFile(".env")];case 2:return r=s.sent(),e.error||r.error?e.error===C.Df.NotFound&&r.error===C.Df.NotFound?[2]:e.error!==C.Df.NotFound||r.error?e.error||r.error!==C.Df.NotFound?[3,4]:[4,Wg(n.fs,e.content)]:(x("diff"),[2]):[3,5];case 3:case 6:return s.sent(),x("diff"),[2];case 4:throw new Error("Failed with unexpected Error: "+(null===e||void 0===e?void 0:e.error)+", "+(null===r||void 0===r?void 0:r.error));case 5:return i=Bn.Z.parse(r.content.toString()),a=Bn.Z.parse(e.content.toString()),Ug()(i,a)?[2]:[4,Wg(n.fs,e.content)]}}))}));return function(){return e.apply(this,arguments)}}(),r=function(){var e=(0,tt.Z)((function(){var e,t,n,r,i,o,a,s,c;return(0,nt.__generator)(this,(function(u){switch(u.label){case 0:return[4,Vg(l.dotReplit)];case 1:return(e=u.sent())?(t=null,n=null,e.deployment?(r=e.deployment,i=r.build,o=r.run,i&&(t=(0,Eg.m)(i)),o&&(n=(0,Eg.m)(o)),[3,4]):[3,2]):[2];case 2:return[4,l.dotReplit.getRunConfig()];case 3:s=u.sent(),(null===(a=s.interp)||void 0===a?void 0:a.command)?n=(0,Eg.m)(null===(c=s.interp)||void 0===c?void 0:c.command):s.run?n=(0,Eg.m)(s.run.run):e.run&&(n=(0,Eg.m)(s.run)),u.label=4;case 4:return[2,{buildCmd:t,runCmd:n}]}}))}));return function(){return e.apply(this,arguments)}}(),i=function(){var t=(0,tt.Z)((function(){var t,n,i;return(0,nt.__generator)(this,(function(o){switch(o.label){case 0:return[4,e()];case 1:return o.sent(),[4,r()];case 2:return(t=o.sent())&&(n=t.runCmd,i=t.buildCmd,m(i),Z(n)),[2]}}))}));return function(){return t.apply(this,arguments)}}();i().then((function(){T("done"),S(!1)})).catch((function(e){c(e.message),S(!1)}))}}),[t,o,l,n,_,E,T,c]);var D=function(){var e=(0,tt.Z)((function(){var e,t,r,i,o,a;return(0,nt.__generator)(this,(function(u){switch(u.label){case 0:return T("deploying"),e={buildCommand:void 0,runCommand:void 0,autoPromote:!1},t=[],iZ(h)?(e.buildCommand=h,t.push({path:"deployment/build",op:"add",value:JSON.stringify(["sh","-c",h])})):t.push({path:"deployment/build",op:"remove"}),iZ(g)?(e.runCommand=g,t.push({path:"deployment/run",op:"add",value:JSON.stringify(["sh","-c",g])})):t.push({path:"deployment/run",op:"remove"}),0===t.length?[3,2]:[4,l.dotReplit.updateDotReplit(t)];case 1:if(r=u.sent(),i=r.error)return c(i),[2];u.label=2;case 2:if("dev"!==y)return[3,9];u.label=3;case 3:return u.trys.push([3,8,,9]),[4,Xg(n.fs)];case 4:return u.sent(),[4,zg(l.fs)];case 5:return(o=u.sent())?[4,Wg(n.fs,o)]:[3,7];case 6:u.sent(),u.label=7;case 7:return[3,9];case 8:return a=u.sent(),c(a.message),[2];case 9:return s({type:"config_set",payload:e}),[2]}}))}));return function(){return e.apply(this,arguments)}}(),G=(0,Tn.H)(),I=L||"deploying"===E;return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16)],children:["redeploy"===t.deployType?(0,r.tZ)(_g,{id:"tier",title:"Tier",information:"Tiers dictate how fast your deployed repl will run.",children:(0,r.tZ)(nZ,{tier:Jg[Kg.T6.Boosted1]})}):null,(0,r.tZ)(_g,{id:"buildCommand",title:"Build command",information:"The build command is the command-line statement that compiles your app at build time.",children:(0,r.tZ)(oZ,{type:"Build",value:h,onChange:m,loading:L,disabled:I})}),(0,r.tZ)(_g,{id:"runCommand",title:"Run command",information:"The run command is the command-line statement that launches your app after it has been built.",children:(0,r.tZ)(oZ,{type:"Run",value:g,onChange:Z,loading:L,disabled:I})}),(0,r.tZ)(_g,{id:"envVars",title:"Environment variables",information:"Choose which environment variables should be used for your deployment.",children:(0,r.BX)(f.hE,{tag:"fieldset",id:G("envVars"),name:G("envVars"),value:y,onChange:function(e){return x(e)},row:!0,css:[f.l0.width("100%")],disabled:I,children:[(0,r.tZ)(f.rK,{id:G("false"),value:"dev",text:"Same as development"}),(0,r.tZ)(f.rK,{id:G("true"),value:"diff",text:"Different from development"})]})}),"diff"===y?(0,r.tZ)(f.G7,{css:[f.l0.position.relative,{minHeight:40},I&&{pointerEvents:"none",opacity:.75}],children:(0,r.tZ)(pe.Z,{readRawEnv:function(){return n.fs.readFile(".env")},writeRawEnv:function(e){return n.fs.writeFile(".env",e)},activeFile:R})}):null,(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.pt(16)],children:[L?null:(0,r.tZ)(f.zx,{text:"Cancel",onClick:function(){return s({type:"canceled"})},disabled:I}),(0,r.tZ)(f.G7,{css:[f.l0.flex.grow(1)],children:(0,r.tZ)(f.zx,{colorway:"primary",onClick:D,text:L||"deploying"===E?"":"Deploy",iconLeft:L||"deploying"===E?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(Nr.Deploy,{}),disabled:I})})]})]})}},{id:1,title:"Build",type:"function",func:function(e){var t=e.onStageComplete,n=e.onStageError;(function(e){return vZ.apply(this,arguments)})(e).then((function(){t({type:"next"})})).catch((function(e){n(e.message)}))}},{id:2,title:"Run",type:"function",func:ZZ},{id:3,title:"Check",type:"function",func:yZ},{id:4,title:"Promote",type:"function",func:wZ}],IZ=function(e){var t=e.deployType,n=e.replId,o=e.buildId,l=e.targetDeploymentId,s=e.hostedDeployment,c=e.onStageEvent,u=(0,a.Z)((0,Bg.qg)(),2),d=(u[0],u[1]),p=(0,a.Z)(i.useState({deployType:t,buildId:o,targetDeploymentId:l}),2),h=p[0],m=p[1],g=(0,a.Z)(i.useState(0),2),Z=g[0],b=g[1],y=(0,a.Z)(i.useState(null),2),x=y[0],w=y[1],C=(0,a.Z)(i.useState(null),2),k=C[0],L=C[1],S=(0,a.Z)(i.useState((function(){return Mg({throwBsod:d})})),1)[0],B=(0,a.Z)((0,cZ.Z)(),2),E=B[0],T=B[1],_=(0,DZ.f)(),R=(0,a.Z)(function(e){var t=(0,F.Z)({},SZ,e);return rt.D(BZ,t)}(),1)[0],D=(0,a.Z)(function(e){var t=(0,F.Z)({},SZ,e);return rt.D(EZ,t)}(),1)[0],G=(0,a.Z)(function(e){var t=(0,F.Z)({},SZ,e);return rt.D(TZ,t)}(),1)[0],I=(0,v.Z)(),j=i.useCallback(function(){var e=(0,tt.Z)((function(e,t){var n,r,i,a;return(0,nt.__generator)(this,(function(l){switch(l.label){case 0:return L({stageId:t||0,message:e}),c({type:"failed"}),h.targetDeploymentId?[4,G({variables:{input:{buildId:o,targetDeploymentId:h.targetDeploymentId}},onCompleted:function(e,t){var n=e.failHostingBuild;if(null===t||void 0===t?void 0:t.client){if("FailHostingBuildResult"!==(null===n||void 0===n?void 0:n.__typename))return;t.client.writeQuery({query:Uv,data:{repl:{hostingDeployment:n.deployment}}})}}})]:[3,2];case 1:if(r=l.sent(),i=r.data,a=r.errors,!i||a)return j("An unexpected error occurred. Please try again or contact support."),[2];switch(null===i||void 0===i||null===(n=i.failHostingBuild)||void 0===n?void 0:n.__typename){case"FailHostingBuildResult":break;case"NotFoundError":case"UnauthorizedError":case"UserError":throw new Error(i.failHostingBuild.message);default:throw new Error("Unexpected typename")}l.label=2;case 2:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),[o,h.targetDeploymentId,G,L,c]),M=i.useCallback((0,tt.Z)((function(){var e,t,r,i,o;return(0,nt.__generator)(this,(function(a){switch(a.label){case 0:return[4,R({variables:{input:{replId:n,buildId:h.buildId}}})];case 1:if(t=a.sent(),r=t.data,i=t.errors,!r||i)return j("An unexpected error occurred. Please try again or contact support."),[2];switch(null===(e=r.createHostingDeployment)||void 0===e?void 0:e.__typename){case"UnauthorizedError":case"UserError":return j(r.createHostingDeployment.message),[2];case"CreateHostingDeploymentResult":return o=r.createHostingDeployment.deployment.id,c({type:"target_deployment_created",payload:{targetDeploymentId:o}}),[2,o]}return[2]}}))})),[n,h.buildId,R,c,j]),P=i.useCallback(function(){var e=(0,tt.Z)((function(e){var t,n;return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:switch(e.type){case"config_set":return[3,1];case"next":return[3,4];case"deployed":return[3,5]}return[3,6];case 1:return(n=h.targetDeploymentId)?[3,3]:[4,M()];case 2:n=r.sent(),r.label=3;case 3:return(t=n)?(m((function(n){return(0,V.Z)((0,F.Z)({},n,e.payload),{targetDeploymentId:t})})),b((function(e){return e+1})),[3,6]):[2];case 4:case 5:return b((function(e){return e+1})),[3,6];case 6:return c(e),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[c,M,h]);i.useEffect((function(){Pg({canonicalReplServices:I,container:S.container,buildId:o}).catch((function(e){throw e}))}),[o,I,S.container]),i.useEffect((function(){if(!k&&!(x&&x.id===Z||Z>GZ.length)){var e=GZ[Z];e&&("function"===e.type&&e.func({config:h,services:S,canonicalReplServices:I,hostedDeployment:s,onStageComplete:P,onStageTerminalOutput:function(e){null!==E&&E.write(e.replace(/\n/g,"\n\r"))},onStageError:function(t){null!==E&&(E.write("\x1b[31m".concat(t.replace(/\n/g,"\n\r"))),j("An error occurred during "+e.title,e.id))},deployHostingBuild:D}),w(e))}}),[k,x,Z,S,I,s,h,E,P,D,j]);var N,W=x&&"component"===x.type?x.func:null;return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(12)],children:[Z>0?(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(0),f.l0.align.center,f.l0.justify.center,f.l0.mb(16)],children:GZ.filter((function(e){return 0!==e.id})).map((function(e){var t=e.id,n=e.title;return(0,r.tZ)(sZ,{stage:t,text:n,activeStage:Z,lastStage:4===t,erroredStage:null!==(N=null===k||void 0===k?void 0:k.stageId)&&void 0!==N?N:void 0},t)}))}):null,(0,r.BX)(f.G7,{children:[W?(0,r.tZ)(W,{config:h,services:S,canonicalReplServices:I,hostedDeployment:s,onStageComplete:P,onStageError:function(e){return j(e,null===x||void 0===x?void 0:x.id)},deployHostingBuild:D}):null,(0,r.tZ)(f.G7,{css:[x&&"function"===x.type?f.l0.display.flex:f.l0.display.none,f.l0.py(12),f.l0.pl(16),f.l0.borderRadius(8),f.l0.overflow("hidden"),{border:"1px solid var(--outline-dimmest)",backgroundColor:null===_||void 0===_?void 0:_.background}],children:(0,r.tZ)(f.KD.div,{css:[f.l0.width("100%"),f.l0.maxWidth("100%")],ref:T})})]}),k?(0,r.tZ)(f.G7,{css:[f.l0.center,f.l0.align.stretch],children:(0,r.tZ)(f.E_,{colorway:"warning",icon:(0,r.tZ)(dr.Z,{}),text:k.message})}):null]})},jZ=n(88808),MZ=n(14631),PZ=(_Z={},(0,o.Z)(_Z,$u.Fe.Building,{title:"Building",color:f.TV.orangeStronger}),(0,o.Z)(_Z,$u.Fe.Failed,{title:"Failed",color:f.TV.accentNegativeDefault}),(0,o.Z)(_Z,$u.Fe.Success,{title:"Success",color:f.TV.accentPositiveDefault}),_Z),NZ=function(e){var t=e.status,n=t in PZ?PZ[t]:{title:"",color:f.TV.greyDefault},i=n.title,o=n.color;return(0,r.BX)(f.G7,{css:[f.l0.align.center,f.l0.rowWithGap(8),{textTransform:"capitalize"}],children:[(0,r.tZ)(f.G7,{as:"span",css:[f.l0.width("8px"),f.l0.height("8px"),f.l0.borderRadius("full"),{backgroundColor:o,boxShadow:"0 0 12px ".concat(o)}]}),(0,r.tZ)("div",{className:"always-on-indicator","aria-label":i,"data-microtip-position":"bottom",role:"tooltip"}),(0,r.tZ)(f.xv,{children:i})]})},FZ=function(e){var t=e.title,n=e.fc,i=e.icon,o=e.onClickBack;return(0,r.BX)(f.G7,{children:[(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.hU,{size:24,alt:"Back",css:[f.gU.outlined,f.l0.p(16),f.l0.mr(8)],onClick:o,children:(0,r.tZ)(qt.Z,{})}),(0,r.tZ)(i,{}),(0,r.tZ)(f.xv,{variant:"subheadDefault",children:t})]}),(0,r.tZ)(n,(0,F.Z)({},e))]})},VZ=function(e){var t=e.hostedDeployment,n=[{href:"https://".concat(t.id,".id.repl.co"),private:!0}].concat((0,Be.Z)(t.domains.filter((function(e){return e.hosting_deployment_id===t.id})).map((function(e){return{href:"https://".concat(e.domain),private:!1,state:"verified"!==e.state?e.state:void 0}}))));return(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8),f.l0.flex.growAndShrink(1)],children:n.map((function(e,t){return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.xv,{css:[f.l0.flex.shrink(1)],children:(0,r.tZ)("a",{href:e.href,target:"_blank",css:[f.l0.color.foregroundDefault],children:e.href})}),e.private?(0,r.tZ)(ve.Z,{color:f.TV.foregroundDefault}):null,(0,r.tZ)("a",{href:e.href,target:"_blank",css:[f.l0.display.flex,f.l0.align.center],children:(0,r.tZ)(_r.Z,{color:f.TV.foregroundDefault})}),e.state?(0,r.BX)(f.xv,{children:["(",e.state,")"]}):null]},"domains-".concat(t))}))})},WZ=function(e){var t=e.label,n=e.children;return(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.align.baseline,f.l0.mb(12)],children:[(0,r.tZ)(f.G7,{css:f.l0.minWidth(100),children:(0,r.tZ)(f.xv,{css:[f.l0.color.greyStronger],children:t})}),n]})};!function(e){e.Ready="ready",e.BuildCreated="buildCreated",e.BuildFailed="buildFailed",e.Redeploying="redeploying",e.Redeployed="redeployed"}(RZ||(RZ={}));var zZ,XZ=function(e){var t=e.replId,n=e.hostedDeployment,o=e.onDeployed,l=(0,a.Z)(i.useState(!1),2),s=l[0],c=l[1],u=(0,a.Z)(i.useState(null),2),d=u[0],p=u[1],h=(0,a.Z)(i.useState(RZ.Ready),2),m=h[0],v=h[1],g=(0,a.Z)(i.useState(null),2),Z=g[0],b=g[1],y=(0,a.Z)(i.useState(null),2),x=y[0],w=y[1],C=(0,a.Z)(qv(),1)[0],k=[[{id:1,title:"Domains",icon:jZ.Z,fc:Kv},!0],[{id:2,title:"History",icon:Ot.Z,fc:fg},!0],[{id:3,title:"Analytics",icon:MZ.Z,fc:Sg},!0],[{id:4,title:"Logs",icon:vi.Z,fc:bg},!0],[{id:5,title:"Settings",icon:ye.Z,fc:Hg},!0]],L=function(){var e=(0,tt.Z)((function(){var e,r,i,o,a;return(0,nt.__generator)(this,(function(l){switch(l.label){case 0:return[RZ.BuildCreated,RZ.Redeploying].includes(m)?[2]:([RZ.Ready,RZ.Redeployed,RZ.BuildFailed].includes(m)&&w(null),c(!0),[4,C({variables:{input:{replId:t,description:""}}})]);case 1:if(r=l.sent(),i=r.data,o=r.errors,!i||o)return p("An unexpected error occurred. Please try again or contact support."),c(!1),[2];switch(null===(e=i.createHostingBuild)||void 0===e?void 0:e.__typename){case"UnauthorizedError":case"NotFoundError":p(i.createHostingBuild.message);break;case"HostingBuild":a=i.createHostingBuild.id,w({deployType:"redeploy",buildId:a,targetDeploymentId:n.id}),v(RZ.BuildCreated)}return c(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),S=[RZ.Redeploying].includes(m),B=x&&[RZ.BuildCreated,RZ.BuildFailed,RZ.Redeploying,RZ.Redeployed].includes(m),E=[RZ.Ready,RZ.Redeployed,RZ.BuildFailed].includes(m);return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(12)],children:[(0,r.BX)(f.G7,{children:[Z?null:(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center,f.l0.overflowX("scroll"),f.l0.pb(12),f.l0.px(8),{margin:"0 calc(".concat(f.TV.space8," * -1)")}],children:k.map((function(e){var t=(0,a.Z)(e,2),n=t[0],i=n.id,o=n.title,l=n.icon,s=n.fc,c=t[1];return c?(0,r.tZ)(f.zx,{text:o,iconLeft:(0,r.tZ)(l,{}),onClick:function(){b([{id:i,title:o,icon:l,fc:s},c])},disabled:S},i):null}))}),Z&&Z[1]?(0,r.tZ)(FZ,(0,V.Z)((0,F.Z)({},Z[0]),{hostedDeployment:n,onClickBack:function(){v((function(e){return[RZ.Redeployed,RZ.BuildFailed].includes(e)?RZ.Ready:e})),b(null)}})):null,Z?null:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(12)],children:[(0,r.BX)(f.G7,{css:[{borderBottom:"1px solid ".concat(f.TV.outlineDimmest)}],children:[(0,r.BX)(WZ,{label:"Deployed",children:[(0,$v.Z)(new Date(n.currentBuild.timeCreated),Date.now(),{addSuffix:!0})," ","by ",n.currentBuild.user.displayName]}),(0,r.tZ)(WZ,{label:"Status",children:(0,r.tZ)(NZ,{status:n.currentBuild.status})}),(0,r.tZ)(WZ,{label:"Domains",children:(0,r.tZ)(VZ,{hostedDeployment:n})}),(0,r.tZ)(WZ,{label:"Resources",children:Kg.Cw[n.currentBuild.repl.guaranteedProvisioningSku]})]}),B?(0,r.tZ)(IZ,(0,V.Z)((0,F.Z)({replId:t},x),{onStageEvent:function(e){switch(e.type){case"config_set":v(RZ.Redeploying);break;case"deployed":v(RZ.Redeployed),o(e.payload);break;case"failed":v(RZ.BuildFailed);break;case"canceled":v(RZ.Ready)}},hostedDeployment:n})):null,E?(0,r.tZ)(f.zx,{onClick:L,text:"Redeploy",iconLeft:s?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(Nr.Deploy,{})}):null]})]}),d?(0,r.tZ)(f.G7,{css:[f.l0.center,f.l0.align.stretch],children:(0,r.tZ)(f.E_,{colorway:"warning",icon:(0,r.tZ)(dr.Z,{}),text:d})}):null]})};function HZ(e){return void 0!==e.id&&void 0!==e.currentBuild}!function(e){e.Welcome="welcome",e.TierSelection="tierSelection",e.BuildFailed="buildFailed"}(zZ||(zZ={}));var AZ=function(e){var t=e.replId,n=e.onDeployed,o=(0,a.Z)(i.useState({id:void 0,currentBuild:void 0,domains:[]}),2),l=o[0],s=o[1],c=(0,a.Z)(i.useState(null),2),u=c[0],d=c[1],p=(0,a.Z)(i.useState(null),2),h=p[0],m=p[1],v=(0,a.Z)(i.useState(!1),2),g=v[0],Z=v[1],b=(0,a.Z)(i.useState(zZ.Welcome),2),y=b[0],x=b[1],w=(0,a.Z)(qv(),1)[0],C=function(){var e=(0,tt.Z)((function(){var e,n,r;return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:return[zZ.Welcome,zZ.BuildFailed].includes(y)?[2]:(Z(!0),[4,w({variables:{input:{replId:t,description:""}}})]);case 1:if(!(null===(n=i.sent())||void 0===n?void 0:n.data)||n.errors)return m("An unexpected error occurred. Please try again or contact support."),[2];switch(null===(e=n.data.createHostingBuild)||void 0===e?void 0:e.__typename){case"UnauthorizedError":case"NotFoundError":m(n.data.createHostingBuild.message);break;case"HostingBuild":r=n.data.createHostingBuild,d({deployType:"initial",buildId:r.id}),s((function(e){return(0,V.Z)((0,F.Z)({},e),{currentBuild:r})}))}return Z(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,tt.Z)((function(e){return(0,nt.__generator)(this,(function(t){switch(e.type){case"target_deployment_created":s((function(t){return(0,V.Z)((0,F.Z)({},t),{id:e.payload.targetDeploymentId})}));break;case"failed":s((function(e){return HZ(l)?(l.currentBuild.status=$u.Fe.Failed,l):e})),x(zZ.BuildFailed);break;case"canceled":d(null),x(zZ.Welcome);break;case"deployed":n(e.payload)}return[2]}))}));return function(t){return e.apply(this,arguments)}}();if(u){var L=[zZ.BuildFailed].includes(y);return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(12),f.l0.p(8)],children:[(0,r.tZ)(fe.Z,{truncate:!0,level:4,children:"New deployment"}),(0,r.tZ)(IZ,(0,V.Z)((0,F.Z)({replId:t},u),{onStageEvent:k})),L?(0,r.tZ)(f.zx,{onClick:function(){HZ(l)?n(l):m("An unexpected error occurred. Please try again or contact support.")},text:"Back",iconLeft:g?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(qt.Z,{})}):null]})}return(0,r.BX)(f.G7,{css:[f.l0.p(8)],children:[y===zZ.Welcome?(0,r.BX)(f.G7,{css:[f.l0.align.center,f.l0.textAlign.center],children:[(0,r.tZ)(f.G7,{css:[f.l0.p(32)],children:(0,r.tZ)(Nr.Deploy,{size:48})}),(0,r.tZ)(f.xv,{variant:"headerDefault",multiline:!0,css:[f.l0.mb(8)],children:"Share your Repl with the world"}),(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.mb(32)],children:"Allow people to use your app without being interrupted by changes in progress."}),(0,r.tZ)(f.G7,{css:[f.l0.px(8)],children:(0,r.tZ)(f.zx,{iconLeft:(0,r.tZ)(mr.Z,{}),colorway:"primary",onClick:function(){return x(zZ.TierSelection)},text:"Create a Deployment"})})]}):null,y===zZ.TierSelection?(0,r.tZ)(rZ,{loading:g,onContinue:C}):null,h?(0,r.tZ)(f.G7,{css:[f.l0.pb(8),f.l0.center,f.l0.align.stretch],children:(0,r.tZ)(f.E_,{colorway:"warning",icon:(0,r.tZ)(dr.Z,{}),text:h})}):null]})};function UZ(){var e=(0,Ne.Z)(),t=function(e){var t=(0,F.Z)({},Xv,e);return Re.a(Uv,t)}({variables:{replId:e}}),n=t.data,o=t.loading,l=t.error,s=(0,a.Z)(i.useState(null),2),c=s[0],u=s[1],d=(0,a.Z)(i.useState(null===l||void 0===l?void 0:l.message),2),p=d[0],h=d[1];return i.useEffect((function(){if(null===n||void 0===n?void 0:n.repl)if("Repl"===n.repl.__typename){if(n.repl.hostingDeployment&&!c)switch(n.repl.hostingDeployment.__typename){case"HostingDeployment":var e,t;u({id:n.repl.hostingDeployment.id,domains:null!==(t=null===(e=n.repl.domains)||void 0===e?void 0:e.filter((function(e){return"Domain"===(null===e||void 0===e?void 0:e.__typename)})))&&void 0!==t?t:[],currentBuild:n.repl.hostingDeployment.currentBuild});break;case"NotFoundError":case"UnauthorizedError":h(n.repl.hostingDeployment.message);break;default:h("Unexpected typename.")}}else h("Unexpected typename.")}),[null===n||void 0===n?void 0:n.repl,c]),o?(0,r.tZ)(f.G7,{css:[f.l0.center,f.l0.coverContainer],children:(0,r.tZ)(Y.Z,{size:24})}):(0,r.tZ)(f.G7,{css:[f.l0.height("100%"),f.l0.overflowY("auto"),O.F3],children:(0,r.tZ)(f.G7,{css:[f.l0.p(8),f.l0.colWithGap(8),f.l0.flex.grow(1)],children:(0,r.BX)(f.G7,{css:[f.l0.flex.grow(1),f.l0.py(8),f.l0.position.relative],children:[p?(0,r.tZ)(f.E_,{colorway:"warning",icon:(0,r.tZ)(dr.Z,{}),text:p}):null,c?(0,r.tZ)(XZ,{replId:e,hostedDeployment:c,onDeployed:u}):(0,r.tZ)(AZ,{replId:e,onDeployed:u})]})})})}var OZ=n(11936),qZ=n(30803),$Z=n(95137);function YZ(){var e=(0,Te.Z)(["\n  fragment HostingActivityLogBuild on HostingBuild {\n    id\n    status\n  }\n"]);return YZ=function(){return e},e}function KZ(){var e=(0,Te.Z)(["\n  fragment HostingActivityLogLine2 on HostingActivityLog {\n    id\n    build {\n      ...HostingActivityLogBuild\n    }\n    type\n    user {\n      id\n      displayName\n    }\n    timeCreated\n  }\n  ","\n"]);return KZ=function(){return e},e}function JZ(){var e=(0,Te.Z)(["\n  query HostingDeploymentActivityLogs2(\n    $replId: String!\n    $after: String\n    $count: Int\n  ) {\n    repl(id: $replId) {\n      ... on Repl {\n        hostingDeployment {\n          ... on HostingDeployment {\n            id\n            activityLogs(after: $after, count: $count) {\n              items {\n                ...HostingActivityLogLine2\n              }\n              pageInfo {\n                hasNextPage\n                nextCursor\n              }\n            }\n          }\n          ... on NotFoundError {\n            message\n          }\n          ... on UnauthorizedError {\n            message\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return JZ=function(){return e},e}var QZ={},eb=(0,_e.Ps)(YZ()),tb=(0,_e.Ps)(KZ(),eb),nb=(0,_e.Ps)(JZ(),tb);var rb,ib=function(e){var t=e.color;return(0,r.tZ)(f.G7,{css:[f.l0.align.center,f.l0.rowWithGap(8),{textTransform:"capitalize"}],children:(0,r.tZ)(f.G7,{as:"span",css:[f.l0.width("8px"),f.l0.height("8px"),f.l0.borderRadius("full"),{backgroundColor:t,boxShadow:"0 0 12px ".concat(t)}]})})};!function(e){e.Current="current"}(rb||(rb={}));var ob,ab,lb=(0,o.Z)({},rb.Current,{icon:(0,r.tZ)(ib,{color:f.TV.blueStronger}),text:"Current deployment"}),sb=f.KD.div,cb=function(e){var t=e.activityLogItem,n=e.isCurrent?rb.Current:t.type,o=(0,a.Z)(i.useState(!1),2),l=o[0],s=o[1],c=(0,a.Z)(i.useState(!1),2),u=c[0],d=c[1],p=i.useRef(!1);i.useEffect((function(){p.current=!0;var e=setTimeout((function(){d(l)}),200);return function(){clearTimeout(e)}}),[l]);var h=n in lb&&lb[n];if(!h)return null;var m=h.icon,v=h.text;return(0,r.tZ)(f.G7,{css:[f.l0.p(8)],onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:(0,r.BX)(ad.Z,{isOpen:u,onClickOutside:function(){return d(!1)},padding:8,children:[(0,r.tZ)(sb,{css:f.l0.cursor.pointer,children:m}),(0,r.tZ)(f.G7,{css:[f.l0.maxWidth(240)],children:(0,r.tZ)(f.xv,{multiline:!0,children:v})})]})})},ub=function(e){return e.loading?(0,r.tZ)(f.G7,{css:[f.l0.p(8),f.l0.center],children:(0,r.tZ)(Y.Z,{})}):null},db=function(e){var t=e.build,n=t.id.slice(0,8),o=(0,a.Z)(i.useState(!1),2),l=o[0],s=o[1],c=(0,a.Z)(i.useState(!1),2),u=c[0],d=c[1],p=i.useRef(!1);return i.useEffect((function(){p.current=!0;var e=setTimeout((function(){d(l)}),200);return function(){clearTimeout(e)}}),[l]),(0,r.tZ)("span",{onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:(0,r.BX)(ad.Z,{isOpen:u,onClickOutside:function(){return d(!1)},padding:8,children:[(0,r.tZ)("span",{css:[f.gU.filled,f.l0.display.inlineBlock,f.l0.color.foregroundDefault,f.l0.fontSize("small"),f.l0.px(4),f.l0.py(2),f.l0.borderRadius(4)],children:n}),(0,r.tZ)(f.G7,{css:[f.l0.maxWidth(260)],children:(0,r.tZ)(f.xv,{variant:"small",multiline:!0,children:t.id})})]})})},pb=(ob={},(0,o.Z)(ob,ag.dD.Deploy,(function(e){return(0,r.BX)(r.HY,{children:["Deployed ",(0,r.tZ)(db,{build:e})]})})),(0,o.Z)(ob,ag.dD.Rollback,(function(e){return(0,r.BX)(r.HY,{children:["Rolled back ",(0,r.tZ)(db,{build:e})]})})),(0,o.Z)(ob,ag.dD.Fail,(function(e){return(0,r.BX)(r.HY,{children:["Failed to deploy ",(0,r.tZ)(db,{build:e})]})})),ob),fb=function(e){var t=e.activityLogItem,n=t.type,i=t.build,o=t.user.displayName,a=n in pb&&pb[n](i);return a?(0,r.BX)(f.xv,{css:f.l0.color.foregroundDimmer,children:[(0,r.tZ)("span",{css:[f.l0.color.foregroundDefault,f.l0.fontWeight.medium],children:o+" "}),a]}):null},hb=(ab={},(0,o.Z)(ab,ag.dD.Deploy,{icon:(0,r.tZ)(Nr.Deploy,{}),color:f.TV.accentPositiveDefault}),(0,o.Z)(ab,ag.dD.Rollback,{icon:(0,r.tZ)(Nr.Deploy,{}),color:f.TV.blurpleStronger}),(0,o.Z)(ab,ag.dD.Fail,{icon:(0,r.tZ)(Nr.Warning,{}),color:f.TV.accentNegativeDefault}),ab),mb=function(e){var t=e.type,n=t in hb&&hb[t];if(!n)return null;var i=n.icon,o=n.color;return(0,r.tZ)(f.G7,{css:[f.l0.p(8),{color:o}],children:i})},vb=function(e){var t=e.currentBuild,n=e.onError,o=function(e){var t=(0,F.Z)({},QZ,e);return Re.a(nb,t)}({variables:{replId:t.repl.id,count:20},fetchPolicy:"cache-and-network"}),l=o.data,s=o.loading,c=o.error,u=o.fetchMore,d=(0,a.Z)(i.useState(null),2),p=d[0],h=d[1];i.useEffect((function(){if(null===l||void 0===l?void 0:l.repl)if("Repl"===l.repl.__typename){if(l.repl.hostingDeployment)switch(l.repl.hostingDeployment.__typename){case"HostingDeployment":h(l.repl.hostingDeployment.activityLogs.items);break;case"NotFoundError":case"UnauthorizedError":n(l.repl.hostingDeployment.message)}}else n("Unexpected typename.")}),[l,n]),i.useEffect((function(){c&&n(c.message)}),[c,n]);var m=function(e){var t;return"Repl"===(null===e||void 0===e?void 0:e.repl.__typename)&&"HostingDeployment"===(null===(t=e.repl.hostingDeployment)||void 0===t?void 0:t.__typename)&&"HostingActivityLogConnection"===e.repl.hostingDeployment.activityLogs.__typename&&e.repl.hostingDeployment.activityLogs}(l),v=m&&m.pageInfo.hasNextPage,g=function(){var e=(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){switch(e.label){case 0:return s||m&&null==m.pageInfo.nextCursor||!m||!m.pageInfo.hasNextPage?[2]:[4,u({variables:{input:{after:m.pageInfo.nextCursor,count:20}}})];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Z=(0,og.Z)({onLoadMore:g,rootMargin:"0px 0px 300px 0px"}).targetRef;return(0,r.BX)(qZ.k2,{children:[p&&0===p.length?(0,r.tZ)(f.G7,{css:[f.l0.pb(8),f.l0.center,f.l0.align.stretch],children:(0,r.tZ)(f.E_,{colorway:"grey",icon:(0,r.tZ)(Er.Z,{}),text:"Deployment has no history"})}):null,p&&p.length>0?p.map((function(e){var n=t.id===e.build.id;return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(12),f.l0.py(12),f.l0.align.center,{borderBottom:"1px solid ".concat(f.TV.outlineDimmest),"&:first-child":{paddingTop:0},"&:last-child":{borderBottom:"none"}}],children:[(0,r.tZ)(mb,{type:e.type}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(2),f.l0.flex.grow(1)],children:[(0,r.tZ)(fb,{activityLogItem:e}),(0,r.tZ)(f.xv,{variant:"small",css:f.l0.color.foregroundDimmest,children:(0,$v.Z)(new Date(e.timeCreated),Date.now(),{addSuffix:!0})})]}),(0,r.tZ)(f.G7,{css:[f.l0.width(32),f.l0.align.end],children:(0,r.tZ)(cb,{activityLogItem:e,isCurrent:n})})]},e.id)})):null,(0,r.tZ)(ub,{loading:s}),!s&&v?(0,r.tZ)(f.G7,{css:[f.l0.center,f.l0.pt(16)],children:(0,r.tZ)(f.hU,{tooltipHidden:!0,alt:"Show more",onClick:g,ref:Z,children:(0,r.tZ)(Fu.Z,{})})}):null]})},gb=function(e){var t=e.currentBuild.repl.id,n=168,i=(0,xg.Z)((0,wg.Z)(new Date),167);return(0,r.tZ)(qZ.k2,{children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(24)],children:[(0,r.tZ)(Cg.Z,{replId:t,start:i,hours:n,deployment:!0}),(0,r.tZ)(kg.Z,{replId:t,metric:Lg.Pc.Url,start:i,hours:n,deployment:!0,count:5}),(0,r.tZ)(kg.Z,{replId:t,metric:Lg.Pc.Referrer,start:i,hours:n,deployment:!0,count:5})]})})};function Zb(){var e=(0,Te.Z)(["\n  fragment ReplLogLine2 on ReplLog {\n    __typename\n    timestamp\n    line\n  }\n"]);return Zb=function(){return e},e}function bb(){var e=(0,Te.Z)(["\n  query HostingDeploymentLogs2($replId: String!, $deploymentId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        __typename\n        hostingDeploymentLogs(deploymentId: $deploymentId) {\n          ... on ReplLogs {\n            result {\n              ...ReplLogLine2\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return bb=function(){return e},e}var yb={},xb=(0,_e.Ps)(Zb()),wb=(0,_e.Ps)(bb(),xb);var Cb=function(e){var t=e.deploymentId,n=e.currentBuild,o=e.onError,l=function(e){var t=(0,F.Z)({},yb,e);return Re.a(wb,t)}({variables:{replId:n.repl.id,deploymentId:t}}),s=l.data,c=l.loading,u=l.error,d=(0,a.Z)(i.useState(null),2),p=d[0],f=d[1];return i.useEffect((function(){if(null===s||void 0===s?void 0:s.repl)if("Repl"===s.repl.__typename){if(s.repl.hostingDeploymentLogs&&"ReplLogs"===s.repl.hostingDeploymentLogs.__typename)f(s.repl.hostingDeploymentLogs.result)}else o("Unexpected typename.")}),[s,o]),i.useEffect((function(){u&&o(u.message)}),[u,o]),(0,r.BX)(qZ.k2,{children:[(0,r.tZ)(ub,{loading:c}),p?(0,r.tZ)(kb,{logs:p}):null]})},kb=function(e){var t=e.logs;return(0,r.tZ)(f.G7,{css:[f.l0.overflow("auto")],children:(0,r.tZ)("table",{css:[{borderCollapse:"separate"}],children:(0,r.tZ)("tbody",{children:t.map((function(e,t){var n=[f.l0.font.code,f.l0.fontSize(12),{border:"1px solid transparent",padding:"6px"},t%2===0?[f.l0.backgroundColor.backgroundHigher,{borderTopColor:"".concat(f.TV.backgroundHighest)},{borderBottomColor:"".concat(f.TV.backgroundHighest)}]:null];return(0,r.BX)("tr",{children:[(0,r.tZ)("td",{css:[n,f.l0.color.accentPrimaryDefault],children:e.timestamp}),(0,r.tZ)("td",{css:[n],children:e.line})]},"logLine-".concat(t))}))})})})},Lb=n(794);function Sb(e){var t=e.canonicalReplServices,n=e.buildId,r=(0,a.Z)(i.useState(null),2),o=r[0],l=r[1],s=(0,a.Z)(i.useState((function(){return function(e){var t=(0,Wd.ZP)({onUnrecoverableError:function(t){t.message.toLowerCase().includes("repl not found")||e(t.message)}}),n=(0,Rg.Z)({container:t});return{container:t,fs:n,dotReplit:(0,Ur.Z)({container:t,fs:n})}}(l)})),1),c=s[0],u=c.container,d=c.fs,p=(0,a.Z)(i.useState((function(){return u.getConnectionState()===Wd.em.CONNECTED})),2),f=p[0],h=p[1],m=t.container.getContext(),v=(0,jg.b)(m&&n?{repl:{id:n,slug:n,language:m.repl.language,user:m.repl.user,currentUserPermissions:m.repl.currentUserPermissions},currentUser:m.currentUser,asViewer:!1}:null);return i.useEffect((function(){if(m&&v&&n&&u.getConnectionState()===Wd.em.DISCONNECTED)return u.connect({context:v,fetchConnectionMetadata:(0,tt.Z)((function(){return(0,nt.__generator)(this,(function(e){return[2,Gg({replId:m.repl.id,buildId:n})]}))}))}),function(){return u.close()}}),[n,u,v,m]),i.useEffect((function(){var e=u.onConnectionStateChanged((function(e){h(e===Wd.em.CONNECTED)}));return e}),[u]),{isConnected:f,error:o,container:u,fs:d}}function Bb(e){return Eb.apply(this,arguments)}function Eb(){return(Eb=(0,tt.Z)((function(e){var t,n;return(0,nt.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.readFile(".env")];case 1:if((t=r.sent()).error===C.Df.NotFound)return[2,[]];if(t.error)throw t.error;return n=Bn.Z.parse(t.content.toString()),[2,Object.entries(n).map((function(e){var t=(0,a.Z)(e,2);return{name:t[0],value:t[1]}}))]}}))}))).apply(this,arguments)}function Tb(e){return _b.apply(this,arguments)}function _b(){return(_b=(0,tt.Z)((function(e){var t,n,r;return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.getConfig()];case 1:if(t=i.sent(),n=t.config,(r=t.error)===ci.Yt.NotFound)return[2];if(r)throw new Error("Failed to get .replit config with Error: "+r);return[2,n]}}))}))).apply(this,arguments)}function Rb(e){return Db.apply(this,arguments)}function Db(){return Db=(0,tt.Z)((function(e){var t,n,r,i,o,a,l,s,c;return(0,nt.__generator)(this,(function(u){switch(u.label){case 0:return t=null,n=null,[4,Tb(e)];case 1:return(r=u.sent())?r.deployment?(i=r.deployment,o=i.build,a=i.run,o&&(t=(0,Eg.m)(o)),a&&(n=(0,Eg.m)(a)),[3,4]):[3,2]:[2,{buildCommand:t,runCommand:n}];case 2:return[4,e.getRunConfig()];case 3:s=u.sent(),r.compile&&(t=(0,Eg.m)(r.compile)),(null===(l=s.interp)||void 0===l?void 0:l.command)?n=(0,Eg.m)(null===(c=s.interp)||void 0===c?void 0:c.command):s.run?n=(0,Eg.m)(s.run.run):r.run&&(n=(0,Eg.m)(s.run)),u.label=4;case 4:return[2,{buildCommand:t,runCommand:n}]}}))})),Db.apply(this,arguments)}var Gb,Ib=function(e){return"string"===typeof e&&""!==e},jb=function(e){var t=e.type,n=e.loading,i=e.disabled,o=e.onClick;return(0,r.tZ)(f.zx,{onClick:o,text:n?"":"Add ".concat(t),iconLeft:n?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(Nr.Plus,{}),disabled:i})},Mb=function(e){var t=e.value,n=e.loading,i=e.disabled,o=e.onChange,a=Ib(t);return(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(12)],children:(0,r.tZ)(f.II,{value:a?t:"",onChange:function(e){return o(e.target.value)},css:[f.l0.color.greyStrongest],disabled:n||i})})},Pb=function(e){var t=e.index,n=e.name,i=e.value,o=e.disabled,a=e.updateEnvVarName,l=e.updateEnvVarValue,s=e.removeEnvVar,c=(0,Tn.H)();return(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(12)],children:[(0,r.tZ)(f.II,{placeholder:"Name",id:"".concat(c,"-name-").concat(t),value:n,onChange:function(e){return a(n,e.target.value)},disabled:o}),(0,r.tZ)(f.II,{placeholder:"Value",name:"".concat(c,"-value-").concat(t),value:i,onChange:function(e){return l(n,e.target.value)},disabled:o}),o?null:(0,r.tZ)(f.hU,{css:[f.gU.outlined,f.l0.p(16)],onClick:function(){return s(n)},alt:"Remove variable",children:(0,r.tZ)(Nr.Minus,{})})]})},Nb=function(e){var t=e.currentBuild,n=e.onError,o=(0,v.Z)(),l=Sb({buildId:null===t||void 0===t?void 0:t.id,canonicalReplServices:o}),s=l.isConnected,c=l.error,u=l.fs,d=(0,a.Z)(i.useState(null),2),p=d[0],h=d[1],m=(0,a.Z)(i.useState(null),2),g=m[0],Z=m[1],b=(0,a.Z)(i.useState([]),2),y=b[0],x=b[1],w=(0,a.Z)(i.useState(!0),2),C=w[0],k=w[1];return i.useEffect((function(){(0,tt.Z)((function(){var e,r,i;return(0,nt.__generator)(this,(function(a){switch(a.label){case 0:if(t){if(c)return n(c),[2];if(!s)return[2]}a.label=1;case 1:return a.trys.push([1,4,,5]),[4,Rb(o.dotReplit)];case 2:return e=a.sent(),[4,Bb(t?u:o.fs)];case 3:return r=a.sent(),h(null===e||void 0===e?void 0:e.buildCommand),Z(null===e||void 0===e?void 0:e.runCommand),x(r),[3,5];case 4:return i=a.sent(),n(i),[3,5];case 5:return k(!1),[2]}}))}))()}),[o.fs,o.dotReplit,t,c,u,s,n]),(0,r.BX)(qZ.k2,{children:[(0,r.tZ)(ub,{loading:C}),C||c?null:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16)],children:[(0,r.tZ)(Lb.u,{id:"settingsBuildCommand",title:"Build command",information:"The build command is the command-line statement that compiles your app at build time.",children:(0,r.tZ)(f.II,{value:p||"No build command set",css:[p?f.l0.color.greyStrongest:f.l0.color.greyDefault],disabled:!0})}),(0,r.tZ)(Lb.u,{id:"settingsRunCommand",title:"Run command",information:"The run command is the command-line statement that launches your app after it has been built.",children:(0,r.tZ)(f.II,{value:g||"No run command set",css:[g?f.l0.color.greyStrongest:f.l0.color.greyDefault],disabled:!0})}),(0,r.tZ)(Lb.u,{id:"settingsEnvVars",title:"Environment variables",information:"Choose which environment variables should be used for your deployment.",children:(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8)],children:y.length>0?y.map((function(e,t){var n=e.name,i=e.value;return(0,r.tZ)(Pb,{index:t,name:n,value:i,updateEnvVarName:function(){},updateEnvVarValue:function(){},removeEnvVar:function(){},disabled:!0},t)})):(0,r.tZ)(f.II,{value:"No Environment variables set",css:[f.l0.color.greyDefault],disabled:!0})})})]})]})};!function(e){e.Deployment="deployment",e.Domains="domains",e.History="history",e.Analytics="analytics",e.Logs="logs",e.Settings="settings"}(Gb||(Gb={}));var Fb,Vb=function(e){var t,n=e.deploymentId,l=e.currentBuild,s=e.redeploying,c=e.onViewChange,u=e.onError,d=(0,a.Z)(i.useState(Gb.Deployment),2),p=d[0],h=d[1],m=(t={},(0,o.Z)(t,Gb.Deployment,{title:"Deployment",icon:Nr.Deploy,fc:$Z.Y,display:!0}),(0,o.Z)(t,Gb.Domains,{title:"Domains",icon:Nr.Link,fc:function(){return(0,r.tZ)(r.HY,{})},display:!0}),(0,o.Z)(t,Gb.History,{title:"History",icon:Nr.History,fc:vb,display:!0}),(0,o.Z)(t,Gb.Analytics,{title:"Analytics",icon:Nr.BarChart,fc:gb,display:!0}),(0,o.Z)(t,Gb.Logs,{title:"Logs",icon:Nr.Monitor,fc:Cb,display:!0}),(0,o.Z)(t,Gb.Settings,{title:"Settings",icon:Nr.Settings,fc:Nb,display:!0}),t),v=m[p],g=v.fc;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(qZ.O5,{children:(0,r.tZ)(f.G7,{css:[O.F3,f.l0.position.relative,{"::before":{content:'""',display:"block",position:"absolute",left:0,width:8,height:"100%",background:"linear-gradient(90deg, ".concat(f.TV.backgroundDefault," 0%, rgba(0,0,0,0) 100%);"),zIndex:1}},{"::after":{content:'""',display:"block",position:"absolute",right:0,width:8,height:"100%",background:"linear-gradient(270deg, ".concat(f.TV.backgroundDefault," 0%, rgba(0,0,0,0) 100%);"),zIndex:1}}],children:(0,r.tZ)(f.G7,{css:[f.l0.flex.row,f.l0.align.center,f.l0.overflowX("scroll"),f.l0.pl(8)],children:Object.entries(m).map((function(e){var t=(0,a.Z)(e,2),n=t[0],i=t[1],o=i.title,l=i.icon;return i.display?(0,r.tZ)(f.zx,{css:[f.gU.nofill,f.l0.borderRadius(0),f.l0.px(12),f.l0.position.relative,{height:48,marginRight:1,borderBottom:"1px solid ".concat(n===p?f.TV.foregroundDefault:"transparent"),"::after":{content:'""',display:"block",position:"absolute",right:-2,width:1,height:"50%",backgroundColor:f.TV.outlineDimmest},"&:last-child":{marginRight:0,"::after":{display:"none"}}}],text:o,iconLeft:(0,r.tZ)(l,{}),onClick:function(){return h(e=n),void c(e);var e},disabled:s},n):null}))})})}),v&&v.display?(0,r.tZ)(g,(0,V.Z)((0,F.Z)({},m[p]),{deploymentId:n,currentBuild:l,onError:u})):null]})},Wb=function(e){var t=e.currentBuild,n=e.onDeploy,o=e.onCancel,l=e.onError,s=(0,v.Z)(),c=Sb({buildId:null===t||void 0===t?void 0:t.id,canonicalReplServices:s}),u=c.isConnected,d=c.error,p=c.fs,h=(0,a.Z)(i.useState(null),2),m=h[0],g=h[1],Z=(0,a.Z)(i.useState(null),2),b=Z[0],y=Z[1],x=(0,a.Z)(i.useState([]),2),w=x[0],C=x[1],k=(0,a.Z)(i.useState(!0),2),L=k[0],S=k[1],B=(0,a.Z)(i.useState(!1),2),E=B[0],T=B[1],_=function(e,t){var n=w.findIndex((function(t){return t.name===e})),r=(0,Be.Z)(w);r[n].name=t,C(r)},R=function(e,t){var n=w.findIndex((function(t){return t.name===e})),r=(0,Be.Z)(w);r[n].value=t,C(r)},D=function(e){var t=w.filter((function(t){return t.name!==e}));C(t)};i.useEffect((function(){(0,tt.Z)((function(){var e,n,r;return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:if(t){if(d)return l(d),[2];if(!u)return[2]}i.label=1;case 1:return i.trys.push([1,4,,5]),[4,Rb(s.dotReplit)];case 2:return e=i.sent(),[4,Bb(t?p:s.fs)];case 3:return n=i.sent(),g(null===e||void 0===e?void 0:e.buildCommand),y(null===e||void 0===e?void 0:e.runCommand),C(n),[3,5];case 4:return r=i.sent(),l(r),[3,5];case 5:return S(!1),[2]}}))}))()}),[s.fs,s.dotReplit,t,d,p,u,l]);var G=function(){var e=(0,tt.Z)((function(){var e,t,r,i;return(0,nt.__generator)(this,(function(o){switch(o.label){case 0:return T(!0),e={build:m,run:b},t=[],Ib(m)?(e.build=m,t.push({path:"deployment/build",op:"add",value:JSON.stringify(["sh","-c",m])})):t.push({path:"deployment/build",op:"remove"}),Ib(b)?(e.run=b,t.push({path:"deployment/run",op:"add",value:JSON.stringify(["sh","-c",b])})):t.push({path:"deployment/run",op:"remove"}),[4,s.dotReplit.updateDotReplit(t)];case 1:return r=o.sent(),(i=r.error)?(l(i),[2]):(n(e,w.filter((function(e){return function(e){return"object"===typeof e&&"string"===typeof e.name&&"string"===typeof e.value&&""!==e.name}(e)}))),[2])}}))}));return function(){return e.apply(this,arguments)}}(),I=L||E;return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16)],children:[(0,r.tZ)(Lb.u,{id:"buildCommand",title:"Build command",information:"The build command is the command-line statement that compiles your app at build time.",optional:!0,children:(0,r.tZ)(Mb,{type:"Build",value:m,onChange:g,loading:L,disabled:I})}),(0,r.tZ)(Lb.u,{id:"runCommand",title:"Run command",information:"The run command is the command-line statement that launches your app after it has been built.",optional:!0,children:(0,r.tZ)(Mb,{type:"Run",value:b,onChange:y,loading:L,disabled:I})}),(0,r.tZ)(Lb.u,{id:"envVars",title:"Environment variables",information:"Choose which environment variables should be used for your deployment.",children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[w.length>0?w.map((function(e,t){var n=e.name,i=e.value;return(0,r.tZ)(Pb,{index:t,name:n,value:i,updateEnvVarName:_,updateEnvVarValue:R,removeEnvVar:D,disabled:I},t)})):null,(0,r.tZ)(jb,{onClick:function(){C((0,Be.Z)(w).concat([{name:"",value:""}]))},type:"environment variable",loading:L,disabled:I})]})}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.pt(8)],children:[L?null:(0,r.tZ)(f.zx,{text:"Cancel",onClick:function(){return o()},disabled:I}),(0,r.tZ)(f.G7,{css:[f.l0.flex.grow(1)],children:(0,r.tZ)(f.zx,{colorway:"primary",onClick:G,text:I?"":"Deploy",iconLeft:I?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(Nr.Deploy,{}),disabled:I})})]})]})},zb=function(e){var t=e.stage,n=e.activeStage;return t===e.erroredStage?(0,r.tZ)(Nr.Warning,{}):t<n?(0,r.tZ)(Nr.Check,{}):t===n?(0,r.tZ)(Y.Z,{}):(0,r.tZ)(Nr.Clock,{})},Xb=function(e){var t=e.stage,n=e.activeStage;return t===e.erroredStage?"accentNegativeDefault":t<n?"accentPositiveDefault":t===n?"accentPrimaryDefault":"backgroundHigher"},Hb=function(e){var t=e.stage,n=e.activeStage,i=e.text,o=e.erroredStage,a=e.lastStage,l=void 0!==a&&a;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(f.DR,{text:i,css:[{backgroundColor:rv.TV[Xb({stage:t,activeStage:n,erroredStage:o})]}],iconRight:(0,r.tZ)(zb,{stage:t,activeStage:n,erroredStage:o})}),l?null:(0,r.tZ)("div",{css:{flex:1,width:60,height:1,backgroundColor:rv.TV[Xb({stage:t,activeStage:n,erroredStage:o})]}})]})},Ab=n(59369);!function(e){e.Cancel="cancel"}(Fb||(Fb={}));var Ub=[{label:"Cancel",action:Fb.Cancel}],Ob=function(e){var t=e.onAction;return(0,r.tZ)(Ab.Z,{label:"Terminal actions",items:Ub,onItemClick:function(e){return t(e.action)}})},qb=[{id:0,title:"Provision",statusType:$u.Fe.Pending},{id:1,title:"Build",statusType:$u.Fe.Building},{id:2,title:"Run",statusType:$u.Fe.Running},{id:3,title:"Promote",statusType:$u.Fe.Promoting},{id:4,statusType:$u.Fe.Success}],$b=function(e){return qb.find((function(t){return t.statusType===e}))},Yb=function(e){var t,n=e.buildId,o=e.buildStatus,l=e.targetDeploymentId,s=e.onSuccess,c=e.onFailed,u=e.onError,d=(0,OZ.bL)({variables:{input:{buildId:n}},fetchPolicy:"network-only"}),p=d.data,h=d.error,m=(0,a.Z)((0,OZ.Bc)(),1)[0],v=(0,a.Z)(i.useState((null===(t=$b(o))||void 0===t?void 0:t.id)||0),2),g=v[0],Z=v[1],b=(0,a.Z)(i.useState(void 0),2),y=b[0],x=b[1],w=(0,a.Z)((0,cZ.Z)(),2),C=w[0],k=w[1],L=(0,DZ.f)(),S=(0,a.Z)(i.useReducer((function(e,t){switch(t.type){case"history":return C&&C.clear(),(0,Be.Z)(t.payload).concat((0,Be.Z)(e));case"update":return[t.payload]}}),[]),2),B=S[0],E=S[1];i.useEffect((function(){if(h)u(h.message);else{var e=p;if(null===e||void 0===e?void 0:e.hostingBuildDeployLogHistory)switch(e.hostingBuildDeployLogHistory.__typename){case"NotFoundError":case"UnauthorizedError":u(e.hostingBuildDeployLogHistory.message);break;case"HostingBuildDeployLogHistoryResults":var t=e.hostingBuildDeployLogHistory.logs;t&&t.length>0&&E({type:"history",payload:t});break;default:u("Unexpected typename.")}}}),[p,h,u]);var T=function(){var e=(0,tt.Z)((function(e){var t,r,i;return(0,nt.__generator)(this,(function(o){switch(o.label){case 0:return e===Fb.Cancel?[3,1]:[3,3];case 1:return[4,m({variables:{input:{buildId:n,targetDeploymentId:l}}})];case 2:if(t=o.sent(),r=t.data,i=t.errors)return u(i[0].message),[2];if(null===r||void 0===r?void 0:r.failHostingBuild)switch(r.failHostingBuild.__typename){case"UserError":case"NotFoundError":case"UnauthorizedError":u(r.failHostingBuild.message);break;case"FailHostingBuildResult":x(g),c("Build cancelled");break;default:u("Unexpected typename.")}o.label=3;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return i.useEffect((function(){C&&B.forEach((function(e){return C.write(e)}))}),[B,C]),(0,OZ.Fe)({variables:{input:{buildId:n}},onData:function(e){var t=e.data,r=t.data,i=t.error;if(i)u(i.message);else if(r){var o=r.hostingBuildDeployStatusUpdates.status,a=r.hostingBuildDeployStatusUpdates.message;if(o===$u.Fe.Failed)x(g),c(a);else{o===$u.Fe.Success&&s(n);var l=$b(o);if(!l)return;Z(l.id)}}}}),(0,OZ.hU)({variables:{input:{buildId:n}},onData:function(e){var t=e.data,n=t.data,r=t.error;if(r)u(r.message);else if(n){var i=n.hostingBuildDeployLogUpdates.log;E({type:"update",payload:i})}}}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(12)],children:[(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(0),f.l0.align.center,f.l0.justify.center,f.l0.mb(16)],children:qb.map((function(e){var t=e.id,n=e.title;return n?(0,r.tZ)(Hb,{stage:t,text:n,activeStage:g,lastStage:3===t,erroredStage:y},t):null}))}),(0,r.BX)(f.G7,{css:[f.l0.position.relative],children:[(0,r.tZ)(f.G7,{css:[f.l0.position.absolute,f.l0.zIndex(1),f.l0.p(4),{top:0,right:0}],children:(0,r.tZ)(Ob,{onAction:T})}),(0,r.tZ)(f.G7,{css:[f.l0.display.flex,f.l0.py(12),f.l0.pl(16),f.l0.borderRadius(8),f.l0.overflow("hidden"),{border:"1px solid var(--outline-dimmest)",backgroundColor:null===L||void 0===L?void 0:L.background}],children:(0,r.tZ)(f.KD.div,{css:[f.l0.width("100%"),f.l0.maxWidth("100%")],ref:k})})]})]})},Kb=function(e){var t=e.onCreateDeployment;return(0,r.BX)(f.G7,{css:[f.l0.align.center,f.l0.textAlign.center],children:[(0,r.tZ)(f.G7,{css:[f.l0.p(32)],children:(0,r.tZ)(Nr.Deploy,{size:48})}),(0,r.tZ)(f.xv,{variant:"headerDefault",multiline:!0,css:[f.l0.mb(8)],children:"Share your Repl with the world"}),(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.mb(32)],children:"Allow people to use your app without being interrupted by changes in progress."}),(0,r.tZ)(f.G7,{css:[f.l0.px(8)],children:(0,r.tZ)(f.zx,{iconLeft:(0,r.tZ)(Nr.Plus,{}),colorway:"primary",onClick:t,text:"Create a Deployment"})})]})};function Jb(e){var t=e.showDeployOptionsOnInsert,n=(0,Ne.Z)(),o=(0,OZ.KL)({variables:{replId:n},fetchPolicy:"network-only"}),l=o.data,s=o.loading,c=o.error,u=(0,a.Z)((0,OZ.d7)(),1)[0],d=(0,a.Z)(i.useState(null),2),p=d[0],h=d[1],m=(0,a.Z)(i.useState(null),2),v=m[0],g=m[1],Z=(0,a.Z)(i.useState(null),2),b=Z[0],y=Z[1],x=(0,a.Z)(i.useState(Gb.Deployment),2),w=x[0],C=x[1],k=(0,a.Z)(i.useState(!1),2),L=k[0],S=k[1],B=(0,a.Z)(i.useState(null===c||void 0===c?void 0:c.message),2),E=B[0],T=B[1],_=(0,a.Z)(i.useState(!L&&t||!1),2),R=_[0],D=_[1],G=i.useCallback((function(e){T(e),L&&S(!1)}),[L]);if(i.useEffect((function(){var e=l;if(null===e||void 0===e?void 0:e.repl)if("Repl"===e.repl.__typename){if(e.repl.hostingDeployment&&!p)switch(e.repl.hostingDeployment.__typename){case"HostingDeployment":h(e.repl.hostingDeployment.id),g(e.repl.hostingDeployment.currentBuild),e.repl.hostingDeployment.inProgressBuild&&(y(e.repl.hostingDeployment.inProgressBuild),S(!0));break;case"NotFoundError":case"UnauthorizedError":G(e.repl.hostingDeployment.message);break;default:G("Unexpected typename.")}}else G("Unexpected typename.")}),[l,p,G]),s)return(0,r.tZ)(f.G7,{css:[f.l0.center,f.l0.coverContainer],children:(0,r.tZ)(Y.Z,{size:24})});var I=function(){var e=(0,tt.Z)((function(e,t){var r,i,o,a;return(0,nt.__generator)(this,(function(l){switch(l.label){case 0:return y(null),S(!0),[4,u({variables:{input:{replId:n,targetDeploymentId:p||void 0,commands:e,envVars:t}}})];case 1:if(i=l.sent(),o=i.data,a=i.errors,!o||a)return G("An unexpected error occurred. Please try again or contact support."),[2];switch(null===(r=o.deployHostingBuild2)||void 0===r?void 0:r.__typename){case"NotFoundError":case"UnauthorizedError":case"UserError":G(o.deployHostingBuild2.message);break;case"DeployHostingBuild2Result":D(!1),y(o.deployHostingBuild2.build),h(o.deployHostingBuild2.targetDeployment.id)}return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),j=R&&!L,M=!b&&!p&&!R,P=p&&v,N=!M&&!j&&!L&&w===Gb.Deployment,W=b&&p;return(0,r.tZ)(qZ.yT,{children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16)],children:[M?(0,r.tZ)(qZ.k2,{children:(0,r.tZ)(Kb,{onCreateDeployment:function(){return D(!0)}})}):null,P?(0,r.tZ)(Vb,{deploymentId:p,currentBuild:v,redeploying:L,onViewChange:function(e){C(e),j&&D(!1)},onError:G}):null,j?(0,r.tZ)(qZ.k2,{children:(0,r.tZ)(Wb,{currentBuild:v,onDeploy:I,onCancel:function(){return D(!1)},onError:G})}):null,W?(0,r.tZ)(qZ.k2,{children:(0,r.tZ)(Yb,{buildId:b.id,targetDeploymentId:p,buildStatus:b.status,onSuccess:function(e){b?p?e===b.id?(g((0,V.Z)((0,F.Z)({},b),{status:$u.Fe.Success})),S(!1)):G("An unexpected error occurred. Build id does not match recently deployed build."):G("An unexpected error occurred. No hosted deployment found."):G("An unexpected error occurred. No deploy build found.")},onFailed:function(e){return e?G(e):S(!1)},onError:G})}):null,N?(0,r.tZ)(qZ.k2,{children:(0,r.tZ)(f.zx,{onClick:function(){T(null),y(null),D(!0)},text:"Redeploy",iconLeft:(0,r.tZ)(Nr.Deploy,{})})}):null,E?(0,r.tZ)(qZ.k2,{css:f.l0.flex.grow(0),children:(0,r.tZ)(f.E_,{colorway:"warning",icon:(0,r.tZ)(Nr.Warning,{}),text:E})}):null]})})}var Qb={Content:function(e){var t=e.pane.data;return(0,Ps.D)({controlName:"flag-deployments-server-side"})?(0,r.tZ)(Jb,{showDeployOptionsOnInsert:Boolean(null===t||void 0===t?void 0:t.showDeployOptions)}):(0,r.tZ)(UZ,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(Nr.Deploy,{size:t})},getTitle:function(){return"Deployments"}},ey=n(19353),ty=n(66670),ny=n(46241);function ry(){var e=(0,Te.Z)(["\n  query SshConfigurator($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        slug\n        user {\n          id\n          username\n        }\n      }\n    }\n  }\n"]);return ry=function(){return e},e}var iy={},oy=(0,_e.Ps)(ry());var ay=["ssh-dsa","ssh-ecdsa","ssh-ed25519","ssh-rsa"];function ly(e){return function(t){t.stopPropagation(),e(t)}}function sy(e,t){if(!e)return"Please add a key for this secret";if(!e.trim())return"The key must include a non-space character";if(t.includes(e))return"You already have this key";var n=e.split(" ");return 3!==n.length?"This seems to be an invalid key.":ay.includes(n[0])?null:"Key type is not valid."}function cy(e){return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(4)],children:[(0,r.tZ)("label",{htmlFor:e.id,children:(0,r.tZ)(f.xv,{variant:"small",color:"dimmer",children:e.label})}),e.children,e.error?(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(2),f.l0.align.center],children:[(0,r.tZ)(ny.Z,{}),(0,r.tZ)(f.xv,{variant:"small",css:f.l0.color.accentNegativeStrongest,children:e.error})]}):null]})}function uy(e){var t=e.authorizedKey,n=e.otherKeys,o=e.onUpdateKey,l=e.onSave,s=(0,a.Z)(i.useState(),2),c=s[0],u=s[1],d=i.useRef(null),p=function(){var e=sy(t.key,n);if(e)return u(e),void(d.current&&d.current.focus());l()};i.useEffect((function(){c&&(sy(t.key,n)||u(null))}),[t.key,c,n]);var h=ly((function(e){"Enter"===e.key&&(e.preventDefault(),p())})),m=(0,Tn.H)()("key"),v='ssh-keygen -t ed25519 -f ~/.ssh/replit -q -N "" && cat ~/.ssh/replit.pub';return(0,r.BX)(f.Tg,{elevated:!0,css:[f.l0.p(16),f.l0.borderRadius(8),f.l0.colWithGap(16)],children:[(0,r.tZ)(f.xv,{multiline:!0,children:n&&0!==n.length?null:"Before you can SSH to your Repl, you need to add an SSH key."}),(0,r.tZ)(cy,{id:m,label:"Key (in OpenSSH Public Key format)",error:c,children:(0,r.tZ)(f.II,{id:m,ref:d,name:"key",value:t.key,spellCheck:!1,onChange:function(e){o(e.currentTarget.value)},onKeyDown:h})}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(f.xv,{multiline:!0,children:"Need a hand? Generate a key:"}),(0,r.BX)(f.Tg,{tag:"pre",elevated:!0,css:[f.l0.borderRadius(8),f.l0.p(8),f.l0.rowWithGap(8),f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(f.xv,{css:[f.l0.overflow("auto"),f.l0.font.code,f.l0.flex.growAndShrink(1),{"::-webkit-scrollbar":[f.l0.display.none]}],maxLines:1,children:v}),(0,r.tZ)(f.hU,{onClick:function(){return(0,Pe.Z)(v)},alt:"Copy",children:(0,r.tZ)(Ve.Z,{})})]}),(0,r.tZ)(f.xv,{multiline:!0,children:"Paste the result in the form above."})]}),(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.justify.spaceBetween],children:(0,r.tZ)(f.G7,{css:f.l0.rowWithGap(8),children:(0,r.tZ)(f.zx,{colorway:"primary",onClick:ly(p),text:"Add SSH Key"})})})]})}function dy(e){var t=e.onAdd,n=e.otherKeys,o=(0,a.Z)(i.useState({key:""}),2),l=o[0],s=o[1];return(0,r.tZ)(uy,{authorizedKey:l,otherKeys:n,onUpdateKey:function(e){s((function(t){return t?(0,V.Z)((0,F.Z)({},t),{key:e}):t}))},onSave:function(){s({key:""}),l.key&&t(l)}})}function py(e){var t=e.authorizedKey,n=e.onDelete;return(0,r.BX)(f.G7,{css:[f.gU.filled,f.l0.p(8),f.l0.rowWithGap(8),f.l0.align.center,f.l0.justify.spaceBetween,f.l0.borderRadius(8)],children:[(0,r.tZ)(ey.Z,{size:24}),(0,r.BX)(f.xv,{css:[f.l0.flex.growAndShrink(1)],maxLines:1,children:[t.keytype," ",t.key.substring(0,8),"...",t.key.substring(t.key.length-8)," ",t.comment]}),(0,r.tZ)(f.hU,{onClick:function(){return n(t)},alt:"Delete",size:28,children:(0,r.tZ)(ty.Z,{})})]})}function fy(e){if(!e.length)return null;var t=e.split(" ");return t.length<3?null:{keytype:t[0],key:t[1],comment:t[2]}}function hy(e){var t,n,i,o=e.repl,a=e.onlyCommand,l=void 0===a||a;if("Repl"!==o.__typename)return null;var s="ssh -i ~/.ssh/replit ".concat(o.id,"@").concat(o.slug,".").concat(null===(t=o.user)||void 0===t?void 0:t.username,".repl.co"),c="Host ".concat(o.slug,".").concat(null===(n=o.user)||void 0===n?void 0:n.username,".repl.co\n  User ").concat(o.id,"\n  IdentityFile ~/.ssh/replit"),u="ssh ".concat(o.slug,".").concat(null===(i=o.user)||void 0===i?void 0:i.username,".repl.co");return(0,r.tZ)(f.G7,{css:f.l0.colWithGap(16),children:l?(0,r.BX)(r.HY,{children:[(0,r.tZ)(fe.Z,{level:4,children:"Quick-Start SSH Command"}),(0,r.BX)(f.Tg,{tag:"pre",elevated:!0,css:[f.l0.borderRadius(8),f.l0.p(8),f.l0.rowWithGap(8)],children:[(0,r.tZ)(f.xv,{css:[f.l0.overflow("auto"),f.l0.font.code,f.l0.flex.growAndShrink(1),{"::-webkit-scrollbar":[f.l0.display.none]}],maxLines:1,children:s}),(0,r.tZ)(f.hU,{onClick:function(){return(0,Pe.Z)(s)},alt:"Copy",children:(0,r.tZ)(Ve.Z,{})})]})]}):(0,r.BX)(r.HY,{children:[(0,r.tZ)(fe.Z,{level:4,children:"Additional SSH Configuration"}),(0,r.tZ)(fe.Z,{level:5,children:"SSH Configuration File"}),(0,r.BX)(f.xv,{multiline:!0,children:["You can add this snippet to your SSH configuration file (typically"," ",(0,r.tZ)(f.xv,{css:[f.l0.font.code,f.l0.display.inline,f.l0.align.baseline],multiline:!0,children:"~/.ssh/config"}),"):"]}),(0,r.BX)(f.Tg,{tag:"pre",elevated:!0,css:[f.l0.borderRadius(8),f.l0.p(8),f.l0.rowWithGap(8)],children:[(0,r.tZ)(f.xv,{css:[f.l0.overflow("auto"),f.l0.font.code,f.l0.flex.growAndShrink(1),{"::-webkit-scrollbar":[f.l0.display.none]}],multiline:!0,children:c}),(0,r.tZ)(f.hU,{onClick:function(){return(0,Pe.Z)(c)},alt:"Copy",children:(0,r.tZ)(Ve.Z,{})})]}),(0,r.tZ)(f.xv,{multiline:!0,children:"Then, to connect to your Repl you can simply run:"}),(0,r.BX)(f.Tg,{tag:"pre",elevated:!0,css:[f.l0.borderRadius(8),f.l0.p(8),f.l0.rowWithGap(8)],children:[(0,r.tZ)(f.xv,{css:[f.l0.overflow("auto"),f.l0.font.code,f.l0.flex.growAndShrink(1),{"::-webkit-scrollbar":[f.l0.display.none]}],maxLines:1,children:u}),(0,r.tZ)(f.hU,{onClick:function(){return(0,Pe.Z)(u)},alt:"Copy",children:(0,r.tZ)(Ve.Z,{})})]})]})})}function my(e){return vy.apply(this,arguments)}function vy(){return(vy=(0,tt.Z)((function(e){return(0,nt.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.createDir(".config")];case 1:return t.sent(),[4,e.createDir(".config/ssh")];case 2:return t.sent(),[2]}}))}))).apply(this,arguments)}function gy(e){var t=e.fs,n=(0,Xr.Z)(),o=(0,a.Z)(i.useState(null),2),l=o[0],s=o[1],c=function(e){var t=(0,F.Z)({},iy,e);return Re.a(oy,t)}({variables:{replId:(0,Ne.Z)()}}).data,u="Repl"===(null===c||void 0===c?void 0:c.repl.__typename)?c.repl:null;i.useEffect((function(){function e(){return(e=(0,tt.Z)((function(){var e,r;return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:return[4,my(t)];case 1:return i.sent(),[4,t.readFile(".config/ssh/.authorized_keys")];case 2:if((e=i.sent()).error===C.Df.NotFound)return n.current&&s({}),[2];if(e.error)throw new Error("Error getting .authorized_keys");return n.current?(r={},e.content.toString().split("\n").forEach((function(e){if(!e.startsWith("#")){var t=fy(e);null!==t&&(r[t.key]=t)}})),s(r),[2]):[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,s,n]);var d=function(){var e=(0,tt.Z)((function(e){var n,r;return(0,nt.__generator)(this,(function(i){switch(i.label){case 0:if(!l)throw new Error("trying to write authorized keys before loading");return n=function(e,t){var n=(0,F.Z)({},e);if("add"===t.type){var r=fy(t.key);r&&(n[r.key]=r)}else delete n[t.key];return n}(l,e),s(n),r="# generated file, use the SSH tool instead of editing\n"+Object.values(n).map((function(e){return"".concat((t=e).keytype," ").concat(t.key," ").concat(t.comment);var t})).join("\n"),[4,t.writeFile(".config/ssh/.authorized_keys",En.Z.from(r))];case 1:return i.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,tt.Z)((function(e){return(0,nt.__generator)(this,(function(t){switch(t.label){case 0:return[4,d((0,F.Z)({type:"add"},e))];case 1:return t.sent(),(0,Yt.j)(Yt.U3.SSH_CONFIGURATOR_USED,{action:"added"}),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,tt.Z)((function(e){return(0,nt.__generator)(this,(function(t){switch(t.label){case 0:return[4,d({type:"delete",key:e.key})];case 1:return t.sent(),(0,Yt.j)(Yt.U3.SSH_CONFIGURATOR_USED,{action:"deleted"}),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return l&&u?(0,r.tZ)(f.G7,{css:f.l0.colWithGap(32),children:(0,r.BX)(f.G7,{css:f.l0.colWithGap(16),children:[Object.keys(l).length>0?(0,r.tZ)(hy,{repl:u,onlyCommand:!0}):null,(0,r.tZ)(fe.Z,{level:4,children:"Manage SSH Keys"}),Object.values(l).map((function(e){return(0,r.tZ)(py,{authorizedKey:e,onDelete:h},e.key)})),(0,r.tZ)(dy,{onAdd:p,otherKeys:Object.keys(l)}),Object.keys(l).length>0?(0,r.tZ)(hy,{repl:u,onlyCommand:!1}):null]})}):(0,r.tZ)(f.G7,{css:[f.l0.center,f.l0.coverContainer],children:(0,r.tZ)(Y.Z,{size:24})})}var Zy=n(76311);function by(e){var t=e.children;return(0,r.tZ)(f.G7,{css:[f.l0.height("100%"),f.l0.overflowY("auto"),O.F3],children:(0,r.BX)(f.G7,{css:[f.l0.p(8),f.l0.colWithGap(8),f.l0.flex.grow(1)],children:[(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8)],children:[(0,r.tZ)(fe.Z,{truncate:!0,level:4,children:"SSH Configuration"}),(0,r.tZ)(Zy.Z,{link:"https://replit.com/@util/ssh-beta#README.md"})]}),(0,r.BX)(f.xv,{variant:"small",color:"dimmer",multiline:!0,children:["Add authorized keys to configure SSH access to this Repl."," ",(0,r.tZ)("a",{href:"https://replit.com/@util/ssh-beta#README.md",target:"_blank",children:"Learn more here"}),"."]}),(0,r.tZ)(f.G7,{css:[f.l0.flex.grow(1),f.l0.py(8),f.l0.position.relative],children:t})]})})}var yy=n(68704),xy={Content:function(){return(0,r.tZ)(wy,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(yy.Z,{size:t})},getTitle:function(){return"SSH"}};function wy(){var e=(0,v.Z)().fs;return(0,r.tZ)(by,{children:(0,r.tZ)(gy,{fs:e})})}var Cy=n(15606),ky=n(85873),Ly=n(15976),Sy=n(3083),By=n(62794),Ey=n(91082),Ty=n(90694),_y=n(26209),Ry=function(e){var t=e.currentUser,n=e.inputRef,o=(0,ka.Z)(),l=o.ref,s=o.update,c=(0,a.Z)((0,uf.Jc)(),2),u=c[0],d=c[1],p=(0,a.Z)((0,uf.gp)(),1)[0],h=(0,uf.ql)();(0,i.useLayoutEffect)((function(){var e;null===n||void 0===n||null===(e=n.current)||void 0===e||e.focus()}),[n]);var m=function(e){if(e.preventDefault(),!u)return null;d(""),requestAnimationFrame((function(){s()})),h({text:u,type:Ty.NK.Chat})},v=(0,_y.j3)(),g=(0,_y.em)(),Z=(0,i.useCallback)((function(){var e;g(),null===(e=n.current)||void 0===e||e.focus()}),[g,n]),b=(0,_y.MY)();return(0,r.BX)(f.Tg,{elevated:!0,css:[f.l0.flex.growAndShrink(0),f.l0.p(8),f.l0.colWithGap(12),f.l0.borderRadius(0,0,8,8),{borderTop:"1px solid ".concat(f.TV.outlineDimmer)}],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.end],children:[(0,r.tZ)(By.Z,{feature:Sy.l.GhostWriter}),(0,r.tZ)(Ly.Z,{maxLength:500,value:u,hideLabel:!0,fontSize:"inherit"})]}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],tag:"form",disabled:p,onSubmit:m,children:[(0,r.tZ)(f.qE,{src:t.image,username:t.username,size:24}),(0,r.tZ)(f.G7,{css:[[f.l0.flex.growAndShrink(1),f.l0.maxHeight(300)]],children:(0,r.tZ)(f.B,{readOnly:p,type:"text",maxLength:500,placeholder:"Ask a question about code\u2026",ref:(0,La.l)(l,n),css:[f.l0.height(32),f.l0.align.start,{resize:"vertical",width:"100%",flexGrow:1}],onChange:function(e){return d(e.target.value)},value:u,onFocus:function(){(0,Yt.j)(Yt.U3.GHOSTWRITER_CHAT_INPUT_FOCUSED)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.shiftKey?(d((function(e){var t,r;return e.slice(0,null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t.selectionStart)+"\n"+e.slice(null===n||void 0===n||null===(r=n.current)||void 0===r?void 0:r.selectionEnd,e.length)})),requestAnimationFrame((function(){s()}))):m(e))}})}),p&&v&&!b?(0,r.tZ)(f.hU,{size:28,alt:"Stop generating",onClick:Z,children:(0,r.tZ)(Ey.Z,{})}):(0,r.tZ)(f.hU,{alt:"Send message",size:28,type:"submit",disabled:p,css:[f.l0.backgroundColor.blueDefault,f.l0.borderRadius(8),{"@media (hover: hover)":{":not([disabled]):hover":{"background-color":f.TV.blueDefault}}}],children:(0,r.tZ)(Gh.Z,{})})]})]})},Dy=n(25385),Gy=function(e){var t=e.title,n=e.children,i=e.link;return(0,r.BX)(f.Tg,{elevated:!0,css:[f.l0.p(12),f.l0.borderRadius(8),f.l0.maxWidth("100%"),f.l0.flex.growAndShrink(1)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween],children:[(0,r.tZ)(f.xv,{variant:"subheadDefault",children:t}),(0,r.tZ)("a",{href:i,target:"__blank",css:[f.l0.color.foregroundDimmer],children:(0,r.tZ)(Nr.ExternalLink,{})})]}),n]})},Iy=function(e){var t=e.inputRef,n=function(e){var n;i(e),(0,Yt.j)(Yt.U3.GHOSTWRITER_CHAT_EXAMPLE_CLICKED,{prompt:e}),null===t||void 0===t||null===(n=t.current)||void 0===n||n.focus()},i=(0,a.Z)((0,uf.Jc)(),2)[1];return(0,r.BX)(f.G7,{css:[f.l0.py(24),f.l0.px(8),f.l0.colWithGap(16),f.l0.width("100%"),f.l0.overflow("auto"),f.l0.flex.growAndShrink(1),f.l0.color.foregroundDimmer],children:[(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(f.xv,{variant:"subheadDefault",children:"Getting started"}),(0,r.tZ)(f.xv,{variant:"text",css:f.l0.color.foregroundDimmest,multiline:!0,children:"You can chat with Ghostwriter like a real pair programmer. Trying asking questions about your code or follow-ups about a previous message."})]}),(0,r.tZ)(f.G7,{children:(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8)],children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.align.start,f.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(f.xv,{variant:"text",children:"Example prompts"}),(0,r.tZ)(f.zx,{iconLeft:(0,r.tZ)(Gh.Z,{}),text:'"How do I scrape a website for <a> tags?"',onClick:function(){n("How do I scrape a website for <a> tags?")}}),(0,r.tZ)(f.zx,{iconLeft:(0,r.tZ)(Gh.Z,{}),text:'"Write a login page in HTML and CSS"',onClick:function(){n("Write a login page in HTML and CSS")}}),(0,r.tZ)(f.zx,{iconLeft:(0,r.tZ)(Gh.Z,{}),text:(0,r.BX)("text",{children:['"How can I improve the code in ',(0,r.tZ)("em",{children:"filename.js"}),'?"']}),onClick:function(){n("How can I improve the code in ")}}),(0,r.tZ)(f.zx,{iconLeft:(0,r.tZ)(Gh.Z,{}),text:'"How do I use the pandas apply function?"',onClick:function(){n("How do I use the pandas apply function?")}})]})})}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(f.xv,{variant:"text",children:"Learn more"}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8)],children:[(0,r.tZ)(Gy,{title:"Using the Debugger",link:"https://docs.replit.com/power-ups/ghostwriter/ghostwriter-chat",children:(0,r.tZ)(f.xv,{variant:"text",css:[f.l0.color.foregroundDimmest],multiline:!0,children:"Detect and solve bugs when you run your Repl."})}),(0,r.tZ)(Gy,{title:"Prompt Writing 101",link:"https://docs.replit.com/power-ups/ghostwriter/complete-code#prompt-engineering",children:(0,r.tZ)(f.xv,{variant:"text",css:[f.l0.color.foregroundDimmest],multiline:!0,children:"Learn best practices for working with Ghostwriter."})})]})]})]})};function jy(){var e=(0,Te.Z)(["\n  query GhostwriterChatCurrentUserQuery {\n    currentUser {\n      username\n      id\n      image\n      isStaff: hasRole(role: REPLIT_STAFF)\n    }\n  }\n"]);return jy=function(){return e},e}var My={},Py=(0,_e.Ps)(jy());var Ny=function(){return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16),f.l0.align.center,f.l0.p(24),f.l0.height("100%"),f.l0.justify.center],children:[(0,r.tZ)(f.G7,{css:[f.l0.maxWidth(200)],children:(0,r.tZ)(Tr.Z,{src:"/public/images/ghostwriter/orb.jpg",css:[{userSelect:"none",mixBlendMode:"screen",filter:"brightness(110%) saturate(1.2)",maskImage:"linear-gradient(".concat(f.TV.backgroundRoot,", transparent)")}],width:200,height:200,objectFit:"contain","aria-hidden":"true",alt:"",draggable:!1})}),(0,r.tZ)(f.xv,{variant:"subheadBig",children:"Chat with Ghostwriter"}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,r.tZ)(Y.Z,{}),(0,r.tZ)(f.xv,{color:"dimmer",children:"Loading\u2026"})]})]})},Fy=n(40258),Vy=n(9903),Wy=function(){(0,Yt.j)(Yt.U3.GHOSTWRITER_CHAT_CODE_COPIED)},zy=function(e){var t=(0,B.T3)();return e.inline?(0,r.tZ)(Vy.Z,(0,F.Z)({alwaysShowCopyButton:t,onCodeCopied:Wy},e)):(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(12)],children:(0,r.tZ)(Vy.Z,(0,F.Z)({alwaysShowCopyButton:t,onCodeCopied:Wy},e))})},Xy=n(76951),Hy=n(88750),Ay=n(81032),Uy=(0,i.createContext)(void 0);function Oy(){var e=(0,i.useContext)(Uy);if(!e)throw new Error("Expected store in context");return e}var qy=(0,Ay.cn)(!1);function $y(e){var t=e.children,n=e.debugMode,o=void 0!==n&&n,a=(0,i.useRef)();return a.current||(a.current=(0,Ay.MT)()),(0,i.useEffect)((function(){a.current&&a.current.set(qy,o)}),[o]),(0,r.tZ)(Uy.Provider,{value:a.current,children:t})}var Yy=n(28860),Ky=n.n(Yy),Jy=n(62093),Qy=Ky()((function(){return n.e(6196).then(n.bind(n,16196))}),{loadableGenerated:{webpack:function(){return[16196]}}}),ex=function(e){var t=e.author;return(0,r.tZ)(f.n5,{src:t.image,username:t.username})},tx=function(e){return(0,r.tZ)(f.G7,{children:(0,r.tZ)(f.xv,{multiline:!0,children:e.children})})},nx=(0,i.memo)((function(e){var t=e.message,n=e.autoScroll,o=t.text,a=t.author,l=t.loading,s=t.error,c=t.attribution,u=t.inferenceId,d=function(){var e=Oy();return(0,Hy.Dv)(qy,{store:e})}(),p="Assistant"===c,h=(0,i.useRef)(null),m=(0,Jy.rM)();(0,i.useLayoutEffect)((function(){n&&h.current&&requestAnimationFrame((function(){n&&h.current&&((0,Fy.Z)(h.current,{behavior:"auto",scrollMode:"always"}),m(!0))}))}),[o,n,m]);var v=f.TV.foregroundDefault;return p&&l&&(v=f.TV.foregroundDimmer),(0,r.BX)(f.G7,{css:[f.l0.px(8),f.l0.py(12),f.l0.colWithGap(8),"Assistant"===c?{background:"linear-gradient(90.7deg, rgba(82, 57, 204, 0.1) 0.6%, rgba(166, 148, 255, 0.1) 137.79%)",borderWidth:"1px 0px",borderStyle:"solid",borderColor:"rgba(121, 94, 255, 0.5)"}:null],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(ex,{author:a}),u?(0,r.tZ)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:(0,r.tZ)(Xy.Z,{inferenceClass:$u.Sg.Chat,inferenceId:u,language:""})}):null]}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[p&&l?(0,r.tZ)(Y.Z,{}):null,o?(0,r.tZ)(wr.ZP,{rehypePlugins:[],components:{h1:tx,h2:tx,h3:tx,h4:tx,h5:tx,h6:tx,code:zy},css:[xr.Z,{p:{color:v}},f.l0.width("100%"),f.l0.maxWidth("100%")],lineBreaks:!0,children:o}):null]}),p&&"string"===typeof s?(0,r.tZ)(f.G7,{children:(0,r.tZ)(f.xv,{css:[f.l0.color.accentNegativeStronger,f.l0.fontSize(16)],multiline:!0,children:s})}):null,d?(0,r.tZ)(Qy,{message:t}):null,n?(0,r.tZ)(f.G7,{css:{marginTop:-8,marginBottom:0},innerRef:h}):null]})}),(function(e,t){return t.autoScroll===e.autoScroll&&Ug()(t.message,e.message)})),rx=n(65977),ix=n(6880),ox=n(14965),ax=n(20841),lx=function(){var e,t=(0,B.T3)(),n=(0,k.Z)(),o=(0,rx.O)(),l=(0,ax.T)(),s=(0,a.Z)((0,uf.zu)(),1)[0];(0,Dy.hy)(n,l,o);var c=(0,ox.I1)();(0,i.useEffect)((function(){c(n)}),[n,c]);var u=(0,df.v)(),d=function(e){var t=(0,F.Z)({},My,e);return Re.a(Py,t)}(),p=d.data,h=d.loading,m=d.error,v=(0,Ne.Z)(),g=(0,ix.v3)();(0,i.useEffect)((function(){(null===p||void 0===p?void 0:p.currentUser)&&g({chatModel:u,replId:v,currentUser:null===p||void 0===p?void 0:p.currentUser})}),[u,null===p||void 0===p?void 0:p.currentUser,v,g]);var Z=null===p||void 0===p||null===(e=p.currentUser)||void 0===e?void 0:e.isStaff,b=(0,a.Z)(function(){var e=Oy();return(0,Hy.KO)(qy,{store:e})}(),2),y=b[0],x=b[1],w=(0,uf.ZT)(),C=(0,$.Z)((function(){var e=[];return Z&&e.push({type:"action",icon:(0,r.tZ)(eh.Z,{fill:y?f.TV.accentPrimaryDefault:f.TV.foregroundDefault}),label:"Toggle debug mode",run:function(){x((function(e){return!e}))}}),e.push({type:"action",label:"Clear chat history",icon:(0,r.tZ)(ht.Z,{}),run:function(){w()}}),e}),[y,x,Z,w]);(0,O.L5)((function(){return{actions:C}}),[C]);var L=(0,i.useRef)(null),S=(0,a.Z)((0,Jy.Z_)(),2),E=S[0],T=S[1],_=(0,a.Z)((0,Jy.Z9)(),2),R=_[0],D=_[1],G=(0,i.useCallback)((function(e){R?D(!1):e.target.scrollHeight-e.target.scrollTop!==e.target.clientHeight?T(!1):T(!0)}),[R,T,D]);return h?(0,r.tZ)(Ny,{}):m||!(null===p||void 0===p?void 0:p.currentUser)?(0,r.BX)(f.G7,{children:["error: ",m||"User not found, please log in or reload"]}):(0,r.BX)(f.G7,{css:[f.l0.flex.column,f.l0.maxHeight("100%"),f.l0.maxWidth("100%"),f.l0.flex.grow(1),!t&&f.l0.overflow("hidden")],children:[s.length?(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(16),f.l0.overflow("auto"),f.l0.flex.growAndShrink(1),f.l0.pt(12)],onScroll:G,role:"log",children:s.map((function(e,t){return(0,r.tZ)(nx,{message:e,autoScroll:E&&t===s.length-1},t)}))}):(0,r.tZ)(Iy,{inputRef:L}),(0,r.tZ)(Ry,{currentUser:p.currentUser,inputRef:L})]})},sx=function(){return(0,r.tZ)($y,{children:(0,r.tZ)(lx,{})})},cx={Content:function(){return(0,r.tZ)(sx,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(ky.Z,{size:t})},getTitle:function(){return"Ghostwriter"}},ux={Content:function(){return(0,r.tZ)(f.G7,{children:(0,r.tZ)(f.xv,{children:"Sorry, the debugger is not supported."})})},Icon:function(e){var t=e.size;return(0,r.tZ)(Nr.PlayPause,{size:t})},getTitle:function(){return"Debugger"}};function dx(){return{filetree:P,codeEditor:ne,webview:hi.R,media:_i,pedit:ju,vnc:Zi,unitTests:hd,autograder:Hd,education:Jp,instructions:of,preferences:xe,adminPanel:th,runnerOutput:ue,shell:wi,packager:Le,envEditor:ge,commands:mi,draw:Bi,git:Fs,history:Su,database:et,neon:Fr,replAuth:fi,markdown:G,kaboombar:sf,debugger:ux,tutorial:rh,config:lh,threadInbox:lm,extension:Jm,extensionStore:Bv,docs:Dv,videoPlayer:jv,chat:Nv,deployments:Qb,modules:Rv,sshConfigurator:xy,multiplayer:Cy.T,ghostwriterChat:cx}}},43935:function(e,t,n){var r,i;n.d(t,{CZ:function(){return a},Pc:function(){return i},RH:function(){return r}}),function(e){e.Duration="durations",e.Statuses="statuses"}(r||(r={})),function(e){e.Browser="browsers",e.Country="countries",e.Ip="ips",e.Referrer="referrers",e.Url="urls"}(i||(i={}));var o=new Map([[i.Browser,"Browsers"],[i.Country,"Countries"],[i.Ip,"IPs"],[i.Referrer,"Referrers"],[i.Url,"URLs"]]),a=function(e){var t=o.get(e);if(!t)throw new Error("No label found for metric: ".concat(e));return t}},8236:function(e,t,n){n.d(t,{Cw:function(){return a},T6:function(){return r}});var r,i=n(67573);!function(e){e.Standard="standard",e.Boosted1="boosted_1",e.Boosted2="boosted_2",e.Boosted3="boosted_3",e.Boosted4="boosted_4"}(r||(r={}));r.Boosted1,r.Boosted2,r.Boosted3,r.Boosted4;var o,a=(o={},(0,i.Z)(o,r.Standard,"0.5 vCPU, 0.5 GiB RAM"),(0,i.Z)(o,r.Boosted1,"2 vCPU, 2 GiB RAM"),(0,i.Z)(o,r.Boosted2,"4 vCPU, 4 GiB RAM"),(0,i.Z)(o,r.Boosted3,"8 vCPU, 8 GiB RAM"),(0,i.Z)(o,r.Boosted4,"16 vCPU, 16 GiB RAM"),o)}}]);
//# sourceMappingURL=5521-843003c497b84afe.js.map